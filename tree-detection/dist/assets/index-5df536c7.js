function ume(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EZ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ND(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Dw={},cme={get exports(){return Dw},set exports(e){Dw=e}},EI={},q={},dme={get exports(){return q},set exports(e){q=e}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS=Symbol.for("react.element"),hme=Symbol.for("react.portal"),pme=Symbol.for("react.fragment"),fme=Symbol.for("react.strict_mode"),mme=Symbol.for("react.profiler"),yme=Symbol.for("react.provider"),gme=Symbol.for("react.context"),vme=Symbol.for("react.forward_ref"),bme=Symbol.for("react.suspense"),wme=Symbol.for("react.memo"),_me=Symbol.for("react.lazy"),lz=Symbol.iterator;function Sme(e){return e===null||typeof e!="object"?null:(e=lz&&e[lz]||e["@@iterator"],typeof e=="function"?e:null)}var TZ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MZ=Object.assign,IZ={};function tv(e,t,r){this.props=e,this.context=t,this.refs=IZ,this.updater=r||TZ}tv.prototype.isReactComponent={};tv.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function OZ(){}OZ.prototype=tv.prototype;function FD(e,t,r){this.props=e,this.context=t,this.refs=IZ,this.updater=r||TZ}var DD=FD.prototype=new OZ;DD.constructor=FD;MZ(DD,tv.prototype);DD.isPureReactComponent=!0;var uz=Array.isArray,CZ=Object.prototype.hasOwnProperty,jD={current:null},AZ={key:!0,ref:!0,__self:!0,__source:!0};function PZ(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)CZ.call(t,n)&&!AZ.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:pS,type:e,key:s,ref:o,props:i,_owner:jD.current}}function xme(e,t){return{$$typeof:pS,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function VD(e){return typeof e=="object"&&e!==null&&e.$$typeof===pS}function $me(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var cz=/\/+/g;function fA(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$me(""+e.key):t.toString(36)}function e2(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pS:case hme:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+fA(o,0):n,uz(i)?(r="",e!=null&&(r=e.replace(cz,"$&/")+"/"),e2(i,t,r,"",function(u){return u})):i!=null&&(VD(i)&&(i=xme(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cz,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",uz(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+fA(s,a);o+=e2(s,t,r,l,i)}else if(l=Sme(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+fA(s,a++),o+=e2(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bx(e,t,r){if(e==null)return e;var n=[],i=0;return e2(e,n,"","",function(s){return t.call(r,s,i++)}),n}function Eme(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var us={current:null},t2={transition:null},Tme={ReactCurrentDispatcher:us,ReactCurrentBatchConfig:t2,ReactCurrentOwner:jD};bt.Children={map:bx,forEach:function(e,t,r){bx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bx(e,function(){t++}),t},toArray:function(e){return bx(e,function(t){return t})||[]},only:function(e){if(!VD(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bt.Component=tv;bt.Fragment=pme;bt.Profiler=mme;bt.PureComponent=FD;bt.StrictMode=fme;bt.Suspense=bme;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tme;bt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=MZ({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=jD.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)CZ.call(t,l)&&!AZ.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:pS,type:e.type,key:i,ref:s,props:n,_owner:o}};bt.createContext=function(e){return e={$$typeof:gme,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yme,_context:e},e.Consumer=e};bt.createElement=PZ;bt.createFactory=function(e){var t=PZ.bind(null,e);return t.type=e,t};bt.createRef=function(){return{current:null}};bt.forwardRef=function(e){return{$$typeof:vme,render:e}};bt.isValidElement=VD;bt.lazy=function(e){return{$$typeof:_me,_payload:{_status:-1,_result:e},_init:Eme}};bt.memo=function(e,t){return{$$typeof:wme,type:e,compare:t===void 0?null:t}};bt.startTransition=function(e){var t=t2.transition;t2.transition={};try{e()}finally{t2.transition=t}};bt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};bt.useCallback=function(e,t){return us.current.useCallback(e,t)};bt.useContext=function(e){return us.current.useContext(e)};bt.useDebugValue=function(){};bt.useDeferredValue=function(e){return us.current.useDeferredValue(e)};bt.useEffect=function(e,t){return us.current.useEffect(e,t)};bt.useId=function(){return us.current.useId()};bt.useImperativeHandle=function(e,t,r){return us.current.useImperativeHandle(e,t,r)};bt.useInsertionEffect=function(e,t){return us.current.useInsertionEffect(e,t)};bt.useLayoutEffect=function(e,t){return us.current.useLayoutEffect(e,t)};bt.useMemo=function(e,t){return us.current.useMemo(e,t)};bt.useReducer=function(e,t,r){return us.current.useReducer(e,t,r)};bt.useRef=function(e){return us.current.useRef(e)};bt.useState=function(e){return us.current.useState(e)};bt.useSyncExternalStore=function(e,t,r){return us.current.useSyncExternalStore(e,t,r)};bt.useTransition=function(){return us.current.useTransition()};bt.version="18.2.0";(function(e){e.exports=bt})(dme);const K=EZ(q),_R=ume({__proto__:null,default:K},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mme=q,Ime=Symbol.for("react.element"),Ome=Symbol.for("react.fragment"),Cme=Object.prototype.hasOwnProperty,Ame=Mme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pme={key:!0,ref:!0,__self:!0,__source:!0};function kZ(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Cme.call(t,n)&&!Pme.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Ime,type:e,key:s,ref:o,props:i,_owner:Ame.current}}EI.Fragment=Ome;EI.jsx=kZ;EI.jsxs=kZ;(function(e){e.exports=EI})(cme);const kme=Dw.Fragment,de=Dw.jsx,rr=Dw.jsxs,Rme=Object.freeze(Object.defineProperty({__proto__:null,Fragment:kme,jsx:de,jsxs:rr},Symbol.toStringTag,{value:"Module"}));var SR={},jw={},Lme={get exports(){return jw},set exports(e){jw=e}},lo={},xR={},Nme={get exports(){return xR},set exports(e){xR=e}},RZ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,J){var me=z.length;z.push(J);e:for(;0<me;){var we=me-1>>>1,Se=z[we];if(0<i(Se,J))z[we]=J,z[me]=Se,me=we;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var J=z[0],me=z.pop();if(me!==J){z[0]=me;e:for(var we=0,Se=z.length,xe=Se>>>1;we<xe;){var Ne=2*(we+1)-1,wt=z[Ne],Ut=Ne+1,Ht=z[Ut];if(0>i(wt,me))Ut<Se&&0>i(Ht,wt)?(z[we]=Ht,z[Ut]=me,we=Ut):(z[we]=wt,z[Ne]=me,we=Ne);else if(Ut<Se&&0>i(Ht,me))z[we]=Ht,z[Ut]=me,we=Ut;else break e}}return J}function i(z,J){var me=z.sortIndex-J.sortIndex;return me!==0?me:z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,f=3,y=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var J=r(u);J!==null;){if(J.callback===null)n(u);else if(J.startTime<=z)n(u),J.sortIndex=J.expirationTime,t(l,J);else break;J=r(u)}}function x(z){if(g=!1,_(z),!v)if(r(l)!==null)v=!0,te($);else{var J=r(u);J!==null&&ae(x,J.startTime-z)}}function $(z,J){v=!1,g&&(g=!1,w(M),M=-1),y=!0;var me=f;try{for(_(J),p=r(l);p!==null&&(!(p.expirationTime>J)||z&&!P());){var we=p.callback;if(typeof we=="function"){p.callback=null,f=p.priorityLevel;var Se=we(p.expirationTime<=J);J=e.unstable_now(),typeof Se=="function"?p.callback=Se:p===r(l)&&n(l),_(J)}else n(l);p=r(l)}if(p!==null)var xe=!0;else{var Ne=r(u);Ne!==null&&ae(x,Ne.startTime-J),xe=!1}return xe}finally{p=null,f=me,y=!1}}var E=!1,T=null,M=-1,A=5,k=-1;function P(){return!(e.unstable_now()-k<A)}function L(){if(T!==null){var z=e.unstable_now();k=z;var J=!0;try{J=T(!0,z)}finally{J?D():(E=!1,T=null)}}else E=!1}var D;if(typeof S=="function")D=function(){S(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,W=j.port2;j.port1.onmessage=L,D=function(){W.postMessage(null)}}else D=function(){b(L,0)};function te(z){T=z,E||(E=!0,D())}function ae(z,J){M=b(function(){z(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,te($))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(z){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var me=f;f=J;try{return z()}finally{f=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var me=f;f=z;try{return J()}finally{f=me}},e.unstable_scheduleCallback=function(z,J,me){var we=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?we+me:we):me=we,z){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=me+Se,z={id:d++,callback:J,priorityLevel:z,startTime:me,expirationTime:Se,sortIndex:-1},me>we?(z.sortIndex=me,t(u,z),r(l)===null&&z===r(u)&&(g?(w(M),M=-1):g=!0,ae(x,me-we))):(z.sortIndex=Se,t(l,z),v||y||(v=!0,te($))),z},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(z){var J=f;return function(){var me=f;f=J;try{return z.apply(this,arguments)}finally{f=me}}}})(RZ);(function(e){e.exports=RZ})(Nme);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LZ=q,ao=xR;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NZ=new Set,Vw={};function Om(e,t){Qg(e,t),Qg(e+"Capture",t)}function Qg(e,t){for(Vw[e]=t,e=0;e<t.length;e++)NZ.add(t[e])}var vc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$R=Object.prototype.hasOwnProperty,Fme=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dz={},hz={};function Dme(e){return $R.call(hz,e)?!0:$R.call(dz,e)?!1:Fme.test(e)?hz[e]=!0:(dz[e]=!0,!1)}function jme(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vme(e,t,r,n){if(t===null||typeof t>"u"||jme(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cs(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var di={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){di[e]=new cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];di[t]=new cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){di[e]=new cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){di[e]=new cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){di[e]=new cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){di[e]=new cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){di[e]=new cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){di[e]=new cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){di[e]=new cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var zD=/[\-:]([a-z])/g;function UD(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zD,UD);di[t]=new cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zD,UD);di[t]=new cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zD,UD);di[t]=new cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){di[e]=new cs(e,1,!1,e.toLowerCase(),null,!1,!1)});di.xlinkHref=new cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){di[e]=new cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function BD(e,t,r,n){var i=di.hasOwnProperty(t)?di[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vme(t,r,i,n)&&(r=null),n||i===null?Dme(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pc=LZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wx=Symbol.for("react.element"),tg=Symbol.for("react.portal"),rg=Symbol.for("react.fragment"),GD=Symbol.for("react.strict_mode"),ER=Symbol.for("react.profiler"),FZ=Symbol.for("react.provider"),DZ=Symbol.for("react.context"),qD=Symbol.for("react.forward_ref"),TR=Symbol.for("react.suspense"),MR=Symbol.for("react.suspense_list"),WD=Symbol.for("react.memo"),Vd=Symbol.for("react.lazy"),jZ=Symbol.for("react.offscreen"),pz=Symbol.iterator;function Jv(e){return e===null||typeof e!="object"?null:(e=pz&&e[pz]||e["@@iterator"],typeof e=="function"?e:null)}var Gr=Object.assign,mA;function B1(e){if(mA===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mA=t&&t[1]||""}return`
`+mA+e}var yA=!1;function gA(e,t){if(!e||yA)return"";yA=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{yA=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?B1(e):""}function zme(e){switch(e.tag){case 5:return B1(e.type);case 16:return B1("Lazy");case 13:return B1("Suspense");case 19:return B1("SuspenseList");case 0:case 2:case 15:return e=gA(e.type,!1),e;case 11:return e=gA(e.type.render,!1),e;case 1:return e=gA(e.type,!0),e;default:return""}}function IR(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rg:return"Fragment";case tg:return"Portal";case ER:return"Profiler";case GD:return"StrictMode";case TR:return"Suspense";case MR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case DZ:return(e.displayName||"Context")+".Consumer";case FZ:return(e._context.displayName||"Context")+".Provider";case qD:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case WD:return t=e.displayName||null,t!==null?t:IR(e.type)||"Memo";case Vd:t=e._payload,e=e._init;try{return IR(e(t))}catch{}}return null}function Ume(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return IR(t);case 8:return t===GD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ch(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VZ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bme(e){var t=VZ(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _x(e){e._valueTracker||(e._valueTracker=Bme(e))}function zZ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=VZ(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function LE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function OR(e,t){var r=t.checked;return Gr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function fz(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ch(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function UZ(e,t){t=t.checked,t!=null&&BD(e,"checked",t,!1)}function CR(e,t){UZ(e,t);var r=Ch(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?AR(e,t.type,r):t.hasOwnProperty("defaultValue")&&AR(e,t.type,Ch(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mz(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function AR(e,t,r){(t!=="number"||LE(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var G1=Array.isArray;function Tg(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ch(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function PR(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Gr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yz(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pe(92));if(G1(r)){if(1<r.length)throw Error(pe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ch(r)}}function BZ(e,t){var r=Ch(t.value),n=Ch(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gz(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function GZ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kR(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GZ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sx,qZ=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sx=Sx||document.createElement("div"),Sx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zw(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Jb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gme=["Webkit","ms","Moz","O"];Object.keys(Jb).forEach(function(e){Gme.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jb[t]=Jb[e]})});function WZ(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Jb.hasOwnProperty(e)&&Jb[e]?(""+t).trim():t+"px"}function HZ(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=WZ(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var qme=Gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function RR(e,t){if(t){if(qme[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function LR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NR=null;function HD(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var FR=null,Mg=null,Ig=null;function vz(e){if(e=yS(e)){if(typeof FR!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=CI(t),FR(e.stateNode,e.type,t))}}function KZ(e){Mg?Ig?Ig.push(e):Ig=[e]:Mg=e}function JZ(){if(Mg){var e=Mg,t=Ig;if(Ig=Mg=null,vz(e),t)for(e=0;e<t.length;e++)vz(t[e])}}function YZ(e,t){return e(t)}function ZZ(){}var vA=!1;function XZ(e,t,r){if(vA)return e(t,r);vA=!0;try{return YZ(e,t,r)}finally{vA=!1,(Mg!==null||Ig!==null)&&(ZZ(),JZ())}}function Uw(e,t){var r=e.stateNode;if(r===null)return null;var n=CI(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pe(231,t,typeof r));return r}var DR=!1;if(vc)try{var Yv={};Object.defineProperty(Yv,"passive",{get:function(){DR=!0}}),window.addEventListener("test",Yv,Yv),window.removeEventListener("test",Yv,Yv)}catch{DR=!1}function Wme(e,t,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Yb=!1,NE=null,FE=!1,jR=null,Hme={onError:function(e){Yb=!0,NE=e}};function Kme(e,t,r,n,i,s,o,a,l){Yb=!1,NE=null,Wme.apply(Hme,arguments)}function Jme(e,t,r,n,i,s,o,a,l){if(Kme.apply(this,arguments),Yb){if(Yb){var u=NE;Yb=!1,NE=null}else throw Error(pe(198));FE||(FE=!0,jR=u)}}function Cm(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function QZ(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bz(e){if(Cm(e)!==e)throw Error(pe(188))}function Yme(e){var t=e.alternate;if(!t){if(t=Cm(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return bz(i),e;if(s===n)return bz(i),t;s=s.sibling}throw Error(pe(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?e:t}function eX(e){return e=Yme(e),e!==null?tX(e):null}function tX(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tX(e);if(t!==null)return t;e=e.sibling}return null}var rX=ao.unstable_scheduleCallback,wz=ao.unstable_cancelCallback,Zme=ao.unstable_shouldYield,Xme=ao.unstable_requestPaint,nn=ao.unstable_now,Qme=ao.unstable_getCurrentPriorityLevel,KD=ao.unstable_ImmediatePriority,nX=ao.unstable_UserBlockingPriority,DE=ao.unstable_NormalPriority,eye=ao.unstable_LowPriority,iX=ao.unstable_IdlePriority,TI=null,Wl=null;function tye(e){if(Wl&&typeof Wl.onCommitFiberRoot=="function")try{Wl.onCommitFiberRoot(TI,e,void 0,(e.current.flags&128)===128)}catch{}}var qa=Math.clz32?Math.clz32:iye,rye=Math.log,nye=Math.LN2;function iye(e){return e>>>=0,e===0?32:31-(rye(e)/nye|0)|0}var xx=64,$x=4194304;function q1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jE(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=q1(a):(s&=o,s!==0&&(n=q1(s)))}else o=r&~i,o!==0?n=q1(o):s!==0&&(n=q1(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qa(t),i=1<<r,n|=e[r],t&=~i;return n}function sye(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oye(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-qa(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=sye(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function VR(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sX(){var e=xx;return xx<<=1,!(xx&4194240)&&(xx=64),e}function bA(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function fS(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qa(t),e[t]=r}function aye(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-qa(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function JD(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qa(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Qt=0;function oX(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aX,YD,lX,uX,cX,zR=!1,Ex=[],fh=null,mh=null,yh=null,Bw=new Map,Gw=new Map,Yd=[],lye="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _z(e,t){switch(e){case"focusin":case"focusout":fh=null;break;case"dragenter":case"dragleave":mh=null;break;case"mouseover":case"mouseout":yh=null;break;case"pointerover":case"pointerout":Bw.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gw.delete(t.pointerId)}}function Zv(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=yS(t),t!==null&&YD(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function uye(e,t,r,n,i){switch(t){case"focusin":return fh=Zv(fh,e,t,r,n,i),!0;case"dragenter":return mh=Zv(mh,e,t,r,n,i),!0;case"mouseover":return yh=Zv(yh,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Bw.set(s,Zv(Bw.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Gw.set(s,Zv(Gw.get(s)||null,e,t,r,n,i)),!0}return!1}function dX(e){var t=Sf(e.target);if(t!==null){var r=Cm(t);if(r!==null){if(t=r.tag,t===13){if(t=QZ(r),t!==null){e.blockedOn=t,cX(e.priority,function(){lX(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function r2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=UR(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);NR=n,r.target.dispatchEvent(n),NR=null}else return t=yS(r),t!==null&&YD(t),e.blockedOn=r,!1;t.shift()}return!0}function Sz(e,t,r){r2(e)&&r.delete(t)}function cye(){zR=!1,fh!==null&&r2(fh)&&(fh=null),mh!==null&&r2(mh)&&(mh=null),yh!==null&&r2(yh)&&(yh=null),Bw.forEach(Sz),Gw.forEach(Sz)}function Xv(e,t){e.blockedOn===t&&(e.blockedOn=null,zR||(zR=!0,ao.unstable_scheduleCallback(ao.unstable_NormalPriority,cye)))}function qw(e){function t(i){return Xv(i,e)}if(0<Ex.length){Xv(Ex[0],e);for(var r=1;r<Ex.length;r++){var n=Ex[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fh!==null&&Xv(fh,e),mh!==null&&Xv(mh,e),yh!==null&&Xv(yh,e),Bw.forEach(t),Gw.forEach(t),r=0;r<Yd.length;r++)n=Yd[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Yd.length&&(r=Yd[0],r.blockedOn===null);)dX(r),r.blockedOn===null&&Yd.shift()}var Og=Pc.ReactCurrentBatchConfig,VE=!0;function dye(e,t,r,n){var i=Qt,s=Og.transition;Og.transition=null;try{Qt=1,ZD(e,t,r,n)}finally{Qt=i,Og.transition=s}}function hye(e,t,r,n){var i=Qt,s=Og.transition;Og.transition=null;try{Qt=4,ZD(e,t,r,n)}finally{Qt=i,Og.transition=s}}function ZD(e,t,r,n){if(VE){var i=UR(e,t,r,n);if(i===null)OA(e,t,n,zE,r),_z(e,n);else if(uye(i,e,t,r,n))n.stopPropagation();else if(_z(e,n),t&4&&-1<lye.indexOf(e)){for(;i!==null;){var s=yS(i);if(s!==null&&aX(s),s=UR(e,t,r,n),s===null&&OA(e,t,n,zE,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else OA(e,t,n,null,r)}}var zE=null;function UR(e,t,r,n){if(zE=null,e=HD(n),e=Sf(e),e!==null)if(t=Cm(e),t===null)e=null;else if(r=t.tag,r===13){if(e=QZ(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zE=e,null}function hX(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qme()){case KD:return 1;case nX:return 4;case DE:case eye:return 16;case iX:return 536870912;default:return 16}default:return 16}}var eh=null,XD=null,n2=null;function pX(){if(n2)return n2;var e,t=XD,r=t.length,n,i="value"in eh?eh.value:eh.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return n2=i.slice(e,1<n?1-n:void 0)}function i2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tx(){return!0}function xz(){return!1}function uo(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tx:xz,this.isPropagationStopped=xz,this}return Gr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tx)},persist:function(){},isPersistent:Tx}),t}var rv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QD=uo(rv),mS=Gr({},rv,{view:0,detail:0}),pye=uo(mS),wA,_A,Qv,MI=Gr({},mS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ej,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qv&&(Qv&&e.type==="mousemove"?(wA=e.screenX-Qv.screenX,_A=e.screenY-Qv.screenY):_A=wA=0,Qv=e),wA)},movementY:function(e){return"movementY"in e?e.movementY:_A}}),$z=uo(MI),fye=Gr({},MI,{dataTransfer:0}),mye=uo(fye),yye=Gr({},mS,{relatedTarget:0}),SA=uo(yye),gye=Gr({},rv,{animationName:0,elapsedTime:0,pseudoElement:0}),vye=uo(gye),bye=Gr({},rv,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wye=uo(bye),_ye=Gr({},rv,{data:0}),Ez=uo(_ye),Sye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$ye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eye(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$ye[e])?!!t[e]:!1}function ej(){return Eye}var Tye=Gr({},mS,{key:function(e){if(e.key){var t=Sye[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=i2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xye[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ej,charCode:function(e){return e.type==="keypress"?i2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?i2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mye=uo(Tye),Iye=Gr({},MI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tz=uo(Iye),Oye=Gr({},mS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ej}),Cye=uo(Oye),Aye=Gr({},rv,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pye=uo(Aye),kye=Gr({},MI,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rye=uo(kye),Lye=[9,13,27,32],tj=vc&&"CompositionEvent"in window,Zb=null;vc&&"documentMode"in document&&(Zb=document.documentMode);var Nye=vc&&"TextEvent"in window&&!Zb,fX=vc&&(!tj||Zb&&8<Zb&&11>=Zb),Mz=String.fromCharCode(32),Iz=!1;function mX(e,t){switch(e){case"keyup":return Lye.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yX(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ng=!1;function Fye(e,t){switch(e){case"compositionend":return yX(t);case"keypress":return t.which!==32?null:(Iz=!0,Mz);case"textInput":return e=t.data,e===Mz&&Iz?null:e;default:return null}}function Dye(e,t){if(ng)return e==="compositionend"||!tj&&mX(e,t)?(e=pX(),n2=XD=eh=null,ng=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fX&&t.locale!=="ko"?null:t.data;default:return null}}var jye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oz(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jye[e.type]:t==="textarea"}function gX(e,t,r,n){KZ(n),t=UE(t,"onChange"),0<t.length&&(r=new QD("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xb=null,Ww=null;function Vye(e){IX(e,0)}function II(e){var t=og(e);if(zZ(t))return e}function zye(e,t){if(e==="change")return t}var vX=!1;if(vc){var xA;if(vc){var $A="oninput"in document;if(!$A){var Cz=document.createElement("div");Cz.setAttribute("oninput","return;"),$A=typeof Cz.oninput=="function"}xA=$A}else xA=!1;vX=xA&&(!document.documentMode||9<document.documentMode)}function Az(){Xb&&(Xb.detachEvent("onpropertychange",bX),Ww=Xb=null)}function bX(e){if(e.propertyName==="value"&&II(Ww)){var t=[];gX(t,Ww,e,HD(e)),XZ(Vye,t)}}function Uye(e,t,r){e==="focusin"?(Az(),Xb=t,Ww=r,Xb.attachEvent("onpropertychange",bX)):e==="focusout"&&Az()}function Bye(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return II(Ww)}function Gye(e,t){if(e==="click")return II(t)}function qye(e,t){if(e==="input"||e==="change")return II(t)}function Wye(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ya=typeof Object.is=="function"?Object.is:Wye;function Hw(e,t){if(Ya(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!$R.call(t,i)||!Ya(e[i],t[i]))return!1}return!0}function Pz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kz(e,t){var r=Pz(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pz(r)}}function wX(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wX(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _X(){for(var e=window,t=LE();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=LE(e.document)}return t}function rj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hye(e){var t=_X(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wX(r.ownerDocument.documentElement,r)){if(n!==null&&rj(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=kz(r,s);var o=kz(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kye=vc&&"documentMode"in document&&11>=document.documentMode,ig=null,BR=null,Qb=null,GR=!1;function Rz(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;GR||ig==null||ig!==LE(n)||(n=ig,"selectionStart"in n&&rj(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qb&&Hw(Qb,n)||(Qb=n,n=UE(BR,"onSelect"),0<n.length&&(t=new QD("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ig)))}function Mx(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sg={animationend:Mx("Animation","AnimationEnd"),animationiteration:Mx("Animation","AnimationIteration"),animationstart:Mx("Animation","AnimationStart"),transitionend:Mx("Transition","TransitionEnd")},EA={},SX={};vc&&(SX=document.createElement("div").style,"AnimationEvent"in window||(delete sg.animationend.animation,delete sg.animationiteration.animation,delete sg.animationstart.animation),"TransitionEvent"in window||delete sg.transitionend.transition);function OI(e){if(EA[e])return EA[e];if(!sg[e])return e;var t=sg[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in SX)return EA[e]=t[r];return e}var xX=OI("animationend"),$X=OI("animationiteration"),EX=OI("animationstart"),TX=OI("transitionend"),MX=new Map,Lz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zh(e,t){MX.set(e,t),Om(t,[e])}for(var TA=0;TA<Lz.length;TA++){var MA=Lz[TA],Jye=MA.toLowerCase(),Yye=MA[0].toUpperCase()+MA.slice(1);zh(Jye,"on"+Yye)}zh(xX,"onAnimationEnd");zh($X,"onAnimationIteration");zh(EX,"onAnimationStart");zh("dblclick","onDoubleClick");zh("focusin","onFocus");zh("focusout","onBlur");zh(TX,"onTransitionEnd");Qg("onMouseEnter",["mouseout","mouseover"]);Qg("onMouseLeave",["mouseout","mouseover"]);Qg("onPointerEnter",["pointerout","pointerover"]);Qg("onPointerLeave",["pointerout","pointerover"]);Om("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Om("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Om("onBeforeInput",["compositionend","keypress","textInput","paste"]);Om("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Om("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Om("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var W1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zye=new Set("cancel close invalid load scroll toggle".split(" ").concat(W1));function Nz(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Jme(n,t,void 0,e),e.currentTarget=null}function IX(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Nz(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Nz(i,a,u),s=l}}}if(FE)throw e=jR,FE=!1,jR=null,e}function vr(e,t){var r=t[JR];r===void 0&&(r=t[JR]=new Set);var n=e+"__bubble";r.has(n)||(OX(t,e,2,!1),r.add(n))}function IA(e,t,r){var n=0;t&&(n|=4),OX(r,e,n,t)}var Ix="_reactListening"+Math.random().toString(36).slice(2);function Kw(e){if(!e[Ix]){e[Ix]=!0,NZ.forEach(function(r){r!=="selectionchange"&&(Zye.has(r)||IA(r,!1,e),IA(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ix]||(t[Ix]=!0,IA("selectionchange",!1,t))}}function OX(e,t,r,n){switch(hX(t)){case 1:var i=dye;break;case 4:i=hye;break;default:i=ZD}r=i.bind(null,t,r,e),i=void 0,!DR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function OA(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Sf(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}XZ(function(){var u=s,d=HD(r),p=[];e:{var f=MX.get(e);if(f!==void 0){var y=QD,v=e;switch(e){case"keypress":if(i2(r)===0)break e;case"keydown":case"keyup":y=Mye;break;case"focusin":v="focus",y=SA;break;case"focusout":v="blur",y=SA;break;case"beforeblur":case"afterblur":y=SA;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=$z;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=mye;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Cye;break;case xX:case $X:case EX:y=vye;break;case TX:y=Pye;break;case"scroll":y=pye;break;case"wheel":y=Rye;break;case"copy":case"cut":case"paste":y=wye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Tz}var g=(t&4)!==0,b=!g&&e==="scroll",w=g?f!==null?f+"Capture":null:f;g=[];for(var S=u,_;S!==null;){_=S;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,w!==null&&(x=Uw(S,w),x!=null&&g.push(Jw(S,x,_)))),b)break;S=S.return}0<g.length&&(f=new y(f,v,null,r,d),p.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==NR&&(v=r.relatedTarget||r.fromElement)&&(Sf(v)||v[bc]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?Sf(v):null,v!==null&&(b=Cm(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(g=$z,x="onMouseLeave",w="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(g=Tz,x="onPointerLeave",w="onPointerEnter",S="pointer"),b=y==null?f:og(y),_=v==null?f:og(v),f=new g(x,S+"leave",y,r,d),f.target=b,f.relatedTarget=_,x=null,Sf(d)===u&&(g=new g(w,S+"enter",v,r,d),g.target=_,g.relatedTarget=b,x=g),b=x,y&&v)t:{for(g=y,w=v,S=0,_=g;_;_=Gm(_))S++;for(_=0,x=w;x;x=Gm(x))_++;for(;0<S-_;)g=Gm(g),S--;for(;0<_-S;)w=Gm(w),_--;for(;S--;){if(g===w||w!==null&&g===w.alternate)break t;g=Gm(g),w=Gm(w)}g=null}else g=null;y!==null&&Fz(p,f,y,g,!1),v!==null&&b!==null&&Fz(p,b,v,g,!0)}}e:{if(f=u?og(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var $=zye;else if(Oz(f))if(vX)$=qye;else{$=Bye;var E=Uye}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&($=Gye);if($&&($=$(e,u))){gX(p,$,r,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&AR(f,"number",f.value)}switch(E=u?og(u):window,e){case"focusin":(Oz(E)||E.contentEditable==="true")&&(ig=E,BR=u,Qb=null);break;case"focusout":Qb=BR=ig=null;break;case"mousedown":GR=!0;break;case"contextmenu":case"mouseup":case"dragend":GR=!1,Rz(p,r,d);break;case"selectionchange":if(Kye)break;case"keydown":case"keyup":Rz(p,r,d)}var T;if(tj)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ng?mX(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(fX&&r.locale!=="ko"&&(ng||M!=="onCompositionStart"?M==="onCompositionEnd"&&ng&&(T=pX()):(eh=d,XD="value"in eh?eh.value:eh.textContent,ng=!0)),E=UE(u,M),0<E.length&&(M=new Ez(M,e,null,r,d),p.push({event:M,listeners:E}),T?M.data=T:(T=yX(r),T!==null&&(M.data=T)))),(T=Nye?Fye(e,r):Dye(e,r))&&(u=UE(u,"onBeforeInput"),0<u.length&&(d=new Ez("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:u}),d.data=T))}IX(p,t)})}function Jw(e,t,r){return{instance:e,listener:t,currentTarget:r}}function UE(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Uw(e,r),s!=null&&n.unshift(Jw(e,s,i)),s=Uw(e,t),s!=null&&n.push(Jw(e,s,i))),e=e.return}return n}function Gm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fz(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Uw(r,s),l!=null&&o.unshift(Jw(r,l,a))):i||(l=Uw(r,s),l!=null&&o.push(Jw(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Xye=/\r\n?/g,Qye=/\u0000|\uFFFD/g;function Dz(e){return(typeof e=="string"?e:""+e).replace(Xye,`
`).replace(Qye,"")}function Ox(e,t,r){if(t=Dz(t),Dz(e)!==t&&r)throw Error(pe(425))}function BE(){}var qR=null,WR=null;function HR(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var KR=typeof setTimeout=="function"?setTimeout:void 0,ege=typeof clearTimeout=="function"?clearTimeout:void 0,jz=typeof Promise=="function"?Promise:void 0,tge=typeof queueMicrotask=="function"?queueMicrotask:typeof jz<"u"?function(e){return jz.resolve(null).then(e).catch(rge)}:KR;function rge(e){setTimeout(function(){throw e})}function CA(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),qw(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);qw(t)}function gh(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nv=Math.random().toString(36).slice(2),Dl="__reactFiber$"+nv,Yw="__reactProps$"+nv,bc="__reactContainer$"+nv,JR="__reactEvents$"+nv,nge="__reactListeners$"+nv,ige="__reactHandles$"+nv;function Sf(e){var t=e[Dl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bc]||r[Dl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vz(e);e!==null;){if(r=e[Dl])return r;e=Vz(e)}return t}e=r,r=e.parentNode}return null}function yS(e){return e=e[Dl]||e[bc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function og(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function CI(e){return e[Yw]||null}var YR=[],ag=-1;function Uh(e){return{current:e}}function Er(e){0>ag||(e.current=YR[ag],YR[ag]=null,ag--)}function fr(e,t){ag++,YR[ag]=e.current,e.current=t}var Ah={},Fi=Uh(Ah),Ts=Uh(!1),rm=Ah;function e0(e,t){var r=e.type.contextTypes;if(!r)return Ah;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ms(e){return e=e.childContextTypes,e!=null}function GE(){Er(Ts),Er(Fi)}function zz(e,t,r){if(Fi.current!==Ah)throw Error(pe(168));fr(Fi,t),fr(Ts,r)}function CX(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(pe(108,Ume(e)||"Unknown",i));return Gr({},r,n)}function qE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ah,rm=Fi.current,fr(Fi,e),fr(Ts,Ts.current),!0}function Uz(e,t,r){var n=e.stateNode;if(!n)throw Error(pe(169));r?(e=CX(e,t,rm),n.__reactInternalMemoizedMergedChildContext=e,Er(Ts),Er(Fi),fr(Fi,e)):Er(Ts),fr(Ts,r)}var Ku=null,AI=!1,AA=!1;function AX(e){Ku===null?Ku=[e]:Ku.push(e)}function sge(e){AI=!0,AX(e)}function Bh(){if(!AA&&Ku!==null){AA=!0;var e=0,t=Qt;try{var r=Ku;for(Qt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ku=null,AI=!1}catch(i){throw Ku!==null&&(Ku=Ku.slice(e+1)),rX(KD,Bh),i}finally{Qt=t,AA=!1}}return null}var lg=[],ug=0,WE=null,HE=0,jo=[],Vo=0,nm=null,tc=1,rc="";function gp(e,t){lg[ug++]=HE,lg[ug++]=WE,WE=e,HE=t}function PX(e,t,r){jo[Vo++]=tc,jo[Vo++]=rc,jo[Vo++]=nm,nm=e;var n=tc;e=rc;var i=32-qa(n)-1;n&=~(1<<i),r+=1;var s=32-qa(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,tc=1<<32-qa(t)+i|r<<i|n,rc=s+e}else tc=1<<s|r<<i|n,rc=e}function nj(e){e.return!==null&&(gp(e,1),PX(e,1,0))}function ij(e){for(;e===WE;)WE=lg[--ug],lg[ug]=null,HE=lg[--ug],lg[ug]=null;for(;e===nm;)nm=jo[--Vo],jo[Vo]=null,rc=jo[--Vo],jo[Vo]=null,tc=jo[--Vo],jo[Vo]=null}var eo=null,Xs=null,Ar=!1,ja=null;function kX(e,t){var r=Go(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bz(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,eo=e,Xs=gh(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,eo=e,Xs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=nm!==null?{id:tc,overflow:rc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Go(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,eo=e,Xs=null,!0):!1;default:return!1}}function ZR(e){return(e.mode&1)!==0&&(e.flags&128)===0}function XR(e){if(Ar){var t=Xs;if(t){var r=t;if(!Bz(e,t)){if(ZR(e))throw Error(pe(418));t=gh(r.nextSibling);var n=eo;t&&Bz(e,t)?kX(n,r):(e.flags=e.flags&-4097|2,Ar=!1,eo=e)}}else{if(ZR(e))throw Error(pe(418));e.flags=e.flags&-4097|2,Ar=!1,eo=e}}}function Gz(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;eo=e}function Cx(e){if(e!==eo)return!1;if(!Ar)return Gz(e),Ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!HR(e.type,e.memoizedProps)),t&&(t=Xs)){if(ZR(e))throw RX(),Error(pe(418));for(;t;)kX(e,t),t=gh(t.nextSibling)}if(Gz(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xs=gh(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xs=null}}else Xs=eo?gh(e.stateNode.nextSibling):null;return!0}function RX(){for(var e=Xs;e;)e=gh(e.nextSibling)}function t0(){Xs=eo=null,Ar=!1}function sj(e){ja===null?ja=[e]:ja.push(e)}var oge=Pc.ReactCurrentBatchConfig;function Pa(e,t){if(e&&e.defaultProps){t=Gr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var KE=Uh(null),JE=null,cg=null,oj=null;function aj(){oj=cg=JE=null}function lj(e){var t=KE.current;Er(KE),e._currentValue=t}function QR(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Cg(e,t){JE=e,oj=cg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($s=!0),e.firstContext=null)}function Qo(e){var t=e._currentValue;if(oj!==e)if(e={context:e,memoizedValue:t,next:null},cg===null){if(JE===null)throw Error(pe(308));cg=e,JE.dependencies={lanes:0,firstContext:e}}else cg=cg.next=e;return t}var xf=null;function uj(e){xf===null?xf=[e]:xf.push(e)}function LX(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,uj(t)):(r.next=i.next,i.next=r),t.interleaved=r,wc(e,n)}function wc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zd=!1;function cj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NX(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vh(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,At&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,wc(e,r)}return i=n.interleaved,i===null?(t.next=t,uj(n)):(t.next=i.next,i.next=t),n.interleaved=t,wc(e,r)}function s2(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,JD(e,r)}}function qz(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function YE(e,t,r,n){var i=e.updateQueue;zd=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,y=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(f=t,y=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){p=v.call(y,p,f);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(y,p,f):v,f==null)break e;p=Gr({},p,f);break e;case 2:zd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=p):d=d.next=y,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);sm|=o,e.lanes=o,e.memoizedState=p}}function Wz(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(pe(191,i));i.call(n)}}}var FX=new LZ.Component().refs;function e3(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Gr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var PI={isMounted:function(e){return(e=e._reactInternals)?Cm(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=os(),i=wh(e),s=lc(n,i);s.payload=t,r!=null&&(s.callback=r),t=vh(e,s,i),t!==null&&(Wa(t,e,i,n),s2(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=os(),i=wh(e),s=lc(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=vh(e,s,i),t!==null&&(Wa(t,e,i,n),s2(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=os(),n=wh(e),i=lc(r,n);i.tag=2,t!=null&&(i.callback=t),t=vh(e,i,n),t!==null&&(Wa(t,e,n,r),s2(t,e,n))}};function Hz(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Hw(r,n)||!Hw(i,s):!0}function DX(e,t,r){var n=!1,i=Ah,s=t.contextType;return typeof s=="object"&&s!==null?s=Qo(s):(i=Ms(t)?rm:Fi.current,n=t.contextTypes,s=(n=n!=null)?e0(e,i):Ah),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=PI,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Kz(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&PI.enqueueReplaceState(t,t.state,null)}function t3(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=FX,cj(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Qo(s):(s=Ms(t)?rm:Fi.current,i.context=e0(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(e3(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&PI.enqueueReplaceState(i,i.state,null),YE(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function e1(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===FX&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,e))}return e}function Ax(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jz(e){var t=e._init;return t(e._payload)}function jX(e){function t(w,S){if(e){var _=w.deletions;_===null?(w.deletions=[S],w.flags|=16):_.push(S)}}function r(w,S){if(!e)return null;for(;S!==null;)t(w,S),S=S.sibling;return null}function n(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=_h(w,S),w.index=0,w.sibling=null,w}function s(w,S,_){return w.index=_,e?(_=w.alternate,_!==null?(_=_.index,_<S?(w.flags|=2,S):_):(w.flags|=2,S)):(w.flags|=1048576,S)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,S,_,x){return S===null||S.tag!==6?(S=DA(_,w.mode,x),S.return=w,S):(S=i(S,_),S.return=w,S)}function l(w,S,_,x){var $=_.type;return $===rg?d(w,S,_.props.children,x,_.key):S!==null&&(S.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Vd&&Jz($)===S.type)?(x=i(S,_.props),x.ref=e1(w,S,_),x.return=w,x):(x=d2(_.type,_.key,_.props,null,w.mode,x),x.ref=e1(w,S,_),x.return=w,x)}function u(w,S,_,x){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=jA(_,w.mode,x),S.return=w,S):(S=i(S,_.children||[]),S.return=w,S)}function d(w,S,_,x,$){return S===null||S.tag!==7?(S=Bf(_,w.mode,x,$),S.return=w,S):(S=i(S,_),S.return=w,S)}function p(w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=DA(""+S,w.mode,_),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wx:return _=d2(S.type,S.key,S.props,null,w.mode,_),_.ref=e1(w,null,S),_.return=w,_;case tg:return S=jA(S,w.mode,_),S.return=w,S;case Vd:var x=S._init;return p(w,x(S._payload),_)}if(G1(S)||Jv(S))return S=Bf(S,w.mode,_,null),S.return=w,S;Ax(w,S)}return null}function f(w,S,_,x){var $=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return $!==null?null:a(w,S,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wx:return _.key===$?l(w,S,_,x):null;case tg:return _.key===$?u(w,S,_,x):null;case Vd:return $=_._init,f(w,S,$(_._payload),x)}if(G1(_)||Jv(_))return $!==null?null:d(w,S,_,x,null);Ax(w,_)}return null}function y(w,S,_,x,$){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(_)||null,a(S,w,""+x,$);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wx:return w=w.get(x.key===null?_:x.key)||null,l(S,w,x,$);case tg:return w=w.get(x.key===null?_:x.key)||null,u(S,w,x,$);case Vd:var E=x._init;return y(w,S,_,E(x._payload),$)}if(G1(x)||Jv(x))return w=w.get(_)||null,d(S,w,x,$,null);Ax(S,x)}return null}function v(w,S,_,x){for(var $=null,E=null,T=S,M=S=0,A=null;T!==null&&M<_.length;M++){T.index>M?(A=T,T=null):A=T.sibling;var k=f(w,T,_[M],x);if(k===null){T===null&&(T=A);break}e&&T&&k.alternate===null&&t(w,T),S=s(k,S,M),E===null?$=k:E.sibling=k,E=k,T=A}if(M===_.length)return r(w,T),Ar&&gp(w,M),$;if(T===null){for(;M<_.length;M++)T=p(w,_[M],x),T!==null&&(S=s(T,S,M),E===null?$=T:E.sibling=T,E=T);return Ar&&gp(w,M),$}for(T=n(w,T);M<_.length;M++)A=y(T,w,M,_[M],x),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?M:A.key),S=s(A,S,M),E===null?$=A:E.sibling=A,E=A);return e&&T.forEach(function(P){return t(w,P)}),Ar&&gp(w,M),$}function g(w,S,_,x){var $=Jv(_);if(typeof $!="function")throw Error(pe(150));if(_=$.call(_),_==null)throw Error(pe(151));for(var E=$=null,T=S,M=S=0,A=null,k=_.next();T!==null&&!k.done;M++,k=_.next()){T.index>M?(A=T,T=null):A=T.sibling;var P=f(w,T,k.value,x);if(P===null){T===null&&(T=A);break}e&&T&&P.alternate===null&&t(w,T),S=s(P,S,M),E===null?$=P:E.sibling=P,E=P,T=A}if(k.done)return r(w,T),Ar&&gp(w,M),$;if(T===null){for(;!k.done;M++,k=_.next())k=p(w,k.value,x),k!==null&&(S=s(k,S,M),E===null?$=k:E.sibling=k,E=k);return Ar&&gp(w,M),$}for(T=n(w,T);!k.done;M++,k=_.next())k=y(T,w,M,k.value,x),k!==null&&(e&&k.alternate!==null&&T.delete(k.key===null?M:k.key),S=s(k,S,M),E===null?$=k:E.sibling=k,E=k);return e&&T.forEach(function(L){return t(w,L)}),Ar&&gp(w,M),$}function b(w,S,_,x){if(typeof _=="object"&&_!==null&&_.type===rg&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case wx:e:{for(var $=_.key,E=S;E!==null;){if(E.key===$){if($=_.type,$===rg){if(E.tag===7){r(w,E.sibling),S=i(E,_.props.children),S.return=w,w=S;break e}}else if(E.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Vd&&Jz($)===E.type){r(w,E.sibling),S=i(E,_.props),S.ref=e1(w,E,_),S.return=w,w=S;break e}r(w,E);break}else t(w,E);E=E.sibling}_.type===rg?(S=Bf(_.props.children,w.mode,x,_.key),S.return=w,w=S):(x=d2(_.type,_.key,_.props,null,w.mode,x),x.ref=e1(w,S,_),x.return=w,w=x)}return o(w);case tg:e:{for(E=_.key;S!==null;){if(S.key===E)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){r(w,S.sibling),S=i(S,_.children||[]),S.return=w,w=S;break e}else{r(w,S);break}else t(w,S);S=S.sibling}S=jA(_,w.mode,x),S.return=w,w=S}return o(w);case Vd:return E=_._init,b(w,S,E(_._payload),x)}if(G1(_))return v(w,S,_,x);if(Jv(_))return g(w,S,_,x);Ax(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(r(w,S.sibling),S=i(S,_),S.return=w,w=S):(r(w,S),S=DA(_,w.mode,x),S.return=w,w=S),o(w)):r(w,S)}return b}var r0=jX(!0),VX=jX(!1),gS={},Hl=Uh(gS),Zw=Uh(gS),Xw=Uh(gS);function $f(e){if(e===gS)throw Error(pe(174));return e}function dj(e,t){switch(fr(Xw,t),fr(Zw,e),fr(Hl,gS),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kR(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kR(t,e)}Er(Hl),fr(Hl,t)}function n0(){Er(Hl),Er(Zw),Er(Xw)}function zX(e){$f(Xw.current);var t=$f(Hl.current),r=kR(t,e.type);t!==r&&(fr(Zw,e),fr(Hl,r))}function hj(e){Zw.current===e&&(Er(Hl),Er(Zw))}var zr=Uh(0);function ZE(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var PA=[];function pj(){for(var e=0;e<PA.length;e++)PA[e]._workInProgressVersionPrimary=null;PA.length=0}var o2=Pc.ReactCurrentDispatcher,kA=Pc.ReactCurrentBatchConfig,im=0,Br=null,$n=null,Gn=null,XE=!1,ew=!1,Qw=0,age=0;function yi(){throw Error(pe(321))}function fj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ya(e[r],t[r]))return!1;return!0}function mj(e,t,r,n,i,s){if(im=s,Br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,o2.current=e===null||e.memoizedState===null?dge:hge,e=r(n,i),ew){s=0;do{if(ew=!1,Qw=0,25<=s)throw Error(pe(301));s+=1,Gn=$n=null,t.updateQueue=null,o2.current=pge,e=r(n,i)}while(ew)}if(o2.current=QE,t=$n!==null&&$n.next!==null,im=0,Gn=$n=Br=null,XE=!1,t)throw Error(pe(300));return e}function yj(){var e=Qw!==0;return Qw=0,e}function Cl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?Br.memoizedState=Gn=e:Gn=Gn.next=e,Gn}function ea(){if($n===null){var e=Br.alternate;e=e!==null?e.memoizedState:null}else e=$n.next;var t=Gn===null?Br.memoizedState:Gn.next;if(t!==null)Gn=t,$n=e;else{if(e===null)throw Error(pe(310));$n=e,e={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Gn===null?Br.memoizedState=Gn=e:Gn=Gn.next=e}return Gn}function e_(e,t){return typeof t=="function"?t(e):t}function RA(e){var t=ea(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=$n,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((im&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=n):l=l.next=p,Br.lanes|=d,sm|=d}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Ya(n,t.memoizedState)||($s=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Br.lanes|=s,sm|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function LA(e){var t=ea(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ya(s,t.memoizedState)||($s=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function UX(){}function BX(e,t){var r=Br,n=ea(),i=t(),s=!Ya(n.memoizedState,i);if(s&&(n.memoizedState=i,$s=!0),n=n.queue,gj(WX.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Gn!==null&&Gn.memoizedState.tag&1){if(r.flags|=2048,t_(9,qX.bind(null,r,n,i,t),void 0,null),Kn===null)throw Error(pe(349));im&30||GX(r,t,i)}return i}function GX(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qX(e,t,r,n){t.value=r,t.getSnapshot=n,HX(t)&&KX(e)}function WX(e,t,r){return r(function(){HX(t)&&KX(e)})}function HX(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ya(e,r)}catch{return!0}}function KX(e){var t=wc(e,1);t!==null&&Wa(t,e,1,-1)}function Yz(e){var t=Cl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:e},t.queue=e,e=e.dispatch=cge.bind(null,Br,e),[t.memoizedState,e]}function t_(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function JX(){return ea().memoizedState}function a2(e,t,r,n){var i=Cl();Br.flags|=e,i.memoizedState=t_(1|t,r,void 0,n===void 0?null:n)}function kI(e,t,r,n){var i=ea();n=n===void 0?null:n;var s=void 0;if($n!==null){var o=$n.memoizedState;if(s=o.destroy,n!==null&&fj(n,o.deps)){i.memoizedState=t_(t,r,s,n);return}}Br.flags|=e,i.memoizedState=t_(1|t,r,s,n)}function Zz(e,t){return a2(8390656,8,e,t)}function gj(e,t){return kI(2048,8,e,t)}function YX(e,t){return kI(4,2,e,t)}function ZX(e,t){return kI(4,4,e,t)}function XX(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function QX(e,t,r){return r=r!=null?r.concat([e]):null,kI(4,4,XX.bind(null,t,e),r)}function vj(){}function eQ(e,t){var r=ea();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fj(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function tQ(e,t){var r=ea();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fj(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function rQ(e,t,r){return im&21?(Ya(r,t)||(r=sX(),Br.lanes|=r,sm|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$s=!0),e.memoizedState=r)}function lge(e,t){var r=Qt;Qt=r!==0&&4>r?r:4,e(!0);var n=kA.transition;kA.transition={};try{e(!1),t()}finally{Qt=r,kA.transition=n}}function nQ(){return ea().memoizedState}function uge(e,t,r){var n=wh(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},iQ(e))sQ(t,r);else if(r=LX(e,t,r,n),r!==null){var i=os();Wa(r,e,n,i),oQ(r,t,n)}}function cge(e,t,r){var n=wh(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(iQ(e))sQ(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ya(a,o)){var l=t.interleaved;l===null?(i.next=i,uj(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=LX(e,t,i,n),r!==null&&(i=os(),Wa(r,e,n,i),oQ(r,t,n))}}function iQ(e){var t=e.alternate;return e===Br||t!==null&&t===Br}function sQ(e,t){ew=XE=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oQ(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,JD(e,r)}}var QE={readContext:Qo,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},dge={readContext:Qo,useCallback:function(e,t){return Cl().memoizedState=[e,t===void 0?null:t],e},useContext:Qo,useEffect:Zz,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,a2(4194308,4,XX.bind(null,t,e),r)},useLayoutEffect:function(e,t){return a2(4194308,4,e,t)},useInsertionEffect:function(e,t){return a2(4,2,e,t)},useMemo:function(e,t){var r=Cl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Cl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=uge.bind(null,Br,e),[n.memoizedState,e]},useRef:function(e){var t=Cl();return e={current:e},t.memoizedState=e},useState:Yz,useDebugValue:vj,useDeferredValue:function(e){return Cl().memoizedState=e},useTransition:function(){var e=Yz(!1),t=e[0];return e=lge.bind(null,e[1]),Cl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Br,i=Cl();if(Ar){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=t(),Kn===null)throw Error(pe(349));im&30||GX(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Zz(WX.bind(null,n,s,e),[e]),n.flags|=2048,t_(9,qX.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Cl(),t=Kn.identifierPrefix;if(Ar){var r=rc,n=tc;r=(n&~(1<<32-qa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Qw++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=age++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hge={readContext:Qo,useCallback:eQ,useContext:Qo,useEffect:gj,useImperativeHandle:QX,useInsertionEffect:YX,useLayoutEffect:ZX,useMemo:tQ,useReducer:RA,useRef:JX,useState:function(){return RA(e_)},useDebugValue:vj,useDeferredValue:function(e){var t=ea();return rQ(t,$n.memoizedState,e)},useTransition:function(){var e=RA(e_)[0],t=ea().memoizedState;return[e,t]},useMutableSource:UX,useSyncExternalStore:BX,useId:nQ,unstable_isNewReconciler:!1},pge={readContext:Qo,useCallback:eQ,useContext:Qo,useEffect:gj,useImperativeHandle:QX,useInsertionEffect:YX,useLayoutEffect:ZX,useMemo:tQ,useReducer:LA,useRef:JX,useState:function(){return LA(e_)},useDebugValue:vj,useDeferredValue:function(e){var t=ea();return $n===null?t.memoizedState=e:rQ(t,$n.memoizedState,e)},useTransition:function(){var e=LA(e_)[0],t=ea().memoizedState;return[e,t]},useMutableSource:UX,useSyncExternalStore:BX,useId:nQ,unstable_isNewReconciler:!1};function i0(e,t){try{var r="",n=t;do r+=zme(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function NA(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function r3(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fge=typeof WeakMap=="function"?WeakMap:Map;function aQ(e,t,r){r=lc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){tT||(tT=!0,h3=n),r3(e,t)},r}function lQ(e,t,r){r=lc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){r3(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){r3(e,t),typeof n!="function"&&(bh===null?bh=new Set([this]):bh.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Xz(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fge;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Ige.bind(null,e,t,r),t.then(e,e))}function Qz(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function e7(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=lc(-1,1),t.tag=2,vh(r,t,1))),r.lanes|=1),e)}var mge=Pc.ReactCurrentOwner,$s=!1;function es(e,t,r,n){t.child=e===null?VX(t,null,r,n):r0(t,e.child,r,n)}function t7(e,t,r,n,i){r=r.render;var s=t.ref;return Cg(t,i),n=mj(e,t,r,n,s,i),r=yj(),e!==null&&!$s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_c(e,t,i)):(Ar&&r&&nj(t),t.flags|=1,es(e,t,n,i),t.child)}function r7(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Tj(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,uQ(e,t,s,n,i)):(e=d2(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Hw,r(o,n)&&e.ref===t.ref)return _c(e,t,i)}return t.flags|=1,e=_h(s,n),e.ref=t.ref,e.return=t,t.child=e}function uQ(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Hw(s,n)&&e.ref===t.ref)if($s=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&($s=!0);else return t.lanes=e.lanes,_c(e,t,i)}return n3(e,t,r,n,i)}function cQ(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(hg,Hs),Hs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fr(hg,Hs),Hs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,fr(hg,Hs),Hs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,fr(hg,Hs),Hs|=n;return es(e,t,i,r),t.child}function dQ(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function n3(e,t,r,n,i){var s=Ms(r)?rm:Fi.current;return s=e0(t,s),Cg(t,i),r=mj(e,t,r,n,s,i),n=yj(),e!==null&&!$s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_c(e,t,i)):(Ar&&n&&nj(t),t.flags|=1,es(e,t,r,i),t.child)}function n7(e,t,r,n,i){if(Ms(r)){var s=!0;qE(t)}else s=!1;if(Cg(t,i),t.stateNode===null)l2(e,t),DX(t,r,n),t3(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qo(u):(u=Ms(r)?rm:Fi.current,u=e0(t,u));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Kz(t,o,n,u),zd=!1;var f=t.memoizedState;o.state=f,YE(t,n,o,i),l=t.memoizedState,a!==n||f!==l||Ts.current||zd?(typeof d=="function"&&(e3(t,r,d,n),l=t.memoizedState),(a=zd||Hz(t,r,a,n,f,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,NX(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Pa(t.type,a),o.props=u,p=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Qo(l):(l=Ms(r)?rm:Fi.current,l=e0(t,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&Kz(t,o,n,l),zd=!1,f=t.memoizedState,o.state=f,YE(t,n,o,i);var v=t.memoizedState;a!==p||f!==v||Ts.current||zd?(typeof y=="function"&&(e3(t,r,y,n),v=t.memoizedState),(u=zd||Hz(t,r,u,n,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return i3(e,t,r,n,s,i)}function i3(e,t,r,n,i,s){dQ(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Uz(t,r,!1),_c(e,t,s);n=t.stateNode,mge.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=r0(t,e.child,null,s),t.child=r0(t,null,a,s)):es(e,t,a,s),t.memoizedState=n.state,i&&Uz(t,r,!0),t.child}function hQ(e){var t=e.stateNode;t.pendingContext?zz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zz(e,t.context,!1),dj(e,t.containerInfo)}function i7(e,t,r,n,i){return t0(),sj(i),t.flags|=256,es(e,t,r,n),t.child}var s3={dehydrated:null,treeContext:null,retryLane:0};function o3(e){return{baseLanes:e,cachePool:null,transitions:null}}function pQ(e,t,r){var n=t.pendingProps,i=zr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),fr(zr,i&1),e===null)return XR(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=NI(o,n,0,null),e=Bf(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=o3(r),t.memoizedState=s3,e):bj(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yge(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=_h(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=_h(a,s):(s=Bf(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?o3(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=s3,n}return s=e.child,e=s.sibling,n=_h(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function bj(e,t){return t=NI({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Px(e,t,r,n){return n!==null&&sj(n),r0(t,e.child,null,r),e=bj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yge(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=NA(Error(pe(422))),Px(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=NI({mode:"visible",children:n.children},i,0,null),s=Bf(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&r0(t,e.child,null,o),t.child.memoizedState=o3(o),t.memoizedState=s3,s);if(!(t.mode&1))return Px(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(pe(419)),n=NA(s,n,void 0),Px(e,t,o,n)}if(a=(o&e.childLanes)!==0,$s||a){if(n=Kn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wc(e,i),Wa(n,e,i,-1))}return Ej(),n=NA(Error(pe(421))),Px(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Oge.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Xs=gh(i.nextSibling),eo=t,Ar=!0,ja=null,e!==null&&(jo[Vo++]=tc,jo[Vo++]=rc,jo[Vo++]=nm,tc=e.id,rc=e.overflow,nm=t),t=bj(t,n.children),t.flags|=4096,t)}function s7(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),QR(e.return,t,r)}function FA(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function fQ(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(es(e,t,n.children,r),n=zr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&s7(e,r,t);else if(e.tag===19)s7(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fr(zr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&ZE(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),FA(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ZE(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}FA(t,!0,r,null,s);break;case"together":FA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function l2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _c(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),sm|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,r=_h(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_h(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gge(e,t,r){switch(t.tag){case 3:hQ(t),t0();break;case 5:zX(t);break;case 1:Ms(t.type)&&qE(t);break;case 4:dj(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;fr(KE,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fr(zr,zr.current&1),t.flags|=128,null):r&t.child.childLanes?pQ(e,t,r):(fr(zr,zr.current&1),e=_c(e,t,r),e!==null?e.sibling:null);fr(zr,zr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return fQ(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fr(zr,zr.current),n)break;return null;case 22:case 23:return t.lanes=0,cQ(e,t,r)}return _c(e,t,r)}var mQ,a3,yQ,gQ;mQ=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};a3=function(){};yQ=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,$f(Hl.current);var s=null;switch(r){case"input":i=OR(e,i),n=OR(e,n),s=[];break;case"select":i=Gr({},i,{value:void 0}),n=Gr({},n,{value:void 0}),s=[];break;case"textarea":i=PR(e,i),n=PR(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=BE)}RR(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vw.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vw.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&vr("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};gQ=function(e,t,r,n){r!==n&&(t.flags|=4)};function t1(e,t){if(!Ar)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vge(e,t,r){var n=t.pendingProps;switch(ij(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(t),null;case 1:return Ms(t.type)&&GE(),gi(t),null;case 3:return n=t.stateNode,n0(),Er(Ts),Er(Fi),pj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Cx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ja!==null&&(m3(ja),ja=null))),a3(e,t),gi(t),null;case 5:hj(t);var i=$f(Xw.current);if(r=t.type,e!==null&&t.stateNode!=null)yQ(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pe(166));return gi(t),null}if(e=$f(Hl.current),Cx(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Dl]=t,n[Yw]=s,e=(t.mode&1)!==0,r){case"dialog":vr("cancel",n),vr("close",n);break;case"iframe":case"object":case"embed":vr("load",n);break;case"video":case"audio":for(i=0;i<W1.length;i++)vr(W1[i],n);break;case"source":vr("error",n);break;case"img":case"image":case"link":vr("error",n),vr("load",n);break;case"details":vr("toggle",n);break;case"input":fz(n,s),vr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},vr("invalid",n);break;case"textarea":yz(n,s),vr("invalid",n)}RR(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ox(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ox(n.textContent,a,e),i=["children",""+a]):Vw.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&vr("scroll",n)}switch(r){case"input":_x(n),mz(n,s,!0);break;case"textarea":_x(n),gz(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=BE)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=GZ(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Dl]=t,e[Yw]=n,mQ(e,t,!1,!1),t.stateNode=e;e:{switch(o=LR(r,n),r){case"dialog":vr("cancel",e),vr("close",e),i=n;break;case"iframe":case"object":case"embed":vr("load",e),i=n;break;case"video":case"audio":for(i=0;i<W1.length;i++)vr(W1[i],e);i=n;break;case"source":vr("error",e),i=n;break;case"img":case"image":case"link":vr("error",e),vr("load",e),i=n;break;case"details":vr("toggle",e),i=n;break;case"input":fz(e,n),i=OR(e,n),vr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Gr({},n,{value:void 0}),vr("invalid",e);break;case"textarea":yz(e,n),i=PR(e,n),vr("invalid",e);break;default:i=n}RR(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?HZ(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qZ(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zw(e,l):typeof l=="number"&&zw(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vw.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vr("scroll",e):l!=null&&BD(e,s,l,o))}switch(r){case"input":_x(e),mz(e,n,!1);break;case"textarea":_x(e),gz(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ch(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Tg(e,!!n.multiple,s,!1):n.defaultValue!=null&&Tg(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=BE)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gi(t),null;case 6:if(e&&t.stateNode!=null)gQ(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pe(166));if(r=$f(Xw.current),$f(Hl.current),Cx(t)){if(n=t.stateNode,r=t.memoizedProps,n[Dl]=t,(s=n.nodeValue!==r)&&(e=eo,e!==null))switch(e.tag){case 3:Ox(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ox(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Dl]=t,t.stateNode=n}return gi(t),null;case 13:if(Er(zr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ar&&Xs!==null&&t.mode&1&&!(t.flags&128))RX(),t0(),t.flags|=98560,s=!1;else if(s=Cx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(pe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[Dl]=t}else t0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gi(t),s=!1}else ja!==null&&(m3(ja),ja=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||zr.current&1?Mn===0&&(Mn=3):Ej())),t.updateQueue!==null&&(t.flags|=4),gi(t),null);case 4:return n0(),a3(e,t),e===null&&Kw(t.stateNode.containerInfo),gi(t),null;case 10:return lj(t.type._context),gi(t),null;case 17:return Ms(t.type)&&GE(),gi(t),null;case 19:if(Er(zr),s=t.memoizedState,s===null)return gi(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)t1(s,!1);else{if(Mn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ZE(e),o!==null){for(t.flags|=128,t1(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fr(zr,zr.current&1|2),t.child}e=e.sibling}s.tail!==null&&nn()>s0&&(t.flags|=128,n=!0,t1(s,!1),t.lanes=4194304)}else{if(!n)if(e=ZE(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t1(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ar)return gi(t),null}else 2*nn()-s.renderingStartTime>s0&&r!==1073741824&&(t.flags|=128,n=!0,t1(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nn(),t.sibling=null,r=zr.current,fr(zr,n?r&1|2:r&1),t):(gi(t),null);case 22:case 23:return $j(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hs&1073741824&&(gi(t),t.subtreeFlags&6&&(t.flags|=8192)):gi(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function bge(e,t){switch(ij(t),t.tag){case 1:return Ms(t.type)&&GE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return n0(),Er(Ts),Er(Fi),pj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hj(t),null;case 13:if(Er(zr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));t0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Er(zr),null;case 4:return n0(),null;case 10:return lj(t.type._context),null;case 22:case 23:return $j(),null;case 24:return null;default:return null}}var kx=!1,Pi=!1,wge=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function dg(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xr(e,t,n)}else r.current=null}function l3(e,t,r){try{r()}catch(n){Xr(e,t,n)}}var o7=!1;function _ge(e,t){if(qR=VE,e=_X(),rj(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var y;p!==r||i!==0&&p.nodeType!==3||(a=o+i),p!==s||n!==0&&p.nodeType!==3||(l=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)f=p,p=y;for(;;){if(p===e)break t;if(f===r&&++u===i&&(a=o),f===s&&++d===n&&(l=o),(y=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(WR={focusedElem:e,selectionRange:r},VE=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,w=t.stateNode,S=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:Pa(t.type,g),b);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(x){Xr(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return v=o7,o7=!1,v}function tw(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&l3(t,r,s)}i=i.next}while(i!==n)}}function RI(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function u3(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function vQ(e){var t=e.alternate;t!==null&&(e.alternate=null,vQ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dl],delete t[Yw],delete t[JR],delete t[nge],delete t[ige])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bQ(e){return e.tag===5||e.tag===3||e.tag===4}function a7(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bQ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function c3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=BE));else if(n!==4&&(e=e.child,e!==null))for(c3(e,t,r),e=e.sibling;e!==null;)c3(e,t,r),e=e.sibling}function d3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(d3(e,t,r),e=e.sibling;e!==null;)d3(e,t,r),e=e.sibling}var oi=null,Ra=!1;function zc(e,t,r){for(r=r.child;r!==null;)wQ(e,t,r),r=r.sibling}function wQ(e,t,r){if(Wl&&typeof Wl.onCommitFiberUnmount=="function")try{Wl.onCommitFiberUnmount(TI,r)}catch{}switch(r.tag){case 5:Pi||dg(r,t);case 6:var n=oi,i=Ra;oi=null,zc(e,t,r),oi=n,Ra=i,oi!==null&&(Ra?(e=oi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):oi.removeChild(r.stateNode));break;case 18:oi!==null&&(Ra?(e=oi,r=r.stateNode,e.nodeType===8?CA(e.parentNode,r):e.nodeType===1&&CA(e,r),qw(e)):CA(oi,r.stateNode));break;case 4:n=oi,i=Ra,oi=r.stateNode.containerInfo,Ra=!0,zc(e,t,r),oi=n,Ra=i;break;case 0:case 11:case 14:case 15:if(!Pi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&l3(r,t,o),i=i.next}while(i!==n)}zc(e,t,r);break;case 1:if(!Pi&&(dg(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Xr(r,t,a)}zc(e,t,r);break;case 21:zc(e,t,r);break;case 22:r.mode&1?(Pi=(n=Pi)||r.memoizedState!==null,zc(e,t,r),Pi=n):zc(e,t,r);break;default:zc(e,t,r)}}function l7(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new wge),t.forEach(function(n){var i=Cge.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function la(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:oi=a.stateNode,Ra=!1;break e;case 3:oi=a.stateNode.containerInfo,Ra=!0;break e;case 4:oi=a.stateNode.containerInfo,Ra=!0;break e}a=a.return}if(oi===null)throw Error(pe(160));wQ(s,o,i),oi=null,Ra=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Xr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_Q(t,e),t=t.sibling}function _Q(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(la(t,e),al(e),n&4){try{tw(3,e,e.return),RI(3,e)}catch(g){Xr(e,e.return,g)}try{tw(5,e,e.return)}catch(g){Xr(e,e.return,g)}}break;case 1:la(t,e),al(e),n&512&&r!==null&&dg(r,r.return);break;case 5:if(la(t,e),al(e),n&512&&r!==null&&dg(r,r.return),e.flags&32){var i=e.stateNode;try{zw(i,"")}catch(g){Xr(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&UZ(i,s),LR(a,o);var u=LR(a,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?HZ(i,p):d==="dangerouslySetInnerHTML"?qZ(i,p):d==="children"?zw(i,p):BD(i,d,p,u)}switch(a){case"input":CR(i,s);break;case"textarea":BZ(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Tg(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?Tg(i,!!s.multiple,s.defaultValue,!0):Tg(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yw]=s}catch(g){Xr(e,e.return,g)}}break;case 6:if(la(t,e),al(e),n&4){if(e.stateNode===null)throw Error(pe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Xr(e,e.return,g)}}break;case 3:if(la(t,e),al(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qw(t.containerInfo)}catch(g){Xr(e,e.return,g)}break;case 4:la(t,e),al(e);break;case 13:la(t,e),al(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sj=nn())),n&4&&l7(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pi=(u=Pi)||d,la(t,e),Pi=u):la(t,e),al(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ee=e,d=e.child;d!==null;){for(p=Ee=d;Ee!==null;){switch(f=Ee,y=f.child,f.tag){case 0:case 11:case 14:case 15:tw(4,f,f.return);break;case 1:dg(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Xr(n,r,g)}}break;case 5:dg(f,f.return);break;case 22:if(f.memoizedState!==null){c7(p);continue}}y!==null?(y.return=f,Ee=y):c7(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=WZ("display",o))}catch(g){Xr(e,e.return,g)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){Xr(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:la(t,e),al(e),n&4&&l7(e);break;case 21:break;default:la(t,e),al(e)}}function al(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bQ(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zw(i,""),n.flags&=-33);var s=a7(e);d3(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=a7(e);c3(e,a,o);break;default:throw Error(pe(161))}}catch(l){Xr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sge(e,t,r){Ee=e,SQ(e)}function SQ(e,t,r){for(var n=(e.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||kx;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pi;a=kx;var u=Pi;if(kx=o,(Pi=l)&&!u)for(Ee=i;Ee!==null;)o=Ee,l=o.child,o.tag===22&&o.memoizedState!==null?d7(i):l!==null?(l.return=o,Ee=l):d7(i);for(;s!==null;)Ee=s,SQ(s),s=s.sibling;Ee=i,kx=a,Pi=u}u7(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):u7(e)}}function u7(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pi||RI(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pi)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Pa(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Wz(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wz(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&qw(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Pi||t.flags&512&&u3(t)}catch(f){Xr(t,t.return,f)}}if(t===e){Ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function c7(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function d7(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{RI(4,t)}catch(l){Xr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Xr(t,i,l)}}var s=t.return;try{u3(t)}catch(l){Xr(t,s,l)}break;case 5:var o=t.return;try{u3(t)}catch(l){Xr(t,o,l)}}}catch(l){Xr(t,t.return,l)}if(t===e){Ee=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ee=a;break}Ee=t.return}}var xge=Math.ceil,eT=Pc.ReactCurrentDispatcher,wj=Pc.ReactCurrentOwner,Jo=Pc.ReactCurrentBatchConfig,At=0,Kn=null,fn=null,ci=0,Hs=0,hg=Uh(0),Mn=0,r_=null,sm=0,LI=0,_j=0,rw=null,Ss=null,Sj=0,s0=1/0,Wu=null,tT=!1,h3=null,bh=null,Rx=!1,th=null,rT=0,nw=0,p3=null,u2=-1,c2=0;function os(){return At&6?nn():u2!==-1?u2:u2=nn()}function wh(e){return e.mode&1?At&2&&ci!==0?ci&-ci:oge.transition!==null?(c2===0&&(c2=sX()),c2):(e=Qt,e!==0||(e=window.event,e=e===void 0?16:hX(e.type)),e):1}function Wa(e,t,r,n){if(50<nw)throw nw=0,p3=null,Error(pe(185));fS(e,r,n),(!(At&2)||e!==Kn)&&(e===Kn&&(!(At&2)&&(LI|=r),Mn===4&&Zd(e,ci)),Is(e,n),r===1&&At===0&&!(t.mode&1)&&(s0=nn()+500,AI&&Bh()))}function Is(e,t){var r=e.callbackNode;oye(e,t);var n=jE(e,e===Kn?ci:0);if(n===0)r!==null&&wz(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&wz(r),t===1)e.tag===0?sge(h7.bind(null,e)):AX(h7.bind(null,e)),tge(function(){!(At&6)&&Bh()}),r=null;else{switch(oX(n)){case 1:r=KD;break;case 4:r=nX;break;case 16:r=DE;break;case 536870912:r=iX;break;default:r=DE}r=CQ(r,xQ.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xQ(e,t){if(u2=-1,c2=0,At&6)throw Error(pe(327));var r=e.callbackNode;if(Ag()&&e.callbackNode!==r)return null;var n=jE(e,e===Kn?ci:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=nT(e,n);else{t=n;var i=At;At|=2;var s=EQ();(Kn!==e||ci!==t)&&(Wu=null,s0=nn()+500,Uf(e,t));do try{Tge();break}catch(a){$Q(e,a)}while(1);aj(),eT.current=s,At=i,fn!==null?t=0:(Kn=null,ci=0,t=Mn)}if(t!==0){if(t===2&&(i=VR(e),i!==0&&(n=i,t=f3(e,i))),t===1)throw r=r_,Uf(e,0),Zd(e,n),Is(e,nn()),r;if(t===6)Zd(e,n);else{if(i=e.current.alternate,!(n&30)&&!$ge(i)&&(t=nT(e,n),t===2&&(s=VR(e),s!==0&&(n=s,t=f3(e,s))),t===1))throw r=r_,Uf(e,0),Zd(e,n),Is(e,nn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(pe(345));case 2:vp(e,Ss,Wu);break;case 3:if(Zd(e,n),(n&130023424)===n&&(t=Sj+500-nn(),10<t)){if(jE(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){os(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=KR(vp.bind(null,e,Ss,Wu),t);break}vp(e,Ss,Wu);break;case 4:if(Zd(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-qa(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=nn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xge(n/1960))-n,10<n){e.timeoutHandle=KR(vp.bind(null,e,Ss,Wu),n);break}vp(e,Ss,Wu);break;case 5:vp(e,Ss,Wu);break;default:throw Error(pe(329))}}}return Is(e,nn()),e.callbackNode===r?xQ.bind(null,e):null}function f3(e,t){var r=rw;return e.current.memoizedState.isDehydrated&&(Uf(e,t).flags|=256),e=nT(e,t),e!==2&&(t=Ss,Ss=r,t!==null&&m3(t)),e}function m3(e){Ss===null?Ss=e:Ss.push.apply(Ss,e)}function $ge(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ya(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zd(e,t){for(t&=~_j,t&=~LI,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qa(t),n=1<<r;e[r]=-1,t&=~n}}function h7(e){if(At&6)throw Error(pe(327));Ag();var t=jE(e,0);if(!(t&1))return Is(e,nn()),null;var r=nT(e,t);if(e.tag!==0&&r===2){var n=VR(e);n!==0&&(t=n,r=f3(e,n))}if(r===1)throw r=r_,Uf(e,0),Zd(e,t),Is(e,nn()),r;if(r===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vp(e,Ss,Wu),Is(e,nn()),null}function xj(e,t){var r=At;At|=1;try{return e(t)}finally{At=r,At===0&&(s0=nn()+500,AI&&Bh())}}function om(e){th!==null&&th.tag===0&&!(At&6)&&Ag();var t=At;At|=1;var r=Jo.transition,n=Qt;try{if(Jo.transition=null,Qt=1,e)return e()}finally{Qt=n,Jo.transition=r,At=t,!(At&6)&&Bh()}}function $j(){Hs=hg.current,Er(hg)}function Uf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ege(r)),fn!==null)for(r=fn.return;r!==null;){var n=r;switch(ij(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&GE();break;case 3:n0(),Er(Ts),Er(Fi),pj();break;case 5:hj(n);break;case 4:n0();break;case 13:Er(zr);break;case 19:Er(zr);break;case 10:lj(n.type._context);break;case 22:case 23:$j()}r=r.return}if(Kn=e,fn=e=_h(e.current,null),ci=Hs=t,Mn=0,r_=null,_j=LI=sm=0,Ss=rw=null,xf!==null){for(t=0;t<xf.length;t++)if(r=xf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}xf=null}return e}function $Q(e,t){do{var r=fn;try{if(aj(),o2.current=QE,XE){for(var n=Br.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}XE=!1}if(im=0,Gn=$n=Br=null,ew=!1,Qw=0,wj.current=null,r===null||r.return===null){Mn=1,r_=t,fn=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=ci,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Qz(o);if(y!==null){y.flags&=-257,e7(y,o,a,s,t),y.mode&1&&Xz(s,u,t),t=y,l=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){Xz(s,u,t),Ej();break e}l=Error(pe(426))}}else if(Ar&&a.mode&1){var b=Qz(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),e7(b,o,a,s,t),sj(i0(l,a));break e}}s=l=i0(l,a),Mn!==4&&(Mn=2),rw===null?rw=[s]:rw.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=aQ(s,l,t);qz(s,w);break e;case 1:a=l;var S=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(bh===null||!bh.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=lQ(s,a,t);qz(s,x);break e}}s=s.return}while(s!==null)}MQ(r)}catch($){t=$,fn===r&&r!==null&&(fn=r=r.return);continue}break}while(1)}function EQ(){var e=eT.current;return eT.current=QE,e===null?QE:e}function Ej(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),Kn===null||!(sm&268435455)&&!(LI&268435455)||Zd(Kn,ci)}function nT(e,t){var r=At;At|=2;var n=EQ();(Kn!==e||ci!==t)&&(Wu=null,Uf(e,t));do try{Ege();break}catch(i){$Q(e,i)}while(1);if(aj(),At=r,eT.current=n,fn!==null)throw Error(pe(261));return Kn=null,ci=0,Mn}function Ege(){for(;fn!==null;)TQ(fn)}function Tge(){for(;fn!==null&&!Zme();)TQ(fn)}function TQ(e){var t=OQ(e.alternate,e,Hs);e.memoizedProps=e.pendingProps,t===null?MQ(e):fn=t,wj.current=null}function MQ(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=bge(r,t),r!==null){r.flags&=32767,fn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mn=6,fn=null;return}}else if(r=vge(r,t,Hs),r!==null){fn=r;return}if(t=t.sibling,t!==null){fn=t;return}fn=t=e}while(t!==null);Mn===0&&(Mn=5)}function vp(e,t,r){var n=Qt,i=Jo.transition;try{Jo.transition=null,Qt=1,Mge(e,t,r,n)}finally{Jo.transition=i,Qt=n}return null}function Mge(e,t,r,n){do Ag();while(th!==null);if(At&6)throw Error(pe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(aye(e,s),e===Kn&&(fn=Kn=null,ci=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rx||(Rx=!0,CQ(DE,function(){return Ag(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Jo.transition,Jo.transition=null;var o=Qt;Qt=1;var a=At;At|=4,wj.current=null,_ge(e,r),_Q(r,e),Hye(WR),VE=!!qR,WR=qR=null,e.current=r,Sge(r),Xme(),At=a,Qt=o,Jo.transition=s}else e.current=r;if(Rx&&(Rx=!1,th=e,rT=i),s=e.pendingLanes,s===0&&(bh=null),tye(r.stateNode),Is(e,nn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(tT)throw tT=!1,e=h3,h3=null,e;return rT&1&&e.tag!==0&&Ag(),s=e.pendingLanes,s&1?e===p3?nw++:(nw=0,p3=e):nw=0,Bh(),null}function Ag(){if(th!==null){var e=oX(rT),t=Jo.transition,r=Qt;try{if(Jo.transition=null,Qt=16>e?16:e,th===null)var n=!1;else{if(e=th,th=null,rT=0,At&6)throw Error(pe(331));var i=At;for(At|=4,Ee=e.current;Ee!==null;){var s=Ee,o=s.child;if(Ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ee=u;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:tw(8,d,s)}var p=d.child;if(p!==null)p.return=d,Ee=p;else for(;Ee!==null;){d=Ee;var f=d.sibling,y=d.return;if(vQ(d),d===u){Ee=null;break}if(f!==null){f.return=y,Ee=f;break}Ee=y}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ee=o;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tw(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Ee=w;break e}Ee=s.return}}var S=e.current;for(Ee=S;Ee!==null;){o=Ee;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ee=_;else e:for(o=S;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:RI(9,a)}}catch($){Xr(a,a.return,$)}if(a===o){Ee=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Ee=x;break e}Ee=a.return}}if(At=i,Bh(),Wl&&typeof Wl.onPostCommitFiberRoot=="function")try{Wl.onPostCommitFiberRoot(TI,e)}catch{}n=!0}return n}finally{Qt=r,Jo.transition=t}}return!1}function p7(e,t,r){t=i0(r,t),t=aQ(e,t,1),e=vh(e,t,1),t=os(),e!==null&&(fS(e,1,t),Is(e,t))}function Xr(e,t,r){if(e.tag===3)p7(e,e,r);else for(;t!==null;){if(t.tag===3){p7(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bh===null||!bh.has(n))){e=i0(r,e),e=lQ(t,e,1),t=vh(t,e,1),e=os(),t!==null&&(fS(t,1,e),Is(t,e));break}}t=t.return}}function Ige(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=os(),e.pingedLanes|=e.suspendedLanes&r,Kn===e&&(ci&r)===r&&(Mn===4||Mn===3&&(ci&130023424)===ci&&500>nn()-Sj?Uf(e,0):_j|=r),Is(e,t)}function IQ(e,t){t===0&&(e.mode&1?(t=$x,$x<<=1,!($x&130023424)&&($x=4194304)):t=1);var r=os();e=wc(e,t),e!==null&&(fS(e,t,r),Is(e,r))}function Oge(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),IQ(e,r)}function Cge(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(t),IQ(e,r)}var OQ;OQ=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ts.current)$s=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $s=!1,gge(e,t,r);$s=!!(e.flags&131072)}else $s=!1,Ar&&t.flags&1048576&&PX(t,HE,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;l2(e,t),e=t.pendingProps;var i=e0(t,Fi.current);Cg(t,r),i=mj(null,t,n,e,i,r);var s=yj();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ms(n)?(s=!0,qE(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cj(t),i.updater=PI,t.stateNode=i,i._reactInternals=t,t3(t,n,e,r),t=i3(null,t,n,!0,s,r)):(t.tag=0,Ar&&s&&nj(t),es(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(l2(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Pge(n),e=Pa(n,e),i){case 0:t=n3(null,t,n,e,r);break e;case 1:t=n7(null,t,n,e,r);break e;case 11:t=t7(null,t,n,e,r);break e;case 14:t=r7(null,t,n,Pa(n.type,e),r);break e}throw Error(pe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pa(n,i),n3(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pa(n,i),n7(e,t,n,i,r);case 3:e:{if(hQ(t),e===null)throw Error(pe(387));n=t.pendingProps,s=t.memoizedState,i=s.element,NX(e,t),YE(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=i0(Error(pe(423)),t),t=i7(e,t,n,r,i);break e}else if(n!==i){i=i0(Error(pe(424)),t),t=i7(e,t,n,r,i);break e}else for(Xs=gh(t.stateNode.containerInfo.firstChild),eo=t,Ar=!0,ja=null,r=VX(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(t0(),n===i){t=_c(e,t,r);break e}es(e,t,n,r)}t=t.child}return t;case 5:return zX(t),e===null&&XR(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,HR(n,i)?o=null:s!==null&&HR(n,s)&&(t.flags|=32),dQ(e,t),es(e,t,o,r),t.child;case 6:return e===null&&XR(t),null;case 13:return pQ(e,t,r);case 4:return dj(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=r0(t,null,n,r):es(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pa(n,i),t7(e,t,n,i,r);case 7:return es(e,t,t.pendingProps,r),t.child;case 8:return es(e,t,t.pendingProps.children,r),t.child;case 12:return es(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,fr(KE,n._currentValue),n._currentValue=o,s!==null)if(Ya(s.value,o)){if(s.children===i.children&&!Ts.current){t=_c(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=lc(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),QR(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(pe(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),QR(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}es(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Cg(t,r),i=Qo(i),n=n(i),t.flags|=1,es(e,t,n,r),t.child;case 14:return n=t.type,i=Pa(n,t.pendingProps),i=Pa(n.type,i),r7(e,t,n,i,r);case 15:return uQ(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pa(n,i),l2(e,t),t.tag=1,Ms(n)?(e=!0,qE(t)):e=!1,Cg(t,r),DX(t,n,i),t3(t,n,i,r),i3(null,t,n,!0,e,r);case 19:return fQ(e,t,r);case 22:return cQ(e,t,r)}throw Error(pe(156,t.tag))};function CQ(e,t){return rX(e,t)}function Age(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Go(e,t,r,n){return new Age(e,t,r,n)}function Tj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pge(e){if(typeof e=="function")return Tj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qD)return 11;if(e===WD)return 14}return 2}function _h(e,t){var r=e.alternate;return r===null?(r=Go(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function d2(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Tj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rg:return Bf(r.children,i,s,t);case GD:o=8,i|=8;break;case ER:return e=Go(12,r,t,i|2),e.elementType=ER,e.lanes=s,e;case TR:return e=Go(13,r,t,i),e.elementType=TR,e.lanes=s,e;case MR:return e=Go(19,r,t,i),e.elementType=MR,e.lanes=s,e;case jZ:return NI(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FZ:o=10;break e;case DZ:o=9;break e;case qD:o=11;break e;case WD:o=14;break e;case Vd:o=16,n=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=Go(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Bf(e,t,r,n){return e=Go(7,e,n,t),e.lanes=r,e}function NI(e,t,r,n){return e=Go(22,e,n,t),e.elementType=jZ,e.lanes=r,e.stateNode={isHidden:!1},e}function DA(e,t,r){return e=Go(6,e,null,t),e.lanes=r,e}function jA(e,t,r){return t=Go(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kge(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bA(0),this.expirationTimes=bA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bA(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mj(e,t,r,n,i,s,o,a,l){return e=new kge(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Go(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cj(s),e}function Rge(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function AQ(e){if(!e)return Ah;e=e._reactInternals;e:{if(Cm(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var r=e.type;if(Ms(r))return CX(e,r,t)}return t}function PQ(e,t,r,n,i,s,o,a,l){return e=Mj(r,n,!0,e,i,s,o,a,l),e.context=AQ(null),r=e.current,n=os(),i=wh(r),s=lc(n,i),s.callback=t??null,vh(r,s,i),e.current.lanes=i,fS(e,i,n),Is(e,n),e}function FI(e,t,r,n){var i=t.current,s=os(),o=wh(i);return r=AQ(r),t.context===null?t.context=r:t.pendingContext=r,t=lc(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=vh(i,t,o),e!==null&&(Wa(e,i,o,s),s2(e,i,o)),o}function iT(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function f7(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ij(e,t){f7(e,t),(e=e.alternate)&&f7(e,t)}function Lge(){return null}var kQ=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oj(e){this._internalRoot=e}DI.prototype.render=Oj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));FI(e,t,null,null)};DI.prototype.unmount=Oj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;om(function(){FI(null,e,null,null)}),t[bc]=null}};function DI(e){this._internalRoot=e}DI.prototype.unstable_scheduleHydration=function(e){if(e){var t=uX();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Yd.length&&t!==0&&t<Yd[r].priority;r++);Yd.splice(r,0,e),r===0&&dX(e)}};function Cj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function m7(){}function Nge(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=iT(o);s.call(u)}}var o=PQ(t,n,e,0,null,!1,!1,"",m7);return e._reactRootContainer=o,e[bc]=o.current,Kw(e.nodeType===8?e.parentNode:e),om(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=iT(l);a.call(u)}}var l=Mj(e,0,!1,null,null,!1,!1,"",m7);return e._reactRootContainer=l,e[bc]=l.current,Kw(e.nodeType===8?e.parentNode:e),om(function(){FI(t,l,r,n)}),l}function VI(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=iT(o);a.call(l)}}FI(t,o,e,i)}else o=Nge(r,t,e,i,n);return iT(o)}aX=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=q1(t.pendingLanes);r!==0&&(JD(t,r|1),Is(t,nn()),!(At&6)&&(s0=nn()+500,Bh()))}break;case 13:om(function(){var n=wc(e,1);if(n!==null){var i=os();Wa(n,e,1,i)}}),Ij(e,1)}};YD=function(e){if(e.tag===13){var t=wc(e,134217728);if(t!==null){var r=os();Wa(t,e,134217728,r)}Ij(e,134217728)}};lX=function(e){if(e.tag===13){var t=wh(e),r=wc(e,t);if(r!==null){var n=os();Wa(r,e,t,n)}Ij(e,t)}};uX=function(){return Qt};cX=function(e,t){var r=Qt;try{return Qt=e,t()}finally{Qt=r}};FR=function(e,t,r){switch(t){case"input":if(CR(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=CI(n);if(!i)throw Error(pe(90));zZ(n),CR(n,i)}}}break;case"textarea":BZ(e,r);break;case"select":t=r.value,t!=null&&Tg(e,!!r.multiple,t,!1)}};YZ=xj;ZZ=om;var Fge={usingClientEntryPoint:!1,Events:[yS,og,CI,KZ,JZ,xj]},r1={findFiberByHostInstance:Sf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Dge={bundleType:r1.bundleType,version:r1.version,rendererPackageName:r1.rendererPackageName,rendererConfig:r1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eX(e),e===null?null:e.stateNode},findFiberByHostInstance:r1.findFiberByHostInstance||Lge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lx.isDisabled&&Lx.supportsFiber)try{TI=Lx.inject(Dge),Wl=Lx}catch{}}lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fge;lo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cj(t))throw Error(pe(200));return Rge(e,t,null,r)};lo.createRoot=function(e,t){if(!Cj(e))throw Error(pe(299));var r=!1,n="",i=kQ;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mj(e,1,!1,null,null,r,!1,n,i),e[bc]=t.current,Kw(e.nodeType===8?e.parentNode:e),new Oj(t)};lo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=eX(t),e=e===null?null:e.stateNode,e};lo.flushSync=function(e){return om(e)};lo.hydrate=function(e,t,r){if(!jI(t))throw Error(pe(200));return VI(null,e,t,!0,r)};lo.hydrateRoot=function(e,t,r){if(!Cj(e))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=kQ;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=PQ(t,null,e,1,r??null,i,!1,s,o),e[bc]=t.current,Kw(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new DI(t)};lo.render=function(e,t,r){if(!jI(t))throw Error(pe(200));return VI(null,e,t,!1,r)};lo.unmountComponentAtNode=function(e){if(!jI(e))throw Error(pe(40));return e._reactRootContainer?(om(function(){VI(null,null,e,!1,function(){e._reactRootContainer=null,e[bc]=null})}),!0):!1};lo.unstable_batchedUpdates=xj;lo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jI(r))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return VI(e,t,r,!1,n)};lo.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=lo})(Lme);var y7=jw;SR.createRoot=y7.createRoot,SR.hydrateRoot=y7.hydrateRoot;function RQ(e,t){return function(){return e.apply(t,arguments)}}const{toString:LQ}=Object.prototype,{getPrototypeOf:Aj}=Object,Pj=(e=>t=>{const r=LQ.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kc=e=>(e=e.toLowerCase(),t=>Pj(t)===e),zI=e=>t=>typeof t===e,{isArray:iv}=Array,n_=zI("undefined");function jge(e){return e!==null&&!n_(e)&&e.constructor!==null&&!n_(e.constructor)&&Ph(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const NQ=kc("ArrayBuffer");function Vge(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&NQ(e.buffer),t}const zge=zI("string"),Ph=zI("function"),FQ=zI("number"),kj=e=>e!==null&&typeof e=="object",Uge=e=>e===!0||e===!1,h2=e=>{if(Pj(e)!=="object")return!1;const t=Aj(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bge=kc("Date"),Gge=kc("File"),qge=kc("Blob"),Wge=kc("FileList"),Hge=e=>kj(e)&&Ph(e.pipe),Kge=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||LQ.call(e)===t||Ph(e.toString)&&e.toString()===t)},Jge=kc("URLSearchParams"),Yge=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vS(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),iv(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(n=0;n<o;n++)a=s[n],t.call(null,e[a],a,e)}}function DQ(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const jQ=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),VQ=e=>!n_(e)&&e!==jQ;function y3(){const{caseless:e}=VQ(this)&&this||{},t={},r=(n,i)=>{const s=e&&DQ(t,i)||i;h2(t[s])&&h2(n)?t[s]=y3(t[s],n):h2(n)?t[s]=y3({},n):iv(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&vS(arguments[n],r);return t}const Zge=(e,t,r,{allOwnKeys:n}={})=>(vS(t,(i,s)=>{r&&Ph(i)?e[s]=RQ(i,r):e[s]=i},{allOwnKeys:n}),e),Xge=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Qge=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},e0e=(e,t,r,n)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&Aj(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},t0e=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},r0e=e=>{if(!e)return null;if(iv(e))return e;let t=e.length;if(!FQ(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},n0e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Aj(Uint8Array)),i0e=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},s0e=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},o0e=kc("HTMLFormElement"),a0e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),g7=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),l0e=kc("RegExp"),zQ=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};vS(r,(i,s)=>{t(i,s,e)!==!1&&(n[s]=i)}),Object.defineProperties(e,n)},u0e=e=>{zQ(e,(t,r)=>{if(Ph(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ph(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},c0e=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return iv(e)?n(e):n(String(e).split(t)),r},d0e=()=>{},h0e=(e,t)=>(e=+e,Number.isFinite(e)?e:t),VA="abcdefghijklmnopqrstuvwxyz",v7="0123456789",UQ={DIGIT:v7,ALPHA:VA,ALPHA_DIGIT:VA+VA.toUpperCase()+v7},p0e=(e=16,t=UQ.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function f0e(e){return!!(e&&Ph(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const m0e=e=>{const t=new Array(10),r=(n,i)=>{if(kj(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=iv(n)?[]:{};return vS(n,(o,a)=>{const l=r(o,i+1);!n_(l)&&(s[a]=l)}),t[i]=void 0,s}}return n};return r(e,0)},ne={isArray:iv,isArrayBuffer:NQ,isBuffer:jge,isFormData:Kge,isArrayBufferView:Vge,isString:zge,isNumber:FQ,isBoolean:Uge,isObject:kj,isPlainObject:h2,isUndefined:n_,isDate:Bge,isFile:Gge,isBlob:qge,isRegExp:l0e,isFunction:Ph,isStream:Hge,isURLSearchParams:Jge,isTypedArray:n0e,isFileList:Wge,forEach:vS,merge:y3,extend:Zge,trim:Yge,stripBOM:Xge,inherits:Qge,toFlatObject:e0e,kindOf:Pj,kindOfTest:kc,endsWith:t0e,toArray:r0e,forEachEntry:i0e,matchAll:s0e,isHTMLForm:o0e,hasOwnProperty:g7,hasOwnProp:g7,reduceDescriptors:zQ,freezeMethods:u0e,toObjectSet:c0e,toCamelCase:a0e,noop:d0e,toFiniteNumber:h0e,findKey:DQ,global:jQ,isContextDefined:VQ,ALPHABET:UQ,generateString:p0e,isSpecCompliantForm:f0e,toJSONObject:m0e};function Ot(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}ne.inherits(Ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const BQ=Ot.prototype,GQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{GQ[e]={value:e}});Object.defineProperties(Ot,GQ);Object.defineProperty(BQ,"isAxiosError",{value:!0});Ot.from=(e,t,r,n,i,s)=>{const o=Object.create(BQ);return ne.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ot.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const y0e=null;function g3(e){return ne.isPlainObject(e)||ne.isArray(e)}function qQ(e){return ne.endsWith(e,"[]")?e.slice(0,-2):e}function b7(e,t,r){return e?e.concat(t).map(function(i,s){return i=qQ(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function g0e(e){return ne.isArray(e)&&!e.some(g3)}const v0e=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function UI(e,t,r){if(!ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!ne.isUndefined(b[g])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(t);if(!ne.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(ne.isDate(v))return v.toISOString();if(!l&&ne.isBlob(v))throw new Ot("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(v)||ne.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,g,b){let w=v;if(v&&!b&&typeof v=="object"){if(ne.endsWith(g,"{}"))g=n?g:g.slice(0,-2),v=JSON.stringify(v);else if(ne.isArray(v)&&g0e(v)||(ne.isFileList(v)||ne.endsWith(g,"[]"))&&(w=ne.toArray(v)))return g=qQ(g),w.forEach(function(_,x){!(ne.isUndefined(_)||_===null)&&t.append(o===!0?b7([g],x,s):o===null?g:g+"[]",u(_))}),!1}return g3(v)?!0:(t.append(b7(b,g,s),u(v)),!1)}const p=[],f=Object.assign(v0e,{defaultVisitor:d,convertValue:u,isVisitable:g3});function y(v,g){if(!ne.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(v),ne.forEach(v,function(w,S){(!(ne.isUndefined(w)||w===null)&&i.call(t,w,ne.isString(S)?S.trim():S,g,f))===!0&&y(w,g?g.concat(S):[S])}),p.pop()}}if(!ne.isObject(e))throw new TypeError("data must be an object");return y(e),t}function w7(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Rj(e,t){this._pairs=[],e&&UI(e,this,t)}const WQ=Rj.prototype;WQ.append=function(t,r){this._pairs.push([t,r])};WQ.toString=function(t){const r=t?function(n){return t.call(this,n,w7)}:w7;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function b0e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HQ(e,t,r){if(!t)return e;const n=r&&r.encode||b0e,i=r&&r.serialize;let s;if(i?s=i(t,r):s=ne.isURLSearchParams(t)?t.toString():new Rj(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class w0e{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(n){n!==null&&t(n)})}}const _7=w0e,KQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_0e=typeof URLSearchParams<"u"?URLSearchParams:Rj,S0e=typeof FormData<"u"?FormData:null,x0e=typeof Blob<"u"?Blob:null,$0e=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),E0e=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),zl={isBrowser:!0,classes:{URLSearchParams:_0e,FormData:S0e,Blob:x0e},isStandardBrowserEnv:$0e,isStandardBrowserWebWorkerEnv:E0e,protocols:["http","https","file","blob","url","data"]};function T0e(e,t){return UI(e,new zl.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return zl.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function M0e(e){return ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function I0e(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function JQ(e){function t(r,n,i,s){let o=r[s++];const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&ne.isArray(i)?i.length:o,l?(ne.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!ne.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&ne.isArray(i[o])&&(i[o]=I0e(i[o])),!a)}if(ne.isFormData(e)&&ne.isFunction(e.entries)){const r={};return ne.forEachEntry(e,(n,i)=>{t(M0e(n),i,r,0)}),r}return null}const O0e={"Content-Type":void 0};function C0e(e,t,r){if(ne.isString(e))try{return(t||JSON.parse)(e),ne.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const BI={transitional:KQ,adapter:["xhr","http"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=ne.isObject(t);if(s&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return i&&i?JSON.stringify(JQ(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return T0e(t,this.formSerializer).toString();if((a=ne.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return UI(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),C0e(t)):t}],transformResponse:[function(t){const r=this.transitional||BI.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(t&&ne.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Ot.from(a,Ot.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zl.classes.FormData,Blob:zl.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ne.forEach(["delete","get","head"],function(t){BI.headers[t]={}});ne.forEach(["post","put","patch"],function(t){BI.headers[t]=ne.merge(O0e)});const Lj=BI,A0e=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),P0e=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&A0e[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},S7=Symbol("internals");function n1(e){return e&&String(e).trim().toLowerCase()}function p2(e){return e===!1||e==null?e:ne.isArray(e)?e.map(p2):String(e)}function k0e(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}function R0e(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function zA(e,t,r,n,i){if(ne.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!ne.isString(t)){if(ne.isString(n))return t.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(t)}}function L0e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function N0e(e,t){const r=ne.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}class GI{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(a,l,u){const d=n1(l);if(!d)throw new Error("header name must be a non-empty string");const p=ne.findKey(i,d);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||l]=p2(a))}const o=(a,l)=>ne.forEach(a,(u,d)=>s(u,d,l));return ne.isPlainObject(t)||t instanceof this.constructor?o(t,r):ne.isString(t)&&(t=t.trim())&&!R0e(t)?o(P0e(t),r):t!=null&&s(r,t,n),this}get(t,r){if(t=n1(t),t){const n=ne.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return k0e(i);if(ne.isFunction(r))return r.call(this,i,n);if(ne.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=n1(t),t){const n=ne.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||zA(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=n1(o),o){const a=ne.findKey(n,o);a&&(!r||zA(n,n[a],a,r))&&(delete n[a],i=!0)}}return ne.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||zA(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return ne.forEach(this,(i,s)=>{const o=ne.findKey(n,s);if(o){r[o]=p2(i),delete r[s];return}const a=t?L0e(s):String(s).trim();a!==s&&delete r[s],r[a]=p2(i),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ne.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[S7]=this[S7]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=n1(o);n[a]||(N0e(i,o),n[a]=!0)}return ne.isArray(t)?t.forEach(s):s(t),this}}GI.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.freezeMethods(GI.prototype);ne.freezeMethods(GI);const uc=GI;function UA(e,t){const r=this||Lj,n=t||r,i=uc.from(n.headers);let s=n.data;return ne.forEach(e,function(a){s=a.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function YQ(e){return!!(e&&e.__CANCEL__)}function bS(e,t,r){Ot.call(this,e??"canceled",Ot.ERR_CANCELED,t,r),this.name="CanceledError"}ne.inherits(bS,Ot,{__CANCEL__:!0});function F0e(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ot("Request failed with status code "+r.status,[Ot.ERR_BAD_REQUEST,Ot.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const D0e=zl.isStandardBrowserEnv?function(){return{write:function(r,n,i,s,o,a){const l=[];l.push(r+"="+encodeURIComponent(n)),ne.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),ne.isString(s)&&l.push("path="+s),ne.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function j0e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function V0e(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function ZQ(e,t){return e&&!j0e(t)?V0e(e,t):t}const z0e=zl.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=ne.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function U0e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function B0e(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=n[s];o||(o=u),r[i]=l,n[i]=u;let p=s,f=0;for(;p!==i;)f+=r[p++],p=p%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const y=d&&u-d;return y?Math.round(f*1e3/y):void 0}}function x7(e,t){let r=0;const n=B0e(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,l=n(a),u=s<=o;r=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};d[t?"download":"upload"]=!0,e(d)}}const G0e=typeof XMLHttpRequest<"u",q0e=G0e&&function(e){return new Promise(function(r,n){let i=e.data;const s=uc.from(e.headers).normalize(),o=e.responseType;let a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}ne.isFormData(i)&&(zl.isStandardBrowserEnv||zl.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let u=new XMLHttpRequest;if(e.auth){const y=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(y+":"+v))}const d=ZQ(e.baseURL,e.url);u.open(e.method.toUpperCase(),HQ(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function p(){if(!u)return;const y=uc.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:y,config:e,request:u};F0e(function(w){r(w),l()},function(w){n(w),l()},g),u=null}if("onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(p)},u.onabort=function(){u&&(n(new Ot("Request aborted",Ot.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new Ot("Network Error",Ot.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let v=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const g=e.transitional||KQ;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),n(new Ot(v,g.clarifyTimeoutError?Ot.ETIMEDOUT:Ot.ECONNABORTED,e,u)),u=null},zl.isStandardBrowserEnv){const y=(e.withCredentials||z0e(d))&&e.xsrfCookieName&&D0e.read(e.xsrfCookieName);y&&s.set(e.xsrfHeaderName,y)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&ne.forEach(s.toJSON(),function(v,g){u.setRequestHeader(g,v)}),ne.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&o!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",x7(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",x7(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=y=>{u&&(n(!y||y.type?new bS(null,e,u):y),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const f=U0e(d);if(f&&zl.protocols.indexOf(f)===-1){n(new Ot("Unsupported protocol "+f+":",Ot.ERR_BAD_REQUEST,e));return}u.send(i||null)})},f2={http:y0e,xhr:q0e};ne.forEach(f2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const W0e={getAdapter:e=>{e=ne.isArray(e)?e:[e];const{length:t}=e;let r,n;for(let i=0;i<t&&(r=e[i],!(n=ne.isString(r)?f2[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new Ot(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ne.hasOwnProp(f2,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!ne.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:f2};function BA(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bS(null,e)}function $7(e){return BA(e),e.headers=uc.from(e.headers),e.data=UA.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),W0e.getAdapter(e.adapter||Lj.adapter)(e).then(function(n){return BA(e),n.data=UA.call(e,e.transformResponse,n),n.headers=uc.from(n.headers),n},function(n){return YQ(n)||(BA(e),n&&n.response&&(n.response.data=UA.call(e,e.transformResponse,n.response),n.response.headers=uc.from(n.response.headers))),Promise.reject(n)})}const E7=e=>e instanceof uc?e.toJSON():e;function o0(e,t){t=t||{};const r={};function n(u,d,p){return ne.isPlainObject(u)&&ne.isPlainObject(d)?ne.merge.call({caseless:p},u,d):ne.isPlainObject(d)?ne.merge({},d):ne.isArray(d)?d.slice():d}function i(u,d,p){if(ne.isUndefined(d)){if(!ne.isUndefined(u))return n(void 0,u,p)}else return n(u,d,p)}function s(u,d){if(!ne.isUndefined(d))return n(void 0,d)}function o(u,d){if(ne.isUndefined(d)){if(!ne.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,p){if(p in t)return n(u,d);if(p in e)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i(E7(u),E7(d),!0)};return ne.forEach(Object.keys(e).concat(Object.keys(t)),function(d){const p=l[d]||i,f=p(e[d],t[d],d);ne.isUndefined(f)&&p!==a||(r[d]=f)}),r}const XQ="1.3.4",Nj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Nj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const T7={};Nj.transitional=function(t,r,n){function i(s,o){return"[Axios v"+XQ+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(t===!1)throw new Ot(i(o," has been removed"+(r?" in "+r:"")),Ot.ERR_DEPRECATED);return r&&!T7[o]&&(T7[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,a):!0}};function H0e(e,t,r){if(typeof e!="object")throw new Ot("options must be an object",Ot.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new Ot("option "+s+" must be "+l,Ot.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ot("Unknown option "+s,Ot.ERR_BAD_OPTION)}}const v3={assertOptions:H0e,validators:Nj},Uc=v3.validators;class sT{constructor(t){this.defaults=t,this.interceptors={request:new _7,response:new _7}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=o0(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&v3.assertOptions(n,{silentJSONParsing:Uc.transitional(Uc.boolean),forcedJSONParsing:Uc.transitional(Uc.boolean),clarifyTimeoutError:Uc.transitional(Uc.boolean)},!1),i!==void 0&&v3.assertOptions(i,{encode:Uc.function,serialize:Uc.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o;o=s&&ne.merge(s.common,s[r.method]),o&&ne.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=uc.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,p=0,f;if(!l){const v=[$7.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),f=v.length,d=Promise.resolve(r);p<f;)d=d.then(v[p++],v[p++]);return d}f=a.length;let y=r;for(p=0;p<f;){const v=a[p++],g=a[p++];try{y=v(y)}catch(b){g.call(this,b);break}}try{d=$7.call(this,y)}catch(v){return Promise.reject(v)}for(p=0,f=u.length;p<f;)d=d.then(u[p++],u[p++]);return d}getUri(t){t=o0(this.defaults,t);const r=ZQ(t.baseURL,t.url);return HQ(r,t.params,t.paramsSerializer)}}ne.forEach(["delete","get","head","options"],function(t){sT.prototype[t]=function(r,n){return this.request(o0(n||{},{method:t,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,a){return this.request(o0(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}sT.prototype[t]=r(),sT.prototype[t+"Form"]=r(!0)});const m2=sT;class Fj{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,a){n.reason||(n.reason=new bS(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new Fj(function(i){t=i}),cancel:t}}}const K0e=Fj;function J0e(e){return function(r){return e.apply(null,r)}}function Y0e(e){return ne.isObject(e)&&e.isAxiosError===!0}const b3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(b3).forEach(([e,t])=>{b3[t]=e});const Z0e=b3;function QQ(e){const t=new m2(e),r=RQ(m2.prototype.request,t);return ne.extend(r,m2.prototype,t,{allOwnKeys:!0}),ne.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return QQ(o0(e,i))},r}const Cn=QQ(Lj);Cn.Axios=m2;Cn.CanceledError=bS;Cn.CancelToken=K0e;Cn.isCancel=YQ;Cn.VERSION=XQ;Cn.toFormData=UI;Cn.AxiosError=Ot;Cn.Cancel=Cn.CanceledError;Cn.all=function(t){return Promise.all(t)};Cn.spread=J0e;Cn.isAxiosError=Y0e;Cn.mergeConfig=o0;Cn.AxiosHeaders=uc;Cn.formToJSON=e=>JQ(ne.isHTMLForm(e)?new FormData(e):e);Cn.HttpStatusCode=Z0e;Cn.default=Cn;const M7=Cn;function Tr(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ee.apply(this,arguments)}var Ye={},X0e={get exports(){return Ye},set exports(e){Ye=e}},Q0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eve=Q0e,tve=eve;function eee(){}function tee(){}tee.resetWarningCache=eee;var rve=function(){function e(n,i,s,o,a,l){if(l!==tve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tee,resetWarningCache:eee};return r.PropTypes=r,r};X0e.exports=rve();function ree(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=ree(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Zt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=ree(e))&&(n&&(n+=" "),n+=t);return n}function pf(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function nee(e){if(!pf(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=nee(e[r])}),t}function cc(e,t,r={clone:!0}){const n=r.clone?ee({},e):e;return pf(e)&&pf(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(pf(t[i])&&i in e&&pf(e[i])?n[i]=cc(e[i],t[i],r):r.clone?n[i]=pf(t[i])?nee(t[i]):t[i]:n[i]=t[i])}),n}function a0(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function st(e){if(typeof e!="string")throw new Error(a0(7));return e.charAt(0).toUpperCase()+e.slice(1)}function nve(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function ive(e,t=166){let r;function n(...i){const s=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(s,t)}return n.clear=()=>{clearTimeout(r)},n}function sve(e,t){return()=>null}function ove(e,t){return q.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function Pg(e){return e&&e.ownerDocument||document}function ave(e){return Pg(e).defaultView||window}function lve(e,t){return()=>null}function iee(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const uve=typeof window<"u"?q.useLayoutEffect:q.useEffect,Dj=uve;let I7=0;function cve(e){const[t,r]=q.useState(e),n=e||t;return q.useEffect(()=>{t==null&&(I7+=1,r(`mui-${I7}`))},[t]),n}const O7=_R["useId"];function dve(e){if(O7!==void 0){const t=O7();return e??t}return cve(e)}function hve(e,t,r,n,i){return null}function jj({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=q.useRef(e!==void 0),[s,o]=q.useState(t),a=i?e:s,l=q.useCallback(u=>{i||o(u)},[]);return[a,l]}function rh(e){const t=q.useRef(e);return Dj(()=>{t.current=e}),q.useCallback((...r)=>(0,t.current)(...r),[])}function l0(...e){return q.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{iee(r,t)})},e)}let qI=!0,w3=!1,C7;const pve={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function fve(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&pve[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function mve(e){e.metaKey||e.altKey||e.ctrlKey||(qI=!0)}function GA(){qI=!1}function yve(){this.visibilityState==="hidden"&&w3&&(qI=!0)}function gve(e){e.addEventListener("keydown",mve,!0),e.addEventListener("mousedown",GA,!0),e.addEventListener("pointerdown",GA,!0),e.addEventListener("touchstart",GA,!0),e.addEventListener("visibilitychange",yve,!0)}function vve(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return qI||fve(t)}function Vj(){const e=q.useCallback(i=>{i!=null&&gve(i.ownerDocument)},[]),t=q.useRef(!1);function r(){return t.current?(w3=!0,window.clearTimeout(C7),C7=window.setTimeout(()=>{w3=!1},100),t.current=!1,!0):!1}function n(i){return vve(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}const bve={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},wve=bve;function zj(e,t){const r=ee({},t);return Object.keys(e).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=ee({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=e[n]||{},s=t[n];r[n]={},!s||!Object.keys(s)?r[n]=i:!i||!Object.keys(i)?r[n]=s:(r[n]=ee({},s),Object.keys(i).forEach(o=>{r[n][o]=zj(i[o],s[o])}))}else r[n]===void 0&&(r[n]=e[n])}),r}function su(e,t,r=void 0){const n={};return Object.keys(e).forEach(i=>{n[i]=e[i].reduce((s,o)=>{if(o){const a=t(o);a!==""&&s.push(a),r&&r[o]&&s.push(r[o])}return s},[]).join(" ")}),n}const A7=e=>e,_ve=()=>{let e=A7;return{configure(t){e=t},generate(t){return e(t)},reset(){e=A7}}},Sve=_ve(),Uj=Sve,xve={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function nl(e,t,r="Mui"){const n=xve[t];return n?`${r}-${n}`:`${Uj.generate(e)}-${t}`}function il(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=nl(e,i,r)}),n}function iw(e){return typeof e=="string"}function $ve(e,t,r){return e===void 0||iw(e)?t:ee({},t,{ownerState:ee({},t.ownerState,r)})}function Eve(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function Tve(e,t){return typeof e=="function"?e(t):e}function P7(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function Mve(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=e;if(!t){const y=Zt(i==null?void 0:i.className,n==null?void 0:n.className,s,r==null?void 0:r.className),v=ee({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),g=ee({},r,i,n);return y.length>0&&(g.className=y),Object.keys(v).length>0&&(g.style=v),{props:g,internalRef:void 0}}const o=Eve(ee({},i,n)),a=P7(n),l=P7(i),u=t(o),d=Zt(u==null?void 0:u.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),p=ee({},u==null?void 0:u.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),f=ee({},u,r,l,a);return d.length>0&&(f.className=d),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:u.ref}}const Ive=["elementType","externalSlotProps","ownerState"];function Bc(e){var t;const{elementType:r,externalSlotProps:n,ownerState:i}=e,s=Tr(e,Ive),o=Tve(n,i),{props:a,internalRef:l}=Mve(ee({},s,{externalSlotProps:o})),u=l0(l,o==null?void 0:o.ref,(t=e.additionalProps)==null?void 0:t.ref);return $ve(r,ee({},a,{ref:u}),i)}const Ove=2;function see(e,t){return e-t}function i1(e,t,r){return e==null?t:Math.min(Math.max(t,e),r)}function k7(e,t){var r;const{index:n}=(r=e.reduce((i,s,o)=>{const a=Math.abs(t-s);return i===null||a<i.distance||a===i.distance?{distance:a,index:o}:i},null))!=null?r:{};return n}function Nx(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function oT(e,t,r){return(e-t)*100/(r-t)}function Cve(e,t,r){return(r-t)*e+t}function Ave(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function Pve(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(Ave(t)))}function R7({values:e,newValue:t,index:r}){const n=e.slice();return n[r]=t,n.sort(see)}function Fx({sliderRef:e,activeIndex:t,setActive:r}){var n,i;const s=Pg(e.current);if(!((n=e.current)!=null&&n.contains(s.activeElement))||Number(s==null||(i=s.activeElement)==null?void 0:i.getAttribute("data-index"))!==t){var o;(o=e.current)==null||o.querySelector(`[type="range"][data-index="${t}"]`).focus()}r&&r(t)}const kve={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Rve=e=>e;let Dx;function qA(){return Dx===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Dx=CSS.supports("touch-action","none"):Dx=!0),Dx}function Lve(e){const{"aria-labelledby":t,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:s=!1,marks:o=!1,max:a=100,min:l=0,name:u,onChange:d,onChangeCommitted:p,orientation:f="horizontal",ref:y,scale:v=Rve,step:g=1,tabIndex:b,value:w}=e,S=q.useRef(),[_,x]=q.useState(-1),[$,E]=q.useState(-1),[T,M]=q.useState(!1),A=q.useRef(0),[k,P]=jj({controlled:w,default:r??l,name:"Slider"}),L=d&&((be,Ce,ot)=>{const Je=be.nativeEvent||be,on=new Je.constructor(Je.type,Je);Object.defineProperty(on,"target",{writable:!0,value:{value:Ce,name:u}}),d(on,Ce,ot)}),D=Array.isArray(k);let j=D?k.slice().sort(see):[k];j=j.map(be=>i1(be,l,a));const W=o===!0&&g!==null?[...Array(Math.floor((a-l)/g)+1)].map((be,Ce)=>({value:l+g*Ce})):o||[],te=W.map(be=>be.value),{isFocusVisibleRef:ae,onBlur:z,onFocus:J,ref:me}=Vj(),[we,Se]=q.useState(-1),xe=q.useRef(),Ne=l0(me,xe),wt=l0(y,Ne),Ut=be=>Ce=>{var ot;const Je=Number(Ce.currentTarget.getAttribute("data-index"));J(Ce),ae.current===!0&&Se(Je),E(Je),be==null||(ot=be.onFocus)==null||ot.call(be,Ce)},Ht=be=>Ce=>{var ot;z(Ce),ae.current===!1&&Se(-1),E(-1),be==null||(ot=be.onBlur)==null||ot.call(be,Ce)};Dj(()=>{if(n&&xe.current.contains(document.activeElement)){var be;(be=document.activeElement)==null||be.blur()}},[n]),n&&_!==-1&&x(-1),n&&we!==-1&&Se(-1);const tt=be=>Ce=>{var ot;(ot=be.onChange)==null||ot.call(be,Ce);const Je=Number(Ce.currentTarget.getAttribute("data-index")),on=j[Je],De=te.indexOf(on);let sr=Ce.target.valueAsNumber;if(W&&g==null&&(sr=sr<on?te[De-1]:te[De+1]),sr=i1(sr,l,a),W&&g==null){const Ln=te.indexOf(j[Je]);sr=sr<j[Je]?te[Ln-1]:te[Ln+1]}if(D){i&&(sr=i1(sr,j[Je-1]||-1/0,j[Je+1]||1/0));const Ln=sr;sr=R7({values:j,newValue:sr,index:Je});let _t=Je;i||(_t=sr.indexOf(Ln)),Fx({sliderRef:xe,activeIndex:_t})}P(sr),Se(Je),L&&L(Ce,sr,Je),p&&p(Ce,sr)},le=q.useRef();let Oe=f;s&&f==="horizontal"&&(Oe+="-reverse");const Ue=({finger:be,move:Ce=!1})=>{const{current:ot}=xe,{width:Je,height:on,bottom:De,left:sr}=ot.getBoundingClientRect();let Ln;Oe.indexOf("vertical")===0?Ln=(De-be.y)/on:Ln=(be.x-sr)/Je,Oe.indexOf("-reverse")!==-1&&(Ln=1-Ln);let _t;if(_t=Cve(Ln,l,a),g)_t=Pve(_t,g,l);else{const np=k7(te,_t);_t=te[np]}_t=i1(_t,l,a);let Ls=0;if(D){Ce?Ls=le.current:Ls=k7(j,_t),i&&(_t=i1(_t,j[Ls-1]||-1/0,j[Ls+1]||1/0));const np=_t;_t=R7({values:j,newValue:_t,index:Ls}),i&&Ce||(Ls=_t.indexOf(np),le.current=Ls)}return{newValue:_t,activeIndex:Ls}},re=rh(be=>{const Ce=Nx(be,S);if(!Ce)return;if(A.current+=1,be.type==="mousemove"&&be.buttons===0){rt(be);return}const{newValue:ot,activeIndex:Je}=Ue({finger:Ce,move:!0});Fx({sliderRef:xe,activeIndex:Je,setActive:x}),P(ot),!T&&A.current>Ove&&M(!0),L&&ot!==k&&L(be,ot,Je)}),rt=rh(be=>{const Ce=Nx(be,S);if(M(!1),!Ce)return;const{newValue:ot}=Ue({finger:Ce,move:!0});x(-1),be.type==="touchend"&&E(-1),p&&p(be,ot),S.current=void 0,We()}),Ae=rh(be=>{if(n)return;qA()||be.preventDefault();const Ce=be.changedTouches[0];Ce!=null&&(S.current=Ce.identifier);const ot=Nx(be,S);if(ot!==!1){const{newValue:on,activeIndex:De}=Ue({finger:ot});Fx({sliderRef:xe,activeIndex:De,setActive:x}),P(on),L&&L(be,on,De)}A.current=0;const Je=Pg(xe.current);Je.addEventListener("touchmove",re),Je.addEventListener("touchend",rt)}),We=q.useCallback(()=>{const be=Pg(xe.current);be.removeEventListener("mousemove",re),be.removeEventListener("mouseup",rt),be.removeEventListener("touchmove",re),be.removeEventListener("touchend",rt)},[rt,re]);q.useEffect(()=>{const{current:be}=xe;return be.addEventListener("touchstart",Ae,{passive:qA()}),()=>{be.removeEventListener("touchstart",Ae,{passive:qA()}),We()}},[We,Ae]),q.useEffect(()=>{n&&We()},[n,We]);const Ft=be=>Ce=>{var ot;if((ot=be.onMouseDown)==null||ot.call(be,Ce),n||Ce.defaultPrevented||Ce.button!==0)return;Ce.preventDefault();const Je=Nx(Ce,S);if(Je!==!1){const{newValue:De,activeIndex:sr}=Ue({finger:Je});Fx({sliderRef:xe,activeIndex:sr,setActive:x}),P(De),L&&L(Ce,De,sr)}A.current=0;const on=Pg(xe.current);on.addEventListener("mousemove",re),on.addEventListener("mouseup",rt)},Mr=oT(D?j[0]:l,l,a),Qn=oT(j[j.length-1],l,a)-Mr,Rs=(be={})=>{const Ce={onMouseDown:Ft(be||{})},ot=ee({},be,Ce);return ee({ref:wt},ot)},ir=be=>Ce=>{var ot;(ot=be.onMouseOver)==null||ot.call(be,Ce);const Je=Number(Ce.currentTarget.getAttribute("data-index"));E(Je)},ei=be=>Ce=>{var ot;(ot=be.onMouseLeave)==null||ot.call(be,Ce),E(-1)};return{active:_,axis:Oe,axisProps:kve,dragging:T,focusedThumbIndex:we,getHiddenInputProps:(be={})=>{var Ce;const ot={onChange:tt(be||{}),onFocus:Ut(be||{}),onBlur:Ht(be||{})},Je=ee({},be,ot);return ee({tabIndex:b,"aria-labelledby":t,"aria-orientation":f,"aria-valuemax":v(a),"aria-valuemin":v(l),name:u,type:"range",min:e.min,max:e.max,step:(Ce=e.step)!=null?Ce:void 0,disabled:n},Je,{style:ee({},wve,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Rs,getThumbProps:(be={})=>{const Ce={onMouseOver:ir(be||{}),onMouseLeave:ei(be||{})};return ee({},be,Ce)},marks:W,open:$,range:D,trackLeap:Qn,trackOffset:Mr,values:j}}function oee(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Nve=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Fve=oee(function(e){return Nve.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function Dve(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function jve(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Vve=function(){function e(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(jve(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Dve(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),xi="-ms-",aT="-moz-",jt="-webkit-",aee="comm",Bj="rule",Gj="decl",zve="@import",lee="@keyframes",Uve=Math.abs,WI=String.fromCharCode,Bve=Object.assign;function Gve(e,t){return ai(e,0)^45?(((t<<2^ai(e,0))<<2^ai(e,1))<<2^ai(e,2))<<2^ai(e,3):0}function uee(e){return e.trim()}function qve(e,t){return(e=t.exec(e))?e[0]:e}function Bt(e,t,r){return e.replace(t,r)}function _3(e,t){return e.indexOf(t)}function ai(e,t){return e.charCodeAt(t)|0}function i_(e,t,r){return e.slice(t,r)}function Rl(e){return e.length}function qj(e){return e.length}function jx(e,t){return t.push(e),e}function Wve(e,t){return e.map(t).join("")}var HI=1,u0=1,cee=0,Cs=0,pn=0,sv="";function KI(e,t,r,n,i,s,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:HI,column:u0,length:o,return:""}}function s1(e,t){return Bve(KI("",null,null,"",null,null,0),e,{length:-e.length},t)}function Hve(){return pn}function Kve(){return pn=Cs>0?ai(sv,--Cs):0,u0--,pn===10&&(u0=1,HI--),pn}function to(){return pn=Cs<cee?ai(sv,Cs++):0,u0++,pn===10&&(u0=1,HI++),pn}function Kl(){return ai(sv,Cs)}function y2(){return Cs}function wS(e,t){return i_(sv,e,t)}function s_(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dee(e){return HI=u0=1,cee=Rl(sv=e),Cs=0,[]}function hee(e){return sv="",e}function g2(e){return uee(wS(Cs-1,S3(e===91?e+2:e===40?e+1:e)))}function Jve(e){for(;(pn=Kl())&&pn<33;)to();return s_(e)>2||s_(pn)>3?"":" "}function Yve(e,t){for(;--t&&to()&&!(pn<48||pn>102||pn>57&&pn<65||pn>70&&pn<97););return wS(e,y2()+(t<6&&Kl()==32&&to()==32))}function S3(e){for(;to();)switch(pn){case e:return Cs;case 34:case 39:e!==34&&e!==39&&S3(pn);break;case 40:e===41&&S3(e);break;case 92:to();break}return Cs}function Zve(e,t){for(;to()&&e+pn!==47+10;)if(e+pn===42+42&&Kl()===47)break;return"/*"+wS(t,Cs-1)+"*"+WI(e===47?e:to())}function Xve(e){for(;!s_(Kl());)to();return wS(e,Cs)}function Qve(e){return hee(v2("",null,null,null,[""],e=dee(e),0,[0],e))}function v2(e,t,r,n,i,s,o,a,l){for(var u=0,d=0,p=o,f=0,y=0,v=0,g=1,b=1,w=1,S=0,_="",x=i,$=s,E=n,T=_;b;)switch(v=S,S=to()){case 40:if(v!=108&&ai(T,p-1)==58){_3(T+=Bt(g2(S),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:T+=g2(S);break;case 9:case 10:case 13:case 32:T+=Jve(v);break;case 92:T+=Yve(y2()-1,7);continue;case 47:switch(Kl()){case 42:case 47:jx(e1e(Zve(to(),y2()),t,r),l);break;default:T+="/"}break;case 123*g:a[u++]=Rl(T)*w;case 125*g:case 59:case 0:switch(S){case 0:case 125:b=0;case 59+d:y>0&&Rl(T)-p&&jx(y>32?N7(T+";",n,r,p-1):N7(Bt(T," ","")+";",n,r,p-2),l);break;case 59:T+=";";default:if(jx(E=L7(T,t,r,u,d,i,a,_,x=[],$=[],p),s),S===123)if(d===0)v2(T,t,E,E,x,s,p,a,$);else switch(f===99&&ai(T,3)===110?100:f){case 100:case 109:case 115:v2(e,E,E,n&&jx(L7(e,E,E,0,0,i,a,_,i,x=[],p),$),i,$,p,a,n?x:$);break;default:v2(T,E,E,E,[""],$,0,a,$)}}u=d=y=0,g=w=1,_=T="",p=o;break;case 58:p=1+Rl(T),y=v;default:if(g<1){if(S==123)--g;else if(S==125&&g++==0&&Kve()==125)continue}switch(T+=WI(S),S*g){case 38:w=d>0?1:(T+="\f",-1);break;case 44:a[u++]=(Rl(T)-1)*w,w=1;break;case 64:Kl()===45&&(T+=g2(to())),f=Kl(),d=p=Rl(_=T+=Xve(y2())),S++;break;case 45:v===45&&Rl(T)==2&&(g=0)}}return s}function L7(e,t,r,n,i,s,o,a,l,u,d){for(var p=i-1,f=i===0?s:[""],y=qj(f),v=0,g=0,b=0;v<n;++v)for(var w=0,S=i_(e,p+1,p=Uve(g=o[v])),_=e;w<y;++w)(_=uee(g>0?f[w]+" "+S:Bt(S,/&\f/g,f[w])))&&(l[b++]=_);return KI(e,t,r,i===0?Bj:a,l,u,d)}function e1e(e,t,r){return KI(e,t,r,aee,WI(Hve()),i_(e,2,-2),0)}function N7(e,t,r,n){return KI(e,t,r,Gj,i_(e,0,n),i_(e,n+1,-1),n)}function kg(e,t){for(var r="",n=qj(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function t1e(e,t,r,n){switch(e.type){case zve:case Gj:return e.return=e.return||e.value;case aee:return"";case lee:return e.return=e.value+"{"+kg(e.children,n)+"}";case Bj:e.value=e.props.join(",")}return Rl(r=kg(e.children,n))?e.return=e.value+"{"+r+"}":""}function r1e(e){var t=qj(e);return function(r,n,i,s){for(var o="",a=0;a<t;a++)o+=e[a](r,n,i,s)||"";return o}}function n1e(e){return function(t){t.root||(t=t.return)&&e(t)}}var i1e=function(t,r,n){for(var i=0,s=0;i=s,s=Kl(),i===38&&s===12&&(r[n]=1),!s_(s);)to();return wS(t,Cs)},s1e=function(t,r){var n=-1,i=44;do switch(s_(i)){case 0:i===38&&Kl()===12&&(r[n]=1),t[n]+=i1e(Cs-1,r,n);break;case 2:t[n]+=g2(i);break;case 4:if(i===44){t[++n]=Kl()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=WI(i)}while(i=to());return t},o1e=function(t,r){return hee(s1e(dee(t),r))},F7=new WeakMap,a1e=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!F7.get(n))&&!i){F7.set(t,!0);for(var s=[],o=o1e(r,s),a=n.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)t.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},l1e=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function pee(e,t){switch(Gve(e,t)){case 5103:return jt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return jt+e+aT+e+xi+e+e;case 6828:case 4268:return jt+e+xi+e+e;case 6165:return jt+e+xi+"flex-"+e+e;case 5187:return jt+e+Bt(e,/(\w+).+(:[^]+)/,jt+"box-$1$2"+xi+"flex-$1$2")+e;case 5443:return jt+e+xi+"flex-item-"+Bt(e,/flex-|-self/,"")+e;case 4675:return jt+e+xi+"flex-line-pack"+Bt(e,/align-content|flex-|-self/,"")+e;case 5548:return jt+e+xi+Bt(e,"shrink","negative")+e;case 5292:return jt+e+xi+Bt(e,"basis","preferred-size")+e;case 6060:return jt+"box-"+Bt(e,"-grow","")+jt+e+xi+Bt(e,"grow","positive")+e;case 4554:return jt+Bt(e,/([^-])(transform)/g,"$1"+jt+"$2")+e;case 6187:return Bt(Bt(Bt(e,/(zoom-|grab)/,jt+"$1"),/(image-set)/,jt+"$1"),e,"")+e;case 5495:case 3959:return Bt(e,/(image-set\([^]*)/,jt+"$1$`$1");case 4968:return Bt(Bt(e,/(.+:)(flex-)?(.*)/,jt+"box-pack:$3"+xi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jt+e+e;case 4095:case 3583:case 4068:case 2532:return Bt(e,/(.+)-inline(.+)/,jt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Rl(e)-1-t>6)switch(ai(e,t+1)){case 109:if(ai(e,t+4)!==45)break;case 102:return Bt(e,/(.+:)(.+)-([^]+)/,"$1"+jt+"$2-$3$1"+aT+(ai(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~_3(e,"stretch")?pee(Bt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ai(e,t+1)!==115)break;case 6444:switch(ai(e,Rl(e)-3-(~_3(e,"!important")&&10))){case 107:return Bt(e,":",":"+jt)+e;case 101:return Bt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+jt+(ai(e,14)===45?"inline-":"")+"box$3$1"+jt+"$2$3$1"+xi+"$2box$3")+e}break;case 5936:switch(ai(e,t+11)){case 114:return jt+e+xi+Bt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return jt+e+xi+Bt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return jt+e+xi+Bt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return jt+e+xi+e+e}return e}var u1e=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case Gj:t.return=pee(t.value,t.length);break;case lee:return kg([s1(t,{value:Bt(t.value,"@","@"+jt)})],i);case Bj:if(t.length)return Wve(t.props,function(s){switch(qve(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return kg([s1(t,{props:[Bt(s,/:(read-\w+)/,":"+aT+"$1")]})],i);case"::placeholder":return kg([s1(t,{props:[Bt(s,/:(plac\w+)/,":"+jt+"input-$1")]}),s1(t,{props:[Bt(s,/:(plac\w+)/,":"+aT+"$1")]}),s1(t,{props:[Bt(s,/:(plac\w+)/,xi+"input-$1")]})],i)}return""})}},c1e=[u1e],d1e=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var b=g.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||c1e,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var b=g.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)s[b[w]]=!0;a.push(g)});var l,u=[a1e,l1e];{var d,p=[t1e,n1e(function(g){d.insert(g)})],f=r1e(u.concat(i,p)),y=function(b){return kg(Qve(b),f)};l=function(b,w,S,_){d=S,y(b?b+"{"+w.styles+"}":w.styles),_&&(v.inserted[w.name]=!0)}}var v={key:r,sheet:new Vve({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},x3={},h1e={get exports(){return x3},set exports(e){x3=e}},er={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=typeof Symbol=="function"&&Symbol.for,Wj=Jn?Symbol.for("react.element"):60103,Hj=Jn?Symbol.for("react.portal"):60106,JI=Jn?Symbol.for("react.fragment"):60107,YI=Jn?Symbol.for("react.strict_mode"):60108,ZI=Jn?Symbol.for("react.profiler"):60114,XI=Jn?Symbol.for("react.provider"):60109,QI=Jn?Symbol.for("react.context"):60110,Kj=Jn?Symbol.for("react.async_mode"):60111,eO=Jn?Symbol.for("react.concurrent_mode"):60111,tO=Jn?Symbol.for("react.forward_ref"):60112,rO=Jn?Symbol.for("react.suspense"):60113,p1e=Jn?Symbol.for("react.suspense_list"):60120,nO=Jn?Symbol.for("react.memo"):60115,iO=Jn?Symbol.for("react.lazy"):60116,f1e=Jn?Symbol.for("react.block"):60121,m1e=Jn?Symbol.for("react.fundamental"):60117,y1e=Jn?Symbol.for("react.responder"):60118,g1e=Jn?Symbol.for("react.scope"):60119;function co(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Wj:switch(e=e.type,e){case Kj:case eO:case JI:case ZI:case YI:case rO:return e;default:switch(e=e&&e.$$typeof,e){case QI:case tO:case iO:case nO:case XI:return e;default:return t}}case Hj:return t}}}function fee(e){return co(e)===eO}er.AsyncMode=Kj;er.ConcurrentMode=eO;er.ContextConsumer=QI;er.ContextProvider=XI;er.Element=Wj;er.ForwardRef=tO;er.Fragment=JI;er.Lazy=iO;er.Memo=nO;er.Portal=Hj;er.Profiler=ZI;er.StrictMode=YI;er.Suspense=rO;er.isAsyncMode=function(e){return fee(e)||co(e)===Kj};er.isConcurrentMode=fee;er.isContextConsumer=function(e){return co(e)===QI};er.isContextProvider=function(e){return co(e)===XI};er.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wj};er.isForwardRef=function(e){return co(e)===tO};er.isFragment=function(e){return co(e)===JI};er.isLazy=function(e){return co(e)===iO};er.isMemo=function(e){return co(e)===nO};er.isPortal=function(e){return co(e)===Hj};er.isProfiler=function(e){return co(e)===ZI};er.isStrictMode=function(e){return co(e)===YI};er.isSuspense=function(e){return co(e)===rO};er.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===JI||e===eO||e===ZI||e===YI||e===rO||e===p1e||typeof e=="object"&&e!==null&&(e.$$typeof===iO||e.$$typeof===nO||e.$$typeof===XI||e.$$typeof===QI||e.$$typeof===tO||e.$$typeof===m1e||e.$$typeof===y1e||e.$$typeof===g1e||e.$$typeof===f1e)};er.typeOf=co;(function(e){e.exports=er})(h1e);var mee=x3,v1e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},b1e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yee={};yee[mee.ForwardRef]=v1e;yee[mee.Memo]=b1e;var w1e=!0;function _1e(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var gee=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||w1e===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},S1e=function(t,r,n){gee(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function x1e(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $1e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},E1e=/[A-Z]|^ms/g,T1e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vee=function(t){return t.charCodeAt(1)===45},D7=function(t){return t!=null&&typeof t!="boolean"},WA=oee(function(e){return vee(e)?e:e.replace(E1e,"-$&").toLowerCase()}),j7=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(T1e,function(n,i,s){return Ll={name:i,styles:s,next:Ll},i})}return $1e[t]!==1&&!vee(t)&&typeof r=="number"&&r!==0?r+"px":r};function o_(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Ll={name:r.name,styles:r.styles,next:Ll},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Ll={name:n.name,styles:n.styles,next:Ll},n=n.next;var i=r.styles+";";return i}return M1e(e,t,r)}case"function":{if(e!==void 0){var s=Ll,o=r(e);return Ll=s,o_(e,t,o)}break}}if(t==null)return r;var a=t[r];return a!==void 0?a:r}function M1e(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=o_(e,t,r[i])+";";else for(var s in r){var o=r[s];if(typeof o!="object")t!=null&&t[o]!==void 0?n+=s+"{"+t[o]+"}":D7(o)&&(n+=WA(s)+":"+j7(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)D7(o[a])&&(n+=WA(s)+":"+j7(s,o[a])+";");else{var l=o_(e,t,o);switch(s){case"animation":case"animationName":{n+=WA(s)+":"+l+";";break}default:n+=s+"{"+l+"}"}}}return n}var V7=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ll,bee=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Ll=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=o_(n,r,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=o_(n,r,t[a]),i&&(s+=o[a]);V7.lastIndex=0;for(var l="",u;(u=V7.exec(s))!==null;)l+="-"+u[1];var d=x1e(s)+l;return{name:d,styles:s,next:Ll}},I1e=function(t){return t()},O1e=_R["useInsertionEffect"]?_R["useInsertionEffect"]:!1,C1e=O1e||I1e,wee=q.createContext(typeof HTMLElement<"u"?d1e({key:"css"}):null);wee.Provider;var A1e=function(t){return q.forwardRef(function(r,n){var i=q.useContext(wee);return t(r,i,n)})},P1e=q.createContext({});function k1e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return bee(t)}var Jj=function(){var t=k1e.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},R1e=Fve,L1e=function(t){return t!=="theme"},z7=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?R1e:L1e},U7=function(t,r,n){var i;if(r){var s=r.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},N1e=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return gee(r,n,i),C1e(function(){return S1e(r,n,i)}),null},F1e=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,s,o;r!==void 0&&(s=r.label,o=r.target);var a=U7(t,r,n),l=a||z7(i),u=!l("as");return function(){var d=arguments,p=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{p.push(d[0][0]);for(var f=d.length,y=1;y<f;y++)p.push(d[y],d[0][y])}var v=A1e(function(g,b,w){var S=u&&g.as||i,_="",x=[],$=g;if(g.theme==null){$={};for(var E in g)$[E]=g[E];$.theme=q.useContext(P1e)}typeof g.className=="string"?_=_1e(b.registered,x,g.className):g.className!=null&&(_=g.className+" ");var T=bee(p.concat(x),b.registered,$);_+=b.key+"-"+T.name,o!==void 0&&(_+=" "+o);var M=u&&a===void 0?z7(S):l,A={};for(var k in g)u&&k==="as"||M(k)&&(A[k]=g[k]);return A.className=_,A.ref=w,q.createElement(q.Fragment,null,q.createElement(N1e,{cache:b,serialized:T,isStringTag:typeof S=="string"}),q.createElement(S,A))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=p,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(g,b){return e(g,ee({},r,b,{shouldForwardProp:U7(v,b,!0)})).apply(void 0,p)},v}};const D1e=F1e;var j1e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],$3=D1e.bind();j1e.forEach(function(e){$3[e]=$3(e)});const V1e=$3;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function _ee(e,t){return V1e(e,t)}const z1e=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function sw(e,t){return t?cc(e,t,{clone:!1}):e}const Yj={xs:0,sm:600,md:900,lg:1200,xl:1536},B7={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Yj[e]}px)`};function Sc(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const s=n.breakpoints||B7;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=r(t[l]),o),{})}if(typeof t=="object"){const s=n.breakpoints||B7;return Object.keys(t).reduce((o,a)=>{if(Object.keys(s.values||Yj).indexOf(a)!==-1){const l=s.up(a);o[l]=r(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return r(t)}function U1e(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const s=e.up(i);return n[s]={},n},{}))||{}}function B1e(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function sO(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function lT(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=sO(e,r)||n,t&&(i=t(i,n,e)),i}function Wt(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,u=sO(l,n)||{};return Sc(o,a,p=>{let f=lT(u,i,p);return p===f&&typeof p=="string"&&(f=lT(u,i,`${t}${p==="default"?"":st(p)}`,p)),r===!1?f:{[r]:f}})};return s.propTypes={},s.filterProps=[t],s}function oO(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>t[s]?sw(i,t[s](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function G1e(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const q1e={m:"margin",p:"padding"},W1e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},G7={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},H1e=G1e(e=>{if(e.length>2)if(G7[e])e=G7[e];else return[e];const[t,r]=e.split(""),n=q1e[t],i=W1e[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),Zj=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Xj=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Zj,...Xj];function _S(e,t,r,n){var i;const s=(i=sO(e,t,!1))!=null?i:r;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function See(e){return _S(e,"spacing",8)}function SS(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function K1e(e,t){return r=>e.reduce((n,i)=>(n[i]=SS(t,r),n),{})}function J1e(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=H1e(r),s=K1e(i,n),o=e[r];return Sc(e,o,s)}function xee(e,t){const r=See(e.theme);return Object.keys(e).map(n=>J1e(e,t,n,r)).reduce(sw,{})}function Kr(e){return xee(e,Zj)}Kr.propTypes={};Kr.filterProps=Zj;function Jr(e){return xee(e,Xj)}Jr.propTypes={};Jr.filterProps=Xj;function jl(e){return typeof e!="number"?e:`${e}px solid`}const Y1e=Wt({prop:"border",themeKey:"borders",transform:jl}),Z1e=Wt({prop:"borderTop",themeKey:"borders",transform:jl}),X1e=Wt({prop:"borderRight",themeKey:"borders",transform:jl}),Q1e=Wt({prop:"borderBottom",themeKey:"borders",transform:jl}),ebe=Wt({prop:"borderLeft",themeKey:"borders",transform:jl}),tbe=Wt({prop:"borderColor",themeKey:"palette"}),rbe=Wt({prop:"borderTopColor",themeKey:"palette"}),nbe=Wt({prop:"borderRightColor",themeKey:"palette"}),ibe=Wt({prop:"borderBottomColor",themeKey:"palette"}),sbe=Wt({prop:"borderLeftColor",themeKey:"palette"}),aO=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=_S(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:SS(t,n)});return Sc(e,e.borderRadius,r)}return null};aO.propTypes={};aO.filterProps=["borderRadius"];oO(Y1e,Z1e,X1e,Q1e,ebe,tbe,rbe,nbe,ibe,sbe,aO);const lO=e=>{if(e.gap!==void 0&&e.gap!==null){const t=_S(e.theme,"spacing",8),r=n=>({gap:SS(t,n)});return Sc(e,e.gap,r)}return null};lO.propTypes={};lO.filterProps=["gap"];const uO=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=_S(e.theme,"spacing",8),r=n=>({columnGap:SS(t,n)});return Sc(e,e.columnGap,r)}return null};uO.propTypes={};uO.filterProps=["columnGap"];const cO=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=_S(e.theme,"spacing",8),r=n=>({rowGap:SS(t,n)});return Sc(e,e.rowGap,r)}return null};cO.propTypes={};cO.filterProps=["rowGap"];const obe=Wt({prop:"gridColumn"}),abe=Wt({prop:"gridRow"}),lbe=Wt({prop:"gridAutoFlow"}),ube=Wt({prop:"gridAutoColumns"}),cbe=Wt({prop:"gridAutoRows"}),dbe=Wt({prop:"gridTemplateColumns"}),hbe=Wt({prop:"gridTemplateRows"}),pbe=Wt({prop:"gridTemplateAreas"}),fbe=Wt({prop:"gridArea"});oO(lO,uO,cO,obe,abe,lbe,ube,cbe,dbe,hbe,pbe,fbe);function Rg(e,t){return t==="grey"?t:e}const mbe=Wt({prop:"color",themeKey:"palette",transform:Rg}),ybe=Wt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Rg}),gbe=Wt({prop:"backgroundColor",themeKey:"palette",transform:Rg});oO(mbe,ybe,gbe);function Ys(e){return e<=1&&e!==0?`${e*100}%`:e}const vbe=Wt({prop:"width",transform:Ys}),Qj=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,i,s;return{maxWidth:((n=e.theme)==null||(i=n.breakpoints)==null||(s=i.values)==null?void 0:s[r])||Yj[r]||Ys(r)}};return Sc(e,e.maxWidth,t)}return null};Qj.filterProps=["maxWidth"];const bbe=Wt({prop:"minWidth",transform:Ys}),wbe=Wt({prop:"height",transform:Ys}),_be=Wt({prop:"maxHeight",transform:Ys}),Sbe=Wt({prop:"minHeight",transform:Ys});Wt({prop:"size",cssProperty:"width",transform:Ys});Wt({prop:"size",cssProperty:"height",transform:Ys});const xbe=Wt({prop:"boxSizing"});oO(vbe,Qj,bbe,wbe,_be,Sbe,xbe);const $be={border:{themeKey:"borders",transform:jl},borderTop:{themeKey:"borders",transform:jl},borderRight:{themeKey:"borders",transform:jl},borderBottom:{themeKey:"borders",transform:jl},borderLeft:{themeKey:"borders",transform:jl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:aO},color:{themeKey:"palette",transform:Rg},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Rg},backgroundColor:{themeKey:"palette",transform:Rg},p:{style:Jr},pt:{style:Jr},pr:{style:Jr},pb:{style:Jr},pl:{style:Jr},px:{style:Jr},py:{style:Jr},padding:{style:Jr},paddingTop:{style:Jr},paddingRight:{style:Jr},paddingBottom:{style:Jr},paddingLeft:{style:Jr},paddingX:{style:Jr},paddingY:{style:Jr},paddingInline:{style:Jr},paddingInlineStart:{style:Jr},paddingInlineEnd:{style:Jr},paddingBlock:{style:Jr},paddingBlockStart:{style:Jr},paddingBlockEnd:{style:Jr},m:{style:Kr},mt:{style:Kr},mr:{style:Kr},mb:{style:Kr},ml:{style:Kr},mx:{style:Kr},my:{style:Kr},margin:{style:Kr},marginTop:{style:Kr},marginRight:{style:Kr},marginBottom:{style:Kr},marginLeft:{style:Kr},marginX:{style:Kr},marginY:{style:Kr},marginInline:{style:Kr},marginInlineStart:{style:Kr},marginInlineEnd:{style:Kr},marginBlock:{style:Kr},marginBlockStart:{style:Kr},marginBlockEnd:{style:Kr},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:lO},rowGap:{style:cO},columnGap:{style:uO},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ys},maxWidth:{style:Qj},minWidth:{transform:Ys},height:{transform:Ys},maxHeight:{transform:Ys},minHeight:{transform:Ys},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},dO=$be;function Ebe(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function Tbe(e,t){return typeof e=="function"?e(t):e}function Mbe(){function e(r,n,i,s){const o={[r]:n,theme:i},a=s[r];if(!a)return{[r]:n};const{cssProperty:l=r,themeKey:u,transform:d,style:p}=a;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const f=sO(i,u)||{};return p?p(o):Sc(o,n,v=>{let g=lT(f,d,v);return v===g&&typeof v=="string"&&(g=lT(f,d,`${r}${v==="default"?"":st(v)}`,v)),l===!1?g:{[l]:g}})}function t(r){var n;const{sx:i,theme:s={}}=r||{};if(!i)return null;const o=(n=s.unstable_sxConfig)!=null?n:dO;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const d=U1e(s.breakpoints),p=Object.keys(d);let f=d;return Object.keys(u).forEach(y=>{const v=Tbe(u[y],s);if(v!=null)if(typeof v=="object")if(o[y])f=sw(f,e(y,v,s,o));else{const g=Sc({theme:s},v,b=>({[y]:b}));Ebe(g,v)?f[y]=t({sx:v,theme:s}):f=sw(f,g)}else f=sw(f,e(y,v,s,o))}),B1e(p,f)}return Array.isArray(i)?i.map(a):a(i)}return t}const $ee=Mbe();$ee.filterProps=["sx"];const hO=$ee,Ibe=["sx"],Obe=e=>{var t,r;const n={systemProps:{},otherProps:{}},i=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:dO;return Object.keys(e).forEach(s=>{i[s]?n.systemProps[s]=e[s]:n.otherProps[s]=e[s]}),n};function Eee(e){const{sx:t}=e,r=Tr(e,Ibe),{systemProps:n,otherProps:i}=Obe(r);let s;return Array.isArray(t)?s=[n,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return pf(a)?ee({},n,a):n}:s=ee({},n,t),ee({},i,{sx:s})}const Cbe=["values","unit","step"],Abe=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>ee({},r,{[n.key]:n.val}),{})};function Pbe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=Tr(e,Cbe),s=Abe(t),o=Object.keys(s);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${r})`}function l(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-n/100}${r})`}function u(f,y){const v=o.indexOf(y);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${r}) and (max-width:${(v!==-1&&typeof t[o[v]]=="number"?t[o[v]]:y)-n/100}${r})`}function d(f){return o.indexOf(f)+1<o.length?u(f,o[o.indexOf(f)+1]):a(f)}function p(f){const y=o.indexOf(f);return y===0?a(o[1]):y===o.length-1?l(o[y]):u(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return ee({keys:o,values:s,up:a,down:l,between:u,only:d,not:p,unit:r},i)}const kbe={borderRadius:4},Rbe=kbe;function Lbe(e=8){if(e.mui)return e;const t=See({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}const Nbe=["breakpoints","palette","spacing","shape"];function e6(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:s={}}=e,o=Tr(e,Nbe),a=Pbe(r),l=Lbe(i);let u=cc({breakpoints:a,direction:"ltr",components:{},palette:ee({mode:"light"},n),spacing:l,shape:ee({},Rbe,s)},o);return u=t.reduce((d,p)=>cc(d,p),u),u.unstable_sxConfig=ee({},dO,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(p){return hO({sx:p,theme:this})},u}const Fbe=q.createContext(null),Dbe=Fbe;function jbe(){return q.useContext(Dbe)}function Vbe(e){return Object.keys(e).length===0}function zbe(e=null){const t=jbe();return!t||Vbe(t)?e:t}const Ube=e6();function t6(e=Ube){return zbe(e)}const Bbe=["className","component"];function Gbe(e={}){const{defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:n}=e,i=_ee("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(hO);return q.forwardRef(function(a,l){const u=t6(t),d=Eee(a),{className:p,component:f="div"}=d,y=Tr(d,Bbe);return de(i,ee({as:f,ref:l,className:Zt(p,n?n(r):r),theme:u},y))})}const qbe=["variant"];function q7(e){return e.length===0}function Tee(e){const{variant:t}=e,r=Tr(e,qbe);let n=t||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=q7(n)?e[i]:st(e[i]):n+=`${q7(n)?i:st(i)}${st(e[i].toString())}`}),n}const Wbe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Hbe=["theme"],Kbe=["theme"];function o1(e){return Object.keys(e).length===0}function Jbe(e){return typeof e=="string"&&e.charCodeAt(0)>96}const Ybe=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,Zbe=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const n={};return r.forEach(i=>{const s=Tee(i.props);n[s]=i.style}),n},Xbe=(e,t,r,n)=>{var i,s;const{ownerState:o={}}=e,a=[],l=r==null||(i=r.components)==null||(s=i[n])==null?void 0:s.variants;return l&&l.forEach(u=>{let d=!0;Object.keys(u.props).forEach(p=>{o[p]!==u.props[p]&&e[p]!==u.props[p]&&(d=!1)}),d&&a.push(t[Tee(u.props)])}),a};function ow(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Qbe=e6();function ewe(e={}){const{defaultTheme:t=Qbe,rootShouldForwardProp:r=ow,slotShouldForwardProp:n=ow}=e,i=s=>{const o=o1(s.theme)?t:s.theme;return hO(ee({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{z1e(s,_=>_.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:u,skipSx:d,overridesResolver:p}=o,f=Tr(o,Wbe),y=u!==void 0?u:l&&l!=="Root"||!1,v=d||!1;let g,b=ow;l==="Root"?b=r:l?b=n:Jbe(s)&&(b=void 0);const w=_ee(s,ee({shouldForwardProp:b,label:g},f)),S=(_,...x)=>{const $=x?x.map(A=>typeof A=="function"&&A.__emotion_real!==A?k=>{let{theme:P}=k,L=Tr(k,Hbe);return A(ee({theme:o1(P)?t:P},L))}:A):[];let E=_;a&&p&&$.push(A=>{const k=o1(A.theme)?t:A.theme,P=Ybe(a,k);if(P){const L={};return Object.entries(P).forEach(([D,j])=>{L[D]=typeof j=="function"?j(ee({},A,{theme:k})):j}),p(A,L)}return null}),a&&!y&&$.push(A=>{const k=o1(A.theme)?t:A.theme;return Xbe(A,Zbe(a,k),k,a)}),v||$.push(i);const T=$.length-x.length;if(Array.isArray(_)&&T>0){const A=new Array(T).fill("");E=[..._,...A],E.raw=[..._.raw,...A]}else typeof _=="function"&&_.__emotion_real!==_&&(E=A=>{let{theme:k}=A,P=Tr(A,Kbe);return _(ee({theme:o1(k)?t:k},P))});return w(E,...$)};return w.withConfig&&(S.withConfig=w.withConfig),S}}function twe(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:zj(t.components[r].defaultProps,n)}function rwe({props:e,name:t,defaultTheme:r}){const n=t6(r);return twe({theme:n,name:t,props:e})}function r6(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function nwe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function am(e){if(e.type)return e;if(e.charAt(0)==="#")return am(nwe(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(a0(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(a0(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}function pO(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function iwe(e){e=am(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,s=n*Math.min(i,1-i),o=(u,d=(u+r/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),pO({type:a,values:l})}function W7(e){e=am(e);let t=e.type==="hsl"||e.type==="hsla"?am(iwe(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function swe(e,t){const r=W7(e),n=W7(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Ul(e,t){return e=am(e),t=r6(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,pO(e)}function n6(e,t){if(e=am(e),t=r6(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return pO(e)}function i6(e,t){if(e=am(e),t=r6(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return pO(e)}function owe(e,t){return ee({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const awe={black:"#000",white:"#fff"},a_=awe,lwe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},uwe=lwe,cwe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},qm=cwe,dwe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Wm=dwe,hwe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},a1=hwe,pwe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Hm=pwe,fwe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Km=fwe,mwe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Jm=mwe,ywe=["mode","contrastThreshold","tonalOffset"],H7={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:a_.white,default:a_.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},HA={text:{primary:a_.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:a_.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function K7(e,t,r,n){const i=n.light||n,s=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=i6(e.main,i):t==="dark"&&(e.dark=n6(e.main,s)))}function gwe(e="light"){return e==="dark"?{main:Hm[200],light:Hm[50],dark:Hm[400]}:{main:Hm[700],light:Hm[400],dark:Hm[800]}}function vwe(e="light"){return e==="dark"?{main:qm[200],light:qm[50],dark:qm[400]}:{main:qm[500],light:qm[300],dark:qm[700]}}function bwe(e="light"){return e==="dark"?{main:Wm[500],light:Wm[300],dark:Wm[700]}:{main:Wm[700],light:Wm[400],dark:Wm[800]}}function wwe(e="light"){return e==="dark"?{main:Km[400],light:Km[300],dark:Km[700]}:{main:Km[700],light:Km[500],dark:Km[900]}}function _we(e="light"){return e==="dark"?{main:Jm[400],light:Jm[300],dark:Jm[700]}:{main:Jm[800],light:Jm[500],dark:Jm[900]}}function Swe(e="light"){return e==="dark"?{main:a1[400],light:a1[300],dark:a1[700]}:{main:"#ed6c02",light:a1[500],dark:a1[900]}}function xwe(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=Tr(e,ywe),s=e.primary||gwe(t),o=e.secondary||vwe(t),a=e.error||bwe(t),l=e.info||wwe(t),u=e.success||_we(t),d=e.warning||Swe(t);function p(g){return swe(g,HA.text.primary)>=r?HA.text.primary:H7.text.primary}const f=({color:g,name:b,mainShade:w=500,lightShade:S=300,darkShade:_=700})=>{if(g=ee({},g),!g.main&&g[w]&&(g.main=g[w]),!g.hasOwnProperty("main"))throw new Error(a0(11,b?` (${b})`:"",w));if(typeof g.main!="string")throw new Error(a0(12,b?` (${b})`:"",JSON.stringify(g.main)));return K7(g,"light",S,n),K7(g,"dark",_,n),g.contrastText||(g.contrastText=p(g.main)),g},y={dark:HA,light:H7};return cc(ee({common:ee({},a_),mode:t,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:uwe,contrastThreshold:r,getContrastText:p,augmentColor:f,tonalOffset:n},y[t]),i)}const $we=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Ewe(e){return Math.round(e*1e5)/1e5}const J7={textTransform:"uppercase"},Y7='"Roboto", "Helvetica", "Arial", sans-serif';function Twe(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=Y7,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:p}=r,f=Tr(r,$we),y=i/14,v=p||(w=>`${w/u*y}rem`),g=(w,S,_,x,$)=>ee({fontFamily:n,fontWeight:w,fontSize:v(S),lineHeight:_},n===Y7?{letterSpacing:`${Ewe(x/S)}em`}:{},$,d),b={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,J7),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,J7),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return cc(ee({htmlFontSize:u,pxToRem:v,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},b),f,{clone:!1})}const Mwe=.2,Iwe=.14,Owe=.12;function Ir(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Mwe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Iwe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Owe})`].join(",")}const Cwe=["none",Ir(0,2,1,-1,0,1,1,0,0,1,3,0),Ir(0,3,1,-2,0,2,2,0,0,1,5,0),Ir(0,3,3,-2,0,3,4,0,0,1,8,0),Ir(0,2,4,-1,0,4,5,0,0,1,10,0),Ir(0,3,5,-1,0,5,8,0,0,1,14,0),Ir(0,3,5,-1,0,6,10,0,0,1,18,0),Ir(0,4,5,-2,0,7,10,1,0,2,16,1),Ir(0,5,5,-3,0,8,10,1,0,3,14,2),Ir(0,5,6,-3,0,9,12,1,0,3,16,2),Ir(0,6,6,-3,0,10,14,1,0,4,18,3),Ir(0,6,7,-4,0,11,15,1,0,4,20,3),Ir(0,7,8,-4,0,12,17,2,0,5,22,4),Ir(0,7,8,-4,0,13,19,2,0,5,24,4),Ir(0,7,9,-4,0,14,21,2,0,5,26,4),Ir(0,8,9,-5,0,15,22,2,0,6,28,5),Ir(0,8,10,-5,0,16,24,2,0,6,30,5),Ir(0,8,11,-5,0,17,26,2,0,6,32,5),Ir(0,9,11,-5,0,18,28,2,0,7,34,6),Ir(0,9,12,-6,0,19,29,2,0,7,36,6),Ir(0,10,13,-6,0,20,31,3,0,8,38,7),Ir(0,10,13,-6,0,21,33,3,0,8,40,7),Ir(0,10,14,-6,0,22,35,3,0,8,42,7),Ir(0,11,14,-7,0,23,36,3,0,9,44,8),Ir(0,11,15,-7,0,24,38,3,0,9,46,8)],Awe=Cwe,Pwe=["duration","easing","delay"],kwe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Rwe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Z7(e){return`${Math.round(e)}ms`}function Lwe(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Nwe(e){const t=ee({},kwe,e.easing),r=ee({},Rwe,e.duration);return ee({getAutoHeightDuration:Lwe,create:(i=["all"],s={})=>{const{duration:o=r.standard,easing:a=t.easeInOut,delay:l=0}=s;return Tr(s,Pwe),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:Z7(o)} ${a} ${typeof l=="string"?l:Z7(l)}`).join(",")}},e,{easing:t,duration:r})}const Fwe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Dwe=Fwe,jwe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Mee(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:s={}}=e,o=Tr(e,jwe);if(e.vars)throw new Error(a0(18));const a=xwe(n),l=e6(e);let u=cc(l,{mixins:owe(l.breakpoints,r),palette:a,shadows:Awe.slice(),typography:Twe(a,s),transitions:Nwe(i),zIndex:ee({},Dwe)});return u=cc(u,o),u=t.reduce((d,p)=>cc(d,p),u),u.unstable_sxConfig=ee({},dO,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(p){return hO({sx:p,theme:this})},u}const Vwe=Mee(),s6=Vwe,Iee=e=>ow(e)&&e!=="classes",Oee=ow,zwe=ewe({defaultTheme:s6,rootShouldForwardProp:Iee}),Lr=zwe;function ou({props:e,name:t}){return rwe({props:e,name:t,defaultTheme:s6})}function E3(e,t){return E3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E3(e,t)}function Uwe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,E3(e,t)}const X7=K.createContext(null);function Bwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o6(e,t){var r=function(s){return t&&q.isValidElement(s)?t(s):s},n=Object.create(null);return e&&q.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function Gwe(e,t){e=e||{},t=t||{};function r(d){return d in t?t[d]:e[d]}var n=Object.create(null),i=[];for(var s in e)s in t?i.length&&(n[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(n[l])for(o=0;o<n[l].length;o++){var u=n[l][o];a[n[l][o]]=r(u)}a[l]=r(l)}for(o=0;o<i.length;o++)a[i[o]]=r(i[o]);return a}function Ef(e,t,r){return r[t]!=null?r[t]:e.props[t]}function qwe(e,t){return o6(e.children,function(r){return q.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Ef(r,"appear",e),enter:Ef(r,"enter",e),exit:Ef(r,"exit",e)})})}function Wwe(e,t,r){var n=o6(e.children),i=Gwe(t,n);return Object.keys(i).forEach(function(s){var o=i[s];if(q.isValidElement(o)){var a=s in t,l=s in n,u=t[s],d=q.isValidElement(u)&&!u.props.in;l&&(!a||d)?i[s]=q.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:Ef(o,"exit",e),enter:Ef(o,"enter",e)}):!l&&a&&!d?i[s]=q.cloneElement(o,{in:!1}):l&&a&&q.isValidElement(u)&&(i[s]=q.cloneElement(o,{onExited:r.bind(null,o),in:u.props.in,exit:Ef(o,"exit",e),enter:Ef(o,"enter",e)}))}}),i}var Hwe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Kwe={component:"div",childFactory:function(t){return t}},a6=function(e){Uwe(t,e);function t(n,i){var s;s=e.call(this,n,i)||this;var o=s.handleExited.bind(Bwe(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?qwe(i,a):Wwe(i,o,a),firstRender:!1}},r.handleExited=function(i,s){var o=o6(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=ee({},a.children);return delete l[i.key],{children:l}}))},r.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Tr(i,["component","childFactory"]),l=this.state.contextValue,u=Hwe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?K.createElement(X7.Provider,{value:l},u):K.createElement(X7.Provider,{value:l},K.createElement(s,a,u))},t}(K.Component);a6.propTypes={};a6.defaultProps=Kwe;const Jwe=a6;function Ywe(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=e,[d,p]=q.useState(!1),f=Zt(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),y={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},v=Zt(r.child,d&&r.childLeaving,n&&r.childPulsate);return!a&&!d&&p(!0),q.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,a,u]),de("span",{className:f,style:y,children:de("span",{className:v})})}const Zwe=il("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Do=Zwe,Xwe=["center","classes","className"];let fO=e=>e,Q7,eU,tU,rU;const T3=550,Qwe=80,e_e=Jj(Q7||(Q7=fO`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),t_e=Jj(eU||(eU=fO`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),r_e=Jj(tU||(tU=fO`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),n_e=Lr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),i_e=Lr(Ywe,{name:"MuiTouchRipple",slot:"Ripple"})(rU||(rU=fO`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Do.rippleVisible,e_e,T3,({theme:e})=>e.transitions.easing.easeInOut,Do.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Do.child,Do.childLeaving,t_e,T3,({theme:e})=>e.transitions.easing.easeInOut,Do.childPulsate,r_e,({theme:e})=>e.transitions.easing.easeInOut),s_e=q.forwardRef(function(t,r){const n=ou({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=n,a=Tr(n,Xwe),[l,u]=q.useState([]),d=q.useRef(0),p=q.useRef(null);q.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const f=q.useRef(!1),y=q.useRef(null),v=q.useRef(null),g=q.useRef(null);q.useEffect(()=>()=>{clearTimeout(y.current)},[]);const b=q.useCallback(x=>{const{pulsate:$,rippleX:E,rippleY:T,rippleSize:M,cb:A}=x;u(k=>[...k,de(i_e,{classes:{ripple:Zt(s.ripple,Do.ripple),rippleVisible:Zt(s.rippleVisible,Do.rippleVisible),ripplePulsate:Zt(s.ripplePulsate,Do.ripplePulsate),child:Zt(s.child,Do.child),childLeaving:Zt(s.childLeaving,Do.childLeaving),childPulsate:Zt(s.childPulsate,Do.childPulsate)},timeout:T3,pulsate:$,rippleX:E,rippleY:T,rippleSize:M},d.current)]),d.current+=1,p.current=A},[s]),w=q.useCallback((x={},$={},E=()=>{})=>{const{pulsate:T=!1,center:M=i||$.pulsate,fakeElement:A=!1}=$;if((x==null?void 0:x.type)==="mousedown"&&f.current){f.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(f.current=!0);const k=A?null:g.current,P=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,D,j;if(M||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)L=Math.round(P.width/2),D=Math.round(P.height/2);else{const{clientX:W,clientY:te}=x.touches&&x.touches.length>0?x.touches[0]:x;L=Math.round(W-P.left),D=Math.round(te-P.top)}if(M)j=Math.sqrt((2*P.width**2+P.height**2)/3),j%2===0&&(j+=1);else{const W=Math.max(Math.abs((k?k.clientWidth:0)-L),L)*2+2,te=Math.max(Math.abs((k?k.clientHeight:0)-D),D)*2+2;j=Math.sqrt(W**2+te**2)}x!=null&&x.touches?v.current===null&&(v.current=()=>{b({pulsate:T,rippleX:L,rippleY:D,rippleSize:j,cb:E})},y.current=setTimeout(()=>{v.current&&(v.current(),v.current=null)},Qwe)):b({pulsate:T,rippleX:L,rippleY:D,rippleSize:j,cb:E})},[i,b]),S=q.useCallback(()=>{w({},{pulsate:!0})},[w]),_=q.useCallback((x,$)=>{if(clearTimeout(y.current),(x==null?void 0:x.type)==="touchend"&&v.current){v.current(),v.current=null,y.current=setTimeout(()=>{_(x,$)});return}v.current=null,u(E=>E.length>0?E.slice(1):E),p.current=$},[]);return q.useImperativeHandle(r,()=>({pulsate:S,start:w,stop:_}),[S,w,_]),de(n_e,ee({className:Zt(Do.root,s.root,o),ref:g},a,{children:de(Jwe,{component:null,exit:!0,children:l})}))}),o_e=s_e;function a_e(e){return nl("MuiButtonBase",e)}const l_e=il("MuiButtonBase",["root","disabled","focusVisible"]),u_e=l_e,c_e=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],d_e=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,o=su({root:["root",t&&"disabled",r&&"focusVisible"]},a_e,i);return r&&n&&(o.root+=` ${n}`),o},h_e=Lr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${u_e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),p_e=q.forwardRef(function(t,r){const n=ou({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:p=!1,focusRipple:f=!1,LinkComponent:y="a",onBlur:v,onClick:g,onContextMenu:b,onDragLeave:w,onFocus:S,onFocusVisible:_,onKeyDown:x,onKeyUp:$,onMouseDown:E,onMouseLeave:T,onMouseUp:M,onTouchEnd:A,onTouchMove:k,onTouchStart:P,tabIndex:L=0,TouchRippleProps:D,touchRippleRef:j,type:W}=n,te=Tr(n,c_e),ae=q.useRef(null),z=q.useRef(null),J=l0(z,j),{isFocusVisibleRef:me,onFocus:we,onBlur:Se,ref:xe}=Vj(),[Ne,wt]=q.useState(!1);u&&Ne&&wt(!1),q.useImperativeHandle(i,()=>({focusVisible:()=>{wt(!0),ae.current.focus()}}),[]);const[Ut,Ht]=q.useState(!1);q.useEffect(()=>{Ht(!0)},[]);const tt=Ut&&!d&&!u;q.useEffect(()=>{Ne&&f&&!d&&Ut&&z.current.pulsate()},[d,f,Ne,Ut]);function le(De,sr,Ln=p){return rh(_t=>(sr&&sr(_t),!Ln&&z.current&&z.current[De](_t),!0))}const Oe=le("start",E),Ue=le("stop",b),re=le("stop",w),rt=le("stop",M),Ae=le("stop",De=>{Ne&&De.preventDefault(),T&&T(De)}),We=le("start",P),Ft=le("stop",A),Mr=le("stop",k),Qn=le("stop",De=>{Se(De),me.current===!1&&wt(!1),v&&v(De)},!1),Rs=rh(De=>{ae.current||(ae.current=De.currentTarget),we(De),me.current===!0&&(wt(!0),_&&_(De)),S&&S(De)}),ir=()=>{const De=ae.current;return l&&l!=="button"&&!(De.tagName==="A"&&De.href)},ei=q.useRef(!1),aa=rh(De=>{f&&!ei.current&&Ne&&z.current&&De.key===" "&&(ei.current=!0,z.current.stop(De,()=>{z.current.start(De)})),De.target===De.currentTarget&&ir()&&De.key===" "&&De.preventDefault(),x&&x(De),De.target===De.currentTarget&&ir()&&De.key==="Enter"&&!u&&(De.preventDefault(),g&&g(De))}),pu=rh(De=>{f&&De.key===" "&&z.current&&Ne&&!De.defaultPrevented&&(ei.current=!1,z.current.stop(De,()=>{z.current.pulsate(De)})),$&&$(De),g&&De.target===De.currentTarget&&ir()&&De.key===" "&&!De.defaultPrevented&&g(De)});let be=l;be==="button"&&(te.href||te.to)&&(be=y);const Ce={};be==="button"?(Ce.type=W===void 0?"button":W,Ce.disabled=u):(!te.href&&!te.to&&(Ce.role="button"),u&&(Ce["aria-disabled"]=u));const ot=l0(r,xe,ae),Je=ee({},n,{centerRipple:s,component:l,disabled:u,disableRipple:d,disableTouchRipple:p,focusRipple:f,tabIndex:L,focusVisible:Ne}),on=d_e(Je);return rr(h_e,ee({as:be,className:Zt(on.root,a),ownerState:Je,onBlur:Qn,onClick:g,onContextMenu:Ue,onFocus:Rs,onKeyDown:aa,onKeyUp:pu,onMouseDown:Oe,onMouseLeave:Ae,onMouseUp:rt,onDragLeave:re,onTouchEnd:Ft,onTouchMove:Mr,onTouchStart:We,ref:ot,tabIndex:u?-1:L,type:W},Ce,te,{children:[o,tt?de(o_e,ee({ref:J,center:s},D)):null]}))}),l6=p_e;function f_e(e){return nl("MuiButton",e)}const m_e=il("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Vx=m_e,y_e=q.createContext({}),g_e=y_e,v_e=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],b_e=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:s,classes:o}=e,a={root:["root",s,`${s}${st(t)}`,`size${st(i)}`,`${s}Size${st(i)}`,t==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${st(i)}`],endIcon:["endIcon",`iconSize${st(i)}`]},l=su(a,f_e,o);return ee({},o,l)},Cee=e=>ee({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),w_e=Lr(l6,{shouldForwardProp:e=>Iee(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${st(r.color)}`],t[`size${st(r.size)}`],t[`${r.variant}Size${st(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,n;return ee({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":ee({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ul(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ul(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ul(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:(e.vars||e).palette.grey.A100,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":ee({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Vx.focusVisible}`]:ee({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Vx.disabled}`]:ee({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Ul(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(n=e.palette).getContrastText)==null?void 0:r.call(n,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Vx.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Vx.disabled}`]:{boxShadow:"none"}}),__e=Lr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${st(r.size)}`]]}})(({ownerState:e})=>ee({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},Cee(e))),S_e=Lr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${st(r.size)}`]]}})(({ownerState:e})=>ee({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},Cee(e))),x_e=q.forwardRef(function(t,r){const n=q.useContext(g_e),i=zj(n,t),s=ou({props:i,name:"MuiButton"}),{children:o,color:a="primary",component:l="button",className:u,disabled:d=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:y,focusVisibleClassName:v,fullWidth:g=!1,size:b="medium",startIcon:w,type:S,variant:_="text"}=s,x=Tr(s,v_e),$=ee({},s,{color:a,component:l,disabled:d,disableElevation:p,disableFocusRipple:f,fullWidth:g,size:b,type:S,variant:_}),E=b_e($),T=w&&de(__e,{className:E.startIcon,ownerState:$,children:w}),M=y&&de(S_e,{className:E.endIcon,ownerState:$,children:y});return rr(w_e,ee({ownerState:$,className:Zt(n.className,E.root,u),component:l,disabled:d,focusRipple:!f,focusVisibleClassName:Zt(E.focusVisible,v),ref:r,type:S},x,{classes:E,children:[T,o,M]}))}),l1=x_e;var u6={},l_={},$_e={get exports(){return l_},set exports(e){l_=e}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})($_e);var KA={};function E_e(e){return nl("MuiSvgIcon",e)}il("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const T_e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],M_e=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${st(t)}`,`fontSize${st(r)}`]};return su(i,E_e,n)},I_e=Lr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${st(r.color)}`],t[`fontSize${st(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,s,o,a,l,u,d,p,f,y,v,g,b,w,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=e.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((d=e.typography)==null||(p=d.pxToRem)==null?void 0:p.call(d,35))||"2.1875rem"}[t.fontSize],color:(f=(y=(e.vars||e).palette)==null||(v=y[t.color])==null?void 0:v.main)!=null?f:{action:(g=(e.vars||e).palette)==null||(b=g.action)==null?void 0:b.active,disabled:(w=(e.vars||e).palette)==null||(S=w.action)==null?void 0:S.disabled,inherit:void 0}[t.color]}}),Aee=q.forwardRef(function(t,r){const n=ou({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:p,viewBox:f="0 0 24 24"}=n,y=Tr(n,T_e),v=ee({},n,{color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:f}),g={};d||(g.viewBox=f);const b=M_e(v);return rr(I_e,ee({as:a,className:Zt(b.root,s),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:r},g,y,{ownerState:v,children:[i,p?de("title",{children:p}):null]}))});Aee.muiName="SvgIcon";const nU=Aee;function O_e(e,t){function r(n,i){return de(nU,ee({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return r.muiName=nU.muiName,q.memo(q.forwardRef(r))}const C_e={configure:e=>{Uj.configure(e)}},A_e=Object.freeze(Object.defineProperty({__proto__:null,capitalize:st,createChainedFunction:nve,createSvgIcon:O_e,debounce:ive,deprecatedPropType:sve,isMuiElement:ove,ownerDocument:Pg,ownerWindow:ave,requirePropFactory:lve,setRef:iee,unstable_ClassNameGenerator:C_e,unstable_useEnhancedEffect:Dj,unstable_useId:dve,unsupportedProp:hve,useControlled:jj,useEventCallback:rh,useForkRef:l0,useIsFocusVisible:Vj},Symbol.toStringTag,{value:"Module"})),P_e=ND(A_e);var iU;function Pee(){return iU||(iU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=P_e}(KA)),KA}const kee=ND(Rme);var k_e=l_;Object.defineProperty(u6,"__esModule",{value:!0});var M3=u6.default=void 0,R_e=k_e(Pee()),L_e=kee,N_e=(0,R_e.default)((0,L_e.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");M3=u6.default=N_e;function F_e(e){return nl("MuiIconButton",e)}const D_e=il("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),j_e=D_e,V_e=["edge","children","className","color","disabled","disableFocusRipple","size"],z_e=e=>{const{classes:t,disabled:r,color:n,edge:i,size:s}=e,o={root:["root",r&&"disabled",n!=="default"&&`color${st(n)}`,i&&`edge${st(i)}`,`size${st(s)}`]};return su(o,F_e,t)},U_e=Lr(l6,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${st(r.color)}`],r.edge&&t[`edge${st(r.edge)}`],t[`size${st(r.size)}`]]}})(({theme:e,ownerState:t})=>ee({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ul(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var r;const n=(r=(e.vars||e).palette)==null?void 0:r[t.color];return ee({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&ee({color:n==null?void 0:n.main},!t.disableRipple&&{"&:hover":ee({},n&&{backgroundColor:e.vars?`rgba(${n.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ul(n.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${j_e.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),B_e=q.forwardRef(function(t,r){const n=ou({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:d="medium"}=n,p=Tr(n,V_e),f=ee({},n,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:d}),y=z_e(f);return de(U_e,ee({className:Zt(y.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:r,ownerState:f},p,{children:s}))}),G_e=B_e;var c6={},q_e=l_;Object.defineProperty(c6,"__esModule",{value:!0});var Ree=c6.default=void 0,W_e=q_e(Pee()),H_e=kee,K_e=(0,W_e.default)((0,H_e.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");Ree=c6.default=K_e;function c(e,t,r,n){var i,s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}const J_e=null;function C(e){return e!=null}function G(e){return e==null}function nh(e,t){return C(e)?t(e):J_e}function Vyt(e){return e}function Js(e,t){return d6(e,t),e}function d6(e,t){if(G(e))throw new Error(t??"value is None")}function h6(e,t){return C(e)?e:typeof t=="function"?t():t}function sU(e,t){return C(e)?e:t}function Ur(e){return C(e)&&e.destroy(),null}function zyt(e){return C(e)&&e.dispose(),null}function sn(e){return C(e)&&e.remove(),null}function uT(e){return C(e)&&e.abort(),null}function Uyt(e){return C(e)&&e.release(),null}function Y_e(e,t,r){return C(e)&&C(t)?C(r)?r(e,t):e.equals(t):e===t}function Z_e(e){return null}function Byt(e,t){const r=new Array;for(const n of e)r.push(H1(n,null,t));return r}function Gyt(e,t){for(const r of e)nh(r,t)}function H1(e,t,r){return C(e)?r(e):t}function qyt(e){return e.filter(t=>C(t))}function Lee(e,...t){let r=e;for(let n=0;n<t.length&&r;++n)r=r[t[n]];return r}function Wyt(e){return e}let JA=class bp{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*bp._m}getInt(){return this._seed=(bp._a*this._seed+bp._c)%bp._m,this._seed}getFloat(){return this.getInt()/(bp._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/bp._m*n}};JA._m=2147483647,JA._a=48271,JA._c=0;function X_e(e,t){return t?e.filter((r,n,i)=>i.findIndex(t.bind(null,r))===n):e.filter((r,n,i)=>i.indexOf(r)===n)}function mO(e,t,r){if(G(e)&&G(t))return!0;if(G(e)||G(t)||e.length!==t.length)return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Hyt(e,t){let r=e.length!==t.length;r&&(e.length=t.length);for(let n=0;n<t.length;++n)e[n]!==t[n]&&(e[n]=t[n],r=!0);return r}function Kyt(e,t,r){let n,i;return r?(n=t.filter(s=>!e.some(o=>r(o,s))),i=e.filter(s=>!t.some(o=>r(o,s)))):(n=t.filter(s=>!e.includes(s)),i=e.filter(s=>!t.includes(s))),{added:n,removed:i}}function Jyt(e){return e&&typeof e.length=="number"}const Q_e=!!Array.prototype.fill;function Yyt(e,t){if(Q_e)return new Array(e).fill(t);const r=new Array(e);for(let n=0;n<e;n++)r[n]=t;return r}function Zyt(e,t){t===void 0&&(t=e,e=0);const r=new Array(t-e);for(let n=e;n<t;n++)r[n-e]=n;return r}let Nee=class{constructor(){this.last=0}};const Fee=new Nee;function I3(e,t,r,n){n=n||Fee;const i=Math.max(0,n.last-10);for(let o=i;o<r;++o)if(e[o]===t)return n.last=o,o;const s=Math.min(i,r);for(let o=0;o<s;++o)if(e[o]===t)return n.last=o,o;return-1}function eSe(e,t,r,n){const i=r??e.length,s=I3(e,t,i,n);if(s!==-1)return e[s]=e[i-1],r==null&&e.pop(),t}const ua=new Set;function tSe(e,t,r=e.length,n=t.length,i,s){if(n===0||r===0)return r;ua.clear();for(let a=0;a<n;++a)ua.add(t[a]);i=i||Fee;const o=Math.max(0,i.last-10);for(let a=o;a<r;++a)if(ua.has(e[a])&&(s&&s.push(e[a]),ua.delete(e[a]),e[a]=e[r-1],--r,--a,ua.size===0||r===0))return ua.clear(),r;for(let a=0;a<o;++a)if(ua.has(e[a])&&(s&&s.push(e[a]),ua.delete(e[a]),e[a]=e[r-1],--r,--a,ua.size===0||r===0))return ua.clear(),r;return ua.clear(),r}function rSe(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function Qyt(e){return e instanceof ArrayBuffer}function nSe(e){return e&&e.constructor&&e.constructor.name==="Int8Array"}function iSe(e){return e&&e.constructor&&e.constructor.name==="Uint8Array"}function sSe(e){return e&&e.constructor&&e.constructor.name==="Uint8ClampedArray"}function oSe(e){return e&&e.constructor&&e.constructor.name==="Int16Array"}function aSe(e){return e&&e.constructor&&e.constructor.name==="Uint16Array"}function lSe(e){return e&&e.constructor&&e.constructor.name==="Int32Array"}function uSe(e){return e&&e.constructor&&e.constructor.name==="Uint32Array"}function cSe(e){return e&&e.constructor&&e.constructor.name==="Float32Array"}function dSe(e){return e&&e.constructor&&e.constructor.name==="Float64Array"}const egt=1024;function Dee(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(e[r]===void 0?delete e[r]:e[r]instanceof Object&&Dee(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function B(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=Uee(e);if(C(t))return t;if(jee(e))return e.clone();if(Vee(e))return e.map(B);if(zee(e))return e.clone();const r={};for(const n of Object.getOwnPropertyNames(e))r[n]=B(e[n]);return r}function O3(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=Uee(e);if(C(t))return t;if(Vee(e)){let r=!0;const n=e.map(i=>{const s=O3(i);return i!=null&&s==null&&(r=!1),s});return r?n:null}if(jee(e))return e.clone();if(!zee(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const i=e[n],s=O3(i);if(i!=null&&s==null)return null;r[n]=s}return r}return null}function jee(e){return typeof e.clone=="function"}function Vee(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function zee(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function oU(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Uee(e){if(nSe(e)||iSe(e)||sSe(e)||oSe(e)||aSe(e)||lSe(e)||uSe(e)||cSe(e)||dSe(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,n]of e)t.set(r,B(n));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(B(r));return t}return null}function p6(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e||{}).getTime=="function"&&typeof(t||{}).getTime=="function"&&e.getTime()===t.getTime()||!1}function hSe(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&mO(e,t):e instanceof Set?t instanceof Set&&fSe(e,t):e instanceof Map?t instanceof Map&&mSe(e,t):!!oU(e)&&oU(t)&&pSe(e,t))}function pSe(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function fSe(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function mSe(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const i=t.get(r);if(i!==n||i===void 0&&!t.has(r))return!1}return!0}function Bee(e,t,r=!1){return qee(e,t,r)}function xS(e,t){if(t!=null)return t[e]||Gee(e.split("."),!1,t)}function Di(e,t,r){const n=e.split("."),i=n.pop(),s=Gee(n,!0,r);s&&i&&(s[i]=t)}function Gee(e,t,r){let n=r;for(const i of e){if(n==null)return;if(!(i in n)){if(!t)return;n[i]={}}n=n[i]}return n}function qee(e,t,r){return t?Object.keys(t).reduce((n,i)=>{let s=n[i],o=t[i];return s===o?n:s===void 0?(n[i]=B(o),n):(Array.isArray(o)||Array.isArray(n)?(s=s?Array.isArray(s)?n[i]=s.concat():n[i]=[s]:n[i]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(a=>{s.includes(a)||s.push(a)}):n[i]=o.concat())):o&&typeof o=="object"?n[i]=qee(s,o,r):n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[i]=o),n)},e||{}):e}let Xe=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,s)=>{const o=this.toJSON(n);o!==void 0&&Di(s,o,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const n in t)r[t[n]]=n;return r}_getKeysSorted(t){const r=[];for(const n in t)r.push(n);return r.sort(),r}};function mi(){return function(e,t){return new Xe(e,{ignoreUnknown:!0,...t})}}let aw;var gZ,vZ;const ySe=((gZ=globalThis.esriConfig)==null?void 0:gZ.locale)??((vZ=globalThis.dojoConfig)==null?void 0:vZ.locale);function Wee(){var e;return ySe??((e=globalThis.navigator)==null?void 0:e.language)??"en"}function Yo(){return aw===void 0&&(aw=Wee()),aw}const lw=[];function f6(e){return lw.push(e),{remove(){lw.splice(lw.indexOf(e),1)}}}const C3=[];function m6(e){return C3.push(e),{remove(){lw.splice(C3.indexOf(e),1)}}}function gSe(){const e=Wee();aw!==e&&(aw=e,[...C3].forEach(t=>{t.call(null,e)}),[...lw].forEach(t=>{t.call(null,e)}))}var bZ;(bZ=globalThis.addEventListener)==null||bZ.call(globalThis,"languagechange",gSe);const ll={year:"numeric",month:"numeric",day:"numeric"},u1={year:"numeric",month:"long",day:"numeric"},c1={year:"numeric",month:"short",day:"numeric"},d1={year:"numeric",month:"long",weekday:"long",day:"numeric"},To={hour:"numeric",minute:"numeric"},ca={...To,second:"numeric"},y6={"short-date":ll,"short-date-short-time":{...ll,...To},"short-date-short-time-24":{...ll,...To,hour12:!1},"short-date-long-time":{...ll,...ca},"short-date-long-time-24":{...ll,...ca,hour12:!1},"short-date-le":ll,"short-date-le-short-time":{...ll,...To},"short-date-le-short-time-24":{...ll,...To,hour12:!1},"short-date-le-long-time":{...ll,...ca},"short-date-le-long-time-24":{...ll,...ca,hour12:!1},"long-month-day-year":u1,"long-month-day-year-short-time":{...u1,...To},"long-month-day-year-short-time-24":{...u1,...To,hour12:!1},"long-month-day-year-long-time":{...u1,...ca},"long-month-day-year-long-time-24":{...u1,...ca,hour12:!1},"day-short-month-year":c1,"day-short-month-year-short-time":{...c1,...To},"day-short-month-year-short-time-24":{...c1,...To,hour12:!1},"day-short-month-year-long-time":{...c1,...ca},"day-short-month-year-long-time-24":{...c1,...ca,hour12:!1},"long-date":d1,"long-date-short-time":{...d1,...To},"long-date-short-time-24":{...d1,...To,hour12:!1},"long-date-long-time":{...d1,...ca},"long-date-long-time-24":{...d1,...ca,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":To,"long-time":ca},u_=mi()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});u_.apiValues;u_.toJSON.bind(u_);u_.fromJSON.bind(u_);const vSe={ar:"ar-u-nu-latn-ca-gregory"};let A3=new WeakMap,Hee=y6["short-date-short-time"];function bSe(e){const t=e||Hee;let r=A3.get(t);if(!r){const n=Yo(),i=vSe[Yo()]||n;r=new Intl.DateTimeFormat(i,t),A3.set(t,r)}return r}function g6(e){return e?y6[e]:null}function eu(e,t){return bSe(t).format(e)}m6(()=>{A3=new WeakMap,Hee=y6["short-date-short-time"]});const wSe={ar:"ar-u-nu-latn"};let b2=new WeakMap,Kee={};function _Se(e){const t=e||Kee;if(!b2.has(t)){const r=Yo(),n=wSe[Yo()]||r;b2.set(t,new Intl.NumberFormat(n,e))}return b2.get(t)}function Jee(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function kh(e,t){return e===-0&&(e=0),_Se(t).format(e)}m6(()=>{b2=new WeakMap,Kee={}});let ih;function Z(e){return typeof ih[e]=="function"?ih[e]=ih[e](globalThis):ih[e]}var wZ,_Z,SZ,xZ;ih=(wZ=globalThis.dojoConfig)!=null&&wZ.has||(_Z=globalThis.esriConfig)!=null&&_Z.has?{...(SZ=globalThis.dojoConfig)==null?void 0:SZ.has,...(xZ=globalThis.esriConfig)==null?void 0:xZ.has}:{},Z.add=(e,t,r,n)=>((n||ih[e]===void 0)&&(ih[e]=t),r&&Z(e)),Z.cache=ih,Z.add("esri-deprecation-warnings",!0),(()=>{var t;Z.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(Z.add("host-browser",e),Z.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),Z.add("dom",e),Z("host-browser")){const r=navigator,n=r.userAgent,i=r.appVersion,s=parseFloat(i);if(Z.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),Z.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),Z.add("khtml",i.includes("Konqueror")?s:void 0),Z.add("edge",parseFloat(n.split("Edge/")[1])||void 0),Z.add("opr",parseFloat(n.split("OPR/")[1])||void 0),Z.add("webkit",!Z("wp")&&!Z("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),Z.add("chrome",!Z("edge")&&!Z("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),Z.add("android",!Z("wp")&&parseFloat(n.split("Android ")[1])||void 0),Z.add("safari",!i.includes("Safari")||Z("wp")||Z("chrome")||Z("android")||Z("edge")||Z("opr")?void 0:parseFloat(i.split("Version/")[1])),Z.add("mac",i.includes("Macintosh")),!Z("wp")&&n.match(/(iPhone|iPod|iPad)/)){const o=RegExp.$1.replace(/P/,"p"),a=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",l=parseFloat(a.replace(/_/,".").replace(/_/g,""));Z.add(o,l),Z.add("ios",l)}Z("webkit")||(!n.includes("Gecko")||Z("wp")||Z("khtml")||Z("edge")||Z.add("mozilla",s),Z("mozilla")&&Z.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&Z.add("esri-mobile",t),r&&Z.add("esri-iPhone",r),Z.add("esri-geolocation",!!navigator.geolocation)}Z.add("esri-wasm","WebAssembly"in globalThis),Z.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),Z.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),Z.add("esri-atomics","Atomics"in globalThis),Z.add("esri-workers","Worker"in globalThis),Z.add("web-feat:cache","caches"in globalThis),Z.add("esri-workers-arraybuffer-transfer",!Z("safari")||Number(Z("safari"))>=12),Z.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),Z.add("featurelayer-simplify-payload-size-factors",[1,1,4]),Z.add("featurelayer-snapshot-enabled",!0),Z.add("featurelayer-snapshot-point-min-threshold",8e4),Z.add("featurelayer-snapshot-point-max-threshold",4e5),Z.add("featurelayer-snapshot-point-coverage",.1),Z.add("featurelayer-advanced-symbols",!1),Z.add("featurelayer-pbf",!0),Z.add("featurelayer-pbf-statistics",!1),Z.add("feature-layers-workers",!0),Z.add("feature-polyline-generalization-factor",1),Z.add("mapview-transitions-duration",200),Z.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),Z.add("mapserver-pbf-version-support",10.81),Z.add("mapservice-popup-identify-max-tolerance",20),Z.add("heatmap-allow-raster-fallback",!0),Z.add("heatmap-force-raster",!1),Z("host-webworker")||Z("host-browser")&&(Z.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),Z.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{Z.add("esri-image-decode",!0,!0,!0)}).catch(()=>{Z.add("esri-image-decode",!1,!0,!0)})}return!1}),Z.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();var $Z;const yt={analysisTheme:{accentColor:[255,128,0],textColor:"white"},apiKey:void 0,applicationUrl:($Z=globalThis.location)==null?void 0:$Z.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(Bee(yt,globalThis.esriConfig,!0),delete yt.has),!yt.assetsPath){{const e="4.26.5";yt.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}yt.defaultAssetsPath=yt.assetsPath}const SSe=/\{([^\}]+)\}/g;function aU(e){return e??""}function Za(e,t){return e.replace(SSe,typeof t=="object"?(r,n)=>aU(xS(n,t)):(r,n)=>aU(t(n)))}function xSe(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,r=>t&&t.includes(r)?r:`\\${r}`)}function v6(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function rgt(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}const lU={info:0,warn:1,error:2,none:3};let oe=class $i{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,$i._loggers[this.module]=this;const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=$i.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const r=$i._loggers;return $i._loggers=t,r},set throttlingDisabled(t){$i._throttlingDisabled=t}}}static getLogger(t){let r=$i._loggers[t];return r||(r=new $i({module:t})),r}_log(t,r,...n){if(this._matchLevel(t)){if(r!=="always"&&!$i._throttlingDisabled){const i=this._argsToKey(n),s=this._loggedMessages[t].get(i);if(r==="once"&&s!=null||r==="oncePerTick"&&s&&s>=$i._tickCounter)return;this._loggedMessages[t].set(i,$i._tickCounter),$i._scheduleTickCounterIncrement()}for(const i of yt.log.interceptors)if(i(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,r){let n=this;for(;C(n);){const i=n[t];if(C(i))return i;n=n.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...n){console[t](`[${r}]`,...n)}_matchLevel(t){const r=yt.log.level?yt.log.level:"warn";return lU[this._parentWithMember("level",r)]<=lU[t]}_argsToKey(...t){return v6(JSON.stringify(t,(n,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}static _scheduleTickCounterIncrement(){$i._tickCounterScheduled||($i._tickCounterScheduled=!0,Promise.resolve().then(()=>{$i._tickCounter++,$i._tickCounterScheduled=!1}))}};oe._loggers={},oe._tickCounter=0,oe._tickCounterScheduled=!1,oe._throttlingDisabled=!1;const Yee=oe.getLogger("esri.intl.substitute");function No(e,t,r={}){const{format:n={}}=r;return Za(e,i=>$Se(i,t,n))}function $Se(e,t,r){let n,i;const s=e.indexOf(":");if(s===-1?n=e.trim():(n=e.slice(0,s).trim(),i=e.slice(s+1).trim()),!n)return"";const o=xS(n,t);if(o==null)return"";const a=(i?r==null?void 0:r[i]:null)??(r==null?void 0:r[n]);return a?ESe(o,a):i?TSe(o,i):b6(o)}function ESe(e,t){switch(t.type){case"date":return eu(e,t.intlOptions);case"number":return kh(e,t.intlOptions);default:return Yee.warn("missing format descriptor for key {key}"),b6(e)}}function TSe(e,t){switch(t.toLowerCase()){case"dateformat":return eu(e);case"numberformat":return kh(e);default:return Yee.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?eu(e):/^numberformat/i.test(t)?kh(e):b6(e)}}function b6(e){switch(typeof e){case"string":return e;case"number":return kh(e);case"boolean":return""+e;default:return e instanceof Date?eu(e):""}}function MSe(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(r,n)=>{if(n==="")return"$";const i=xS(n,t),s=i??"";if(s===void 0)throw new Error(`could not find key "${n}" in template`);return s.toString()})}let Zee=class Xee{constructor(t,r,n){this.name=t,this.details=n,this instanceof Xee&&(this.message=(r&&MSe(r,n))??"")}toString(){return"["+this.name+"]: "+this.message}},V=class w2 extends Zee{constructor(t,r,n){if(super(t,r,n),!(this instanceof w2))return new w2(t,r,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return B(r)}catch{return"[object]"}}))}}catch(t){throw oe.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new w2(t.name,t.message,t.details)}};V.prototype.type="error";function ISe(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return{remove:()=>e.clearTimeout(n)}}}}const $S=ISe(globalThis),uU=new Set;function OSe(e,t,r=!1){r&&uU.has(t)||(r&&uU.add(t),e.warn(`🛑 DEPRECATED - ${t}`))}function P3(e,t,r={}){if(Z("esri-deprecation-warnings")){const{moduleName:n}=r;Qee(e,`Property: ${(n?n+"::":"")+t}`,r)}}function Qee(e,t,r={}){if(Z("esri-deprecation-warnings")){const{replacement:n,version:i,see:s,warnOnce:o}=r;let a=t;n&&(a+=`
	🛠️ Replacement: ${n}`),i&&(a+=`
	⚙️ Version: ${i}`),s&&(a+=`
	🔗 See ${s} for more details.`),OSe(e,a,o)}}function yO(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function gO(e,t,r){if(!yO(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const n=t.slice();for(const i of n)e.addEventListener(i,r);return{remove(){for(const i of n)e.removeEventListener(i,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function ete(e,t,r){if(!yO(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=gO(e,t,i=>{n.remove(),r.call(e,i)});return{remove(){n.remove()}}}const CSe={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function Vl({key:e}){return CSe[e]||e}function kr(e="Aborted"){return new V("AbortError",e)}function Qr(e,t="Aborted"){if(Xa(e))throw kr(t)}function vO(e){return C(e)?"aborted"in e?e:e.signal:e}function Xa(e){const t=vO(e);return C(t)&&t.aborted}function Nl(e){if(ia(e))throw e}function k3(e){if(!ia(e))throw e}function Zo(e,t){const r=vO(e);if(!G(r)){if(!r.aborted)return ete(r,"abort",()=>t());t()}}function w6(e,t){const r=vO(e);if(!G(r))return Qr(r),ete(r,"abort",()=>t(kr()))}function tte(e,t){const r=vO(t);return G(r)?e:new Promise((n,i)=>{let s=Zo(t,()=>i(kr()));const o=()=>s=sn(s);e.then(o,o),e.then(n,i)})}function ia(e){return(e==null?void 0:e.name)==="AbortError"}async function Lg(e){try{return await e}catch(t){if(!ia(t))throw t;return}}function xc(){let e=null;const t=new Promise((r,n)=>{e={promise:void 0,resolve:r,reject:n}});return e.promise=t,e}async function Wn(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),n=r.map(o=>e[o]),i=await Wn(n),s={};return r.map((o,a)=>s[o]=i[a]),s}const t=e;return new Promise(r=>{const n=[];let i=t.length;i===0&&r(n),t.forEach(s=>{const o={promise:s||Promise.resolve(s)};n.push(o),o.promise.then(a=>{o.value=a}).catch(a=>{o.error=a}).then(()=>{--i,i===0&&r(n)})})})}async function ASe(e){return(await Wn(e)).filter(t=>!!t.value).map(t=>t.value)}function ES(e,t,r){const n=new AbortController;return Zo(r,()=>n.abort()),new Promise((i,s)=>{let o=setTimeout(()=>{o=0,i(t)},e);Zo(n,()=>{o&&(clearTimeout(o),s(kr()))})})}function Rc(e){return e&&typeof e.then=="function"}function R3(e){return Rc(e)?e:Promise.resolve(e)}function rte(e,t=-1){let r,n,i,s,o=null;const a=(...l)=>{if(r){n=l,s&&s.reject(kr()),s=xc();const f=s.promise;if(o){const y=o;o=null,y.abort()}return f}if(i=s||xc(),s=null,t>0){const f=new AbortController;r=R3(e(...l,f.signal));const y=r;ES(t).then(()=>{r===y&&(s?f.abort():o=f)})}else r=1,r=R3(e(...l));const u=()=>{const f=n;n=i=r=o=null,f!=null&&a(...f)},d=r,p=i;return d.then(u,u),d.then(p.resolve,p.reject),p.promise};return a}function PSe(){let e,t;const r=new Promise((i,s)=>{e=i,t=s}),n=i=>{e(i)};return n.resolve=i=>e(i),n.reject=i=>t(i),n.timeout=(i,s)=>$S.setTimeout(()=>n.reject(s),i),n.promise=r,n}async function cU(e){await Promise.resolve(),Qr(e)}const dU=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,kSe={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function hU(e){return kSe[e]??!1}const K1=[],Ng=new Map;function pU(e){for(const t of Ng.keys())nte(e.pattern,t)&&Ng.delete(t)}function RSe(e){return K1.includes(e)||(pU(e),K1.unshift(e)),{remove(){const t=K1.indexOf(e);t>-1&&(K1.splice(t,1),pU(e))}}}async function _6(e){const t=Yo();Ng.has(e)||Ng.set(e,NSe(e,t));const r=Ng.get(e);return r&&await FSe.add(r),r}function LSe(e){if(!dU.test(e))return null;const t=dU.exec(e);if(t===null)return null;const[,r,n]=t,i=r+(n?"-"+n.toUpperCase():"");return hU(i)?i:hU(r)?r:null}async function NSe(e,t){const r=[];for(const n of K1)if(nte(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(i){r.push(i)}throw r.length?new V("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new V("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function nte(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}m6(()=>{Ng.clear()});const FSe=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=xc())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}},DSe="modulepreload",jSe=function(e){return"/web_apps/tree-detection/dist/"+e},fU={},Y=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=jSe(s),s in fU)return;fU[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const p=i[d];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":DSe,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((d,p)=>{u.addEventListener("load",d),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())},VSe=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,zSe={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function mU(e){const t=e==null?void 0:e.match(VSe);if(!t)return null;const[,r,n,i]=t;if(!r)return null;let s=null,o=null,a=null;const{devext:l,qaext:u,www:d}=zSe;if(n)if(s=r,i)switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=u);break;default:return null}else({customBaseUrl:o,portalHostname:a}=d);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=u);break;case"www":({customBaseUrl:o,portalHostname:a}=d);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function USe(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}const BSe=oe.getLogger("esri.core.urlUtils"),ov=yt.request,yU="esri/config: esriConfig.request.proxyUrl is not set.",ite=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,ste=/^\s*http:/i,GSe=/^\s*https:/i,qSe=/^\s*file:/i,WSe=/:\d+$/,HSe=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,KSe=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),JSe=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");let dc=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(KSe);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(JSe),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const zx={},YSe=new dc(yt.applicationUrl);let ki=YSe;const ZSe=XSe();let S6=ZSe;const x6=()=>ki,igt=()=>S6;function XSe(){const e=ki.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${ki.scheme}://${ki.host}${ki.port!=null?`:${ki.port}`:""}`}${t}`}function Vi(e){if(!e)return null;const t={path:null,query:null},r=new dc(e),n=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,n),t.query=ote(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function ote(e){const t=e.split("&"),r={};for(const n of t){if(!n)continue;const i=n.indexOf("=");let s,o;i<0?(s=decodeURIComponent(n),o=""):(s=decodeURIComponent(n.slice(0,i)),o=decodeURIComponent(n.slice(i+1)));let a=r[s];typeof a=="string"&&(a=r[s]=[a]),Array.isArray(a)?a.push(o):r[s]=o}return r}function gU(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}function c_(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const n=e[r];if(n==null)return"";const i=encodeURIComponent(r)+"=",s=t&&t[r];return s?i+encodeURIComponent(s(n)):Array.isArray(n)?n.map(o=>gU(o)?i+encodeURIComponent(JSON.stringify(o)):i+encodeURIComponent(o)).join("&"):gU(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)}).filter(r=>r).join("&"):""}function QSe(e=!1){let t,r=ov.proxyUrl;if(typeof e=="string"){t=axe(e);const n=bO(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw BSe.warn(yU),new V("urlutils:proxy-not-set",yU);return t&&L3()&&(r=O6(r)),Vi(r)}function sgt(e){const t=bO(e);let r,n;if(t){const i=$6(t.proxyUrl);r=i.path,n=i.query?ote(i.query):null}if(r){const i=Vi(e);e=r+"?"+i.path;const s=c_({...n,...i.query});s&&(e=`${e}?${s}`)}return e}const h1={path:"",query:""};function $6(e){const t=e.indexOf("?");return t!==-1?(h1.path=e.slice(0,t),h1.query=e.slice(t+1)):(h1.path=e,h1.query=null),h1}function ate(e){return e=(e=dT(e=pxe(e=$6(e).path),!0)).toLowerCase()}function exe(e){const t={proxyUrl:e.proxyUrl,urlPrefix:ate(e.urlPrefix)},r=ov.proxyRules,n=t.urlPrefix;let i=r.length;for(let s=0;s<r.length;s++){const o=r[s].urlPrefix;if(n.indexOf(o)===0){if(n.length===o.length)return-1;i=s;break}o.indexOf(n)===0&&(i=s+1)}return r.splice(i,0,t),i}function bO(e){const t=ov.proxyRules,r=ate(e);for(let n=0;n<t.length;n++)if(r.indexOf(t[n].urlPrefix)===0)return t[n]}function txe(e,t){if(!e||!t)return!1;e=cT(e),t=cT(t);const r=mU(e),n=mU(t);return C(r)&&C(n)?r.portalHostname===n.portalHostname:!C(r)&&!C(n)&&c0(e,t,!0)}function lte(e,t){return e=cT(e),t=cT(t),dT(e)===dT(t)}function cT(e){const t=(e=Xo(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function ute(e){const t=n=>n==null||n instanceof RegExp&&n.test(e)||typeof n=="string"&&e.startsWith(n),r=ov.interceptors;if(r){for(const n of r)if(Array.isArray(n.urls)){if(n.urls.some(t))return n}else if(t(n.urls))return n}return null}function c0(e,t,r=!1){if(!e||!t)return!1;const n=F3(e),i=F3(t);return!(!r&&n.scheme!==i.scheme)&&n.host!=null&&i.host!=null&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function E6(e){if(typeof e=="string"){if(!ro(e))return!0;e=F3(e)}if(c0(e,ki))return!0;const t=ov.trustedServers||[];for(let r=0;r<t.length;r++){const n=rxe(t[r]);for(let i=0;i<n.length;i++)if(c0(e,n[i]))return!0}return!1}function rxe(e){return zx[e]||(I6(e)||Qa(e)?zx[e]=[new dc(Bo(e))]:zx[e]=[new dc(`http://${e}`),new dc(`https://${e}`)]),zx[e]}function Bo(e,t=S6,r){return Qa(e)?r&&r.preserveProtocolRelative?e:ki.scheme==="http"&&ki.authority===Ha(e).slice(2)?`http:${e}`:`https:${e}`:I6(e)?e:lm(e[0]==="/"?dxe(t):t,e)}function T6(e,t=S6,r){if(e==null||!ro(e))return e;const n=Xo(e),i=n.toLowerCase(),s=Xo(t).toLowerCase().replace(/\/+$/,""),o=r?Xo(r).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return e;const a=(p,f,y)=>(y=p.indexOf(f,y))===-1?p.length:y;let l=a(i,"/",i.indexOf("//")+2),u=-1;for(;i.slice(0,l+1)===s.slice(0,l)+"/"&&(u=l+1,l!==i.length);)l=a(i,"/",l+1);if(u===-1||o&&u<o.length)return e;e=n.slice(u);const d=s.slice(u-1).replace(/[^/]+/g,"").length;if(d>0)for(let p=0;p<d;p++)e=`../${e}`;else e=`./${e}`;return e}function Xo(e){return e=yxe(e=mxe(e=fxe(e=Bo(e=e.trim()))))}function lm(...e){const t=e.filter(C);if(!t||!t.length)return;const r=[];if(ro(t[0])){const i=t[0],s=i.indexOf("//");s!==-1&&(r.push(i.slice(0,s+1)),uxe(t[0])&&(r[0]+="/"),t[0]=i.slice(s+2))}else t[0][0]==="/"&&r.push("");const n=t.reduce((i,s)=>s?i.concat(s.split("/")):i,[]);for(let i=0;i<n.length;i++){const s=n[i];s===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!s&&i===n.length-1||s&&(s!=="."||r.length===0))&&r.push(s)}return r.join("/")}function Ha(e,t=!1){if(e==null||wO(e)||Am(e))return null;let r=e.indexOf("://");if(r===-1&&Qa(e))r=2;else{if(r===-1)return null;r+=3}const n=e.indexOf("/",r);return n!==-1&&(e=e.slice(0,n)),t&&(e=dT(e,!0)),e}function ro(e){return Qa(e)||I6(e)}function wO(e){return e!=null&&e.slice(0,5)==="blob:"}function Am(e){return e!=null&&e.slice(0,5)==="data:"}function nxe(e){const t=M6(e);if(!t||!t.isBase64)return null;const r=atob(t.data),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n.buffer}function ogt(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const ixe=/^data:(.*?)(;base64)?,(.*)$/;function M6(e){const t=e.match(ixe);if(!t)return null;const[,r,n,i]=t;return{mediaType:r,isBase64:!!n,data:i}}function cte(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function agt(e){const t=nxe(e);if(!t)return null;const r=M6(e);return new Blob([t],{type:r.mediaType})}function lgt(e,t){sxe(e,t)||oxe(e,t)}function sxe(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const n=URL.createObjectURL(e);return r.download=t,r.href=n,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),!0}function oxe(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function Qa(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function I6(e){return e!=null&&ite.test(e)}function axe(e){return e!=null&&GSe.test(e)||ki.scheme==="https"&&Qa(e)}function lxe(e){return e!=null&&ste.test(e)||ki.scheme==="http"&&Qa(e)}function uxe(e){return e!=null&&qSe.test(e)}function O6(e){return Qa(e)?`https:${e}`:e.replace(ste,"https:")}function cxe(){return ki.scheme==="http"}function L3(){return ki.scheme==="https"}function dT(e,t=!1){return Qa(e)?e.slice(2):(e=e.replace(ite,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function dxe(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function hxe(e){let t=0;if(ro(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function ugt(e,t){if(!e)return"";const r=Vi(e).path.replace(/\/+$/,""),n=r.substring(r.lastIndexOf("/")+1);if(!(t!=null&&t.length))return n;const i=new RegExp(`.(${t.join("|")})$`,"ig");return n.replace(i,"")}function pxe(e){return e&&e[e.length-1]==="/"?e:`${e}/`}function dte(e){return e.replace(/\/+$/,"")}function fxe(e){if(/^https?:\/\//i.test(e)){const t=$6(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function mxe(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function yxe(e){const t=ov.httpsDomains;if(!lxe(e))return e;const r=e.indexOf("/",7);let n;if(n=r===-1?e:e.slice(0,r),n=n.toLowerCase().slice(7),WSe.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return cxe()&&n===ki.authority&&!HSe.test(e)||(L3()&&n===ki.authority||t&&t.some(i=>n===i||n.endsWith(`.${i}`))||L3()&&!bO(e))&&(e=O6(e)),e}function N3(e,t,r){if(!(t&&r&&e&&ro(e)))return e;const n=e.indexOf("//"),i=e.indexOf("/",n+2),s=e.indexOf(":",n+2),o=Math.min(i<0?e.length:i,s<0?e.length:s);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(o)}`}function F3(e){return typeof e=="string"?new dc(Bo(e)):(e.scheme||(e.scheme=ki.scheme),e)}function cgt(e){return gxe.test(e)}function hte(e,t){const r=Vi(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function pte(e,t,r){const n=Vi(e),i=n.query||{};return i[t]=String(r),`${n.path}?${c_(i)}`}function YA(e,t){const r=Vi(e),n=r.query||{};for(const s in t)n[s]=t[s];const i=c_(n);return i?`${r.path}?${i}`:r.path}function dgt(e){if(G(e))return null;const t=e.match(fte);return t?t[2]:null}function vU(e){if(G(e))return null;const t=e.match(fte);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}const fte=/([^.]*)\.([^\/]*)$/,gxe=/(^data:image\/svg|\.svg$)/i,mte="20230301",yte="2657e728c1857e6d94c324181c0788310bb0958a",gte="4.26",vxe={async request(e,t){var a,l;const{default:r}=await Y(()=>Promise.resolve().then(()=>Lxe),void 0),n=e.options,i=n.responseType;n.signal=t==null?void 0:t.signal,n.responseType=i==="native"||i==="native-request-init"?"native-request-init":i&&["blob","json","text"].includes(i)&&((a=ute(e.url))!=null&&a.after)?i:"array-buffer";const s=await r(e.url,n),o={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch((l=s.requestOptions)==null?void 0:l.responseType){case"native-request-init":return delete o.data.signal,o;case"blob":o.data=await o.data.arrayBuffer();break;case"json":o.data=new TextEncoder().encode(JSON.stringify(o.data)).buffer;break;case"text":o.data=new TextEncoder().encode(o.data).buffer}return{result:o,transferList:[o.data]}}};let Ct;function hgt(e){Ct=e}function pgt(e){const t=Ct&&Ct.findCredential(e);return t&&t.token?pte(e,"token",t.token):e}Z("host-webworker");const bxe=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function vte(e){const t=Ha(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!bxe.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function wxe(e,t,r=!1,n){return new Promise((i,s)=>{if(Xa(n))return void s(bU());let o=()=>{u(),s(new Error(`Unable to load ${t}`))},a=()=>{const d=e;u(),i(d)},l=()=>{if(!e)return;const d=e;u(),d.src="",s(bU())};const u=()=>{Z("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,C(n)&&n.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t)};C(n)&&n.addEventListener("abort",l),Z("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function bU(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}function _xe(e){yt.request.crossOriginNoCorsDomains||(yt.request.crossOriginNoCorsDomains={});const t=yt.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[Ha(r)??""]=0:(t[Ha("http://"+r)??""]=0,t[Ha("https://"+r)??""]=0)}function Sxe(e){const t=yt.request.crossOriginNoCorsDomains;if(t){let r=Ha(e);if(r)return r=r.toLowerCase(),!c0(r,x6())&&t[r]<Date.now()-36e5}return!1}async function xxe(e){var i;const t=yt.request.crossOriginNoCorsDomains,r=Ha(e);t&&r&&(t[r.toLowerCase()]=Date.now());const n=Vi(e);e=n.path,((i=n.query)==null?void 0:i.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function Tt(e,t){var u;const r=Am(e),n=wO(e);n||r||(e=Xo(e));const i={url:e,requestOptions:{...t}};let s=ute(e);if(s){const d=await Axe(s,i);if(d!=null)return{data:d,getHeader:C6,httpStatus:200,requestOptions:i.requestOptions,url:i.url};s.after||s.error||(s=null)}if(e=i.url,(t=i.requestOptions).responseType==="image"){if(Z("host-webworker")||Z("host-node"))throw Ua("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i)}else if(r)throw Ua("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),i);if(t.method==="head"){if(t.body)throw Ua("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(r||n)throw Ua("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await Ixe(),hT)return hT.execute(e,t);const o=new AbortController;Zo(t,()=>o.abort());const a={controller:o,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:s,params:i,redoRequest:!1,useIdentity:La.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},l=await kxe(a);return(u=s==null?void 0:s.after)==null||u.call(s,l),l}let hT;const La=yt.request,bte="FormData"in globalThis,$xe=[499,498,403,401],Exe=["COM_0056","COM_0057","SB_0008"],Txe=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],C6=()=>null,pT=Symbol();function Mxe(e){const t=Ha(e);t&&!Tt._corsServers.includes(t)&&Tt._corsServers.push(t)}function wU(e){const t=Ha(e);return!t||t.endsWith(".arcgis.com")||Tt._corsServers.includes(t)||E6(t)}function Ua(e,t,r,n){let i="Error";const s={url:r.url,requestOptions:r.requestOptions,getHeader:C6,ssl:!1};if(t instanceof V)return t.details?(t.details=B(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=s,t;if(t){const o=n&&(u=>n.headers.get(u)),a=n&&n.status,l=t.message;l&&(i=l),o&&(s.getHeader=o),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||a||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=pT in t?t[pT]:t}return ia(t)?kr():new V(e,i,s)}async function Ixe(){Z("host-webworker")?hT||(hT=await Y(()=>import("./request-0b5c95d5.js"),[])):Tt._abortableFetch||(Tt._abortableFetch=globalThis.fetch.bind(globalThis))}async function D3(){Ct||await Y(()=>import("./IdentityManager-458491a7.js"),[])}async function Oxe(e){var a;const t=e.params.url,r=e.params.requestOptions,n=e.controller.signal,i=r.body;let s=null,o=null;if(bte&&"HTMLFormElement"in globalThis&&(i instanceof FormData?s=i:i instanceof HTMLFormElement&&(s=new FormData(i))),typeof i=="string"&&(o=i),e.fetchOptions={cache:r.cacheBust&&!Tt._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:La.priority,redirect:"follow",signal:n},(s||o)&&(e.fetchOptions.body=s||o),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(a=r.query)!=null&&a.token||s!=null&&s.get("token")),!e.hasToken&&yt.apiKey&&vte(t)&&(r.query||(r.query={}),r.query.token=yt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!wte(t)&&!Xa(n)){let l;r.authMode==="immediate"?(await D3(),l=await Ct.getCredential(t,{signal:n}),e.credential=l):r.authMode==="no-prompt"?(await D3(),l=await Ct.getCredential(t,{prompt:!1,signal:n}).catch(()=>{}),e.credential=l):Ct&&(l=Ct.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function wte(e){return Txe.some(t=>t.test(e))}async function Cxe(e){let t=e.params.url;const r=e.params.requestOptions,n=e.fetchOptions??{},i=wO(t)||Am(t),s=r.responseType||"json",o=i?0:r.timeout!=null?r.timeout:La.timeout;let a=!1;if(!i){e.useSSL&&(t=O6(t)),r.cacheBust&&n.cache==="default"&&(t=pte(t,"request.preventCache",Date.now()));let f={...r.query};e.credentialToken&&(f.token=e.credentialToken);let y=c_(f);Z("esri-url-encodes-apostrophe")&&(y=y.replace(/'/g,"%27"));const v=t.length+1+y.length;let g;a=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||v>La.maxUrlLength;const b=r.useProxy||!!bO(t);if(b){const w=QSe(t);g=w.path,!a&&g.length+1+v>La.maxUrlLength&&(a=!0),w.query&&(f={...w.query,...f})}if(n.method==="HEAD"&&(a||b)){if(a)throw v>La.maxUrlLength?Ua("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Ua("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(b)throw Ua("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(a?(n.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=YA(t,f):(n.body=c_(f),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=YA(t,f),b&&(e.useProxy=!0,t=`${g}?${t}`),f.token&&bte&&n.body instanceof FormData&&!USe(t)&&n.body.set("token",f.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!c0(t,x6())){if(E6(t))e.withCredentials=!0;else if(Ct){const w=Ct.findServerInfo(t);w&&w.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(n.credentials="include",Sxe(t)&&await xxe(a?YA(t,f):t))}let l,u,d=0,p=!1;o>0&&(d=setTimeout(()=>{p=!0,e.controller.abort()},o));try{if(r.responseType==="native-request-init")u=n,u.url=t;else if(r.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||a||Pxe(r.headers)||!i&&!e.useProxy&&La.proxyUrl&&!wU(t)){if(l=await Tt._abortableFetch(t,n),e.useProxy||Mxe(t),r.responseType==="native")u=l;else if(n.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":u=await l.arrayBuffer();break;case"blob":case"image":u=await l.blob();break;default:u=await l.text()}if(d&&(clearTimeout(d),d=0),s==="json"||s==="xml"||s==="document")if(u)switch(s){case"json":u=JSON.parse(u);break;case"xml":u=_U(u,"application/xml");break;case"document":u=_U(u,"text/html")}else u=null;if(u){if(s==="array-buffer"||s==="blob"){const f=l.headers.get("Content-Type");if(f&&/application\/json|text\/plain/i.test(f)&&u[s==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(u).json();y.error&&(u=y)}catch{}}s==="image"&&u instanceof Blob&&(u=await SU(URL.createObjectURL(u),e,!0))}}else u=await l.text()}else u=await SU(t,e)}catch(f){if(f.name==="AbortError")throw p?new Error("Timeout exceeded"):kr("Request canceled");if(!(!l&&f instanceof TypeError&&La.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||wU(t))throw f;e.redoRequest=!0,exe({proxyUrl:La.proxyUrl,urlPrefix:Ha(t)??""})}finally{d&&clearTimeout(d)}return[l,u]}async function Axe(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(i){r=Ua("request:interceptor",i,t)}if((n instanceof Error||n instanceof V)&&(r=Ua("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}function Pxe(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function _U(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function kxe(e){var s;let t,r;await Oxe(e);try{do[t,r]=await Cxe(e);while(!await Rxe(e,t,r))}catch(o){const a=Ua("request:server",o,e.params,t);throw a.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(a),a}const n=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&((s=r.user)!=null&&s.username)&&!E6(n)){const o=Ha(n,!0);o&&La.trustedServers.push(o)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&_xe(r.authorizedCrossOriginNoCorsDomains)}const i=e.credential;if(i&&Ct){const o=Ct.findServerInfo(i.server);let a=o&&o.owningSystemUrl;if(a){a=a.replace(/\/?$/,"/sharing");const l=Ct.findCredential(a,i.userId);l&&Ct._getIdenticalSvcIdx(a,l)===-1&&l.resources.unshift(a)}}return{data:r,getHeader:t?o=>t==null?void 0:t.headers.get(o):C6,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function Rxe(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let i,s;if(!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[pT]=r,i;r&&(r.error?i=r.error:r.status==="error"&&Array.isArray(r.messages)&&(i={...r},i[pT]=r,i.details=r.messages));let o,a=null;i&&(s=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,o=i.messageCode,o=o&&o.toUpperCase());const l=n.authMode;if(s===403&&(a===4||i.message&&i.message.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&$xe.includes(s)&&!wte(e.params.url)&&(s!==403||o&&!Exe.includes(o)&&(a==null||a===2&&e.credentialToken))){await D3();try{const u=await Ct.getCredential(e.params.url,{error:Ua("request:server",i,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=u,e.credentialToken=u.token,e.useSSL=e.useSSL||u.ssl,!1}catch(u){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;i=u}}if(i)throw i;return!0}function SU(e,t,r=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=La.priority,i.src=e,wxe(i,e,r,n)}Tt._abortableFetch=null,Tt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const Lxe=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"}));async function Nxe(e,t,r,n){const i=t.exec(r);if(!i)throw new V("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const s=i[1]?`${i[1]}/`:"",o=i[2],a=LSe(n),l=`${s}${o}.json`,u=a?`${s}${o}_${a}.json`:l;let d;try{d=await xU(e(u))}catch(p){if(u===l)throw new V("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:p});try{d=await xU(e(l))}catch(f){throw new V("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:f})}}return d}async function xU(e){if(C($U.fetchBundleAsset))return $U.fetchBundleAsset(e);const t=await Tt(e,{responseType:"text"});return JSON.parse(t.data)}let Fxe=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let i;i=typeof n=="string"?s=>new URL(s,new URL(n,window.location.href)).href:n instanceof URL?s=>new URL(s,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,r){return Nxe(this.getAssetUrl,this.matcher,t,r)}};function Dxe(e){return new Fxe(e)}const $U={},jxe=oe.getLogger("esri.assets");function $t(e){if(!yt.assetsPath)throw jxe.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new V("assets:path-not-set","config.assetsPath is not set");return lm(yt.assetsPath,e)}RSe(Dxe({pattern:"esri/",location:$t}));function mgt(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function Vxe(e,t){for(const r of e)if(r!=null&&t(r))return r}function fT(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let zi=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(fT(t)){const n=this._getOrCreateGroup(r);for(const i of t)this._isHandle(i)&&n.push(i)}else this._isHandle(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&r&&n.forEach(r)}}has(t){return this._groups.has(this._ensureGroupKey(t))}remove(t){if(typeof t!="string"&&fT(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(this._removeAllFromGroup(this._getGroup(t)),this._groups.delete(this._ensureGroupKey(t)),this):this}removeAll(){return this._groups.forEach(t=>this._removeAllFromGroup(t)),this._groups.clear(),this}_isHandle(t){return t&&!!t.remove}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(this._ensureGroupKey(t),r),r}_getGroup(t){return this._groups.get(this._ensureGroupKey(t))}_ensureGroupKey(t){return t||"_default_"}_removeAllFromGroup(t){t.forEach(r=>r.remove())}};function _O(e){return av(()=>e.forEach(t=>C(t)&&t.remove()))}function av(e){return{remove:()=>{e&&(e(),e=void 0)}}}function zxe(e){return e&&e.release&&typeof e.release=="function"}function Uxe(e){return e&&e.acquire&&typeof e.acquire=="function"}let Gh=class j3{constructor(t,r,n,i=1,s=0){if(this._ctor=t,this._acquireFunction=r,this._releaseFunction=n,this.allocationSize=i,this._pool=new Array(s),this._initialSize=s,this._ctor)for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let r;if(j3.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let i=0;i<n;i++)this._pool[i]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):Uxe(r)&&r.acquire(...t),r}release(t){t&&!j3.test.disabled&&(this._releaseFunction?this._releaseFunction(t):zxe(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const n=this._pool[r];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};Gh.test={disabled:!1};function Bxe(e){e.length=0}let ts=class{constructor(t=50,r=50){this._pool=new Gh(Array,void 0,Bxe,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return ZA.acquire()}static release(t){return ZA.release(t)}static prune(){ZA.prune()}};const ZA=new ts(100);let _te=class extends Gh{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=Z_e(this._set)}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const Ux=[];function mT(e){Ux.push(e),Ux.length===1&&queueMicrotask(()=>{const t=Ux.slice();Ux.length=0;for(const r of t)r()})}let uw=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}record(t){C(t)&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var V3;(function(e){const t=(s,o,a,l)=>{let u=o,d=o;const p=a>>>1,f=s[u-1];for(;d<=p;){d=u<<1,d<a&&l(s[d-1],s[d])<0&&++d;const y=s[d-1];if(l(y,f)<=0)break;s[u-1]=y,u=d}s[u-1]=f},r=(s,o)=>s<o?-1:s>o?1:0;function n(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let d=a>>>1;d>o;d--)t(s,d,a,l);const u=o+1;for(let d=a-1;d>o;d--){const p=s[o];s[o]=s[d],s[d]=p,t(s,u,d,l)}}function*i(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let d=a>>>1;d>o;d--)t(s,d,a,l),yield;const u=o+1;for(let d=a-1;d>o;d--){const p=s[o];s[o]=s[d],s[d]=p,t(s,u,d,l),yield}}e.sort=n,e.iterableSort=i})(V3||(V3={}));const EU=V3,Gxe=1.5,qxe=1.1;let Gf=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Nee,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>TU(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&r.push(i)}return r}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}includes(t,r){const n=this.data.indexOf(t,r);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let n=0;n<r;n++)this.data[this._length++]=t[n]}fill(t,r){for(let n=0;n<r;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,TU(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=I3(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(I3(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=tSe(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const n=this.data[t];this.data[t]=this.data[r],this.data[r]=n}sort(t){EU.sort(this.data,0,this.length,t)}iterableSort(t){return EU.iterableSort(this.data,0,this.length,t)}some(t,r){for(let n=0;n<this.length;++n)if(t.call(r,this.data[n],n,this.data))return!0;return!1}find(t,r){for(let n=0;n<this.length;++n){const i=this.data[n];if(t.call(r,i,n))return i}}filterInPlace(t,r){let n=0;for(let i=0;i<this._length;++i){const s=this.data[i];t.call(r,s,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=s,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,r){const n=this.length,i=this.data;for(let s=0;s<n;++s)t.call(r,i[s],s,i)}forEach(t,r){for(let n=0;n<this.length;++n)t.call(r,this.data[n],n,this.data)}map(t,r){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(r,this.data[i],i,this.data);return n}reduce(t,r){let n=r;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const r=this.length,n=this.data;for(let i=0;i<r;++i)if(n[i]===t)return!0;return!1}};function TU(e){e.data.length>Gxe*e.length&&(e.data.length=Math.floor(e.length*qxe))}function _gt(e){return e}let Wxe=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},Hxe=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},z3=0;const p1={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},U3=["prepare","preRender","render","postRender","update","finish"],B3=[],um=new Gf;let Kxe=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};const yT={frameTasks:um,willDispatch:!1,clearFrameTasks:Jxe,dispatch:$te,executeFrameTasks:Yxe};function lv(e){const t=new Hxe(e);return B3.push(t),yT.willDispatch||(yT.willDispatch=!0,mT($te)),t}function d0(e){const t=new Wxe(e);return um.push(t),gT==null&&(z3=performance.now(),gT=requestAnimationFrame(Ste)),new Kxe(t)}let gT=null;function Jxe(e=!1){um.forAll(t=>{t.removed=!0}),e&&xte()}function Ste(){const e=performance.now();gT=null,gT=um.length>0?requestAnimationFrame(Ste):null,yT.executeFrameTasks(e)}function Yxe(e){const t=e-z3;z3=e;const r=1e3/60,n=Math.max(0,t-r);p1.time=e,p1.frameDuration=r-n;for(let i=0;i<U3.length;i++){const s=performance.now(),o=U3[i];um.forAll(a=>{var l;a.paused||a.removed||(i===0&&a.ticks++,a.phases[o]&&(p1.elapsedFrameTime=performance.now()-e,p1.deltaTime=a.ticks===0?0:t,(l=a.phases[o])==null||l.call(a,p1)))}),Zxe[i].record(performance.now()-s)}xte(),Xxe.record(performance.now()-e)}const Bx=new Gf;function xte(){um.forAll(e=>{e.removed&&Bx.push(e)}),um.removeUnorderedMany(Bx.data,Bx.length),Bx.clear()}function $te(){for(;B3.length;){const e=B3.shift();e.isActive&&e.callback()}yT.willDispatch=!1}function Egt(e=1,t){const r=PSe(),n=()=>{Xa(t)?r.reject(kr()):e===0?r():(--e,mT(()=>n()))};return n(),r.promise}const Zxe=U3.map(e=>new uw(e)),Xxe=new uw("total");function Qxe(e,t){for(const r of e.entries())if(t(r[0]))return!0;return!1}let e$e=0;function cw(){return++e$e}function ji(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function t$e(e,t){return e!=null&&e.metadatas&&e.metadatas[t]!=null}function _2(e,t,r){return r?vT(e,t,{policy:r,path:""}):vT(e,t,null)}function vT(e,t,r){return t?Object.keys(t).reduce((n,i)=>{let s=null,o="merge";if(r&&(s=r.path?`${r.path}.${i}`:i,o=r.policy(s)),o==="replace"||o==="replace-arrays"&&Array.isArray(n[i]))return n[i]=t[i],n;if(n[i]===void 0)return n[i]=B(t[i]),n;let a=n[i],l=t[i];if(a===l)return n;if(Array.isArray(l)||Array.isArray(n))a=a?Array.isArray(a)?n[i]=a.concat():n[i]=[a]:n[i]=[],l&&(Array.isArray(l)||(l=[l]),l.forEach(u=>{a.includes(u)||a.push(u)}));else if(l&&typeof l=="object")if(r){const u=r.path;r.path=s,n[i]=vT(a,l,r),r.path=u}else n[i]=vT(a,l,null);else n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[i]=l);return n},e||{}):e}function Ete(e){return Array.isArray(e)?e:e.split(".")}function MU(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function r$e(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...MU(r));return t}return MU(e)}function Tte(e,t,r,n){const i=r$e(t);if(i.length!==1){const s=i.map(o=>n(e,o,r));return _O(s)}return n(e,i[0],r)}function Mte(e){let t=!1;return()=>{t||(t=!0,e())}}function Ite(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.getItemAt(i)}const n=ji(t);return t$e(n,r)?n.get(r):t[r]}function Ote(e,t,r){if(e==null)return e;const n=Ite(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:Ote(n,t,r+1)}function TS(e,t,r=0){return typeof t!="string"||t.includes(".")?Ote(e,Ete(t),r):Ite(t,e)}function bT(e,t){return TS(e,t)}function IU(e,t){return TS(t,e)!==void 0}var Vt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Vt||(Vt={}));const wT={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},J1=[];let dw=wT;function et(e){dw.onObservableAccessed(e)}let S2=!1,x2=!1;function $c(e,t,r){if(S2)return A6(e,t,r);Cte(e);const n=t.call(r);return Ate(),n}function n$e(e,t){return $c(wT,e,t)}function A6(e,t,r){const n=S2;S2=!0,Cte(e);let i=null;try{i=t.call(r)}catch(s){x2&&oe.getLogger("esri.core.accessorSupport.tracking").error(s)}return Ate(),S2=n,i}function Cte(e){dw=e,J1.push(e)}function Ate(){const e=J1.length;if(e>1){const t=J1.pop();dw=J1[e-2],t.onTrackingEnd()}else if(e===1){const t=J1.pop();dw=wT,t.onTrackingEnd()}else dw=wT}function Pte(e,t){const r=t.observerObject;if(r.flags&Vt.DepTrackingInitialized)return;const n=x2;x2=!1,r.flags&Vt.AutoTracked?A6(t,t.metadata.get,e):kte(e,t),x2=n}const i$e=[];function kte(e,t){const r=t.observerObject;r.flags&Vt.ExplicitlyTracking||(r.flags|=Vt.ExplicitlyTracking,A6(t,()=>{const n=t.metadata.dependsOn||i$e;for(const i of n)if(typeof i!="string"||i.includes(".")){const s=Ete(i);for(let o=0,a=e;o<s.length&&a!=null&&typeof a=="object";++o)a=OU(a,s[o],o!==s.length-1)}else OU(e,i,!1)}),r.flags&=~Vt.ExplicitlyTracking)}function OU(e,t,r){var s;const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const o=parseInt(n,10);if(!isNaN(o))return Array.isArray(e)?e[o]:e.getItemAt(o)}const i=(s=ji(e))==null?void 0:s.properties.get(n);return i&&(et(i.observerObject),Pte(e,i)),r?e[n]:void 0}let SO=class{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._observerObject=new s$e(this._notify),CU.register(this,this._observerObject)}destroy(){var t;this._accessed.length=0,(t=this._observerObject)==null||t.destroy(),this.clear(),CU.unregister(this)}onObservableAccessed(t){const r=this._accessed;r.includes(t)||r.push(t)}onTrackingEnd(){const t=this._handles,r=this._accessed,n=this._observerObject;for(let i=0;i<r.length;++i)t.push(r[i].observe(n));r.length=0}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}},s$e=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=o$e}};const CU=new FinalizationRegistry(e=>{e.destroy()});function o$e(){}let Fg=!1;const _T=[];function Rte(e,t){let r=new SO(s),n=null,i=!1;function s(){if(!r||i)return;if(Fg)return void Fte(s);const a=n;r.clear(),Fg=!0,i=!0,n=$c(r,e),i=!1,Fg=!1,t(n,a),Dte()}function o(){r&&(r.destroy(),r=null,n=null)}return i=!0,n=$c(r,e),i=!1,{remove:o}}function Lte(e,t){let r=new SO(i),n=null;function i(){t(n,o)}function s(){r&&(r.destroy(),r=null),n=null}function o(){return r?(r.clear(),n=$c(r,e),n):null}return o(),{remove:s}}function Nte(e){let t=new SO(n),r=!1;function n(){t&&!r&&(Fg?Fte(n):(t.clear(),Fg=!0,r=!0,$c(t,e),r=!1,Fg=!1,Dte()))}function i(){t&&(t.destroy(),t=null)}return r=!0,$c(t,e),r=!1,{remove:i}}function Fte(e){_T.includes(e)||_T.unshift(e)}function Dte(){for(;_T.length;)_T.pop()()}var hw;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(hw||(hw={}));let d_=class{constructor(){this.uid=cw(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,n,i,s){return this.pool.acquire(hw.Untracked,t,r,n,i,s,p6)}static acquireTracked(t,r,n,i){return this.pool.acquire(hw.Tracked,t,r,n,null,null,i)}notify(t,r){this.type===hw.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r)}acquire(t,r,n,i,s,o,a){this.uid=cw(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=n,this.getValue=i,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=cw(),this.removed=!0}};d_.pool=new _te(d_);const $2=new ts,hc=new Set;let ST;function xT(e){hc.delete(e),hc.add(e),ST||(ST=lv(u$e))}function a$e(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function l$e(e){for(const t of hc.values())t.target===e&&(t.removed=!0)}function u$e(){let e=10;for(;ST&&e--;){ST=null;const t=c$e(),r=$2.acquire();for(const n of t){const i=n.uid;a$e(n),i===n.uid&&n.removed&&r.push(n)}for(const n of hc)n.removed&&(r.push(n),hc.delete(n));for(const n of r)d_.pool.release(n);$2.release(r),$2.release(t),G3.forEach(n=>n())}}function c$e(){const e=$2.acquire();e.length=hc.size;let t=0;for(const r of hc)e[t]=r,++t;return hc.clear(),e}const G3=new Set;function d$e(e){return G3.add(e),{remove(){G3.delete(e)}}}function h$e(e,t,r){let n=Tte(e,t,r,(i,s,o)=>{let a,l,u=Lte(()=>TS(i,s),(d,p)=>{i.__accessor__.destroyed||a&&a.uid!==l?n.remove():(a||(a=d_.acquireUntracked(d,o,p,i,s),l=a.uid),xT(a))});return{remove:Mte(()=>{u.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,xT(a)),a=null),n=u=null})}});return n}function p$e(e,t,r){const n=Tte(e,t,r,(i,s,o)=>{let a=!1;return Rte(()=>TS(i,s),(l,u)=>{i.__accessor__.destroyed?n.remove():a||(a=!0,p6(u,l)||o.call(i,l,u,s,i),a=!1)})});return n}function f$e(e,t,r,n=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:n?p$e(e,t,r):h$e(e,t,r)}function m$e(e,t,r){let n,i,s=Lte(e,(o,a)=>{n&&n.uid!==i?s.remove():(n||(n=d_.acquireTracked(o,t,a,r),i=n.uid),xT(n))});return{remove:Mte(()=>{s.remove(),n&&(n.uid!==i||n.removed||(n.removed=!0,xT(n)),n=null),s=null})}}function y$e(e,t,r){let n=!1;return Rte(e,(i,s)=>{n||(n=!0,r(s,i)||t(i,s),n=!1)})}function g$e(e,t,r=!1,n=hSe){return r?y$e(e,t,n):m$e(e,t,n)}function AU(e){return Qxe(hc,t=>t.oldValue===e)}function ue(e,t,r={}){return P6(e,t,r,jte)}function Ni(e,t,r={}){return P6(e,t,r,Vte)}function P6(e,t,r={},n){let i=null;const s=r.once?(o,a)=>{n(o)&&(sn(i),t(o,a))}:(o,a)=>{n(o)&&t(o,a)};if(i=g$e(e,s,r.sync,r.equals),r.initial){const o=e();s(o,o)}return i}function As(e,t,r,n={}){let i=null,s=null,o=null;function a(){var d;i&&s&&(s.remove(),(d=n.onListenerRemove)==null||d.call(n,i),i=null,s=null)}function l(d){n.once&&n.once&&sn(o),r(d)}const u=ue(e,(d,p)=>{var f;a(),yO(d)&&(i=d,s=gO(d,t,l),(f=n.onListenerAdd)==null||f.call(n,d))},{sync:n.sync,initial:!0});return o=av(()=>{u.remove(),a()}),o}function h_(e,t){return v$e(e,Vte,t)}function v$e(e,t,r){if(Xa(r))return Promise.reject(kr());const n=e();if(t!=null&&t(n))return Promise.resolve(n);let i=null;function s(){i=sn(i)}return new Promise((o,a)=>{i=_O([Zo(r,()=>{s(),a(kr())}),P6(e,l=>{s(),o(l)},{sync:!1,once:!0},t??jte)])})}function jte(e){return!0}function Vte(e){return!!e}const h0={sync:!0},mt={initial:!0},wp={sync:!0,initial:!0};function xO(e,t){for(const[r,n]of e)if(t(n,r))return!0;return!1}function zte(e,t,r){const n=e.get(t);if(n!==void 0)return n;const i=r();return e.set(t,i),i}const Dg=oe.getLogger("esri.core.accessorSupport.ensureTypes");function b$e(e){return e==null?e:new Date(e)}function w$e(e){return e==null?e:!!e}function MS(e){return e==null?e:e.toString()}function zo(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function k6(e){return e==null?e:Math.round(parseFloat(e))}function Ute(e){return e&&e.constructor&&e.constructor.__accessorMetadata__!==void 0}function $T(e,t){return t!=null&&e&&!(t instanceof e)}function Bte(e){return e&&"isCollection"in e}function PU(e){return e&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function _$e(e,t){if(!t||!t.constructor||!Bte(t.constructor))return q3(e,t)?t:new e(t);const r=PU(e.prototype.itemType),n=PU(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(q3(e,t),t):new e(t):t}function q3(e,t){return!!Ute(t)&&(Dg.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+$O(e)+"'"),!0)}function R6(e,t){return t==null?t:Bte(e)?_$e(e,t):$T(e,t)?q3(e,t)?t:new e(t):t}function $O(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const S$e=new WeakMap;function x$e(e){switch(e){case Number:return zo;case Gt:return k6;case Boolean:return w$e;case String:return MS;case Date:return b$e;default:return zte(S$e,e,()=>R6.bind(null,e))}}function qt(e,t){const r=x$e(e);return arguments.length===1?r:r(t)}function p_(e,t,r){return arguments.length===1?p_.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,r)):[e(t,r)])}function $$e(e,t){return arguments.length===1?p_(qt.bind(null,e)):p_(qt.bind(null,e),t)}function Gte(e,t,r){return t!==0&&Array.isArray(r)?r.map(n=>Gte(e,t-1,n)):e(r)}function ET(e,t,r){if(arguments.length===2)return ET.bind(null,e,t);if(!r)return r;let n=t,i=r=Gte(e,t,r);for(;n>0&&Array.isArray(i);)n--,i=i[0];if(i!==void 0)for(let s=0;s<n;s++)r=[r];return r}function E$e(e,t,r){return arguments.length===2?ET(qt.bind(null,e),t):ET(qt.bind(null,e),t,r)}function qte(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function W3(e,t){if(arguments.length===2)return W3(e).call(null,t);const r=new Set,n=e.filter(a=>typeof a!="function"),i=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const u=typeof a,d=u==="string"||u==="number";return d&&(r.has(a)||i.some(p=>u==="string"&&p===String||u==="number"&&p===Number))||u==="object"&&i.some(p=>!$T(a,p))?a:(d&&n.length?(s||(s=n.map(p=>typeof p=="string"?`'${p}'`:`${p}`).join(", ")),Dg.error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&i.length?(o||(o=i.map(p=>$O(p)).join(", ")),Dg.error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):Dg.error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function tu(e,t){if(arguments.length===2)return tu(e).call(null,t);const r={},n=[],i=[];for(const l in e.typeMap){const u=e.typeMap[l];r[l]=qt(u),n.push($O(u)),i.push(l)}const s=()=>`'${n.join("', '")}'`,o=()=>`'${i.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!$T(e.base,l)||l==null)return l;const u=a(l)||e.defaultKeyValue,d=r[u];if(!d)return Dg.error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!$T(e.typeMap[u],l))return l;if(typeof e.key=="string"&&!Ute(l)){const p={};for(const f in l)f!==e.key&&(p[f]=l[f]);return d(p)}return d(l)}}let Gt=class{};const Cgt={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function T$e(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function Wte(e){switch(e.type){case"native":return qt(e.value);case"array":return p_(Wte(e.value));case"one-of":return M$e(e);default:return null}}function M$e(e){let t=null;return(r,n)=>K3(r,e)?r:(t==null&&(t=H3(e)),Dg.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function H3(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Gt:return"integer";case Date:return"date";default:return $O(e.value)}case"array":return`array of ${H3(e.value)}`;case"one-of":{const t=e.values.map(r=>H3(r));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function K3(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Gt:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!K3(r,t.value));case"one-of":return t.values.some(r=>K3(e,r))}}function IS(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const n in t)t[n]=B(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function EO(e,t){const r=IS(e);let n=r[t];return n||(n=r[t]={}),n}function I$e(e,t){return _2(e,t,C$e)}const O$e=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function C$e(e){return O$e.test(e)?"replace":"merge"}function TT(e,t,r){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))TT(e,n,t[n]);else{if(t.includes(".")){const i=t.split("."),s=i.splice(i.length-1,1)[0];return void TT(bT(e,i),s,r)}const n=e.__accessor__;n!=null&&A$e(t,n),e[t]=r}}function A$e(e,t){if(Z("esri-unknown-property-errors")&&!P$e(e,t))throw new V("set:unknown-property",k$e(e,t))}function P$e(e,t){return t.metadatas[e]!=null}function k$e(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}function h(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,r),i=EO(t,r);n&&(n.get||n.set?(i.get=n.get||i.get,i.set=n.set||i.set):"value"in n&&("value"in e&&oe.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=n.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,u=typeof s=="string"?null:s.overridable===!0;let d;i.dependsOn=[l],i.get=function(){let p=bT(this,l);if(typeof p=="function"){d||(d=l.split(".").slice(0,-1).join("."));const f=bT(this,d);f&&(p=p.bind(f))}return p},i.readOnly||(i.set=u?function(p){this._override(r,p)}:function(p){TT(this,l,p)})}const o=e.type,a=e.types;i.cast||(o?i.cast=R$e(o):a&&(Array.isArray(a)?i.cast=p_(tu(a[0])):i.cast=tu(a))),I$e(i,e),e.range&&(i.cast=L$e(i.cast,e.range))}}function Hte(e,t,r){const n=EO(e,r);n.json||(n.json={});let i=n.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function R$e(e){let t=0,r=e;if(T$e(e))return Wte(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const n=r;if(qte(n))return t===0?W3(n):ET(W3(n),t);if(t===1)return $$e(n);if(t>1)return E$e(n,t);const i=e;return i.from?i.from:qt(i)}function L$e(e,t){return r=>{let n=+e(r);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}const Kte=Symbol("Accessor-beforeDestroy");var Qu;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(Qu||(Qu={}));function N$e(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const n in r)if(t[n]){const i=t[n];r[n].forEach(s=>{t[s]=i}),delete t[n]}}}let ta=class J3 extends Zee{constructor(t,r,n){if(super(t,r,n),!(this instanceof J3))return new J3(t,r,n)}};ta.prototype.type="warning";function Jte(e){return!!e&&e.prototype&&e.prototype.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const Y3=oe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function kU(e,t,r){var n,i;e&&(!r&&!t.read||(n=t.read)!=null&&n.reader||((i=t.read)==null?void 0:i.enabled)===!1||j$e(e)&&Di("read.reader",qh(e),t))}function qh(e){var r,n;const t=e.ndimArray??0;if(t>1)return D$e(e);if(t===1)return RU(e);if("type"in e&&Zte(e.type)){const i=(n=(r=e.type.prototype)==null?void 0:r.itemType)==null?void 0:n.Type,s=RU(typeof i=="function"?{type:i}:{types:i});return(o,a,l)=>{const u=s(o,a,l);return u&&new e.type(u)}}return L6(e)}function L6(e){return"type"in e?F$e(e.type):V$e(e.types)}function F$e(e){return e.prototype.read?(t,r,n)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void Y3.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const s=new e;return s.read(t,n),s}:e.fromJSON}function Yte(e,t,r,n){return n!==0&&Array.isArray(t)?t.map(i=>Yte(e,i,r,n-1)):e(t,void 0,r)}function D$e(e){const t=L6(e),r=Yte.bind(null,t),n=e.ndimArray??0;return(i,s,o)=>{if(i==null)return i;i=r(i,o,n);let a=n,l=i;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let u=0;u<a;u++)i=[i];return i}}function RU(e){const t=L6(e);return(r,n,i)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const l=t(a,void 0,i);l!==void 0&&o.push(l)}return o}const s=t(r,void 0,i);return s!==void 0?[s]:void 0}}function Zte(e){if(!Jte(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?N6(t.Type):Xte(t.Type))}function j$e(e){return"types"in e?Xte(e.types):N6(e.type)}function N6(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||Zte(e))}function Xte(e){for(const t in e.typeMap)if(!N6(e.typeMap[t]))return!1;return!0}function V$e(e){let t=null;const r=e.errorContext??"type";return(n,i,s)=>{if(n==null)return n;const o=typeof n;if(o!=="object")return void Y3.error(`Expected JSON value of type 'object' to deserialize, but got '${o}'`);t||(t=z$e(e));const a=e.key;if(typeof a!="string")return;const l=n[a],u=l?t[l]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!u){const p=`Type '${l||"unknown"}' is not supported`;return s&&s.messages&&n&&s.messages.push(new ta(`${r}:unsupported`,p,{definition:n,context:s})),void Y3.error(p)}const d=new u;return d.read(n,s),d}}function z$e(e){var r,n;const t={};for(const i in e.typeMap){const s=e.typeMap[i],o=IS(s.prototype);if(typeof e.key=="function")continue;const a=o[e.key];if(!a)continue;(r=a.json)!=null&&r.type&&Array.isArray(a.json.type)&&a.json.type.length===1&&typeof a.json.type[0]=="string"&&(t[a.json.type[0]]=s);const l=(n=a.json)==null?void 0:n.write;if(!l||!l.writer){t[i]=s;continue}const u=l.target,d=typeof u=="string"?u:e.key,p={};l.writer(i,p,d),p[d]&&(t[p[d]]=s)}return t}function U$e(e){if(e.json||(e.json={}),NU(e.json),FU(e.json),LU(e.json),e.json.origins)for(const t in e.json.origins)NU(e.json.origins[t]),FU(e.json.origins[t]),LU(e.json.origins[t]);return!0}function LU(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function NU(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function FU(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function DU(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=(e==null?void 0:e.ndimArray)??0;e&&(r===1||"type"in e&&Jte(e.type))?t.write.writer=q$e:r>1?t.write.writer=W$e(r):t.types?Array.isArray(t.types)?t.write.writer=G$e(t.types[0]):t.write.writer=B$e(t.types):t.write.writer=f_}function B$e(e){return(t,r,n,i)=>t?Qte(t,e,i)?f_(t,r,n,i):void 0:f_(t,r,n,i)}function Qte(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r!=null&&r.messages){const n=t.errorContext??"type",i=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new V(`${n}:unsupported`,i,{definition:e,context:r})),oe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(i)}return!1}function G$e(e){return(t,r,n,i)=>!t||!Array.isArray(t)?f_(t,r,n,i):f_(t.filter(s=>Qte(s,e,i)),r,n,i)}function f_(e,t,r,n){Di(r,MT(e,n),t)}function MT(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?IT(e):e}function IT(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function q$e(e,t,r,n){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(s=>MT(s,n)),typeof i.toArray=="function"&&(i=i.toArray())):i=[MT(e,n)],Di(r,i,t)}function ere(e,t,r){return r!==0&&Array.isArray(e)?e.map(n=>ere(n,t,r-1)):MT(e,t)}function W$e(e){return(t,r,n,i)=>{let s;if(t===null)s=null;else{s=ere(t,i,e);let o=e,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}Di(n,s,r)}}function Z3(e,t){return F6(e,"read",t)}function tre(e,t){return F6(e,"write",t)}function F6(e,t,r){let n=e&&e.json;if(e&&e.json&&e.json.origins&&r){const i=r.origin&&e.json.origins[r.origin];i&&(t==="any"||t in i)&&(n=i)}return n}function H$e(e){const t=K$e(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],i=n.types?J$e(n):t;kU(i,n,!1),n.types&&!n.write&&e.json.write&&e.json.write.enabled&&(n.write={...e.json.write}),DU(i,n)}kU(t,e.json,!0),DU(t,e.json)}function K$e(e){return e.json.types?X3(e.json):e.type?rre(e):X3(e)}function J$e(e){return e.type?rre(e):X3(e)}function rre(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!qte(r);)r=r[0],t++;return{type:r,ndimArray:t}}function X3(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function Y$e(e){U$e(e)&&(N$e(e),H$e(e))}const XA=new Set,QA=new Set;function O(e){return t=>{t.prototype.declaredClass=e,X$e(t);const r=[],n=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!XA.has(i.initialize)&&(XA.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!QA.has(i.destroy)&&(QA.add(i.destroy),n.push(i.destroy)),i=Object.getPrototypeOf(i);XA.clear(),QA.clear();class s extends t{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),n.length){let l=!1;const u=this[Kte];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,u.call(this);for(let d=0;d<n.length;d++)n[d].call(this)}}})}this.postscript(...a)}}}return s.__accessorMetadata__=IS(t.prototype),s.prototype.declaredClass=e,s}}function Z$e(e,t){return t.get==null?function(){const r=this.__accessor__.properties.get(e);if(r===void 0)return;et(r.observerObject);const n=this.__accessor__.store;return n.has(e)?n.get(e):r.metadata.value}:function(){const r=this.__accessor__.properties.get(e);if(r!==void 0)return r.getComputed()}}function X$e(e){const t=e.prototype,r=IS(t),n={};for(const i of Object.getOwnPropertyNames(r)){const s=r[i];Y$e(s),n[i]={enumerable:!0,configurable:!0,get:Z$e(i,s),set(o){const a=this.__accessor__;if(a!==void 0){if(!Object.isFrozen(this)){if(a.initialized&&s.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${i}' of ${this.declaredClass}`);if(a.lifecycle===Qu.CONSTRUCTED&&s.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${i}' of ${this.declaredClass}`);a.set(i,o)}}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,n)}function D6(e){return typeof e=="string"?document.getElementById(e):e??null}function nre(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function jU(e,t){const r=t.parentNode;r&&r.insertBefore(e,t)}function VU(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}let Q$e=class{constructor(t,r){this._observers=t,this._observer=r}remove(){rSe(this._observers,this._observer)}},ire=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return e2e;this._observers==null&&(this._observers=[]);const r=this._observers;let n=!1,i=!1;const s=r.length;for(let o=0;o<s;++o){const a=r[o];if(a.destroyed)i=!0;else if(a===t){n=!0;break}}return n||(r.push(t),i&&this._removeDestroyedObservers()),new Q$e(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let n=0;for(let i=0;i<r;++i){for(;i+n<r&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<r))break;t[i]=t[i+n]}}t.length=r-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const e2e={remove:()=>{}};var ft;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.USER=6]="USER"})(ft||(ft={}));const Q3=ft.USER+1;function sh(e){switch(e){case"defaults":return ft.DEFAULTS;case"service":return ft.SERVICE;case"portal-item":return ft.PORTAL_ITEM;case"web-scene":return ft.WEB_SCENE;case"web-map":return ft.WEB_MAP;case"user":return ft.USER;default:return null}}function OT(e){switch(e){case ft.DEFAULTS:return"defaults";case ft.SERVICE:return"service";case ft.PORTAL_ITEM:return"portal-item";case ft.WEB_SCENE:return"web-scene";case ft.WEB_MAP:return"web-map";case ft.USER:return"user"}return void 0}function t2e(e){return OT(e)}let zU=class{constructor(t,r,n){this.properties=t,this.propertyName=r,this.metadata=n,this.observerObject=new r2e,this._accessed=null,this._handles=null,this.observerObject.flags=Vt.Dirty|(n.nonNullable?Vt.NonNullable:0)|(n.hasOwnProperty("value")?Vt.HasDefaultValue:0)|(n.get===void 0?Vt.DepTrackingInitialized:0)|(n.dependsOn===void 0?Vt.AutoTracked:0),UU.register(this,this.observerObject)}destroy(){this.observerObject.destroy(),this._accessed=null,this._clearObservationHandles(),UU.unregister(this)}getComputed(){const t=this.observerObject;et(t);const r=this.properties.store,n=this.propertyName,i=t.flags,s=r.get(n);if(i&Vt.Computing||~i&Vt.Dirty&&r.has(n))return s;t.flags|=Vt.Computing;const o=this.properties.host;let a;i&Vt.AutoTracked?a=$c(this,this.metadata.get,o):(kte(o,this),a=this.metadata.get.call(o)),r.set(n,a,ft.COMPUTED);const l=r.get(n);return l===s?t.flags&=~Vt.Dirty:n$e(this.commit,this),t.flags&=~Vt.Computing,l}onObservableAccessed(t){t!==this.observerObject&&(this._accessed===null&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles();const t=this.observerObject;t.flags|=Vt.DepTrackingInitialized;const r=this._accessed;if(r===null)return;let n=this._handles;n===null&&(n=this._handles=[]);for(let i=0;i<r.length;++i)n.push(r[i].observe(t));r.length=0}notifyChange(){const t=this.observerObject;t.onInvalidated(),t.onCommitted()}invalidate(){this.observerObject.onInvalidated()}commit(){const t=this.observerObject;t.flags&=~Vt.Dirty,t.onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}},r2e=class extends ire{constructor(){super(...arguments),this.flags=0}onInvalidated(){~this.flags&Vt.Overriden&&(this.flags|=Vt.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onCommitted()}}destroy(){this.flags&Vt.Dirty&&this.onCommitted(),super.destroy()}};const UU=new FinalizationRegistry(e=>{e.destroy()});let n2e=class sre{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new sre;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,B(n))}),r}get(t){return this._values.get(t)}originOf(){return ft.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function Gx(e,t,r){return e!==void 0}function BU(e,t,r,n){return e!==void 0&&(!(r==null&&e.observerObject.flags&Vt.NonNullable)||(n.lifecycle,Qu.INITIALIZING,!1))}function i2e(e){return e&&typeof e.destroy=="function"}oe.getLogger("esri.core.accessorSupport.Properties");let s2e=class{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=Qu.INITIALIZING,this.store=new n2e,this._origin=ft.USER;const r=this.host.constructor.__accessorMetadata__;for(const n in r){const i=new zU(this,n,r[n]);this.properties.set(n,i)}this.metadatas=r}initialize(){this.lifecycle=Qu.CONSTRUCTING}constructed(){this.lifecycle=Qu.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[t,r]of this.properties){if(r.metadata.autoDestroy){const n=this.internalGet(t);n&&i2e(n)&&(n.destroy(),~r.observerObject.flags&Vt.NonNullable&&this._internalSet(r,null))}r.destroy()}}get initialized(){return this.lifecycle!==Qu.INITIALIZING}get(t){const r=this.properties.get(t);if(r.metadata.get)return r.getComputed();et(r.observerObject);const n=this.store;return n.has(t)?n.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const n=this.properties.get(t);if(n!==void 0&&n.observerObject.flags&Vt.HasDefaultValue)return"defaults"}return OT(r)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const r=this.properties.get(t);if(Gx(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const n=this.properties.get(t);Gx(n)&&this._internalSet(n,r)}getDependsInfo(t,r,n){const i=this.properties.get(r);if(!Gx(i))return"";const s=new Set,o=$c({onObservableAccessed:l=>s.add(l),onTrackingEnd:()=>{}},()=>{var l;return(l=i.metadata.get)==null?void 0:l.call(t)});let a=`${n}${t.declaredClass.split(".").pop()}.${r}: ${o}
`;if(s.size===0)return a;n+="  ";for(const l of s){if(!(l instanceof zU))continue;const u=l.properties.host,d=l.propertyName,p=ji(u);a+=p?p.getDependsInfo(u,d,n):`${n}${d}: undefined
`}return a}setAtOrigin(t,r,n){const i=this.properties.get(t);if(Gx(i))return this._setAtOrigin(i,r,n)}isOverridden(t){const r=this.properties.get(t);return r!==void 0&&!!(r.observerObject.flags&Vt.Overriden)}clearOverride(t){const r=this.properties.get(t),n=r==null?void 0:r.observerObject;n&&n.flags&Vt.Overriden&&(n.flags&=~Vt.Overriden,r.notifyChange())}override(t,r){const n=this.properties.get(t);if(!BU(n,t,r,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,r),{valid:o,value:a}=s;if(eP.release(s),!o)return;r=a}n.observerObject.flags|=Vt.Overriden,this._internalSet(n,r)}set(t,r){const n=this.properties.get(t);if(!BU(n,t,r,this))return;const i=n.metadata.cast;if(i){const o=this._cast(i,r),{valid:a,value:l}=o;if(eP.release(o),!a)return;r=l}const s=n.metadata.set;s?s.call(this.host,r):this._internalSet(n,r)}setDefaultOrigin(t){this._origin=sh(t)}getDefaultOrigin(){return OT(this._origin)}notifyChange(t){const r=this.properties.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.properties.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.properties.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const n=this.lifecycle!==Qu.INITIALIZING?this._origin:ft.DEFAULTS;this._setAtOrigin(t,r,n)}_setAtOrigin(t,r,n){const i=this.store,s=t.propertyName;i.has(s,n)&&p6(r,i.get(s))&&~t.observerObject.flags&Vt.Overriden&&n===i.originOf(s)||(t.invalidate(),i.set(s,r,n),t.commit(),Pte(this.host,t))}_cast(t,r){const n=eP.acquire();return n.valid=!0,n.value=r,t&&(n.value=t.call(this.host,r,n)),n}},o2e=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const eP=new Gh(o2e);var ore,are;function a2e(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const _p=Symbol("Accessor-Handles"),eL=Symbol("Accessor-Initialized");let Ie=class lre{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:n,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,i&&i.apply(this,l)}}IS(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...u){const d=this.inherited;let p;this.inherited=function(...f){if(s.prototype[a])return s.prototype[a].apply(this,f)};try{p=l.apply(this,u)}catch(f){throw this.inherited=d,f}return this.inherited=d,p}:t[a]}for(const a in r){const l=a2e(r[a]);h(l)(o.prototype,a)}return O(n)(o)}constructor(...t){if(this[ore]=null,this[are]=!1,this.constructor===lre)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new s2e(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}postscript(t){const r=this.__accessor__,n=r.ctorArgs||t;r.initialize(),n&&(this.set(n),r.ctorArgs=null),r.constructed(),this.initialize(),this[eL]=!0}initialize(){}[Kte](){this[_p]=Ur(this[_p])}destroy(){this.destroyed||(l$e(this),this.__accessor__.destroy())}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[eL]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return bT(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return TT(this,t,r),this}watch(t,r,n){return f$e(this,t,r,n)}own(t){this.addHandles(t)}addHandles(t,r){let n=this[_p];G(n)&&(n=this[_p]=new zi),n.add(t,r)}removeHandles(t){const r=this[_p];G(r)||r.remove(t)}hasHandles(t){const r=this[_p];return!!C(r)&&r.has(t)}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}};ore=_p,are=eL;let E2=class ure{constructor(){this._emitter=new ure.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(i=null){this._target=i,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(i,s){const o=this._listenersMap&&this._listenersMap.get(i);if(!o)return!1;const a=this._target||this;return[...o].forEach(l=>{l.call(a,s)}),o.length>0}on(i,s){if(Array.isArray(i)){const a=i.map(l=>this.on(l,s));return _O(a)}if(i.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const o=this._listenersMap.get(i)||[];return o.push(s),this._listenersMap.set(i,o),{remove:()=>{const a=this._listenersMap&&this._listenersMap.get(i)||[],l=a.indexOf(s);l>=0&&a.splice(l,1)}}}once(i,s){const o=this.on(i,a=>{o.remove(),s.call(null,a)});return o}hasEventListener(i){const s=this._listenersMap&&this._listenersMap.get(i);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let i=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return i=c([O("esri.core.Evented")],i),i};let r=class extends Ie{constructor(){super(...arguments),this._emitter=new E2.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,i){return this._emitter.emit(n,i)}on(n,i){return this._emitter.on(n,i)}once(n,i){return this._emitter.once(n,i)}hasEventListener(n){return this._emitter.hasEventListener(n)}};r=c([O("esri.core.Evented")],r),e.EventedAccessor=r})(E2||(E2={}));const au=E2;var Ud;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Ud||(Ud={}));let l2e=class{constructor(t){this.instance=t,this._resolver=xc(),this._status=Ud.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Ud.RESOLVED,this._cleanUp()},()=>{this._status=Ud.REJECTED,this._cleanUp()})}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Ud.RESOLVED}isRejected(){return this._status===Ud.REJECTED}isFulfilled(){return this._status!==Ud.PENDING}abort(){this._resolver.reject(kr())}when(t,r){return this._resolver.promise.then(t,r)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const t=xc(),r=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(r);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve(this.instance)},i=>{this.isFulfilled()||this._allPromise!==n||ia(i)||this._resolver.reject(i)}),t.resolve()}};const TO=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new l2e(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return new Promise((i,s)=>{this._promiseProps.when(i,s)}).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=c([O("esri.core.Promise")],t),t};let CT=class extends TO(Ie){};CT=c([O("esri.core.Promise")],CT);const u2e="randomUUID"in crypto;function c2e(){if(u2e)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}const d2e=Object.prototype.toString;function h2e(e){const t="__accessorMetadata__"in e?qt(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return p2e.apply(this,r)}}function p2e(e,t,r,n){EO(e,t).cast=n}function f2e(e){return(t,r)=>{EO(t,e).cast=t[r]}}function vt(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&d2e.call(e[0])==="[object Function]"?h2e(e[0]):e.length===1&&typeof e[0]=="string"?f2e(e[0]):void 0}/*!
 * @esri/arcgis-html-sanitizer - v3.0.1 - Tue Nov 15 2022 09:46:54 GMT-0800 (Pacific Standard Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 */var m2e=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},ff={exports:{}},qr={},m_={exports:{}},Pm={};function cre(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function y2e(e,t,r){}function g2e(e,t,r){}var v2e=/javascript\s*\:/img;function b2e(e,t){return v2e.test(t)?"":t}Pm.whiteList=cre();Pm.getDefaultWhiteList=cre;Pm.onAttr=y2e;Pm.onIgnoreAttr=g2e;Pm.safeAttrValue=b2e;var w2e={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},f1=w2e;function _2e(e,t){e=f1.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,n=!1,i=0,s=0,o="";function a(){if(!n){var d=f1.trim(e.slice(i,s)),p=d.indexOf(":");if(p!==-1){var f=f1.trim(d.slice(0,p)),y=f1.trim(d.slice(p+1));if(f){var v=t(i,o.length,f,y,d);v&&(o+=v+"; ")}}}i=s+1}for(;s<r;s++){var l=e[s];if(l==="/"&&e[s+1]==="*"){var u=e.indexOf("*/",s+2);if(u===-1)break;s=u+1,i=s+1,n=!1}else l==="("?n=!0:l===")"?n=!1:l===";"?n||a():l===`
`&&a()}return f1.trim(o)}var S2e=_2e,qx=Pm,x2e=S2e;function GU(e){return e==null}function $2e(e){var t={};for(var r in e)t[r]=e[r];return t}function dre(e){e=$2e(e||{}),e.whiteList=e.whiteList||qx.whiteList,e.onAttr=e.onAttr||qx.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||qx.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||qx.safeAttrValue,this.options=e}dre.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onAttr,s=r.onIgnoreAttr,o=r.safeAttrValue,a=x2e(e,function(l,u,d,p,f){var y=n[d],v=!1;if(y===!0?v=y:typeof y=="function"?v=y(p):y instanceof RegExp&&(v=y.test(p)),v!==!0&&(v=!1),p=o(d,p),!!p){var g={position:u,sourcePosition:l,source:f,isWhite:v};if(v){var b=i(d,p,g);return GU(b)?d+":"+p:b}else{var b=s(d,p,g);if(!GU(b))return b}}});return a};var E2e=dre;(function(e,t){var r=Pm,n=E2e;function i(o,a){var l=new n(a);return l.process(o)}t=e.exports=i,t.FilterCSS=n;for(var s in r)t[s]=r[s]})(m_,m_.exports);var j6={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},T2e=m_.exports.FilterCSS,M2e=m_.exports.getDefaultWhiteList,AT=j6;function hre(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var pre=new T2e;function I2e(e,t,r){}function O2e(e,t,r){}function C2e(e,t,r){}function A2e(e,t,r){}function fre(e){return e.replace(k2e,"&lt;").replace(R2e,"&gt;")}function P2e(e,t,r,n){if(r=wre(r),t==="href"||t==="src"){if(r=AT.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(Wx.lastIndex=0,Wx.test(r))return""}else if(t==="style"){if(qU.lastIndex=0,qU.test(r)||(WU.lastIndex=0,WU.test(r)&&(Wx.lastIndex=0,Wx.test(r))))return"";n!==!1&&(n=n||pre,r=n.process(r))}return r=_re(r),r}var k2e=/</g,R2e=/>/g,L2e=/"/g,N2e=/&quot;/g,F2e=/&#([a-zA-Z0-9]*);?/gim,D2e=/&colon;?/gim,j2e=/&newline;?/gim,Wx=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,qU=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,WU=/u\s*r\s*l\s*\(.*/gi;function mre(e){return e.replace(L2e,"&quot;")}function yre(e){return e.replace(N2e,'"')}function gre(e){return e.replace(F2e,function(r,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function vre(e){return e.replace(D2e,":").replace(j2e," ")}function bre(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return AT.trim(t)}function wre(e){return e=yre(e),e=gre(e),e=vre(e),e=bre(e),e}function _re(e){return e=mre(e),e=fre(e),e}function V2e(){return""}function z2e(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function n(o){return r?!0:AT.indexOf(e,o)!==-1}var i=[],s=!1;return{onIgnoreTag:function(o,a,l){if(n(o))if(l.isClosing){var u="[/removed]",d=l.position+u.length;return i.push([s!==!1?s:l.position,d]),s=!1,u}else return s||(s=l.position),"[removed]";else return t(o,a,l)},remove:function(o){var a="",l=0;return AT.forEach(i,function(u){a+=o.slice(l,u[0]),l=u[1]}),a+=o.slice(l),a}}}function U2e(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("<!--",r);if(n===-1){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("-->",n);if(i===-1)break;r=i+3}return t}function B2e(e){var t=e.split("");return t=t.filter(function(r){var n=r.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),t.join("")}qr.whiteList=hre();qr.getDefaultWhiteList=hre;qr.onTag=I2e;qr.onIgnoreTag=O2e;qr.onTagAttr=C2e;qr.onIgnoreTagAttr=A2e;qr.safeAttrValue=P2e;qr.escapeHtml=fre;qr.escapeQuote=mre;qr.unescapeQuote=yre;qr.escapeHtmlEntities=gre;qr.escapeDangerHtml5Entities=vre;qr.clearNonPrintableCharacter=bre;qr.friendlyAttrValue=wre;qr.escapeAttrValue=_re;qr.onIgnoreTagStripAll=V2e;qr.StripTagBody=z2e;qr.stripCommentTag=U2e;qr.stripBlankChar=B2e;qr.cssFilter=pre;qr.getDefaultCSSWhiteList=M2e;var MO={},Bd=j6;function G2e(e){var t=Bd.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=Bd.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function q2e(e){return e.slice(0,2)==="</"}function W2e(e,t,r){var n="",i=0,s=!1,o=!1,a=0,l=e.length,u="",d="";e:for(a=0;a<l;a++){var p=e.charAt(a);if(s===!1){if(p==="<"){s=a;continue}}else if(o===!1){if(p==="<"){n+=r(e.slice(i,a)),s=a,i=a;continue}if(p===">"){n+=r(e.slice(i,s)),d=e.slice(s,a+1),u=G2e(d),n+=t(s,n.length,u,d,q2e(d)),i=a+1,s=!1;continue}if(p==='"'||p==="'")for(var f=1,y=e.charAt(a-f);y.trim()===""||y==="=";){if(y==="="){o=p;continue e}y=e.charAt(a-++f)}}else if(p===o){o=!1;continue}}return i<e.length&&(n+=r(e.substr(i))),n}var H2e=/[^a-zA-Z0-9\\_:.-]/gim;function K2e(e,t){var r=0,n=0,i=[],s=!1,o=e.length;function a(f,y){if(f=Bd.trim(f),f=f.replace(H2e,"").toLowerCase(),!(f.length<1)){var v=t(f,y||"");v&&i.push(v)}}for(var l=0;l<o;l++){var u=e.charAt(l),d,p;if(s===!1&&u==="="){s=e.slice(r,l),r=l+1,n=e.charAt(r)==='"'||e.charAt(r)==="'"?r:Y2e(e,l+1);continue}if(s!==!1&&l===n){if(p=e.indexOf(u,l+1),p===-1)break;d=Bd.trim(e.slice(n+1,p)),a(s,d),s=!1,l=p,r=l+1;continue}if(/\s|\n|\t/.test(u))if(e=e.replace(/\s|\n|\t/g," "),s===!1)if(p=J2e(e,l),p===-1){d=Bd.trim(e.slice(r,l)),a(d),s=!1,r=l+1;continue}else{l=p-1;continue}else if(p=Z2e(e,l-1),p===-1){d=Bd.trim(e.slice(r,l)),d=HU(d),a(s,d),s=!1,r=l+1;continue}else continue}return r<e.length&&(s===!1?a(e.slice(r)):a(s,HU(Bd.trim(e.slice(r))))),Bd.trim(i.join(" "))}function J2e(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function Y2e(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function Z2e(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function X2e(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function HU(e){return X2e(e)?e.substr(1,e.length-2):e}MO.parseTag=W2e;MO.parseAttr=K2e;var Q2e=m_.exports.FilterCSS,ka=qr,Sre=MO,eEe=Sre.parseTag,tEe=Sre.parseAttr,T2=j6;function Hx(e){return e==null}function rEe(e){var t=T2.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=T2.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=T2.trim(e.slice(0,-1))),{html:e,closing:r}}function nEe(e){var t={};for(var r in e)t[r]=e[r];return t}function iEe(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(n){return n.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function xre(e){e=nEe(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=ka.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=iEe(e.whiteList||e.allowList):e.whiteList=ka.whiteList,e.onTag=e.onTag||ka.onTag,e.onTagAttr=e.onTagAttr||ka.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||ka.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||ka.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||ka.safeAttrValue,e.escapeHtml=e.escapeHtml||ka.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Q2e(e.css))}xre.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onTag,s=r.onIgnoreTag,o=r.onTagAttr,a=r.onIgnoreTagAttr,l=r.safeAttrValue,u=r.escapeHtml,d=t.cssFilter;r.stripBlankChar&&(e=ka.stripBlankChar(e)),r.allowCommentTag||(e=ka.stripCommentTag(e));var p=!1;r.stripIgnoreTagBody&&(p=ka.StripTagBody(r.stripIgnoreTagBody,s),s=p.onIgnoreTag);var f=eEe(e,function(y,v,g,b,w){var S={sourcePosition:y,position:v,isClosing:w,isWhite:Object.prototype.hasOwnProperty.call(n,g)},_=i(g,b,S);if(!Hx(_))return _;if(S.isWhite){if(S.isClosing)return"</"+g+">";var x=rEe(b),$=n[g],E=tEe(x.html,function(T,M){var A=T2.indexOf($,T)!==-1,k=o(g,T,M,A);return Hx(k)?A?(M=l(g,T,M,d),M?T+'="'+M+'"':T):(k=a(g,T,M,A),Hx(k)?void 0:k):k});return b="<"+g,E&&(b+=" "+E),x.closing&&(b+=" /"),b+=">",b}else return _=s(g,b,S),Hx(_)?u(b):_},u);return p&&(f=p.remove(f)),f};var sEe=xre;(function(e,t){var r=qr,n=MO,i=sEe;function s(a,l){var u=new i(l);return u.process(a)}t=e.exports=s,t.filterXSS=s,t.FilterXSS=i,function(){for(var a in r)t[a]=r[a];for(var l in n)t[l]=n[l]}();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(ff,ff.exports);var oEe=function(){function e(t,r){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,o,a,l){return s==="a"&&o==="href"||(s==="img"||s==="source")&&o==="src"?n.sanitizeUrl(a):ff.exports.safeAttrValue(s,o,a,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var i;t&&!r?i=t:t&&r?(i=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(s){s==="whiteList"?i.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]):i[s]=t[s]})):(i=Object.create(this.arcgisFilterOptions),i.whiteList=this.arcgisWhiteList),this.xssFilterOptions=i,this._xssFilter=new ff.exports.FilterXSS(i)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var n=(r??{}).isProtocolRequired,i=n===void 0?!0:n,s=this._trim(t.substring(0,t.indexOf(":"))),o=t==="/",a=/^#/.test(t),l=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return o||a||l?ff.exports.escapeAttrValue(t):!s&&!i?ff.exports.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,n,i){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,n,i):ff.exports.safeAttrValue(t,r,n,i)},e.prototype.validate=function(t,r){r===void 0&&(r={});var n=this.sanitize(t,r);return{isValid:t===n,sanitized:n}},e.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(n){return r._entityMap[n]})},e.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(n,i){return r.test(n)?n:"&#x".concat(Number(t.charCodeAt(i)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(n){Object.keys(n).forEach(function(i){Array.isArray(n[i])&&Array.isArray(r[i])?r[i]=r[i].concat(n[i]):r[i]=n[i]})}),r},e.prototype._iterateOverObject=function(t,r){var n=this;r===void 0&&(r={});try{var i=!1,s=void 0;if(Array.isArray(t))s=t.reduce(function(a,l){var u=n.validate(l,r);return u.isValid?a.concat([l]):(i=!0,a.concat([u.sanitized]))},[]);else if(m2e(t)){var o=Object.keys(t);s=o.reduce(function(a,l){var u=t[l],d=n.validate(u,r);return d.isValid?a[l]=u:(i=!0,a[l]=d.sanitized),a},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return i?s:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const IO=new Map;function $re(){IO.clear()}function aEe(e){return IO.get(e)}function lEe(e,t){IO.set(e,t)}function tP(e){IO.delete(e)}var cm,p0,uEe=function(e){if("WebkitTransition"in e.style)cm="webkitTransitionEnd",p0="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");cm="transitionend",p0="animationend"}},Ere=function(e){cm||uEe(e)},cEe=function(e,t){return t===void 0&&(t=e+"-active"),function(r){Ere(r);var n=!1,i=function(s){n||(n=!0,r.removeEventListener(cm,i),r.removeEventListener(p0,i),r.classList.remove(e),r.classList.remove(t))};r.classList.add(e),r.addEventListener(cm,i),r.addEventListener(p0,i),requestAnimationFrame(function(){r.classList.add(t)})}},dEe=function(e,t){return t===void 0&&(t=e+"-active"),function(r,n){Ere(r);var i=!1,s=function(o){i||(i=!0,r.removeEventListener(cm,s),r.removeEventListener(p0,s),n())};r.classList.add(e),r.addEventListener(cm,s),r.addEventListener(p0,s),requestAnimationFrame(function(){r.classList.add(t)})}};const hEe=oe.getLogger("esri.widgets.support.widgetUtils");function Tre(e){const t=ts.acquire();for(let n=0;n<arguments.length;n++){const i=arguments[n],s=typeof i;if(s==="string")t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if(s==="object")for(const o in i)i[o]&&t.push(o)}const r=t.join(" ");return ts.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(r=>{var n;$re();for(const i of r)(n=e.get(i.target))==null||n(i)});return(r,n,i)=>(e.has(r)&&hEe.error("Already observing element",r),e.set(r,n),t.observe(r,i),av(()=>{t.unobserve(r),e.delete(r)}))})();function Bl(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function KU(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function oh(e){const t="data-node-ref";this[e.getAttribute(t)]=e}function pEe(e,t){return(e==="enter"?cEe:dEe)(t)}const fEe=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],mEe=fEe.reduce((e,t)=>(e[t]=[],e),{}),yEe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Mre=new oEe({whiteList:mEe,onTagAttr:(e,t,r)=>{const n=`${t}="${r}"`;if(yEe.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function gEe(e,t){const r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=r.top+r.height,s=n.top+n.height,o=r.top,a=n.top;(i>s||o<a)&&e.scrollIntoView({block:"end"})}function Ire(e){return e==="Enter"||e===" "}const Ore="http://www.w3.org/",OO=`${Ore}2000/svg`,Cre=`${Ore}1999/xlink`;let JU=[],V6=(e,t)=>{let r={};return Object.keys(e).forEach(n=>{r[n]=e[n]}),t&&Object.keys(t).forEach(n=>{r[n]=t[n]}),r},z6=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),Are=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},vEe=(e,t,r)=>{if(t.vnodeSelector!==""){for(let n=r;n<e.length;n++)if(z6(e[n],t))return n}return-1},rP=(e,t,r,n)=>{let i=e[t];if(i.vnodeSelector==="")return;let s=i.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let o=0;o<e.length;o++)if(o!==t){let a=e[o];if(z6(a,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},bEe=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},tL=[],rL=!1,Pre=e=>{(e.children||[]).forEach(Pre),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},YU=()=>{rL=!1,tL.forEach(Pre),tL.length=0},ZU=e=>{tL.push(e),rL||(rL=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(YU,{timeout:16}):setTimeout(YU,16))},XU=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),ZU(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),ZU(e))},wEe=(e,t,r)=>{if(!t)return;let n=r.eventHandlerInterceptor,i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){let a=i[o],l=t[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")nL(e,l,!0);else if(a==="classes"){let u=Object.keys(l),d=u.length;for(let p=0;p<d;p++){let f=u[p];l[f]&&e.classList.add(f)}}else if(a==="styles"){let u=Object.keys(l),d=u.length;for(let p=0;p<d;p++){let f=u[p],y=l[f];y&&(Are(y),r.styleApplyer(e,f,y))}}else if(a!=="key"&&l!=null){let u=typeof l;u==="function"?(a.lastIndexOf("on",0)===0&&(n&&(l=n(a,l,e,t)),a==="oninput"&&function(){let d=l;l=function(p){d.apply(this,[p]),p.target["oninput-value"]=p.target.value}}()),e[a]=l):r.namespace===OO?a==="href"?e.setAttributeNS(Cre,a,l):e.setAttribute(a,l):u==="string"&&a!=="value"?a==="innerHTML"?e[a]=Mre.sanitize(l):kre(e)&&a in e?e[a]=l:e.setAttribute(a,l):e[a]=l}}};function kre(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let PT,_Ee=(e,t,r)=>{if(t)for(let n of t)pg(n,e,void 0,r)},Rre=(e,t,r)=>{_Ee(e,t.children,r),t.text&&(e.textContent=t.text),wEe(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},pg=(e,t,r,n)=>{let i,s=0,o=e.vnodeSelector,a=t.ownerDocument;if(o==="")i=e.domNode=a.createTextNode(e.text),r!==void 0?t.insertBefore(i,r):t.appendChild(i);else{for(let l=0;l<=o.length;++l){let u=o.charAt(l);if(l===o.length||u==="."||u==="#"){let d=o.charAt(s-1),p=o.slice(s,l);d==="."?i.classList.add(p):d==="#"?i.id=p:(p==="svg"&&(n=V6(n,{namespace:OO})),n.namespace!==void 0?i=e.domNode=a.createElementNS(n.namespace,p):(i=e.domNode=e.domNode||a.createElement(p),p==="input"&&e.properties&&e.properties.type!==void 0&&i.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),s=l+1}}Rre(i,e,n)}},nL=(e,t,r)=>{t&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,r)})},SEe=(e,t,r,n)=>{if(!r)return;let i=!1,s=Object.keys(r),o=s.length;for(let a=0;a<o;a++){let l=s[a],u=r[l],d=t[l];if(l==="class")d!==u&&(nL(e,d,!1),nL(e,u,!0));else if(l==="classes"){let p=e.classList,f=Object.keys(u),y=f.length;for(let v=0;v<y;v++){let g=f[v],b=!!u[g];b!==!!d[g]&&(i=!0,b?p.add(g):p.remove(g))}}else if(l==="styles"){let p=Object.keys(u),f=p.length;for(let y=0;y<f;y++){let v=p[y],g=u[v];g!==d[v]&&(i=!0,g?(Are(g),n.styleApplyer(e,v,g)):n.styleApplyer(e,v,""))}}else if(u||typeof d!="string"||(u=""),l==="value"){let p=e[l];p!==u&&(e["oninput-value"]?p===e["oninput-value"]:u!==d)&&(e[l]=u,e["oninput-value"]=void 0),u!==d&&(i=!0)}else if(u!==d){let p=typeof u;p==="function"&&n.eventHandlerInterceptor||(n.namespace===OO?l==="href"?e.setAttributeNS(Cre,l,u):e.setAttribute(l,u):p==="string"?l==="innerHTML"?e[l]=Mre.sanitize(u):l==="role"&&u===""?e.removeAttribute(l):kre(e)&&l in e?e[l]=u:e.setAttribute(l,u):e[l]!==u&&(e[l]=u),i=!0)}}return i},xEe=(e,t,r,n,i)=>{if(r===n)return!1;n=n||JU;let s,o=(r=r||JU).length,a=n.length,l=0,u=0,d=!1;for(;u<a;){let p=l<o?r[l]:void 0,f=n[u];if(p!==void 0&&z6(p,f))d=PT(p,f,i)||d,l++;else{let y=vEe(r,f,l+1);if(y>=0){for(s=l;s<y;s++)XU(r[s]),rP(r,s,e,"removed");d=PT(r[y],f,i)||d,l=y+1}else pg(f,t,l<o?r[l].domNode:void 0,i),bEe(f),rP(n,u,e,"added")}u++}if(o>l)for(s=l;s<o;s++)XU(r[s]),rP(r,s,e,"removed");return d};PT=(e,t,r)=>{let n=e.domNode,i=!1;if(e===t)return!1;let s=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let o=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(o,n),t.domNode=o,i=!0,i}t.domNode=n}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=V6(r,{namespace:OO})),e.text!==t.text&&(s=!0,t.text===void 0?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,s=xEe(t,n,e.children,t.children,r)||s,s=SEe(n,e.properties,t.properties,r)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,r,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),i};let m1=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=r,PT(n,r,t)},domNode:e.domNode});const $Ee={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let fy=e=>V6($Ee,e),ah={create:(e,t)=>(t=fy(t),pg(e,document.createElement("div"),void 0,t),m1(e,t)),append:(e,t,r)=>(r=fy(r),pg(t,e,void 0,r),m1(t,r)),insertBefore:(e,t,r)=>(r=fy(r),pg(t,e.parentNode,e,r),m1(t,r)),merge:(e,t,r)=>(r=fy(r),t.domNode=e,Rre(e,t,r),m1(t,r)),replace:(e,t,r)=>(r=fy(r),pg(t,e.parentNode,e,r),e.parentNode.removeChild(e),m1(t,r))},Lre,EEe=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};Lre=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let TEe=(e,t)=>{let r=e;return t.forEach(n=>{r=r&&r.children?Lre(r.children,i=>i.domNode===n):void 0}),r},MEe=(e,t,r)=>{let n=function(i){r("domEvent",i);let s=t(),o=EEe(i.currentTarget,s.domNode);o.reverse();let a,l=TEe(s.getLastRender(),o);return e.scheduleRender(),l&&(a=l.properties[`on${i.type}`].apply(l.properties.bind||this,arguments)),r("domEventProcessed",i),a};return(i,s,o,a)=>n},iL=e=>{let t,r,n=fy(e),i=n.performanceLogger,s=!0,o=!1,a=[],l=[],u=(p,f,y)=>{let v,g=()=>v;n.eventHandlerInterceptor=MEe(t,g,i),v=p(f,y(),n),a.push(v),l.push(y)},d=()=>{if(r=void 0,s){s=!1,i("renderStart",void 0);for(let p=0;p<a.length;p++){let f=l[p]();i("rendered",void 0),a[p].update(f),i("patched",void 0)}i("renderDone",void 0),s=!0}};return t={renderNow:d,scheduleRender:()=>{r||o||(r=requestAnimationFrame(d))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),o=!0},resume:()=>{o=!1,s=!0,t.scheduleRender()},append:(p,f)=>{u(ah.append,p,f)},insertBefore:(p,f)=>{u(ah.insertBefore,p,f)},merge:(p,f)=>{u(ah.merge,p,f)},replace:(p,f)=>{u(ah.replace,p,f)},detach:p=>{for(let f=0;f<l.length;f++)if(l[f]===p)return l.splice(f,1),a.splice(f,1)[0];throw new Error("renderFunction was not found")}},t};const IEe={handleInterceptedEvent:(e,t,r,n)=>(e.scheduleRender(),t.properties[`on${n.type}`].apply(t.properties.bind||r,[n]))},OEe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{e.style[t]=r}},CEe=e=>({...OEe,...e}),AEe=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},PEe=(e,t)=>e.find(t),QU=(e,t,r=!1)=>{let n=e;return t.forEach((i,s)=>{const o=n!=null&&n.children?PEe(n.children,a=>a.domNode===i):void 0;r&&!o&&s!==t.length-1||(n=o)}),n},kEe=e=>{let t;const r={...IEe,...e},n=CEe(r),i=n.performanceLogger;let s,o=!0,a=!1;const l=[],u=[],d=(f,y,v)=>{var w;let g;n.eventHandlerInterceptor=(S,_,x,$)=>function(E){let T;i("domEvent",E);const M=AEe(E.currentTarget,g.domNode),A=M.some(P=>{var L;return customElements.get((L=P==null?void 0:P.tagName)==null?void 0:L.toLowerCase())});if(E.eventPhase===Event.CAPTURING_PHASE||!A)M.reverse(),T=QU(g.getLastRender(),M);else{const P=E.composedPath(),L=P.slice(P.indexOf(E.currentTarget),P.indexOf(g.domNode)).filter(D=>D.getRootNode()===D.ownerDocument).reverse();T=QU(g.getLastRender(),L,!0)}let k;return T&&(k=r.handleInterceptedEvent(t,T,this,E)),i("domEventProcessed",E),k},(w=r.postProcessProjectionOptions)==null||w.call(r,n);const b=v();g=f(y,b,n),l.push(g),u.push(v),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(g,b)};let p=()=>{if(s=void 0,o){o=!1,i("renderStart",void 0);for(let f=0;f<l.length;f++){const y=u[f]();i("rendered",void 0),l[f].update(y),i("patched",void 0)}i("renderDone",void 0),o=!0}};return r.modifyDoRenderImplementation&&(p=r.modifyDoRenderImplementation(p,l,u)),t={renderNow:p,scheduleRender:()=>{s||a||(s=requestAnimationFrame(p))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),a=!0},resume:()=>{a=!1,o=!0,t.scheduleRender()},append:(f,y)=>{d(ah.append,f,y)},insertBefore:(f,y)=>{d(ah.insertBefore,f,y)},merge:(f,y)=>{d(ah.merge,f,y)},replace:(f,y)=>{d(ah.replace,f,y)},detach:f=>{for(let y=0;y<u.length;y++)if(u[y]===f)return u.splice(y,1),l.splice(y,1)[0];throw new Error("renderFunction was not found")}},t},my={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let yy,Nre,CO,Fre=!1,kT=!1,U6=!1,Ks=!1,eB=null,sL=!1;const jgt=e=>{const t=new URL(e,hi.$resourcesUrl$);return t.origin!==AS.location.origin?t.href:t.pathname},REe=e=>hi.$resourcesUrl$=e,dm=(e,t="")=>()=>{},tB="http://www.w3.org/1999/xlink",rB={},LEe="http://www.w3.org/2000/svg",NEe="http://www.w3.org/1999/xhtml",FEe=e=>e!=null,B6=e=>(e=typeof e,e==="object"||e==="function"),Dre=(e,t,...r)=>{let n=null,i=null,s=null,o=!1,a=!1;const l=[],u=p=>{for(let f=0;f<p.length;f++)n=p[f],Array.isArray(n)?u(n):n!=null&&typeof n!="boolean"&&((o=typeof e!="function"&&!B6(n))&&(n=String(n)),o&&a?l[l.length-1].$text$+=n:l.push(o?RT(null,n):n),a=o)};if(u(r),t){t.key&&(i=t.key),t.name&&(s=t.name);{const p=t.className||t.class;p&&(t.class=typeof p!="object"?p:Object.keys(p).filter(f=>p[f]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,l,VEe);const d=RT(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),d.$key$=i,d.$name$=s,d},RT=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.$attrs$=null,r.$key$=null,r.$name$=null,r},DEe={},jEe=e=>e&&e.$tag$===DEe,VEe={forEach:(e,t)=>e.map(nB).forEach(t),map:(e,t)=>e.map(nB).map(t).map(zEe)},nB=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),zEe=e=>{if(typeof e.vtag=="function"){const r=Object.assign({},e.vattrs);return e.vkey&&(r.key=e.vkey),e.vname&&(r.name=e.vname),Dre(e.vtag,r,...e.vchildren||[])}const t=RT(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},UEe=e=>mTe.map(t=>t(e)).find(t=>!!t),BEe=(e,t)=>e!=null&&!B6(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,GEe=e=>e,Vgt=(e,t,r)=>{const n=GEe(e);return{emit:i=>qEe(n,t,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:i})}},qEe=(e,t,r)=>{const n=hi.ce(t,r);return e.dispatchEvent(n),n},iB=new WeakMap,WEe=(e,t,r)=>{let n=NT.get(e);vTe&&r?(n=n||new CSSStyleSheet,typeof n=="string"?n=t:n.replaceSync(t)):n=t,NT.set(e,n)},HEe=(e,t,r,n)=>{let i=jre(t,r);const s=NT.get(i);if(e=e.nodeType===11?e:Jl,s)if(typeof s=="string"){e=e.head||e;let o=iB.get(e),a;o||iB.set(e,o=new Set),o.has(i)||(a=Jl.createElement("style"),a.innerHTML=s,e.insertBefore(a,e.querySelector("link")),o&&o.add(i))}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return i},KEe=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,i=dm("attachStyles",t.$tagName$),s=HEe(r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$);n&10&&(r["s-sc"]=s,r.classList.add(s+"-h"),n&2&&r.classList.add(s+"-s")),i()},jre=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),sB=(e,t,r,n,i,s)=>{if(r!==n){let o=uB(e,t),a=t.toLowerCase();if(t==="class"){const l=e.classList,u=oB(r),d=oB(n);l.remove(...u.filter(p=>p&&!d.includes(p))),l.add(...d.filter(p=>p&&!u.includes(p)))}else if(t==="style"){for(const l in r)(!n||n[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in n)(!r||n[l]!==r[l])&&(l.includes("-")?e.style.setProperty(l,n[l]):e.style[l]=n[l])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):uB(AS,a)?t=a.slice(2):t=a[2]+t.slice(3),r&&hi.rel(e,t,r,!1),n&&hi.ael(e,t,n,!1);else{const l=B6(n);if((o||l&&n!==null)&&!i)try{if(e.tagName.includes("-"))e[t]=n;else{const d=n??"";t==="list"?o=!1:(r==null||e[t]!=d)&&(e[t]=d)}}catch{}let u=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,u=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(u?e.removeAttributeNS(tB,t):e.removeAttribute(t)):(!o||s&4||i)&&!l&&(n=n===!0?"":n,u?e.setAttributeNS(tB,t,n):e.setAttribute(t,n))}}},JEe=/\s/,oB=e=>e?e.split(JEe):[],Vre=(e,t,r,n)=>{const i=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||rB,o=t.$attrs$||rB;for(n in s)n in o||sB(i,n,s[n],void 0,r,t.$flags$);for(n in o)sB(i,n,s[n],o[n],r,t.$flags$)},LT=(e,t,r,n)=>{const i=t.$children$[r];let s=0,o,a,l;if(Fre||(U6=!0,i.$tag$==="slot"&&(yy&&n.classList.add(yy+"-s"),i.$flags$|=i.$children$?2:1)),i.$text$!==null)o=i.$elm$=Jl.createTextNode(i.$text$);else if(i.$flags$&1)o=i.$elm$=Jl.createTextNode("");else{if(Ks||(Ks=i.$tag$==="svg"),o=i.$elm$=Jl.createElementNS(Ks?LEe:NEe,i.$flags$&2?"slot-fb":i.$tag$),Ks&&i.$tag$==="foreignObject"&&(Ks=!1),Vre(null,i,Ks),FEe(yy)&&o["s-si"]!==yy&&o.classList.add(o["s-si"]=yy),i.$children$)for(s=0;s<i.$children$.length;++s)a=LT(e,i,s,o),a&&o.appendChild(a);i.$tag$==="svg"?Ks=!1:o.tagName==="foreignObject"&&(Ks=!0)}return o["s-hn"]=CO,i.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=Nre,o["s-sn"]=i.$name$||"",l=e&&e.$children$&&e.$children$[r],l&&l.$tag$===i.$tag$&&e.$elm$&&y_(e.$elm$,!1)),o},y_=(e,t)=>{hi.$flags$|=1;const r=e.childNodes;for(let n=r.length-1;n>=0;n--){const i=r[n];i["s-hn"]!==CO&&i["s-ol"]&&(Bre(i).insertBefore(i,G6(i)),i["s-ol"].remove(),i["s-ol"]=void 0,U6=!0),t&&y_(i,t)}hi.$flags$&=-2},zre=(e,t,r,n,i,s)=>{let o=e["s-cr"]&&e["s-cr"].parentNode||e,a;for(o.shadowRoot&&o.tagName===CO&&(o=o.shadowRoot);i<=s;++i)n[i]&&(a=LT(null,r,i,e),a&&(n[i].$elm$=a,o.insertBefore(a,G6(t))))},Ure=(e,t,r,n,i)=>{for(;t<=r;++t)(n=e[t])&&(i=n.$elm$,Wre(n),kT=!0,i["s-ol"]?i["s-ol"].remove():y_(i,!0),i.remove())},YEe=(e,t,r,n)=>{let i=0,s=0,o=0,a=0,l=t.length-1,u=t[0],d=t[l],p=n.length-1,f=n[0],y=n[p],v,g;for(;i<=l&&s<=p;)if(u==null)u=t[++i];else if(d==null)d=t[--l];else if(f==null)f=n[++s];else if(y==null)y=n[--p];else if(Kx(u,f))gy(u,f),u=t[++i],f=n[++s];else if(Kx(d,y))gy(d,y),d=t[--l],y=n[--p];else if(Kx(u,y))(u.$tag$==="slot"||y.$tag$==="slot")&&y_(u.$elm$.parentNode,!1),gy(u,y),e.insertBefore(u.$elm$,d.$elm$.nextSibling),u=t[++i],y=n[--p];else if(Kx(d,f))(u.$tag$==="slot"||y.$tag$==="slot")&&y_(d.$elm$.parentNode,!1),gy(d,f),e.insertBefore(d.$elm$,u.$elm$),d=t[--l],f=n[++s];else{for(o=-1,a=i;a<=l;++a)if(t[a]&&t[a].$key$!==null&&t[a].$key$===f.$key$){o=a;break}o>=0?(g=t[o],g.$tag$!==f.$tag$?v=LT(t&&t[s],r,o,e):(gy(g,f),t[o]=void 0,v=g.$elm$),f=n[++s]):(v=LT(t&&t[s],r,s,e),f=n[++s]),v&&Bre(u.$elm$).insertBefore(v,G6(u.$elm$))}i>l?zre(e,n[p+1]==null?null:n[p+1].$elm$,r,n,s,p):s>p&&Ure(t,i,l)},Kx=(e,t)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:e.$key$===t.$key$:!1,G6=e=>e&&e["s-ol"]||e,Bre=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,gy=(e,t)=>{const r=t.$elm$=e.$elm$,n=e.$children$,i=t.$children$,s=t.$tag$,o=t.$text$;let a;o===null?(Ks=s==="svg"?!0:s==="foreignObject"?!1:Ks,s==="slot"||Vre(e,t,Ks),n!==null&&i!==null?YEe(r,n,t,i):i!==null?(e.$text$!==null&&(r.textContent=""),zre(r,null,t,i,0,i.length-1)):n!==null&&Ure(n,0,n.length-1),Ks&&s==="svg"&&(Ks=!1)):(a=r["s-cr"])?a.parentNode.textContent=o:e.$text$!==o&&(r.data=o)},Gre=e=>{const t=e.childNodes;let r,n,i,s,o,a;for(n=0,i=t.length;n<i;n++)if(r=t[n],r.nodeType===1){if(r["s-sr"]){for(o=r["s-sn"],r.hidden=!1,s=0;s<i;s++)if(a=t[s].nodeType,t[s]["s-hn"]!==r["s-hn"]||o!==""){if(a===1&&o===t[s].getAttribute("slot")){r.hidden=!0;break}}else if(a===1||a===3&&t[s].textContent.trim()!==""){r.hidden=!0;break}}Gre(r)}},Va=[],qre=e=>{let t,r,n,i,s,o,a=0;const l=e.childNodes,u=l.length;for(;a<u;a++){if(t=l[a],t["s-sr"]&&(r=t["s-cr"])&&r.parentNode)for(n=r.parentNode.childNodes,i=t["s-sn"],o=n.length-1;o>=0;o--)r=n[o],!r["s-cn"]&&!r["s-nr"]&&r["s-hn"]!==t["s-hn"]&&(aB(r,i)?(s=Va.find(d=>d.$nodeToRelocate$===r),kT=!0,r["s-sn"]=r["s-sn"]||i,s?s.$slotRefNode$=t:Va.push({$slotRefNode$:t,$nodeToRelocate$:r}),r["s-sr"]&&Va.map(d=>{aB(d.$nodeToRelocate$,r["s-sn"])&&(s=Va.find(p=>p.$nodeToRelocate$===r),s&&!d.$slotRefNode$&&(d.$slotRefNode$=s.$slotRefNode$))})):Va.some(d=>d.$nodeToRelocate$===r)||Va.push({$nodeToRelocate$:r}));t.nodeType===1&&qre(t)}},aB=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",Wre=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(Wre)},ZEe=(e,t)=>{const r=e.$hostElement$,n=e.$cmpMeta$,i=e.$vnode$||RT(null,null),s=jEe(t)?t:Dre(null,null,t);CO=r.tagName,n.$attrsToReflect$&&(s.$attrs$=s.$attrs$||{},n.$attrsToReflect$.map(([o,a])=>s.$attrs$[a]=r[o])),s.$tag$=null,s.$flags$|=4,e.$vnode$=s,s.$elm$=i.$elm$=r.shadowRoot||r,yy=r["s-sc"],Nre=r["s-cr"],Fre=(n.$flags$&1)!==0,kT=!1,gy(i,s);{if(hi.$flags$|=1,U6){qre(s.$elm$);let o,a,l,u,d,p,f=0;for(;f<Va.length;f++)o=Va[f],a=o.$nodeToRelocate$,a["s-ol"]||(l=Jl.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(f=0;f<Va.length;f++)if(o=Va[f],a=o.$nodeToRelocate$,o.$slotRefNode$){for(u=o.$slotRefNode$.parentNode,d=o.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(p=l["s-nr"],p&&p["s-sn"]===a["s-sn"]&&u===p.parentNode&&(p=p.nextSibling,!p||!p["s-nr"])){d=p;break}(!d&&u!==a.parentNode||a.nextSibling!==d)&&a!==d&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),u.insertBefore(a,d))}else a.nodeType===1&&(a.hidden=!0)}kT&&Gre(s.$elm$),hi.$flags$&=-2,Va.length=0}},XEe=(e,t)=>{},q6=(e,t)=>(e.$flags$|=16,XEe(e,e.$ancestorComponent$),_Te(()=>QEe(e,t))),QEe=(e,t)=>{const r=e.$hostElement$,n=dm("scheduleUpdate",e.$cmpMeta$.$tagName$),i=r;let s;return t?s=jg(i,"componentWillLoad"):s=jg(i,"componentWillUpdate"),s=lB(s,()=>jg(i,"componentWillRender")),n(),lB(s,()=>eTe(e,i,t))},eTe=async(e,t,r)=>{const n=e.$hostElement$,i=dm("update",e.$cmpMeta$.$tagName$);n["s-rc"],r&&KEe(e);const s=dm("render",e.$cmpMeta$.$tagName$);tTe(e,t,n),s(),i(),rTe(e)},tTe=(e,t,r)=>{try{eB=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(my.hasRenderFn||my.reflect)&&(my.vdomRender||my.reflect)&&(my.hydrateServerSide||ZEe(e,t))}catch(a){CS(a,e.$hostElement$)}return eB=null,null},rTe=e=>{const t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,n=dm("postUpdate",t),i=r;e.$ancestorComponent$,jg(i,"componentDidRender"),e.$flags$&64?(jg(i,"componentDidUpdate"),n()):(e.$flags$|=64,jg(i,"componentDidLoad"),n())},zgt=e=>{{const t=OS(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&q6(t,!1),r}},jg=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(n){CS(n)}},lB=(e,t)=>e&&e.then?e.then(t):t(),nTe=(e,t)=>OS(e).$instanceValues$.get(t),iTe=(e,t,r,n)=>{const i=OS(e),s=e,o=i.$instanceValues$.get(t),a=i.$flags$,l=s;r=BEe(r,n.$members$[t][0]);const u=Number.isNaN(o)&&Number.isNaN(r);if(r!==o&&!u){i.$instanceValues$.set(t,r);{if(n.$watchers$&&a&128){const p=n.$watchers$[t];p&&p.map(f=>{try{l[f](r,o,t)}catch(y){CS(y,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(r,o,t)===!1)return;q6(i,!1)}}}},sTe=(e,t,r)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const n=Object.entries(t.$members$),i=e.prototype;n.map(([s,[o]])=>{(o&31||o&32)&&Object.defineProperty(i,s,{get(){return nTe(this,s)},set(a){iTe(this,s,a,t)},configurable:!0,enumerable:!0})});{const s=new Map;i.attributeChangedCallback=function(o,a,l){hi.jmp(()=>{const u=s.get(o);if(this.hasOwnProperty(u))l=this[u],delete this[u];else if(i.hasOwnProperty(u)&&typeof this[u]=="number"&&this[u]==l)return;this[u]=l===null&&typeof this[u]=="boolean"?!1:l})},e.observedAttributes=n.filter(([o,a])=>a[0]&15).map(([o,a])=>{const l=a[1]||o;return s.set(l,o),a[0]&512&&t.$attrsToReflect$.push([o,l]),l})}}return e},oTe=async(e,t,r,n,i)=>{if(!(t.$flags$&32)&&(i=e.constructor,t.$flags$|=32,customElements.whenDefined(r.$tagName$).then(()=>t.$flags$|=128),i.style)){let o=i.style;typeof o!="string"&&(o=o[t.$modeName$=UEe(e)]);const a=jre(r,t.$modeName$);if(!NT.has(a)){const l=dm("registerStyles",r.$tagName$);WEe(a,o,!!(r.$flags$&1)),l()}}t.$ancestorComponent$,(()=>q6(t,!0))()},aTe=e=>{},lTe=e=>{if(!(hi.$flags$&1)){const t=OS(e),r=t.$cmpMeta$,n=dm("connectedCallback",r.$tagName$);t.$flags$&1?(Hre(e,t,r.$listeners$),aTe(t.$lazyInstance$)):(t.$flags$|=1,r.$flags$&12&&uTe(e),r.$members$&&Object.entries(r.$members$).map(([i,[s]])=>{if(s&31&&e.hasOwnProperty(i)){const o=e[i];delete e[i],e[i]=o}}),oTe(e,t,r)),n()}},uTe=e=>{const t=e["s-cr"]=Jl.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},cTe=e=>{if(!(hi.$flags$&1)){const t=OS(e);t.$rmListeners$&&(t.$rmListeners$.map(r=>r()),t.$rmListeners$=void 0)}},Ugt=(e,t)=>{const r={$flags$:t[0],$tagName$:t[1]};r.$members$=t[2],r.$listeners$=t[3],r.$watchers$=e.$watchers$,r.$attrsToReflect$=[],!cB&&r.$flags$&1&&(r.$flags$|=8);const n=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){fTe(this,r)},connectedCallback(){lTe(this),n&&n.call(this)},disconnectedCallback(){cTe(this),i&&i.call(this)},__attachShadow(){cB?this.attachShadow({mode:"open",delegatesFocus:!!(r.$flags$&16)}):this.shadowRoot=this}}),e.is=r.$tagName$,sTe(e,r)},Bgt=(e,t)=>t,Hre=(e,t,r,n)=>{r&&r.map(([i,s,o])=>{const a=hTe(e,i),l=dTe(t,o),u=pTe(i);hi.ael(a,s,l,u),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>hi.rel(a,s,l,u))})},dTe=(e,t)=>r=>{try{my.lazyLoad||e.$hostElement$[t](r)}catch(n){CS(n)}},hTe=(e,t)=>t&4?Jl:t&8?AS:t&16?Jl.body:e,pTe=e=>yTe?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,Kre=new WeakMap,OS=e=>Kre.get(e),fTe=(e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return Hre(e,r,t.$listeners$),Kre.set(e,r)},uB=(e,t)=>t in e,CS=(e,t)=>(0,console.error)(e,t),NT=new Map,mTe=[],AS=typeof window<"u"?window:{},Jl=AS.document||{head:{}},Ggt=AS.HTMLElement||class{},hi={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,n)=>e.addEventListener(t,r,n),rel:(e,t,r,n)=>e.removeEventListener(t,r,n),ce:(e,t)=>new CustomEvent(e,t)},cB=!0,yTe=(()=>{let e=!1;try{Jl.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),gTe=e=>Promise.resolve(e),vTe=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),dB=[],Jre=[],bTe=(e,t)=>r=>{e.push(r),sL||(sL=!0,t&&hi.$flags$&4?wTe(oL):hi.raf(oL))},hB=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){CS(r)}e.length=0},oL=()=>{hB(dB),hB(Jre),(sL=dB.length>0)&&hi.raf(oL)},wTe=e=>gTe().then(e),_Te=bTe(Jre,!0);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Yre="calcite-mode-auto",Zre="calcite-mode-dark",STe="calcite-mode-light",qgt={autoMode:Yre,darkMode:Zre,lightMode:STe,rtl:"calcite--rtl"};/*!
* tabbable 6.0.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Xre=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],FT=Xre.join(","),Qre=typeof Element>"u",hm=Qre?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,DT=!Qre&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},ene=function(t,r,n){var i=Array.prototype.slice.apply(t.querySelectorAll(FT));return r&&hm.call(t,FT)&&i.unshift(t),i=i.filter(n),i},tne=function e(t,r,n){for(var i=[],s=Array.from(t);s.length;){var o=s.shift();if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,u=e(l,!0,n);n.flatten?i.push.apply(i,u):i.push({scopeParent:o,candidates:u})}else{var d=hm.call(o,FT);d&&n.filter(o)&&(r||!t.includes(o))&&i.push(o);var p=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),f=!n.shadowRootFilter||n.shadowRootFilter(o);if(p&&f){var y=e(p===!0?o.children:p.children,!0,n);n.flatten?i.push.apply(i,y):i.push({scopeParent:o,candidates:y})}else s.unshift.apply(s,o.children)}}return i},rne=function(t,r){return t.tabIndex<0&&(r||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||t.isContentEditable)&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},xTe=function(t,r){return t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex},nne=function(t){return t.tagName==="INPUT"},$Te=function(t){return nne(t)&&t.type==="hidden"},ETe=function(t){var r=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return r},TTe=function(t,r){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===r)return t[n]},MTe=function(t){if(!t.name)return!0;var r=t.form||DT(t),n=function(a){return r.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(t.name));else try{i=n(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=TTe(i,t.form);return!s||s===t},ITe=function(t){return nne(t)&&t.type==="radio"},OTe=function(t){return ITe(t)&&!MTe(t)},CTe=function(t){for(var r,n=DT(t).host,i=!!((r=n)!==null&&r!==void 0&&r.ownerDocument.contains(n)||t.ownerDocument.contains(t));!i&&n;){var s;n=DT(n).host,i=!!((s=n)!==null&&s!==void 0&&s.ownerDocument.contains(n))}return i},pB=function(t){var r=t.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},ATe=function(t,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var s=hm.call(t,"details>summary:first-of-type"),o=s?t.parentElement:t;if(hm.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var a=t;t;){var l=t.parentElement,u=DT(t);if(l&&!l.shadowRoot&&i(l)===!0)return pB(t);t.assignedSlot?t=t.assignedSlot:!l&&u!==t.ownerDocument?t=u.host:t=l}t=a}if(CTe(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return pB(t);return!1},PTe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var r=t.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return hm.call(r,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}r=r.parentElement}return!1},jT=function(t,r){return!(r.disabled||$Te(r)||ATe(r,t)||ETe(r)||PTe(r))},aL=function(t,r){return!(OTe(r)||rne(r)<0||!jT(t,r))},kTe=function(t){var r=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},RTe=function e(t){var r=[],n=[];return t.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=rne(a,o),u=o?e(i.candidates):a;l===0?o?r.push.apply(r,u):r.push(a):n.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:u})}),n.sort(xTe).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(r)},LTe=function(t,r){r=r||{};var n;return r.getShadowRoot?n=tne([t],r.includeContainer,{filter:aL.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:kTe}):n=ene(t,r.includeContainer,aL.bind(null,r)),RTe(n)},Wgt=function(t,r){r=r||{};var n;return r.getShadowRoot?n=tne([t],r.includeContainer,{filter:jT.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=ene(t,r.includeContainer,jT.bind(null,r)),n},Hgt=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return hm.call(t,FT)===!1?!1:aL(r,t)},NTe=Xre.concat("iframe").join(","),Kgt=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return hm.call(t,NTe)===!1?!1:jT(r,t)};const FTe={getShadowRoot:!0};function Jgt(e){const t="dir",r=`[${t}]`,n=DTe(e,r);return n?n.getAttribute(t):"ltr"}function Ygt(e,t,r){const n=`[${t}]`,i=e.closest(n);return i?i.getAttribute(t):r}function ine(e){return e.getRootNode()}function sne(e){return e.host||null}function Zgt(e,{selector:t,id:r}){function n(i){if(!i)return null;i.assignedSlot&&(i=i.assignedSlot);const s=ine(i),o=r?"getElementById"in s?s.getElementById(r):null:t?s.querySelector(t):null,a=sne(s);return o||(a?n(a):null)}return n(e)}function DTe(e,t){function r(n){return n?n.closest(t)||r(sne(ine(n))):null}return r(e)}function jTe(e,t){return one(e,t)}function one(e,t){if(!e)return;const r=t(e);if(r!==void 0)return r;const{parentNode:n}=e;return one(n instanceof ShadowRoot?n.host:n,t)}function Xgt(e,t){return!!jTe(t,r=>r===e?!0:void 0)}function VTe(e){return typeof(e==null?void 0:e.setFocus)=="function"}async function Qgt(e){if(e)return VTe(e)?e.setFocus():e.focus()}function e0t(e){(LTe(e,FTe)[0]||e).focus()}const g_=":not([slot])";function t0t(e,t,r){t&&!Array.isArray(t)&&typeof t!="string"&&(r=t,t=null);const n=t?Array.isArray(t)?t.map(i=>`[slot="${i}"]`).join(","):`[slot="${t}"]`:g_;return r!=null&&r.all?zTe(e,n,r):UTe(e,n,r)}function ane(e,t){return e?Array.from(e.children||[]).filter(r=>r==null?void 0:r.matches(t)):[]}function zTe(e,t,r){let n=t===g_?ane(e,g_):Array.from(e.querySelectorAll(t));n=r&&r.direct===!1?n:n.filter(s=>s.parentElement===e),n=r!=null&&r.matches?n.filter(s=>s==null?void 0:s.matches(r.matches)):n;const i=r==null?void 0:r.selector;return i?n.map(s=>Array.from(s.querySelectorAll(i))).reduce((s,o)=>[...s,...o],[]).filter(s=>!!s):n}function UTe(e,t,r){let n=t===g_?ane(e,g_)[0]||null:e.querySelector(t);n=r&&r.direct===!1||(n==null?void 0:n.parentElement)===e?n:null,n=r!=null&&r.matches?n!=null&&n.matches(r.matches)?n:null:n;const i=r==null?void 0:r.selector;return i?n==null?void 0:n.querySelector(i):n}function r0t(e,t,r){if(typeof t=="string"&&t!=="")return t;if(t==="")return e[r]}function n0t(e){return(!!e).toString()}function i0t(e){return!!BTe(e).length}function BTe(e){return e.target.assignedElements({flatten:!0})}function s0t(e){return!!(e.isPrimary&&e.button===0)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function fB(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=()=>e.contains(Zre)||e.contains(Yre)&&t?"dark":"light",n=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),i=o=>{s!==o&&n(o),s=o};let s=r();n(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>i(o.matches?"dark":"light")),new MutationObserver(()=>i(r())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function GTe(){typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document&&(document.readyState==="interactive"?fB():document.addEventListener("DOMContentLoaded",()=>fB(),{once:!0}))}const qTe=GTe;qTe();let lne;function WTe(){REe(Bo($t(lne)))}lne="components/assets";const une=Symbol("widget"),HTe=Symbol("widget-test-data"),KTe=[],JTe={},VT=new WeakMap;function cne(e,t){let r=t.children;if(r&&r.length)for(let i=0;i<r.length;++i)r[i]=cne(e,r[i]);else r=KTe;const n=t.vnodeSelector;if(W6(n)){const i=t.properties||JTe,s=i.key||n;return{vnodeSelector:"div",properties:{key:s,afterCreate:YTe,afterUpdate:ZTe,afterRemoved:dne,parentWidget:e,widgetConstructor:n,widgetProperties:{...i,key:s,children:r}},children:void 0,text:void 0,domNode:null}}return t}function YTe(e,t,r,{parentWidget:n,widgetConstructor:i,widgetProperties:s}){var a;const o=new i(s);o.container=e,VT.set(e,o),(a=o.afterCreate)==null||a.call(o,o,e),n._internalHandles.add(av(()=>dne(e)))}function ZTe(e,t,r,{widgetProperties:n}){var s;const i=VT.get(e);i&&(i.set(n),(s=i.afterUpdate)==null||s.call(i,i,e))}function dne(e){var r;const t=VT.get(e);t&&((r=t.afterRemoved)==null||r.call(t,t,e),t.destroy(),VT.delete(e))}function W6(e){return typeof e=="function"&&e[une]}const mB=new Set;function XTe(e){mB.add(e),e.finally(()=>mB.delete(e))}var hne;const QTe="esri.widgets.Widget";let eMe=0;const tMe={widgetIcon:"esri-icon-checkbox-unchecked"};function pne(e,t){for(const r in t)e[r]!=null&&(typeof e[r]=="object"&&typeof t[r]=="object"?pne(e[r],t==null?void 0:t[r]):e[r]=t[r]);return e}const rMe=kEe({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(n,i,s,o)=>{const a=t==null?void 0:t(n,i,s,o),l=r.test(n);if(!((n=n.replace(r,"")).toLowerCase()in s)||l){const u=n[2].toLowerCase()+n.slice(3),d=y=>a==null?void 0:a.call(s,y);s.addEventListener(u,d,l);const p=()=>s.removeEventListener(u,d,l),f=o.afterRemoved;o.afterRemoved=y=>{f==null||f(y),p()}}return a}},handleInterceptedEvent(e,t,r,n){const{eventPhase:i,type:s}=n,o=i===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,l&&a in l))&&($re(),e.scheduleRender(),l[a].call(l.bind||r,n))}});let nP=!1,yn=class extends TO(au.EventedAccessor){constructor(t,r){super(t,r),this._attached=!1,this._internalHandles=new zi,this._projector=rMe,this._readyForTrueRender=!1,this.iconClass=tMe.widgetIcon,this.key=this,this._loadLocale=rte(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const o=await Wn(this._messageBundleProps.map(async({bundlePath:a,propertyName:l})=>{let u=await _6(a);this.uiStrings&&Object.keys(this.uiStrings)&&(u=pne(B(u),this.uiStrings)),this[l]=u}));for(const a of o)a.error&&oe.getLogger(this.declaredClass).error("widget-intl:locale-error",this.declaredClass,a.error)}await this.loadLocale()}),WTe();const n="esri-widget-uid-"+c2e(),i=this.render.bind(this);this._trackingTarget=new SO(()=>this.scheduleRender());const s=()=>{var p;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:n,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0};const o=i();let{properties:a}=o;a||(o.properties=a={});let{key:l,styles:u}=a;l||(a.key=n),u||(a.styles=u={}),u.display||(u.display="");let d=0;return(p=o.children)==null||p.forEach(f=>{if(W6(f.vnodeSelector))return;let{properties:y}=f;y||(f.properties=y={}),y.key||(y.key=`${this.id}--${d++}`)}),cne(this,o)};this.render=()=>{if(nP)return s();let o=aEe(this)??null;if(o)return o;this._trackingTarget.clear(),nP=!0;try{o=$c(this._trackingTarget,s)}catch(a){throw console.error(a),a}finally{nP=!1}return o&&lEe(this,o),o},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()})),XTe(this._resourcesFetch)}normalizeCtorArgs(t,r){const n={...t};return r&&(n.container=r),n}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(k3)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(Ur(this._trackingTarget),Ur(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,tP(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return D6(t)}get domNode(){return this.container}set domNode(t){this.container=t}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+eMe++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(hne=une,HTe)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(tP(this),this._projector.scheduleRender())}classes(...t){return Tre.apply(this,t)}renderNow(){tP(this),this._projector.renderNow()}_postInitialize(){var r;if(this.destroyed)return;this.scheduleRender(),(r=this._delegatedEventNames)!=null&&r.length&&this._internalHandles.add(ue(()=>this.viewModel,(n,i)=>{i&&this._internalHandles.remove("delegated-events"),n&&yO(n)&&this._internalHandles.add(this._delegatedEventNames.map(s=>gO(n,s,o=>{this.emit(s,o)})),"delegated-events")},mt)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(k3),this.scheduleRender()};this._internalHandles.add([f6(t),ue(()=>this.uiStrings,t),Ni(()=>this.container,n=>{this.destroyed||this._attach(n)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var r;this._attached&&(this._projector.detach(this.render),this._attached=!1),(r=t==null?void 0:t.parentNode)==null||r.removeChild(t)}};yn[hne]=!0,c([h()],yn.prototype,"_readyForTrueRender",void 0),c([h({value:null})],yn.prototype,"container",null),c([vt("container")],yn.prototype,"castContainer",null),c([h()],yn.prototype,"iconClass",void 0),c([h()],yn.prototype,"id",null),c([h()],yn.prototype,"label",null),c([h()],yn.prototype,"renderable",null),c([h()],yn.prototype,"uiStrings",void 0),c([h()],yn.prototype,"viewModel",void 0),c([h({value:!0})],yn.prototype,"visible",null),c([h()],yn.prototype,"key",void 0),c([h()],yn.prototype,"children",void 0),c([h()],yn.prototype,"afterCreate",void 0),c([h()],yn.prototype,"afterUpdate",void 0),c([h()],yn.prototype,"afterRemoved",void 0),yn=c([O(QTe)],yn);const Yn=yn,yr="esri-search",ke={base:`${yr} esri-widget`,loader:"esri-widget__loader",loaderText:"esri-widget__loader-text",loaderAnimation:"esri-widget__loader-animation",esriInput:"esri-input",hasMultipleSources:`${yr}--multiple-sources`,isLoading:`${yr}--loading`,isSearching:`${yr}--searching`,showSuggestions:`${yr}--show-suggestions`,showSources:`${yr}--sources`,showWarning:`${yr}--warning`,container:`${yr}__container`,input:`${yr}__input`,inputContainer:`${yr}__input-container`,form:`${yr}__form`,submitButton:`${yr}__submit-button`,sourcesButton:`${yr}__sources-button`,clearButton:`${yr}__clear-button`,sourceName:`${yr}__source-name`,suggestionsMenu:`${yr}__suggestions-menu`,suggestionList:`${yr}__suggestions-list`,suggestionListCurrentLocation:`${yr}__suggestions-list--current-location`,sourcesMenu:`${yr}__sources-menu`,source:`${yr}__source`,warningMenu:`${yr}__warning-menu`,warningMenuBody:`${yr}__warning-body`,warningMenuHeader:`${yr}__warning-header`,warningMenuText:`${yr}__warning-text`,noValueText:`${yr}__no-value-text`,esriWidgetDisabled:"esri-widget--disabled",button:"esri-widget--button",fallbackText:"esri-icon-font-fallback-text",header:"esri-widget__heading",locate:"esri-icon-locate-circled",menu:"esri-menu",menuList:"esri-menu__list",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuHeader:"esri-menu__header",loadingIcon:"esri-icon-loading-indicator esri-rotating",searchIcon:"esri-icon-search",dropdownIcon:"esri-icon-down-arrow esri-search__sources-button--down",dropupIcon:"esri-icon-up-arrow esri-search__sources-button--up",clearIcon:"esri-icon-close",noticeIcon:"esri-icon-notice-triangle",widgetIcon:"esri-icon-search",disabled:"esri-disabled"},sp="esri-search-result-renderer",fu={base:`${sp} esri-widget`,anchor:"esri-widget__anchor",showMoreResults:`${sp}__more-results--show-more-results`,moreResults:`${sp}__more-results`,moreResultsList:`${sp}__more-results-list`,moreResultsHeader:`${sp}__more-results-header`,moreResultsItem:`${sp}__more-results-item`,moreResultsListHeader:`${sp}__more-results-list-header`};let nMe=class fne{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new fne;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,B(n.value),n.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const n=this._values.get(t);return r==null||(n==null?void 0:n.origin)===r?n==null?void 0:n.value:void 0}originOf(t){var r;return((r=this._values.get(t))==null?void 0:r.origin)??ft.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(n=>{var i;return((i=this._values.get(n))==null?void 0:i.origin)===t})}set(t,r,n){if((n=this._normalizeOrigin(n))===ft.DEFAULTS){const i=this._values.get(t);if(i&&i.origin!=null&&i.origin>n)return}this._values.set(t,new iMe(r,n))}delete(t,r){var n;(r=this._normalizeOrigin(r))!=null&&((n=this._values.get(t))==null?void 0:n.origin)!==r||this._values.delete(t)}has(t,r){var n;return(r=this._normalizeOrigin(r))!=null?((n=this._values.get(t))==null?void 0:n.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},n)=>t(r,n))}_normalizeOrigin(t){if(t!=null)return t===ft.DEFAULTS?t:ft.USER}},iMe=class{constructor(t,r){this.value=t,this.origin=r}};function mne(e,t,r){t.keys().forEach(i=>{r.set(i,t.get(i),ft.DEFAULTS)});const n=e.metadatas;Object.keys(n).forEach(i=>{e.internalGet(i)&&r.set(i,e.internalGet(i),ft.DEFAULTS)})}function sMe(e,t,r){if(!e||!e.read||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&IU(n,r))return!0}else for(const i of n)if(i===t||i.includes(".")&&i.indexOf(t)===0&&IU(i,r))return!0;return!1}function oMe(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function aMe(e,t,r,n,i){let s=Z3(t[r],i);oMe(s)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))s=Z3(t[o],i),sMe(s,r,n)&&(e[o]=!0)}function lMe(e,t,r,n){const i=r.metadatas,s=F6(i[t],"any",n),o=s&&s.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,n):o;a!==void 0&&r.set(t,a)}const yne={origin:"service"};function gne(e,t,r=yne){if(!t||typeof t!="object")return;const n=ji(e),i=n.metadatas,s={};for(const o of Object.getOwnPropertyNames(t))aMe(s,i,o,t,r);n.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(s)){const a=Z3(i[o],r).read,l=a&&a.source;let u;u=l&&typeof l=="string"?TS(t,l):t[o],a&&a.reader&&(u=a.reader.call(e,u,t,r)),u!==void 0&&n.set(o,u)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(i))s[o]||lMe(e,o,n,r)}n.setDefaultOrigin("user")}function uMe(e,t,r,n=yne){var s;const i={...n,messages:[]};r(i),(s=i.messages)==null||s.forEach(o=>{o.type!=="warning"||e.loaded?n&&n.messages&&n.messages.push(o):e.loadWarnings.push(o)})}function cMe(e,t,r,n,i){var o,a;const s={};return(a=(o=t.write)==null?void 0:o.writer)==null||a.call(e,n,s,r,i),s}function vne(e,t,r,n,i,s){if(!n||!n.write)return!1;const o=e.get(r);if(!i&&n.write.overridePolicy){const a=n.write.overridePolicy.call(e,o,r,s);a!==void 0&&(i=a)}if(i||(i=n.write),!i||i.enabled===!1)return!1;if((o===null&&!i.allowNull&&!i.writerEnsuresNonNull||o===void 0)&&i.isRequired){const a=new V("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&s&&s.messages?s.messages.push(a):a&&!s&&oe.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!i.allowNull&&!i.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(r)===ft.DEFAULTS)&&dMe(e,r,s,n,o)||!i.ignoreOrigin&&s&&s.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<sh(s.origin))}function dMe(e,t,r,n,i){const s=n.default;if(s===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(i);if(typeof s=="function"){if(Array.isArray(i)){const o=s.call(e,t,r);return mO(o,i)}return!1}return s===i}function hMe(e,t,r,n){const i=ji(e),s=i.metadatas,o=tre(s[t],n);return!!o&&vne(e,i,t,o,r,n)}function bne(e,t,r){var s,o;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return _2(t,e.toJSON(r));const n=ji(e),i=n.metadatas;for(const a in i){const l=tre(i[a],r);if(!vne(e,n,a,l,void 0,r))continue;const u=e.get(a),d=cMe(e,l,l.write&&typeof l.write.target=="string"?l.write.target:a,u,r);Object.keys(d).length>0&&(t=_2(t,d),(o=(s=r==null?void 0:r.resources)==null?void 0:s.pendingOperations)!=null&&o.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>_2(t,d,()=>"replace-arrays"))),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:a,oldOrigin:t2e(n.store.originOf(a)),newOrigin:r.origin}))}return t}const PS=e=>{let t=class extends e{constructor(...r){super(...r);const n=ji(this),i=n.store,s=new nMe;n.store=s,mne(n,i,s)}read(r,n){gne(this,r,n)}write(r={},n){return bne(this,r,n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return pMe.call(this,r,n)}};return t=c([O("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function pMe(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let Q=class extends PS(Ie){};Q=c([O("esri.core.JSONSupport")],Q);function he(e,t,r){let n,i;return t===void 0||Array.isArray(t)?(i=e,r=t,n=[void 0]):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;n.forEach(l=>{const u=Hte(s,l,i);u.read&&typeof u.read=="object"||(u.read={}),u.read.reader=a[o],r&&(u.read.source=(u.read.source||[]).concat(r))})}}let H6=class{constructor(t,r,n,i){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=n;const s=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*s,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=i||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const mr=new H6(6378137,1/298.257223563,3e5,.006694379990137799),pc=new H6(3396190,1/169.8944472236118,23e4),Rh=new H6(1737400,0,0);var pm;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(pm||(pm={}));let m;const I={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(m=2e3;m<=2045;m++)I[m]=0;for(m=2056;m<=2065;m++)I[m]=0;for(m=2067;m<=2135;m++)I[m]=0;for(m=2137;m<=2154;m++)I[m]=0;for(m=2161;m<=2170;m++)I[m]=0;for(m=2172;m<=2193;m++)I[m]=0;for(m=2195;m<=2198;m++)I[m]=0;for(m=2200;m<=2203;m++)I[m]=0;for(m=2205;m<=2217;m++)I[m]=0;for(m=2222;m<=2224;m++)I[m]=1;for(m=2225;m<=2250;m++)I[m]=2;for(m=2251;m<=2253;m++)I[m]=1;for(m=2257;m<=2264;m++)I[m]=2;for(m=2274;m<=2279;m++)I[m]=2;for(m=2280;m<=2282;m++)I[m]=1;for(m=2283;m<=2289;m++)I[m]=2;for(m=2290;m<=2292;m++)I[m]=0;for(m=2308;m<=2313;m++)I[m]=0;for(m=2315;m<=2491;m++)I[m]=0;for(m=2494;m<=2866;m++)I[m]=0;for(m=2867;m<=2869;m++)I[m]=1;for(m=2870;m<=2888;m++)I[m]=2;for(m=2891;m<=2895;m++)I[m]=2;for(m=2896;m<=2898;m++)I[m]=1;for(m=2902;m<=2908;m++)I[m]=2;for(m=2915;m<=2920;m++)I[m]=2;for(m=2921;m<=2923;m++)I[m]=1;for(m=2924;m<=2930;m++)I[m]=2;for(m=2931;m<=2962;m++)I[m]=0;for(m=2964;m<=2968;m++)I[m]=2;for(m=2969;m<=2973;m++)I[m]=0;for(m=2975;m<=2991;m++)I[m]=0;for(m=2995;m<=3051;m++)I[m]=0;for(m=3054;m<=3079;m++)I[m]=0;for(m=3081;m<=3088;m++)I[m]=0;for(m=3092;m<=3101;m++)I[m]=0;for(m=3106;m<=3138;m++)I[m]=0;for(m=3146;m<=3151;m++)I[m]=0;for(m=3153;m<=3166;m++)I[m]=0;for(m=3168;m<=3172;m++)I[m]=0;for(m=3174;m<=3203;m++)I[m]=0;for(m=3294;m<=3358;m++)I[m]=0;for(m=3367;m<=3403;m++)I[m]=0;for(m=3408;m<=3416;m++)I[m]=0;for(m=3417;m<=3438;m++)I[m]=2;for(m=3441;m<=3446;m++)I[m]=2;for(m=3447;m<=3450;m++)I[m]=0;for(m=3451;m<=3459;m++)I[m]=2;for(m=3460;m<=3478;m++)I[m]=0;for(m=3554;m<=3559;m++)I[m]=0;for(m=3560;m<=3570;m++)I[m]=2;for(m=3571;m<=3581;m++)I[m]=0;for(m=3594;m<=3597;m++)I[m]=0;for(m=3601;m<=3604;m++)I[m]=0;for(m=3637;m<=3639;m++)I[m]=0;for(m=3665;m<=3667;m++)I[m]=0;for(m=3693;m<=3695;m++)I[m]=0;for(m=3701;m<=3727;m++)I[m]=0;for(m=3728;m<=3739;m++)I[m]=2;for(m=3740;m<=3751;m++)I[m]=0;for(m=3753;m<=3760;m++)I[m]=2;for(m=3761;m<=3773;m++)I[m]=0;for(m=3775;m<=3777;m++)I[m]=0;for(m=3779;m<=3781;m++)I[m]=0;for(m=3783;m<=3785;m++)I[m]=0;for(m=3788;m<=3791;m++)I[m]=0;for(m=3797;m<=3802;m++)I[m]=0;for(m=3814;m<=3816;m++)I[m]=0;for(m=3825;m<=3829;m++)I[m]=0;for(m=3832;m<=3841;m++)I[m]=0;for(m=3844;m<=3852;m++)I[m]=0;for(m=3873;m<=3885;m++)I[m]=0;for(m=3890;m<=3893;m++)I[m]=0;for(m=3907;m<=3912;m++)I[m]=0;for(m=3942;m<=3950;m++)I[m]=0;for(m=3968;m<=3970;m++)I[m]=0;for(m=3973;m<=3976;m++)I[m]=0;for(m=3986;m<=3989;m++)I[m]=0;for(m=3994;m<=3997;m++)I[m]=0;for(m=4048;m<=4051;m++)I[m]=0;for(m=4056;m<=4063;m++)I[m]=0;for(m=4093;m<=4096;m++)I[m]=0;for(m=4390;m<=4398;m++)I[m]=0;for(m=4399;m<=4413;m++)I[m]=2;for(m=4418;m<=4433;m++)I[m]=2;for(m=4455;m<=4457;m++)I[m]=2;for(m=4484;m<=4489;m++)I[m]=0;for(m=4491;m<=4554;m++)I[m]=0;for(m=4568;m<=4589;m++)I[m]=0;for(m=4652;m<=4656;m++)I[m]=0;for(m=4766;m<=4800;m++)I[m]=0;for(m=5014;m<=5016;m++)I[m]=0;for(m=5069;m<=5072;m++)I[m]=0;for(m=5105;m<=5130;m++)I[m]=0;for(m=5173;m<=5188;m++)I[m]=0;for(m=5253;m<=5259;m++)I[m]=0;for(m=5269;m<=5275;m++)I[m]=0;for(m=5292;m<=5311;m++)I[m]=0;for(m=5329;m<=5331;m++)I[m]=0;for(m=5343;m<=5349;m++)I[m]=0;for(m=5355;m<=5357;m++)I[m]=0;for(m=5387;m<=5389;m++)I[m]=0;for(m=5459;m<=5463;m++)I[m]=0;for(m=5479;m<=5482;m++)I[m]=0;for(m=5518;m<=5520;m++)I[m]=0;for(m=5530;m<=5539;m++)I[m]=0;for(m=5550;m<=5552;m++)I[m]=0;for(m=5562;m<=5583;m++)I[m]=0;for(m=5623;m<=5625;m++)I[m]=2;for(m=5631;m<=5639;m++)I[m]=0;for(m=5649;m<=5653;m++)I[m]=0;for(m=5663;m<=5680;m++)I[m]=0;for(m=5682;m<=5685;m++)I[m]=0;for(m=5875;m<=5877;m++)I[m]=0;for(m=5896;m<=5899;m++)I[m]=0;for(m=5921;m<=5940;m++)I[m]=0;for(m=6050;m<=6125;m++)I[m]=0;for(m=6244;m<=6275;m++)I[m]=0;for(m=6328;m<=6348;m++)I[m]=0;for(m=6350;m<=6356;m++)I[m]=0;for(m=6366;m<=6372;m++)I[m]=0;for(m=6381;m<=6387;m++)I[m]=0;for(m=6393;m<=6404;m++)I[m]=0;for(m=6480;m<=6483;m++)I[m]=0;for(m=6511;m<=6514;m++)I[m]=0;for(m=6579;m<=6581;m++)I[m]=0;for(m=6619;m<=6624;m++)I[m]=0;for(m=6625;m<=6627;m++)I[m]=2;for(m=6628;m<=6632;m++)I[m]=0;for(m=6634;m<=6637;m++)I[m]=0;for(m=6669;m<=6692;m++)I[m]=0;for(m=6707;m<=6709;m++)I[m]=0;for(m=6720;m<=6723;m++)I[m]=0;for(m=6732;m<=6738;m++)I[m]=0;for(m=6931;m<=6933;m++)I[m]=0;for(m=6956;m<=6959;m++)I[m]=0;for(m=7005;m<=7007;m++)I[m]=0;for(m=7057;m<=7070;m++)I[m]=2;for(m=7074;m<=7082;m++)I[m]=0;for(m=7109;m<=7118;m++)I[m]=0;for(m=7119;m<=7127;m++)I[m]=1;for(m=7374;m<=7376;m++)I[m]=0;for(m=7528;m<=7586;m++)I[m]=0;for(m=7587;m<=7645;m++)I[m]=2;for(m=7692;m<=7696;m++)I[m]=0;for(m=7755;m<=7787;m++)I[m]=0;for(m=7791;m<=7795;m++)I[m]=0;for(m=7799;m<=7801;m++)I[m]=0;for(m=7803;m<=7805;m++)I[m]=0;for(m=7825;m<=7831;m++)I[m]=0;for(m=7845;m<=7859;m++)I[m]=0;for(m=8013;m<=8032;m++)I[m]=0;for(m=8065;m<=8068;m++)I[m]=1;for(m=8518;m<=8529;m++)I[m]=2;for(m=8533;m<=8536;m++)I[m]=2;for(m=8538;m<=8540;m++)I[m]=2;for(m=8677;m<=8679;m++)I[m]=0;for(m=8836;m<=8840;m++)I[m]=0;for(m=8857;m<=8859;m++)I[m]=0;for(m=8908;m<=8910;m++)I[m]=0;for(m=9154;m<=9159;m++)I[m]=0;for(m=9205;m<=9218;m++)I[m]=0;for(m=9271;m<=9273;m++)I[m]=0;for(m=9295;m<=9297;m++)I[m]=0;for(m=9356;m<=9360;m++)I[m]=0;for(m=9404;m<=9407;m++)I[m]=0;for(m=9476;m<=9482;m++)I[m]=0;for(m=9487;m<=9494;m++)I[m]=0;for(m=9697;m<=9699;m++)I[m]=0;for(m=9821;m<=9865;m++)I[m]=0;for(m=20002;m<=20032;m++)I[m]=0;for(m=20047;m<=20049;m++)I[m]=0;for(m=20062;m<=20092;m++)I[m]=0;for(m=20135;m<=20138;m++)I[m]=0;for(m=20248;m<=20258;m++)I[m]=0;for(m=20348;m<=20358;m++)I[m]=0;for(m=20436;m<=20440;m++)I[m]=0;for(m=20822;m<=20824;m++)I[m]=0;for(m=20904;m<=20932;m++)I[m]=0;for(m=20934;m<=20936;m++)I[m]=0;for(m=21004;m<=21032;m++)I[m]=0;for(m=21035;m<=21037;m++)I[m]=0;for(m=21095;m<=21097;m++)I[m]=0;for(m=21148;m<=21150;m++)I[m]=0;for(m=21207;m<=21264;m++)I[m]=0;for(m=21307;m<=21364;m++)I[m]=0;for(m=21413;m<=21423;m++)I[m]=0;for(m=21453;m<=21463;m++)I[m]=0;for(m=21473;m<=21483;m++)I[m]=0;for(m=21780;m<=21782;m++)I[m]=0;for(m=21891;m<=21894;m++)I[m]=0;for(m=21896;m<=21899;m++)I[m]=0;for(m=22171;m<=22177;m++)I[m]=0;for(m=22181;m<=22187;m++)I[m]=0;for(m=22191;m<=22197;m++)I[m]=0;for(m=22207;m<=22222;m++)I[m]=0;for(m=22234;m<=22236;m++)I[m]=0;for(m=22243;m<=22250;m++)I[m]=0;for(m=22262;m<=22265;m++)I[m]=0;for(m=22307;m<=22322;m++)I[m]=0;for(m=22348;m<=22357;m++)I[m]=0;for(m=22407;m<=22422;m++)I[m]=0;for(m=22462;m<=22465;m++)I[m]=0;for(m=22521;m<=22525;m++)I[m]=0;for(m=22607;m<=22622;m++)I[m]=0;for(m=22641;m<=22646;m++)I[m]=0;for(m=22648;m<=22657;m++)I[m]=0;for(m=22707;m<=22722;m++)I[m]=0;for(m=22762;m<=22765;m++)I[m]=0;for(m=22991;m<=22994;m++)I[m]=0;for(m=23028;m<=23038;m++)I[m]=0;for(m=23830;m<=23853;m++)I[m]=0;for(m=23866;m<=23872;m++)I[m]=0;for(m=23877;m<=23884;m++)I[m]=0;for(m=23886;m<=23894;m++)I[m]=0;for(m=23946;m<=23948;m++)I[m]=0;for(m=24311;m<=24313;m++)I[m]=0;for(m=24342;m<=24347;m++)I[m]=0;for(m=24370;m<=24374;m++)I[m]=10;for(m=24375;m<=24381;m++)I[m]=0;for(m=24718;m<=24721;m++)I[m]=0;for(m=24817;m<=24821;m++)I[m]=0;for(m=24877;m<=24882;m++)I[m]=0;for(m=24891;m<=24893;m++)I[m]=0;for(m=25391;m<=25395;m++)I[m]=0;for(m=25828;m<=25838;m++)I[m]=0;for(m=26191;m<=26195;m++)I[m]=0;for(m=26391;m<=26393;m++)I[m]=0;for(m=26701;m<=26722;m++)I[m]=0;for(m=26729;m<=26799;m++)I[m]=2;for(m=26801;m<=26803;m++)I[m]=2;for(m=26811;m<=26813;m++)I[m]=2;for(m=26847;m<=26870;m++)I[m]=2;for(m=26891;m<=26899;m++)I[m]=0;for(m=26901;m<=26923;m++)I[m]=0;for(m=26929;m<=26946;m++)I[m]=0;for(m=26948;m<=26998;m++)I[m]=0;for(m=27037;m<=27040;m++)I[m]=0;for(m=27205;m<=27232;m++)I[m]=0;for(m=27258;m<=27260;m++)I[m]=0;for(m=27391;m<=27398;m++)I[m]=0;for(m=27561;m<=27564;m++)I[m]=0;for(m=27571;m<=27574;m++)I[m]=0;for(m=27581;m<=27584;m++)I[m]=0;for(m=27591;m<=27594;m++)I[m]=0;for(m=28191;m<=28193;m++)I[m]=0;for(m=28348;m<=28358;m++)I[m]=0;for(m=28402;m<=28432;m++)I[m]=0;for(m=28462;m<=28492;m++)I[m]=0;for(m=29118;m<=29122;m++)I[m]=0;for(m=29168;m<=29172;m++)I[m]=0;for(m=29177;m<=29185;m++)I[m]=0;for(m=29187;m<=29195;m++)I[m]=0;for(m=29900;m<=29903;m++)I[m]=0;for(m=30161;m<=30179;m++)I[m]=0;for(m=30491;m<=30494;m++)I[m]=0;for(m=30729;m<=30732;m++)I[m]=0;for(m=31251;m<=31259;m++)I[m]=0;for(m=31265;m<=31268;m++)I[m]=0;for(m=31275;m<=31279;m++)I[m]=0;for(m=31281;m<=31297;m++)I[m]=0;for(m=31461;m<=31469;m++)I[m]=0;for(m=31491;m<=31495;m++)I[m]=0;for(m=31917;m<=31922;m++)I[m]=0;for(m=31965;m<=32e3;m++)I[m]=0;for(m=32001;m<=32003;m++)I[m]=2;for(m=32005;m<=32031;m++)I[m]=2;for(m=32033;m<=32060;m++)I[m]=2;for(m=32064;m<=32067;m++)I[m]=2;for(m=32074;m<=32077;m++)I[m]=2;for(m=32081;m<=32086;m++)I[m]=0;for(m=32107;m<=32130;m++)I[m]=0;for(m=32133;m<=32159;m++)I[m]=0;for(m=32164;m<=32167;m++)I[m]=2;for(m=32180;m<=32199;m++)I[m]=0;for(m=32201;m<=32260;m++)I[m]=0;for(m=32301;m<=32360;m++)I[m]=0;for(m=32601;m<=32662;m++)I[m]=0;for(m=32664;m<=32667;m++)I[m]=2;for(m=32701;m<=32761;m++)I[m]=0;for(m=53001;m<=53004;m++)I[m]=0;for(m=53008;m<=53019;m++)I[m]=0;for(m=53021;m<=53032;m++)I[m]=0;for(m=53034;m<=53037;m++)I[m]=0;for(m=53042;m<=53046;m++)I[m]=0;for(m=53074;m<=53080;m++)I[m]=0;for(m=54001;m<=54004;m++)I[m]=0;for(m=54008;m<=54019;m++)I[m]=0;for(m=54021;m<=54032;m++)I[m]=0;for(m=54034;m<=54037;m++)I[m]=0;for(m=54042;m<=54046;m++)I[m]=0;for(m=54048;m<=54053;m++)I[m]=0;for(m=54074;m<=54080;m++)I[m]=0;for(m=54098;m<=54101;m++)I[m]=0;for(m=102001;m<=102040;m++)I[m]=0;for(m=102042;m<=102063;m++)I[m]=0;for(m=102065;m<=102067;m++)I[m]=0;for(m=102070;m<=102117;m++)I[m]=0;for(m=102122;m<=102216;m++)I[m]=0;for(m=102221;m<=102377;m++)I[m]=0;for(m=102382;m<=102388;m++)I[m]=0;for(m=102389;m<=102398;m++)I[m]=2;for(m=102399;m<=102444;m++)I[m]=0;for(m=102445;m<=102447;m++)I[m]=2;for(m=102448;m<=102458;m++)I[m]=0;for(m=102459;m<=102468;m++)I[m]=2;for(m=102469;m<=102499;m++)I[m]=0;for(m=102500;m<=102519;m++)I[m]=1;for(m=102520;m<=102524;m++)I[m]=0;for(m=102525;m<=102529;m++)I[m]=2;for(m=102530;m<=102588;m++)I[m]=0;for(m=102590;m<=102598;m++)I[m]=0;for(m=102601;m<=102603;m++)I[m]=0;for(m=102605;m<=102628;m++)I[m]=0;for(m=102629;m<=102646;m++)I[m]=2;for(m=102648;m<=102700;m++)I[m]=2;for(m=102701;m<=102703;m++)I[m]=0;for(m=102707;m<=102730;m++)I[m]=2;for(m=102733;m<=102758;m++)I[m]=2;for(m=102767;m<=102900;m++)I[m]=0;for(m=102901;m<=102933;m++)I[m]=2;for(m=102934;m<=102950;m++)I[m]=13;for(m=102951;m<=102955;m++)I[m]=0;for(m=102961;m<=102963;m++)I[m]=0;for(m=102965;m<=102969;m++)I[m]=0;for(m=102971;m<=102973;m++)I[m]=0;for(m=102975;m<=102989;m++)I[m]=0;for(m=102990;m<=102992;m++)I[m]=1;for(m=102997;m<=103002;m++)I[m]=0;for(m=103003;m<=103008;m++)I[m]=2;for(m=103009;m<=103011;m++)I[m]=0;for(m=103012;m<=103014;m++)I[m]=2;for(m=103019;m<=103021;m++)I[m]=0;for(m=103022;m<=103024;m++)I[m]=2;for(m=103029;m<=103031;m++)I[m]=0;for(m=103032;m<=103034;m++)I[m]=2;for(m=103065;m<=103068;m++)I[m]=0;for(m=103074;m<=103076;m++)I[m]=0;for(m=103077;m<=103079;m++)I[m]=1;for(m=103080;m<=103082;m++)I[m]=0;for(m=103083;m<=103085;m++)I[m]=2;for(m=103090;m<=103093;m++)I[m]=0;for(m=103097;m<=103099;m++)I[m]=0;for(m=103100;m<=103102;m++)I[m]=2;for(m=103107;m<=103109;m++)I[m]=0;for(m=103110;m<=103112;m++)I[m]=2;for(m=103113;m<=103116;m++)I[m]=0;for(m=103117;m<=103120;m++)I[m]=2;for(m=103153;m<=103157;m++)I[m]=0;for(m=103158;m<=103162;m++)I[m]=2;for(m=103163;m<=103165;m++)I[m]=0;for(m=103166;m<=103168;m++)I[m]=1;for(m=103169;m<=103171;m++)I[m]=2;for(m=103186;m<=103188;m++)I[m]=0;for(m=103189;m<=103191;m++)I[m]=2;for(m=103192;m<=103195;m++)I[m]=0;for(m=103196;m<=103199;m++)I[m]=2;for(m=103200;m<=103224;m++)I[m]=0;for(m=103225;m<=103227;m++)I[m]=1;for(m=103232;m<=103237;m++)I[m]=0;for(m=103238;m<=103243;m++)I[m]=2;for(m=103244;m<=103246;m++)I[m]=0;for(m=103247;m<=103249;m++)I[m]=2;for(m=103254;m<=103256;m++)I[m]=0;for(m=103257;m<=103259;m++)I[m]=2;for(m=103264;m<=103266;m++)I[m]=0;for(m=103267;m<=103269;m++)I[m]=2;for(m=103300;m<=103375;m++)I[m]=0;for(m=103381;m<=103383;m++)I[m]=0;for(m=103384;m<=103386;m++)I[m]=1;for(m=103387;m<=103389;m++)I[m]=0;for(m=103390;m<=103392;m++)I[m]=2;for(m=103397;m<=103399;m++)I[m]=0;for(m=103400;m<=103471;m++)I[m]=2;for(m=103476;m<=103478;m++)I[m]=0;for(m=103479;m<=103481;m++)I[m]=2;for(m=103486;m<=103488;m++)I[m]=0;for(m=103489;m<=103491;m++)I[m]=2;for(m=103492;m<=103495;m++)I[m]=0;for(m=103496;m<=103499;m++)I[m]=2;for(m=103528;m<=103543;m++)I[m]=0;for(m=103544;m<=103548;m++)I[m]=2;for(m=103549;m<=103551;m++)I[m]=0;for(m=103552;m<=103554;m++)I[m]=1;for(m=103555;m<=103557;m++)I[m]=2;for(m=103558;m<=103560;m++)I[m]=0;for(m=103571;m<=103573;m++)I[m]=0;for(m=103574;m<=103576;m++)I[m]=2;for(m=103577;m<=103580;m++)I[m]=0;for(m=103581;m<=103583;m++)I[m]=2;for(m=103595;m<=103694;m++)I[m]=0;for(m=103696;m<=103699;m++)I[m]=0;for(m=103700;m<=103793;m++)I[m]=2;for(m=103794;m<=103890;m++)I[m]=0;for(m=103891;m<=103896;m++)I[m]=2;for(m=103900;m<=103971;m++)I[m]=2;for(m=103972;m<=103977;m++)I[m]=0;for(m=112e3;m<=112101;m++)I[m]=0;const fMe={102113:!0,102100:!0,3857:!0,3785:!0},mMe={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},yB='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',Jx=[-20037508342788905e-9,20037508342788905e-9],Yx=[-20037508342787e-6,20037508342787e-6],wne={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Jx,origin:Yx,dx:1e-5},102100:{wkTemplate:yB,valid:Jx,origin:Yx,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Jx,origin:Yx,dx:1e-5},3857:{wkTemplate:yB,valid:Jx,origin:Yx,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function An(e,t){return e===t||!G(e)&&!G(t)&&(e.wkid!=null||t.wkid!=null?e.wkid===t.wkid||fm(e)&&fm(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase())}function Ka(e){return Hn(e)&&e.wkid&&wne[e.wkid]||null}function _ne(e){return!!Hn(e)&&(e.wkid?I[e.wkid]==null:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function yMe(e){return!(J6(e)||Z6(e))}function v_(e){return Hn(e)&&e.wkid===4326}function c0t(e){return Hn(e)&&e.wkid===pm.CGCS2000}function fm(e){return Hn(e)&&e.wkid!=null&&fMe[e.wkid]===!0}function gMe(e){return Hn(e)&&e.wkid===32662}function K6(e){return e===pm.GCSMARS2000||e===pm.GCSMARS2000_SPHERE}function J6(e){return Hn(e)&&e.wkid!=null&&K6(e.wkid)}function Y6(e){return e===pm.GCSMOON2000}function Z6(e){return Hn(e)&&e.wkid!=null&&Y6(e.wkid)}function vMe(e){return Hn(e)&&e.wkid!=null&&mMe[e.wkid]===!0}function Hn(e){return C(e)&&(e.wkid!=null&&e.wkid>=2e3||e.wkt!=null)}const bMe={wkid:4326,wkt:Za(wne[4326].wkTemplate,{Central_Meridian:"0.0"})},wMe={wkid:102100,latestWkid:3857},_Me={wkid:32662};function X6(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const SMe=X6(mr),Sne=X6(pc),xne=X6(Rh),xMe={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${mr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`};function $Me(e){return C(e)&&(J6(e)||An(e,Sne))?pc:C(e)&&(Z6(e)||An(e,xne))?Rh:mr}function d0t(e){return K6(e)?pc:Y6(e)?Rh:mr}const $ne=39.37,EMe=mr.radius*Math.PI/200,Ene=/UNIT\[([^\]]+)\]\]$/i,qf=I,Tne=/UNIT\[([^\]]+)\]/i,TMe=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),MMe=mi()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),ul=e=>e*e,Gc=e=>e*e*e,b_={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:ul(.001)},"square-centimeters":{inBaseUnits:ul(.01)},"square-decimeters":{inBaseUnits:ul(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:ul(1e3)},"square-inches":{inBaseUnits:ul(.0254)},"square-feet":{inBaseUnits:ul(.3048)},"square-yards":{inBaseUnits:ul(.9144)},"square-miles":{inBaseUnits:ul(1609.344)},"square-us-feet":{inBaseUnits:ul(1200/3937)},acres:{inBaseUnits:.0015625*ul(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Gc(.001)},"cubic-centimeters":{inBaseUnits:1e3*Gc(.01)},"cubic-decimeters":{inBaseUnits:1e3*Gc(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Gc(1e3)},"cubic-inches":{inBaseUnits:1e3*Gc(.0254)},"cubic-feet":{inBaseUnits:1e3*Gc(.3048)},"cubic-yards":{inBaseUnits:1e3*Gc(.9144)},"cubic-miles":{inBaseUnits:1e3*Gc(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},IMe=(()=>{const e={};for(const t in b_)for(const r in b_[t].units)e[r]=t;return e})();function OMe(e,t,r){return e*b_[r].units[t].inBaseUnits}function CMe(e,t,r){return e/b_[r].units[t].inBaseUnits}function lL(e){const t=IMe[e];if(!t)throw new Error("unknown type");return t}function gB(e,t=null){return t=t||lL(e),b_[t].baseUnit===e}function Mo(e,t,r){if(t===r)return e;const n=lL(t);if(n!==lL(r))throw new Error("incompatible units");const i=gB(t,n)?e:OMe(e,t,n);return gB(r,n)?i:CMe(i,r,n)}function AMe(e,t,r){return Mo(e,t,"meters")/(r*Math.PI/180)}function Mne(e){return MMe.fromJSON(e.toLowerCase())||null}function f0(e){if(C(e)&&!yMe(e))return 1;const t=Lc(e);return t>1e5?1:t}function PMe(e){return Lc(e)>=$Me(e).metersPerDegree?"meters":One(e)}function Lc(e,t=mr.metersPerDegree){return h6(kMe(e,!0),t)}function kMe(e,t=!1){const r=C(e)?e.wkid:null,n=C(e)?e.wkt:null;let i=null;if(r){if(K6(r))return pc.metersPerDegree;if(Y6(r))return Rh.metersPerDegree;i=qf.values[qf[r]],!i&&t&&TMe.has(r)&&(i=EMe)}else n&&(Ane(n)?i=vB(Ene.exec(n),i):Cne(n)&&(i=vB(Tne.exec(n),i)));return i}function vB(e,t){return e&&e[1]?Ine(e[1]):t}function Ine(e){return parseFloat(e.split(",")[1])}function One(e){const t=C(e)?e.wkid:null,r=C(e)?e.wkt:null;let n=null;if(t)n=qf.units[qf[t]];else if(r){const i=Ane(r)?Ene:Cne(r)?Tne:null;if(i){const s=i.exec(r);s&&s[1]&&(n=LMe(s[1]))}}return C(n)?Mne(n):null}function Cne(e){return/^GEOCCS/i.test(e)}function Ane(e){return/^PROJCS/i.test(e)}const RMe=1e-7;function LMe(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let r=t&&t[1];if(!r||!qf.units.includes(r)){const n=Ine(e);r=null;const i=qf.values;for(let s=0;s<i.length;++s)if(Math.abs(n-i[s])<RMe){r=qf.units[s];break}}return r}const NMe={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},FMe={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},DMe={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},jMe=mi()(NMe),VMe=mi()(FMe),h0t=mi()(DMe);function ge(e,t,r){let n,i;return t===void 0?(i=e,n=[void 0]):typeof t!="string"?(i=e,n=[void 0],r=t):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;for(const l of n){const u=Hte(s,l,i);u.write&&typeof u.write=="object"||(u.write={}),r&&(u.write.target=r),u.write.writer=a[o]}}}var cl;let kt=cl=class extends Q{static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return cl.WebMercator;if(e.wkid===4326)return cl.WGS84}const t=new cl;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return v_(this)}get isWebMercator(){return fm(this)}get isGeographic(){return _ne(this)}get isWrappable(){return vMe(this)}get metersPerUnit(){return Lc(this)}get unit(){return One(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===cl.WGS84)return cl.WGS84;if(this===cl.WebMercator)return cl.WebMercator;const e=new cl;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):this.wkt!=null&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=B(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return t==null||n?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return An(this,e)}toJSON(e){return this.write(void 0,e)}};kt.GCS_NAD_1927=null,kt.WGS84=null,kt.WebMercator=null,kt.PlateCarree=null,c([h({readOnly:!0})],kt.prototype,"isWGS84",null),c([h({readOnly:!0})],kt.prototype,"isWebMercator",null),c([h({readOnly:!0})],kt.prototype,"isGeographic",null),c([h({readOnly:!0})],kt.prototype,"isWrappable",null),c([h({type:Gt,json:{write:!0}})],kt.prototype,"latestWkid",void 0),c([h({readOnly:!0})],kt.prototype,"metersPerUnit",null),c([h({readOnly:!0})],kt.prototype,"unit",null),c([h({type:Gt,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt===null}}}}}}})],kt.prototype,"wkid",void 0),c([h({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid===null}}}}}}})],kt.prototype,"wkt",void 0),c([ge("wkt"),ge("web-scene","wkt")],kt.prototype,"writeWkt",null),c([h({type:Gt,json:{write:!0}})],kt.prototype,"vcsWkid",void 0),c([h({type:Gt,json:{write:!0}})],kt.prototype,"latestVcsWkid",void 0),c([h()],kt.prototype,"imageCoordinateSystem",void 0),kt=cl=c([O("esri.geometry.SpatialReference")],kt),kt.prototype.toJSON.isDefaultToJSON=!0,kt.GCS_NAD_1927=new kt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),kt.WGS84=new kt(bMe),kt.WebMercator=new kt(wMe),kt.PlateCarree=new kt(_Me),Object.freeze&&(Object.freeze(kt.GCS_NAD_1927),Object.freeze(kt.WGS84),Object.freeze(kt.WebMercator));const Ge=kt;let dl=class extends Q{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Ge.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof Ge)return t;if(t!=null){const n=new Ge;return n.read(t,r),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};c([h()],dl.prototype,"type",void 0),c([h({readOnly:!0})],dl.prototype,"cache",null),c([h({readOnly:!0})],dl.prototype,"extent",null),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],dl.prototype,"hasM",void 0),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],dl.prototype,"hasZ",void 0),c([h({type:Ge,json:{write:!0},value:Ge.WGS84})],dl.prototype,"spatialReference",void 0),c([he("spatialReference")],dl.prototype,"readSpatialReference",null),dl=c([O("esri.geometry.Geometry")],dl);const Wh=dl;function zMe(e,t){const r=e.x-t.x,n=e.y-t.y,i=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)}const UMe=57.29577951308232,BMe=.017453292519943;function bB(e){return e*UMe}function wB(e){return e*BMe}function f0t(e){return Math.PI/2-2*Math.atan(Math.exp(-e/mr.radius))}function uL(e){return e.wkid!=null||e.wkt!=null}const iP=[0,0];function zT(e,t,r,n,i){const s=e,o=i;if(o.spatialReference=r,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,iP,n);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,iP,n),[o.xmax,o.ymax]=t(s.xmax,s.ymax,iP,n);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let u;for(let d=0;d<a.length;d++){const p=a[d];u=[],l.push(u);for(let f=0;f<p.length;f++)u.push(t(p[f][0],p[f][1],[0,0],n)),p[f].length>2&&u[f].push(p[f][2]),p[f].length>3&&u[f].push(p[f][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let u=0;u<a.length;u++)l[u]=t(a[u][0],a[u][1],[0,0],n),a[u].length>2&&l[u].push(a[u][2]),a[u].length>3&&l[u].push(a[u][3]);o.points=l}return i}function M2(e,t){const r=e&&(uL(e)?e:e.spatialReference),n=t&&(uL(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!n)&&(!!An(n,r)||fm(n)&&v_(r)||fm(r)&&v_(n))}function AO(e,t){if(G(e))return null;const r=e.spatialReference,n=t&&(uL(t)?t:t.spatialReference);return M2(r,n)?An(r,n)?B(e):fm(n)?zT(e,fg,Ge.WebMercator,!1,B(e)):v_(n)?zT(e,Wf,Ge.WGS84,!1,B(e)):null:null}function fg(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=wB(t);return r[0]=wB(e)*mr.radius,r[1]=mr.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function Wf(e,t,r=[0,0],n=!1){const i=bB(e/mr.radius);return r[0]=n?i:i-360*Math.floor((i+180)/360),r[1]=bB(Math.PI/2-2*Math.atan(Math.exp(-t/mr.radius))),r}function fc(e,t=!1,r=B(e)){return zT(e,fg,Ge.WebMercator,t,r)}function mg(e,t=!1,r=B(e)){return zT(e,Wf,Ge.WGS84,t,r)}var I2;const y1=[0,0];function _B(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Hi=I2=class extends Wh{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,n,i){let s;if(Array.isArray(e))s=e,i=t,e=s[0],t=s[1],r=s[2],n=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,r=s.z,n=s.m,(i=s.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new Ge(i)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)oe.getLogger(this.declaredClass).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)oe.getLogger(this.declaredClass).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&i&&i.isWebMercator){const a=fg(s.longitude,s.latitude,y1);e=a[0],t=a[1]}}}else _B(r)?(i=r,r=null):_B(n)&&(i=n,n=null);const o={x:e,y:t};return o.x==null&&o.y!=null?oe.getLogger(this.declaredClass).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&oe.getLogger(this.declaredClass).warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(o.spatialReference=i),r!=null&&(o.z=r),n!=null&&(o.m=n),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return Wf(t,r,y1)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",fg(r,e,y1)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return Wf(e,t,y1)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",fg(e,t,y1)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new I2;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return I2.copy(e,this),this}equals(e){if(G(e))return!1;const{x:t,y:r,z:n,m:i,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:u,spatialReference:d}=e;if(!s.equals(d))if(s.isWebMercator&&d.isWGS84)[l,u]=fg(l,u),d=s;else{if(!s.isWGS84||!d.isWebMercator)return!1;[l,u]=Wf(l,u),d=s}return t===l&&r===u&&n===o&&i===a&&s.wkid===d.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=Ka(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,i=2*n;let s;return t>n?(s=Math.ceil(Math.abs(t-n)/i),t-=s*i):t<r&&(s=Math.ceil(Math.abs(t-r)/i),t+=s*i),this._set("x",t),this}distance(e){return zMe(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};c([h({readOnly:!0})],Hi.prototype,"cache",null),c([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Hi.prototype,"hasM",null),c([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Hi.prototype,"hasZ",null),c([h({type:Number})],Hi.prototype,"latitude",null),c([h({type:Number})],Hi.prototype,"longitude",null),c([h({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),vt(e=>isNaN(e)?e:zo(e))],Hi.prototype,"x",void 0),c([ge("x")],Hi.prototype,"writeX",null),c([he("x")],Hi.prototype,"readX",null),c([h({type:Number,json:{write:!0}})],Hi.prototype,"y",void 0),c([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Hi.prototype,"z",void 0),c([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Hi.prototype,"m",void 0),Hi=I2=c([O("esri.geometry.Point")],Hi),Hi.prototype.toJSON.isDefaultToJSON=!0;const Ve=Hi,sP=[0,0];function PO(e,t){return!!C(t)&&Xi(e,t.x,t.y,t.z)}function m0t(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!m0(e,r))return!1;return!0}function GMe(e,t){const{xmin:r,ymin:n,zmin:i,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Xi(e,r,n,i)&&Xi(e,r,o,i)&&Xi(e,s,o,i)&&Xi(e,s,n,i)&&Xi(e,r,n,a)&&Xi(e,r,o,a)&&Xi(e,s,o,a)&&Xi(e,s,n,a):Xi(e,r,n)&&Xi(e,r,o)&&Xi(e,s,o)&&Xi(e,s,n)}function m0(e,t){return Xi(e,t[0],t[1])}function qMe(e,t){return Xi(e,t[0],t[1],t[2])}function Xi(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function Pne(e,t){return sP[1]=t.y,sP[0]=t.x,WMe(e,sP)}function WMe(e,t){return kne(e.rings,t)}function kne(e,t){if(!e)return!1;if(HMe(e))return SB(!1,e,t);let r=!1;for(let n=0,i=e.length;n<i;n++)r=SB(r,e[n],t);return r}function HMe(e){return!Array.isArray(e[0][0])}function SB(e,t,r){const[n,i]=r;let s=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[u,d]=t[a],[p,f]=t[o];(d<i&&f>=i||f<i&&d>=i)&&u+(i-d)/(f-d)*(p-u)<n&&(s=!s)}return s}function KMe(e,t){return PO(e,t)}function JMe(e,t){const r=e.hasZ&&t.hasZ;let n,i,s;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function YMe(e,t){const{points:r,hasZ:n}=t,i=n?qMe:m0;for(const s of r)if(i(e,s))return!0;return!1}const mm=[0,0],ym=[0,0],gm=[0,0],vm=[0,0],ZMe=[mm,ym,gm,vm],Rne=[[gm,mm],[mm,ym],[ym,vm],[vm,gm]];function XMe(e,t){return QMe(e,t.rings)}function QMe(e,t){mm[0]=e.xmin,mm[1]=e.ymax,ym[0]=e.xmax,ym[1]=e.ymax,gm[0]=e.xmin,gm[1]=e.ymin,vm[0]=e.xmax,vm[1]=e.ymin;for(const r of ZMe)if(kne(t,r))return!0;for(const r of t){if(!r.length)continue;let n=r[0];if(m0(e,n))return!0;for(let i=1;i<r.length;i++){const s=r[i];if(m0(e,s)||Lne(n,s,Rne))return!0;n=s}}return!1}function eIe(e,t){mm[0]=e.xmin,mm[1]=e.ymax,ym[0]=e.xmax,ym[1]=e.ymax,gm[0]=e.xmin,gm[1]=e.ymin,vm[0]=e.xmax,vm[1]=e.ymin;const r=t.paths;for(const n of r){if(!r.length)continue;let i=n[0];if(m0(e,i))return!0;for(let s=1;s<n.length;s++){const o=n[s];if(m0(e,o)||Lne(i,o,Rne))return!0;i=o}}return!1}const Fn=[0,0];function tIe(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const s=r[i],o=r[i+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const u=e[a][l],d=e[a][l+1];if(cL(s,o,u,d,Fn)&&!(Fn[0]===s[0]&&Fn[1]===s[1]||Fn[0]===u[0]&&Fn[1]===u[1]||Fn[0]===o[0]&&Fn[1]===o[1]||Fn[0]===d[0]&&Fn[1]===d[1]))return!0}}const n=r.length;if(!(n<=4))for(let i=0;i<n-3;i++){let s=n-1;i===0&&(s=n-2);const o=r[i],a=r[i+1];for(let l=i+2;l<s;l++){const u=r[l],d=r[l+1];if(cL(o,a,u,d,Fn)&&!(Fn[0]===o[0]&&Fn[1]===o[1]||Fn[0]===u[0]&&Fn[1]===u[1]||Fn[0]===a[0]&&Fn[1]===a[1]||Fn[0]===d[0]&&Fn[1]===d[1]))return!0}}}return!1}function Lne(e,t,r){for(let n=0;n<r.length;n++)if(cL(e,t,r[n][0],r[n][1]))return!0;return!1}function cL(e,t,r,n,i){const[s,o]=e,[a,l]=t,[u,d]=r,[p,f]=n,y=p-u,v=s-u,g=a-s,b=f-d,w=o-d,S=l-o,_=b*g-y*S;if(_===0)return!1;const x=(y*w-b*v)/_,$=(g*w-S*v)/_;return x>=0&&x<=1&&$>=0&&$<=1&&(i&&(i[0]=s+x*(a-s),i[1]=o+x*(l-o)),!0)}function rIe(e){switch(e){case"esriGeometryEnvelope":case"extent":return JMe;case"esriGeometryMultipoint":case"multipoint":return YMe;case"esriGeometryPoint":case"point":return KMe;case"esriGeometryPolygon":case"polygon":return XMe;case"esriGeometryPolyline":case"polyline":return eIe}}var Io;function nIe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function qc(e,t,r){return t==null?r:r==null?t:e(t,r)}let gn=Io=class extends Wh{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,i){return nIe(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Ge.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:i??Ge.WGS84}}static fromBounds(e,t){return new Io({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new Io({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Ve({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Io;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&M2(t,r)&&(e=t.isWebMercator?fc(e):mg(e,!0)),e.type==="point"?PO(this,e):e.type==="extent"&&GMe(this,e)}equals(e){if(this===e)return!0;if(G(e))return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&M2(t,r)&&(e=t.isWebMercator?fc(e):mg(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(G(e))return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!An(t,r)&&M2(t,r)&&(e=t.isWebMercator?fc(e):mg(e,!0)),rIe(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=qc(Math.min,this.zmin,e.zmin),this.zmax=qc(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=qc(Math.min,this.mmin,e.mmin),this.mmax=qc(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:G(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=qc(Math.max,this.zmin,e.zmin),this.zmax=qc(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=qc(Math.max,this.mmin,e.mmin),this.mmax=qc(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=Ka(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const n=t.isWebMercator?mg(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=this._normalizeX(n.x,e).x),this.spatialReference=new Ge(Za((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,i=this.xmin,s=this.xmax;return i>=r&&i<=n&&s>=r&&s<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;const i=r??Ka(n);if(i==null)return this;const s=this._getParts(i).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const u=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const d=(l.zmax-l.zmin)/2;for(let p=0;p<u.length;p++)u[p].push(d)}if(a){const d=(l.mmax-l.mmin)/2;for(let p=0;p<u.length;p++)u[p].push(d)}return u}),hasZ:o,hasM:a,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,u=this.xmax;let d;e=e||Ka(o);const[p,f]=e.valid;d=this._normalizeX(this.xmin,e);const y=d.x,v=d.frameId;d=this._normalizeX(this.xmax,e);const g=d.x,b=d.frameId,w=y===g&&a>0;if(a>2*f){const S=new Io(l<u?y:g,i,f,s,o),_=new Io(p,i,l<u?g:y,s,o),x=new Io(0,i,f,s,o),$=new Io(p,i,0,s,o),E=[],T=[];S.contains(x)&&E.push(v),S.contains($)&&T.push(v),_.contains(x)&&E.push(b),_.contains($)&&T.push(b);for(let M=v+1;M<b;M++)E.push(M),T.push(M);t.push({extent:S,frameIds:[v]},{extent:_,frameIds:[b]},{extent:x,frameIds:E},{extent:$,frameIds:T})}else y>g||w?t.push({extent:new Io(y,i,f,s,o),frameIds:[v]},{extent:new Io(p,i,g,s,o),frameIds:[b]}):t.push({extent:new Io(y,i,g,s,o),frameIds:[v]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const i={};r&&(i.zmin=this.zmin,i.zmax=this.zmax),n&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(i)}return t}_normalizeX(e,t){const[r,n]=t.valid,i=2*n;let s,o=0;return e>n?(s=Math.ceil(Math.abs(e-n)/i),e-=s*i,o=s):e<r&&(s=Math.ceil(Math.abs(e-r)/i),e+=s*i,o=-s),{x:e,frameId:o}}};c([h({readOnly:!0})],gn.prototype,"cache",null),c([h({readOnly:!0})],gn.prototype,"center",null),c([h({readOnly:!0})],gn.prototype,"extent",null),c([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],gn.prototype,"hasM",null),c([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],gn.prototype,"hasZ",null),c([h({readOnly:!0})],gn.prototype,"height",null),c([h({readOnly:!0})],gn.prototype,"width",null),c([h({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],gn.prototype,"xmin",void 0),c([h({type:Number,json:{write:!0}})],gn.prototype,"ymin",void 0),c([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],gn.prototype,"mmin",void 0),c([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],gn.prototype,"zmin",void 0),c([h({type:Number,json:{write:!0}})],gn.prototype,"xmax",void 0),c([h({type:Number,json:{write:!0}})],gn.prototype,"ymax",void 0),c([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],gn.prototype,"mmax",void 0),c([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],gn.prototype,"zmax",void 0),gn=Io=c([O("esri.geometry.Extent")],gn),gn.prototype.toJSON.isDefaultToJSON=!0;const Pt=gn;function y0(e,t,r=!1){let{hasM:n,hasZ:i}=e;Array.isArray(t)?t.length!==4||n||i?t.length===3&&r&&!n?(i=!0,n=!1):t.length===3&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}var dL;function xB(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function iIe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let ud=dL=class extends Wh{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):iIe(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const n=r.points&&r.points[0];return n&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=n.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=n.length>3:r.hasM===void 0&&(r.hasM=n.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Pt,r=this.hasZ,n=this.hasM,i=r?3:2,s=e[0],o=xB(Math.min),a=xB(Math.max);let l,u,d,p,[f,y]=s,[v,g]=s;for(let b=0,w=e.length;b<w;b++){const S=e[b],[_,x]=S;if(f=o(f,_),y=o(y,x),v=a(v,_),g=a(g,x),r&&S.length>2){const $=S[2];l=o(l,$),d=a(d,$)}if(n&&S.length>i){const $=S[i];u=o(u,$),p=a(p,$)}}return t.xmin=f,t.ymin=y,t.xmax=v,t.ymax=g,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=d):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=u,t.mmax=p):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=B(this.points)}addPoint(e){return y0(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:B(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new dL(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new Ve(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Ve(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(y0(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};c([h({readOnly:!0})],ud.prototype,"cache",null),c([h()],ud.prototype,"extent",null),c([h({type:[[Number]],json:{write:{isRequired:!0}}})],ud.prototype,"points",void 0),c([ge("points")],ud.prototype,"writePoints",null),ud=dL=c([O("esri.geometry.Multipoint")],ud),ud.prototype.toJSON.isDefaultToJSON=!0;const kO=ud;function sIe(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function oIe(e,t,r){const n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function aIe(e,t,r,n){const[i,s]=t,[o,a]=r[n],[l,u]=r[n+1],d=l-o,p=u-a,f=d*d+p*p,y=(i-o)*d+(s-a)*p,v=Math.min(1,Math.max(0,y/f));return e[0]=o+d*v,e[1]=a+p*v,e}function y0t(e,t,r){const n=r.rings;let i,s,o=!1,a=1/0;for(let l=0;l<n.length;l++){const u=n[l];for(let d=0,p=u.length-1;d<u.length;p=d++)i=u[d],s=u[p],i[1]>t!=s[1]>t&&e<(s[0]-i[0])*(t-i[1])/(s[1]-i[1])+i[0]&&(o=!o),a=Math.min(a,lIe(e,t,i,s))}return a===0?0:(o?1:-1)*Math.sqrt(a)}function lIe(e,t,r,n){let i=r[0],s=r[1],o=n[0]-i,a=n[1]-s;if(o!==0||a!==0){const l=((e-i)*o+(t-s)*a)/(o*o+a*a);l>1?(i=n[0],s=n[1]):l>0&&(i+=o*l,s+=a*l)}return o=e-i,a=t-s,o*o+a*a}function uIe(e,t){return oIe(e,t,.5)}function Nne(e,t,r){const n=e.length;let i=0,s=0,o=0;for(let a=0;a<n;a++){const l=e[a],u=e[(a+1)%n];let d=2;i+=l[0]*u[1]-u[0]*l[1],l.length>2&&u.length>2&&r&&(s+=l[0]*u[2]-u[0]*l[2],d=3),l.length>d&&u.length>d&&t&&(o+=l[0]*u[d]-u[0]*l[d])}return i<=0&&s<=0&&o<=0}function cIe(e){const t=e.length;return t>2&&mO(e[0],e[t-1])}function g0t(e){if("rings"in e&&(dIe(e),e.rings.length>0&&!Nne(e.rings[0],e.hasM??!1,e.hasZ??!1)))for(const t of e.rings)t.reverse()}function dIe(e){if("rings"in e)for(const t of e.rings)cIe(t)||t.push(t[0].slice())}function Fne(e){if(!e||e.length<3)return 0;let t=0;const r=e.length-1;for(let n=0;n<r;n++)t+=(e[n][0]-e[n+1][0])*(e[n][1]+e[n+1][1]);return t+=(e[r][0]-e[0][0])*(e[r][1]+e[0][1]),-.5*t}function v0t(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function hIe(e){return e?Dne(e.rings,e.hasZ??!1):null}function Dne(e,t){if(!e||!e.length)return null;const r=[],n=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=e.length;s<o;s++){const a=pIe(e[s],t,i);a&&n.push(a)}if(n.sort((s,o)=>{let a=s[2]-o[2];return a===0&&t&&(a=s[4]-o[4]),a}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const s=e[0]&&e[0].length?fIe(e[0],t):null;if(!s)return null;r[0]=s[0],r[1]=s[1],t&&s.length>2&&(r[2]=s[2])}return r}function pIe(e,t,r){let n=0,i=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,u=e.length?e[0][1]:0,d=e.length&&t?e[0][2]:0;for(let f=0;f<e.length;f++){const y=e[f],v=e[(f+1)%e.length],[g,b,w]=y,S=g-l,_=b-u,[x,$,E]=v,T=x-l,M=$-u,A=S*M-T*_;if(o+=A,n+=(S+T)*A,i+=(_+M)*A,t&&y.length>2&&v.length>2){const k=w-d,P=E-d,L=S*P-T*k;s+=(k+P)*L,a+=L}g<r[0]&&(r[0]=g),g>r[1]&&(r[1]=g),b<r[2]&&(r[2]=b),b>r[3]&&(r[3]=b),t&&(w<r[4]&&(r[4]=w),w>r[5]&&(r[5]=w))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const p=[n/(6*o)+l,i/(6*o)+u,o];return t&&(r[4]===r[5]||a===0?(p[3]=(r[4]+r[5])/2,p[4]=0):(p[3]=s/(6*a)+d,p[4]=a)),p}function fIe(e,t){const r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;for(let l=0,u=e.length;l<u-1;l++){const d=e[l],p=e[l+1];if(d&&p){r[0]=d[0],r[1]=d[1],n[0]=p[0],n[1]=p[1],t&&d.length>2&&p.length>2&&(r[2]=d[2],n[2]=p[2]);const f=sIe(r,n);if(f){i+=f;const y=uIe(d,p);s+=f*y[0],o+=f*y[1],t&&y.length>2&&(a+=f*y[2])}}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.length?e[0]:null}const mIe=1e-6;function b0t(e){if(!e||!e.rings)return null;const{rings:t}=e;let r=0;for(let s=0;s<t.length;s++)r+=Fne(t[s]);if(r<mIe)return Dne(t,!1);const n=[0,0],i=t[0][0];for(let s=0;s<t.length;s++)gIe(n,i,t[s]);return n[0]*=1/r,n[1]*=1/r,n[0]+=i[0],n[1]+=i[1],n}const yIe=1/3;function gIe(e,t,r){if(!e||!r||r.length<3)return null;const n=r[0],i=[0,0],s=[r[1][0]-n[0],r[1][1]-n[1]];let o;for(let u=2;u<r.length;u++)i[0]=r[u][0]-n[0],i[1]=r[u][1]-n[1],o=.5*yIe*(i[0]*s[1]-i[1]*s[0]),e[0]+=o*(s[0]+i[0]),e[1]+=o*(s[1]+i[1]),s[0]=i[0],s[1]=i[1];const a=Fne(r),l=[n[0],n[1]];return l[0]-=t[0],l[1]-=t[1],l[0]*=a,l[1]*=a,e[0]+=l[0],e[1]+=l[1],e}function jne(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Vne(e){return e.points!==void 0}function zne(e){return e.x!==void 0&&e.y!==void 0}function Une(e){return e.paths!==void 0}function Bne(e){return e.rings!==void 0}function Gne(e){function t(r,n){return r==null?n:n==null?r:e(r,n)}return t}const lh=Gne(Math.min),uh=Gne(Math.max);function w0t(e,t){return Une(t)?g0(e,t.paths,!1,!1):Bne(t)?g0(e,t.rings,!1,!1):Vne(t)?Q6(e,t.points,!1,!1,!1,!1):jne(t)?qne(e,t):(zne(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function _0t(e,t){return Une(t)?g0(e,t.paths,!0,!1):Bne(t)?g0(e,t.rings,!0,!1):Vne(t)?Q6(e,t.points,!0,!1,!0,!1):jne(t)?qne(e,t,!0,!1,!0,!1):(zne(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function g0(e,t,r,n){const i=r?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[u,d]=t[0][0],[p,f]=t[0][0];for(let y=0;y<t.length;y++){const v=t[y];for(let g=0;g<v.length;g++){const b=v[g],[w,S]=b;if(u=lh(u,w),d=lh(d,S),p=uh(p,w),f=uh(f,S),r&&b.length>2){const _=b[2];s=lh(s,_),o=uh(o,_)}if(n&&b.length>i){const _=b[i];a=lh(s,_),l=uh(o,_)}}}return r?n?(e[0]=u,e[1]=d,e[2]=s,e[3]=a,e[4]=p,e[5]=f,e[6]=o,e[7]=l,e.length=8,e):(e[0]=u,e[1]=d,e[2]=s,e[3]=p,e[4]=f,e[5]=o,e.length=6,e):n?(e[0]=u,e[1]=d,e[2]=a,e[3]=p,e[4]=f,e[5]=l,e.length=6,e):(e[0]=u,e[1]=d,e[2]=p,e[3]=f,e.length=4,e)}function qne(e,t,r,n,i,s){const o=t.xmin,a=t.xmax,l=t.ymin,u=t.ymax;let d=t.zmin,p=t.zmax,f=t.mmin,y=t.mmax;return i?(d=d||0,p=p||0,s?(f=f||0,y=y||0,e[0]=o,e[1]=l,e[2]=d,e[3]=f,e[4]=a,e[5]=u,e[6]=p,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=d,e[3]=a,e[4]=u,e[5]=p,e)):s?(f=f||0,y=y||0,e[0]=o,e[1]=l,e[2]=f,e[3]=a,e[4]=u,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=u,e)}function Q6(e,t,r,n,i,s){const o=r?3:2,a=n&&s,l=r&&i;if(!t.length||!t[0].length)return null;let u,d,p,f,[y,v]=t[0],[g,b]=t[0];for(let w=0;w<t.length;w++){const S=t[w],[_,x]=S;if(y=lh(y,_),v=lh(v,x),g=uh(g,_),b=uh(b,x),l&&S.length>2){const $=S[2];u=lh(u,$),d=uh(d,$)}if(a&&S.length>o){const $=S[o];p=lh(u,$),f=uh(d,$)}}return i?(u=u||0,d=d||0,s?(p=p||0,f=f||0,e[0]=y,e[1]=v,e[2]=u,e[3]=p,e[4]=g,e[5]=b,e[6]=d,e[7]=f,e):(e[0]=y,e[1]=v,e[2]=u,e[3]=g,e[4]=b,e[5]=d,e)):s?(p=p||0,f=f||0,e[0]=y,e[1]=v,e[2]=p,e[3]=g,e[4]=b,e[5]=f,e):(e[0]=y,e[1]=v,e[2]=g,e[3]=b,e)}function vIe(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function bIe(e){return e.points!==void 0}function wIe(e){return e.x!==void 0&&e.y!==void 0}function _Ie(e){return e.paths!==void 0}function SIe(e){return e.rings!==void 0}const e8=[];function Wne(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function Hne(e,t,r,n,i,s){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:s}}function Kne(e,t,r,n,i,s){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:s}}function Jne(e,t,r,n,i,s,o,a){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:s,zmax:o,mmax:a}}function t8(e,t=!1,r=!1){return t?r?Jne(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):Hne(e[0],e[1],e[2],e[3],e[4],e[5]):r?Kne(e[0],e[1],e[2],e[3],e[4],e[5]):Wne(e[0],e[1],e[2],e[3])}function S0t(e){return e?vIe(e)?e:wIe(e)?$Ie(e):SIe(e)?Yne(e):_Ie(e)?Zne(e):bIe(e)?xIe(e):null:null}function xIe(e){const{hasZ:t,hasM:r,points:n}=e;return t8(Q6(e8,n,t??!1,r??!1),t,r)}function $Ie(e){const{x:t,y:r,z:n,m:i}=e,s=i!=null;return n!=null?s?Jne(t,r,n,i,t,r,n,i):Hne(t,r,n,t,r,n):s?Kne(t,r,i,t,r,i):Wne(t,r,t,r)}function Yne(e){const{hasZ:t,hasM:r,rings:n}=e,i=g0(e8,n,t??!1,r??!1);return i?t8(i,t,r):null}function Zne(e){const{hasZ:t,hasM:r,paths:n}=e,i=g0(e8,n,t??!1,r??!1);return i?t8(i,t,r):null}var O2;function $B(e){return!Array.isArray(e[0])}let hl=O2=class extends Wh{static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let n=!1,i=!1;for(const o of t)o.hasZ&&(n=!0),o.hasM&&(i=!0);const s={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(n&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let u=0;u<a.length;u++)a[u].push(l)}if(i&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let u=0;u<a.length;u++)a[u].push(l)}return a}),spatialReference:r};return n&&(s.hasZ=!0),i&&(s.hasM=!0),new O2(s)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){let r,n,i=null,s=null;return e&&!Array.isArray(e)?(i=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||Ge.WGS84,i.length&&i[0]&&i[0][0]!=null&&typeof i[0][0]=="number"&&(i=[i]),s=i[0]&&i[0][0],s&&(r===void 0&&n===void 0?(r=s.length>2,n=s.length>3):r===void 0?r=n?s.length>3:s.length>2:n===void 0&&(n=r?s.length>3:s.length>2)),{rings:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=hIe(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Ve;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=Yne(this);if(!t)return null;const r=new Pt(t);return r.spatialReference=e,r}get isSelfIntersecting(){return tIe(this.rings)}writeRings(e,t){t.rings=B(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if($B(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new O2;return e.spatialReference=this.spatialReference,e.rings=B(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(G(e))return!1;const t=this.spatialReference,r=e.spatialReference;if(C(t)!==C(r)||C(t)&&C(r)&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const n=([i,s,o,a],[l,u,d,p])=>i===l&&s===u&&(o==null&&d==null||o===d)&&(a==null&&p==null||a===p);for(let i=0;i<this.rings.length;i++){const s=this.rings[i],o=e.rings[i];if(!mO(s,o,n))return!1}return!0}contains(e){if(!e)return!1;const t=AO(e,this.spatialReference);return Pne(this,C(t)?t:e)}isClockwise(e){let t;return t=$B(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e,Nne(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new Ve(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new Ve(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new Ve(r[0],r[1],r[2],r[3],this.spatialReference):new Ve(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(y0(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new Ve(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new Ve(i,r));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(y0(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([h({readOnly:!0})],hl.prototype,"cache",null),c([h({readOnly:!0})],hl.prototype,"centroid",null),c([h({readOnly:!0})],hl.prototype,"extent",null),c([h({readOnly:!0})],hl.prototype,"isSelfIntersecting",null),c([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],hl.prototype,"rings",void 0),c([ge("rings")],hl.prototype,"writeRings",null),hl=O2=c([O("esri.geometry.Polygon")],hl),hl.prototype.toJSON.isDefaultToJSON=!0;const ra=hl;var hL;function EIe(e){return!Array.isArray(e[0])}let cd=hL=class extends Wh{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let r,n,i=null,s=null;return e&&!Array.isArray(e)?(i=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||Ge.WGS84,i.length&&i[0]&&i[0][0]!=null&&typeof i[0][0]=="number"&&(i=[i]),s=i[0]&&i[0][0],s&&(r===void 0&&n===void 0?(r=s.length>2,n=!1):r===void 0?r=!n&&s.length>3:n===void 0&&(n=!r&&s.length>3)),{paths:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Zne(this);if(!t)return null;const r=new Pt(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=B(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(EIe(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new hL;return e.spatialReference=this.spatialReference,e.paths=B(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new Ve(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new Ve(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new Ve(r[0],r[1],r[2],r[3],this.spatialReference):new Ve(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(y0(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new Ve(i,r));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new Ve(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(y0(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([h({readOnly:!0})],cd.prototype,"cache",null),c([h({readOnly:!0})],cd.prototype,"extent",null),c([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],cd.prototype,"paths",void 0),c([ge("paths")],cd.prototype,"writePaths",null),cd=hL=c([O("esri.geometry.Polyline")],cd),cd.prototype.toJSON.isDefaultToJSON=!0;const Qs=cd,TIe=mi()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),EB=mi()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function Xne(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function r8(e){return e.points!==void 0}function n8(e){return e.x!==void 0&&e.y!==void 0}function i8(e){return e.paths!==void 0}function Hf(e){return e.rings!==void 0}function as(e){return G(e)?null:e instanceof Wh?e:n8(e)?Ve.fromJSON(e):i8(e)?Qs.fromJSON(e):Hf(e)?ra.fromJSON(e):r8(e)?kO.fromJSON(e):Xne(e)?Pt.fromJSON(e):null}function uv(e){return e?n8(e)?"esriGeometryPoint":i8(e)?"esriGeometryPolyline":Hf(e)?"esriGeometryPolygon":Xne(e)?"esriGeometryEnvelope":r8(e)?"esriGeometryMultipoint":null:null}const MIe={esriGeometryPoint:Ve,esriGeometryPolyline:Qs,esriGeometryPolygon:ra,esriGeometryEnvelope:Pt,esriGeometryMultipoint:kO};function IIe(e){return e&&MIe[e]||null}const km={base:Wh,key:"type",typeMap:{extent:Pt,multipoint:kO,point:Ve,polyline:Qs,polygon:ra}};tu(km);const ar=e=>{let t=class extends e{clone(){var l;const r=Js(ji(this),"unable to clone instance of non-accessor class"),n=r.metadatas,i=r.store,s={},o=new Map;for(const u in n){const d=n[u],p=i==null?void 0:i.originOf(u),f=d.clonable;if(d.readOnly||f===!1||p!==ft.USER&&p!==ft.DEFAULTS&&p!==ft.WEB_MAP&&p!==ft.WEB_SCENE)continue;const y=this[u];let v=null;v=typeof f=="function"?f(y):f==="reference"?y:O3(y),y!=null&&v==null||(p===ft.DEFAULTS?o.set(u,v):s[u]=v)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const u=(l=ji(a))==null?void 0:l.store;if(u)for(const[d,p]of o)u.set(d,p,ft.DEFAULTS)}return a}};return t=c([O("esri.core.Clonable")],t),t};let TB=class extends ar(Ie){};TB=c([O("esri.core.Clonable")],TB);var Rt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(Rt||(Rt={}));function s8(e){return(t,r)=>{t[r]=e}}let o8=class extends ire{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onInvalidated(),n.onCommitted()}}};var Ju;let OIe=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}};const bo=new Gh(OIe,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}),CIe=()=>{};function oP(e){return e?e instanceof mf?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function aP(e){if(e&&e.length)return e[0]}function AIe(e,t,r,n){const i=Math.min(e.length-r,t.length-n);let s=0;for(;s<i&&e[r+s]===t[n+s];)s++;return s}function Qne(e,t,r,n){t&&t.forEach((i,s,o)=>{e.push(i),Qne(e,r.call(n,i,s,o),r,n)})}const Wc=new Set,Hc=new Set,Kc=new Set,lP=new Map;let PIe=0,mf=Ju=class extends au.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Ju}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new o8,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:PIe++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Ju?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return et(this._observable),this._items}set items(e){this._emitBeforeChanges(Rt.ADD)||(this._splice(0,this.length,oP(e)),this._emitAfterChanges(Rt.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const r=this._chgListeners,n={removed:!1,callback:t};return r.push(n),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=CIe,n.removed=!0,r.splice(r.indexOf(n),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if(et(this._observable),this._emitBeforeChanges(Rt.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(Rt.ADD),this}addMany(e,t=this._items.length){if(et(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(Rt.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,oP(e)),this._emitAfterChanges(Rt.ADD),this}at(e){if(et(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(et(this._observable),!this.length||this._emitBeforeChanges(Rt.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(Rt.REMOVE),e}clone(){return et(this._observable),this._createNewInstance({items:this._items.map(B)})}concat(...e){et(this._observable);const t=e.map(oP);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(et(this._observable),!this.length||this._emitBeforeChanges(Rt.REMOVE))return;const r=this._splice(0,this.length),n=r.length;for(let i=0;i<n;i++)e.call(t,r[i],i,r);this._emitAfterChanges(Rt.REMOVE)}every(e,t){return et(this._observable),this._items.every(e,t)}filter(e,t){let r;return et(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return et(this._observable),this._items.find(e,t)}findIndex(e,t){return et(this._observable),this._items.findIndex(e,t)}flatten(e,t){et(this._observable);const r=[];return Qne(r,this,e,t),new Ju(r)}forEach(e,t){return et(this._observable),this._items.forEach(e,t)}getItemAt(e){return et(this._observable),this._items[e]}getNextIndex(e){et(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return et(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return et(this._observable),this._items.indexOf(e,t)}join(e=","){return et(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return et(this._observable),this._items.lastIndexOf(e,t)}map(e,t){et(this._observable);const r=this._items.map(e,t);return new Ju({items:r})}reorder(e,t=this.length-1){et(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(Rt.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(Rt.MOVE)}return e}}pop(){if(et(this._observable),!this.length||this._emitBeforeChanges(Rt.REMOVE))return;const e=aP(this._splice(this.length-1,1));return this._emitAfterChanges(Rt.REMOVE),e}push(...e){return et(this._observable),this._emitBeforeChanges(Rt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(Rt.ADD)),this.length}reduce(e,t){et(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){et(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return et(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(et(this._observable),e<0||e>=this.length||this._emitBeforeChanges(Rt.REMOVE))return;const t=aP(this._splice(e,1));return this._emitAfterChanges(Rt.REMOVE),t}removeMany(e){if(et(this._observable),!e||!e.length||this._emitBeforeChanges(Rt.REMOVE))return[];const t=e instanceof Ju?e.toArray():e,r=this._items,n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s],a=r.indexOf(o);if(a>-1){const l=1+AIe(t,r,s+1,a+1),u=this._splice(a,l);u&&u.length>0&&n.push.apply(n,u),s+=l-1}}return this._emitAfterChanges(Rt.REMOVE),n}reverse(){if(et(this._observable),this._emitBeforeChanges(Rt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(Rt.MOVE),this}shift(){if(et(this._observable),!this.length||this._emitBeforeChanges(Rt.REMOVE))return;const e=aP(this._splice(0,1));return this._emitAfterChanges(Rt.REMOVE),e}slice(e=0,t=this.length){return et(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return et(this._observable),this._items.some(e,t)}sort(e){if(et(this._observable),!this.length||this._emitBeforeChanges(Rt.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(Rt.MOVE),this}splice(e,t,...r){et(this._observable);const n=(t?Rt.REMOVE:0)|(r.length?Rt.ADD:0);if(this._emitBeforeChanges(n))return[];const i=this._splice(e,t,r)||[];return this._emitAfterChanges(n),i}toArray(){return et(this._observable),this._items.slice()}toJSON(){return et(this._observable),this.toArray()}toLocaleString(){return et(this._observable),this._items.toLocaleString()}toString(){return et(this._observable),this._items.toString()}unshift(...e){return et(this._observable),!e.length||this._emitBeforeChanges(Rt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(Rt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const n=this._items,i=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=lv(()=>this._dispatchChange())),t){if(o=n.splice(e,t),this.hasEventListener("before-remove")){const a=bo.acquire();a.target=this,a.cancellable=!0;for(let l=0,u=o.length;l<u;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),n.splice(e,0,s),e+=1,l-=1,u-=1);bo.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=bo.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let u=0;u<l;u++)a.reset(o[u]),this.emit("after-remove",a);bo.release(a)}}if(r&&r.length){if(i){const d=[];for(const p of r){const f=i.ensureType(p);f==null&&p!=null||d.push(f)}r=d}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),u=e===this.length;if(a||l){const d=bo.acquire();d.target=this,d.cancellable=!0;const p=bo.acquire();p.target=this,p.cancellable=!1;for(const f of r)a?(d.reset(f),this.emit("before-add",d),d.defaultPrevented||(u?n.push(f):n.splice(e++,0,f),this._set("length",n.length),l&&(p.reset(f),this.emit("after-add",p)))):(u?n.push(f):n.splice(e++,0,f),this._set("length",n.length),p.reset(f),this.emit("after-add",p));bo.release(p),bo.release(d)}else{if(u)for(const d of r)n.push(d);else n.splice(e,0,...r);this._set("length",n.length)}}return(r&&r.length||o&&o.length)&&this._notifyChangeEvent(r,o),o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=bo.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,bo.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=bo.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),bo.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;Wc.clear(),Hc.clear(),Kc.clear();for(const{added:l,removed:u}of r){if(l)if(Kc.size===0&&Hc.size===0)for(const d of l)Wc.add(d);else for(const d of l)Hc.has(d)?(Kc.add(d),Hc.delete(d)):Kc.has(d)||Wc.add(d);if(u)if(Kc.size===0&&Wc.size===0)for(const d of u)Hc.add(d);else for(const d of u)Wc.has(d)?Wc.delete(d):(Kc.delete(d),Hc.add(d))}const n=ts.acquire();Wc.forEach(l=>{n.push(l)});const i=ts.acquire();Hc.forEach(l=>{i.push(l)});const s=this._items,o=t.items,a=ts.acquire();if(Kc.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),t.listeners&&(n.length||i.length||a.length)){const l={target:this,added:n,removed:i,moved:a},u=t.listeners.length;for(let d=0;d<u;d++){const p=t.listeners[d];p.removed||p.callback.call(this,l)}}ts.release(n),ts.release(i),ts.release(a)}Wc.clear(),Hc.clear(),Kc.clear()}};mf.ofType=e=>{if(!e)return Ju;if(lP.has(e))return lP.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const i=e.typeMap[n].prototype.declaredClass;t?t+=` | ${i}`:t=i}let r=class extends Ju{};return c([s8({Type:e,ensureType:typeof e=="function"?qt(e):tu(e)})],r.prototype,"itemType",void 0),r=c([O(`esri.core.Collection<${t}>`)],r),lP.set(e,r),r},c([h()],mf.prototype,"length",void 0),c([h()],mf.prototype,"items",null),mf=Ju=c([O("esri.core.Collection")],mf);const Fe=mf;var v0;function kIe(e,t){switch(e.type){case"range":{const r="range"in e?e.range[0]:e.minValue,n="range"in e?e.range[1]:e.maxValue;if(r!=null&&+t<r||n!=null&&+t>n)return v0.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(e.codedValues==null||e.codedValues.every(r=>r==null||r.code!==t))return v0.INVALID_CODED_VALUE}return null}(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(v0||(v0={}));const RIe=oe.getLogger("esri.support.arcadeOnDemand");let uP;function Ec(){return uP||(uP=(async()=>{const e=await Y(()=>import("./arcadeUtils-41136c5a.js").then(t=>t.ax),["assets/arcadeUtils-41136c5a.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/number-be4bed68.js"]);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),uP}const T0t=(e,t,r)=>a8.create(e,t,r,null,["$feature"]),M0t=(e,t,r)=>a8.create(e,t,r,null,["$feature","$view"]),LIe=(e,t,r,n)=>a8.create(e,t,r,n,["$feature","$view"]);let a8=class eie{constructor(t,r,n,i,s,o,a){this.script=t,this.evaluate=i;const l=Array.isArray(o)?o:o.fields;this.fields=l,this._syntaxTree=n,this._arcade=r,this._arcadeFeature=s,this._spatialReference=a,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,n,i,s,o){const{arcade:a,Feature:l,Dictionary:u}=await Ec(),d=Ge.fromJSON(r);let p;try{p=a.parseScript(t,o)}catch(M){return RIe.error(new V("arcade-bad-expression","Failed to parse arcade script",{script:t,error:M})),null}const f=s.reduce((M,A)=>({...M,[A]:null}),{});let y=null;C(i)&&(y=new u(i),y.immutable=!0,f.$config=null);const v=a.scriptUsesGeometryEngine(p),g=v&&a.enableGeometrySupport(),b=a.scriptUsesFeatureSet(p)&&a.enableFeatureSetSupport(),w=a.scriptIsAsync(p),S=w&&a.enableAsyncSupport(),_={vars:f,spatialReference:d,useAsync:!!S};await Promise.all([g,b,S]);const x=new Set;await a.loadDependentModules(x,p,null,w,v);const $=new u;$.immutable=!1,$.setField("scale",0);const E=a.compileScript(p,_),T=M=>("$view"in M&&M.$view&&($.setField("scale",typeof M.$view=="object"?M.$view.scale:void 0),M.$view=$),y&&(M.$config=y),E({vars:M,spatialReference:d}));return new eie(t,a,p,T,new l,n,d)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const NIe=/^([0-9])/,FIe=/[^a-z0-9_\u0080-\uffff]/gi,DIe=/_{2,}/g,jIe=/^_/,VIe=/_$/;function zIe(e){return e==null?null:e.trim().replace(FIe,"_").replace(DIe,"_").replace(jIe,"").replace(VIe,"").replace(NIe,"F$1")||null}const UIe=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],BIe=["field","normalizationField"];function MB(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(IB(UIe,r,t),"visualVariables"in r&&r.visualVariables)for(const n of r.visualVariables)IB(BIe,n,t)}}function IB(e,t,r){if(e)for(const n of e){const i=xS(n,t),s=i&&typeof i!="function"&&r.get(i);s&&Di(n,s.name,t)}}function tie(e,t){var r;if(e!=null&&((r=t==null?void 0:t.fields)!=null&&r.length))if("startField"in e){const n=t.get(e.startField),i=t.get(e.endField);e.startField=(n==null?void 0:n.name)??null,e.endField=(i==null?void 0:i.name)??null}else{const n=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=(n==null?void 0:n.name)??null,e.endTimeField=(i==null?void 0:i.name)??null}}const cP=new Set;function rie(e,t){return e&&t?(cP.clear(),w_(cP,e,t),Array.from(cP).sort()):[]}function w_(e,t,r){var n;if(r)if((n=t==null?void 0:t.fields)!=null&&n.length)if(r.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of r)no(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const i of r)i!=null&&e.add(i)}}function no(e,t,r){if(typeof r=="string")if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}function I0t(e,t){return G(t)||G(e)?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}async function ls(e,t,r){var s;if(!r)return;const{arcadeUtils:n}=await Ec(),i=n.extractFieldNames(r,(s=t==null?void 0:t.fields)==null?void 0:s.map(o=>o.name));for(const o of i)no(e,t,o)}async function nie(e,t,r){if(r&&r!=="1=1"){const n=(await Y(()=>import("./WhereClause-98560f78.js").then(i=>i.W),["assets/WhereClause-98560f78.js","assets/executionError-fb3f283a.js"])).WhereClause.create(r,t);if(!n.isStandardized)throw new V("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});w_(e,t,n.fieldNames)}}function GIe({displayField:e,fields:t}){return e||(t&&t.length?dP(t,"name-or-title")||dP(t,"unique-identifier")||dP(t,"type-or-category")||qIe(t):null)}function qIe(e){for(const t of e){if(!t||!t.name)continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function dP(e,t){for(const r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}async function O0t(e,t){var n;if(!t)return;const r=(n=t.elevationInfo)==null?void 0:n.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function WIe(e,t,r){r.onStatisticExpression?ls(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function C0t(e,t,r){if(!t||!r||!("fields"in r))return;const n=[],i=r.popupTemplate;n.push(HIe(e,t,i)),r.fields&&n.push(...r.fields.map(async s=>WIe(e,t.fieldsIndex,s))),await Promise.all(n)}async function HIe(e,t,r){const n=[];r!=null&&r.expressionInfos&&n.push(...r.expressionInfos.map(s=>ls(e,t.fieldsIndex,s.expression)));const i=r==null?void 0:r.content;if(Array.isArray(i))for(const s of i)s.type==="expression"&&s.expressionInfo&&n.push(ls(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(n)}async function A0t(e,t,r){t&&(t.timeInfo&&C(r)&&r.timeExtent&&w_(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&w_(e,t.fieldsIndex,[t.floorInfo.floorField]),C(r)&&C(r.where)&&await nie(e,t.fieldsIndex,r.where))}async function P0t(e,t,r){t&&r&&await Promise.all(r.map(n=>KIe(e,t,n)))}async function KIe(e,t,r){t&&r&&(r.valueExpression?await ls(e,t.fieldsIndex,r.valueExpression):r.field&&no(e,t.fieldsIndex,r.field))}function k0t(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?rie(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}async function R0t(e,t){const{labelingInfo:r,fieldsIndex:n}=t;r&&r.length&&await Promise.all(r.map(i=>JIe(e,n,i)))}async function JIe(e,t,r){if(!r)return;const n=r.getLabelExpression(),i=r.where;if(n.type==="arcade")await ls(e,t,n.expression);else{const s=n.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{no(e,t,o.slice(1,-1))})}await nie(e,t,i)}function YIe(e){const t=e.defaultValue;return t!==void 0&&oie(e,t)?t:e.nullable?null:void 0}function iie(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function ZIe(e){return e===null||iie(e)}const l8="isInteger"in Number?Number.isInteger:e=>typeof e=="number"&&isFinite(e)&&Math.floor(e)===e;function XIe(e){return e===null||l8(e)}function sie(e){return e!=null&&typeof e=="string"}function QIe(e){return e===null||sie(e)}function eOe(){return!0}function oie(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?XIe:l8;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?ZIe:iie;break;case"string":case"esriFieldTypeString":r=e.nullable?QIe:sie;break;default:r=eOe}return arguments.length===1?r:r(t)}const tOe=["integer","small-integer","single","double"],rOe=new Set([...tOe,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function u8(e){return e!=null&&rOe.has(e.type)}function L0t(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}var UT,BT;function N0t(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function F0t(e,t){return e==null||e.nullable&&t===null?null:u8(e)&&!nOe(e.type,Number(t))?UT.OUT_OF_RANGE:oie(e,t)?e.domain?kIe(e.domain,t):null:BT.INVALID_TYPE}function nOe(e,t){const r=typeof e=="string"?aie(e):e;if(!r)return!1;const n=r.min,i=r.max;return r.isInteger?l8(t)&&t>=n&&t<=i:t>=n&&t<=i}function aie(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return iOe;case"esriFieldTypeInteger":case"integer":return sOe;case"esriFieldTypeSingle":case"single":return oOe;case"esriFieldTypeDouble":case"double":return aOe}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(UT||(UT={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(BT||(BT={}));const iOe={min:-32768,max:32767,isInteger:!0},sOe={min:-2147483648,max:2147483647,isInteger:!0},oOe={min:-34e37,max:12e37,isInteger:!1},aOe={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function D0t(e,t,r){switch(e){case v0.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case v0.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case BT.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case UT.OUT_OF_RANGE:{const{min:n,max:i}=aie(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${i}`}}}function lOe(e,t){return!uOe(e,t,null)}function uOe(e,t,r){if(!t||!t.attributes||!e){if(C(r))for(const s of e??[])r.add(s);return!0}const n=t.attributes;let i=!1;for(const s of e)if(!(s in n)){if(i=!0,!C(r))break;r.add(s)}return i}function lie(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}let C2=class extends Q{constructor(t){super(t),this.type=null}};c([h({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],C2.prototype,"type",void 0),C2=c([O("esri.popup.content.Content")],C2);const Hh=C2;var pL;let Sp=pL=class extends Hh{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new pL({description:this.description,displayType:this.displayType,title:this.title})}};c([h({type:String,json:{write:!0}})],Sp.prototype,"description",void 0),c([h({type:["auto","preview","list"],json:{write:!0}})],Sp.prototype,"displayType",void 0),c([h({type:String,json:{write:!0}})],Sp.prototype,"title",void 0),c([h({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Sp.prototype,"type",void 0),Sp=pL=c([O("esri.popup.content.AttachmentsContent")],Sp);const __=Sp;var fL;let xp=fL=class extends Hh{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new fL({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?B(this.outFields):null})}};c([h()],xp.prototype,"creator",void 0),c([h()],xp.prototype,"destroyer",void 0),c([h()],xp.prototype,"outFields",void 0),c([h({type:["custom"],readOnly:!0})],xp.prototype,"type",void 0),xp=fL=c([O("esri.popup.content.CustomContent")],xp);const cOe=xp;var mL;let vy=mL=class extends Q{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new mL({title:this.title,expression:this.expression})}};c([h({type:String,json:{write:!0}})],vy.prototype,"title",void 0),c([h({type:String,json:{write:!0}})],vy.prototype,"expression",void 0),c([h({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],vy.prototype,"returnType",void 0),vy=mL=c([O("esri.popup.ElementExpressionInfo")],vy);const uie=vy;var yL;let Y1=yL=class extends Hh{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new yL({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};c([h({type:uie,json:{write:!0}})],Y1.prototype,"expressionInfo",void 0),c([h({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Y1.prototype,"type",void 0),Y1=yL=c([O("esri.popup.content.ExpressionContent")],Y1);const c8=Y1;function Pe(e,t={}){const r=e instanceof Xe?e:new Xe(e,t),n={type:(t==null?void 0:t.ignoreUnknown)??1?r.apiValues:String,json:{type:r.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:r.read},write:{writer:r.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(n.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(n.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(n.json.name=t.name),(t==null?void 0:t.nonNullable)!==void 0&&(n.nonNullable=t.nonNullable),h(n)}const S_=mi()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});S_.toJSON.bind(S_);S_.fromJSON.bind(S_);var gL;let $p=gL=class extends Q{constructor(e){super(e),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new gL({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(e){return this.dateFormat?eu(e,{...g6(this.dateFormat),...this.dateTimeFormatOptions}):kh(e,Jee(this))}formatRasterPixelValue(e){if(e.includes("-"))return e;let t,r;return e.trim().includes(",")?(t=",",r=t+" ",this._formatDelimitedString(e,t,r,this)):e.trim().includes(";")?(t=";",r=t+" ",this._formatDelimitedString(e,t,r,this)):e.trim().includes(" ")?(t=r=" ",this._formatDelimitedString(e,t,r,this)):this.format(Number(e))}_formatDelimitedString(e,t,r,n){return e&&t&&r&&n?e.trim().split(t).map(i=>this.format(Number(i))).join(r):e}};c([Pe(S_)],$p.prototype,"dateFormat",void 0),c([h({type:Object,json:{read:!1}})],$p.prototype,"dateTimeFormatOptions",void 0),c([h({type:Boolean,json:{write:!0}})],$p.prototype,"digitSeparator",void 0),c([h({type:Gt,json:{write:!0}})],$p.prototype,"places",void 0),$p=gL=c([O("esri.popup.support.FieldInfoFormat")],$p);const yg=$p;var vL;let ga=vL=class extends Q{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new vL({fieldName:this.fieldName,format:this.format?B(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};c([h({type:String,json:{write:!0}})],ga.prototype,"fieldName",void 0),c([h({type:yg,json:{write:!0}})],ga.prototype,"format",void 0),c([h({type:Boolean,json:{write:!0,default:!1}})],ga.prototype,"isEditable",void 0),c([h({type:String,json:{write:!0}})],ga.prototype,"label",void 0),c([Pe(new Xe({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],ga.prototype,"stringFieldOption",void 0),c([h({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],ga.prototype,"statisticType",void 0),c([h({type:String,json:{write:!0}})],ga.prototype,"tooltip",void 0),c([h({type:Boolean,json:{write:!0}})],ga.prototype,"visible",void 0),ga=vL=c([O("esri.popup.FieldInfo")],ga);const kS=ga;var bL;let Eu=bL=class extends Hh{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new bL(B({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};c([h({type:Object,json:{write:!0}})],Eu.prototype,"attributes",void 0),c([h({type:String,json:{write:!0}})],Eu.prototype,"description",void 0),c([h({type:[kS]})],Eu.prototype,"fieldInfos",void 0),c([ge("fieldInfos")],Eu.prototype,"writeFieldInfos",null),c([h({type:String,json:{write:!0}})],Eu.prototype,"title",void 0),c([h({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Eu.prototype,"type",void 0),Eu=bL=c([O("esri.popup.content.FieldsContent")],Eu);const b0=Eu;let Ep=class extends Q{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};c([h({type:String,json:{write:!0}})],Ep.prototype,"altText",void 0),c([h({type:String,json:{write:!0}})],Ep.prototype,"caption",void 0),c([h({type:String,json:{write:!0}})],Ep.prototype,"title",void 0),c([h({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Ep.prototype,"type",void 0),Ep=c([O("esri.popup.content.mixins.MediaInfo")],Ep);const d8=Ep;var wL;let by=wL=class extends Ie{constructor(e){super(e),this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new wL({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};c([h()],by.prototype,"fieldName",void 0),c([h()],by.prototype,"tooltip",void 0),c([h()],by.prototype,"value",void 0),by=wL=c([O("esri.popup.content.support.ChartMediaInfoValueSeries")],by);const cie=by;var _L;let Tp=_L=class extends Q{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new _L({fields:B(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};c([h({type:[String],json:{write:!0}})],Tp.prototype,"fields",void 0),c([h({type:String,json:{write:!0}})],Tp.prototype,"normalizeField",void 0),c([h({type:[cie],json:{read:!1}})],Tp.prototype,"series",void 0),c([h({type:String,json:{write:!0}})],Tp.prototype,"tooltipField",void 0),Tp=_L=c([O("esri.popup.content.support.ChartMediaInfoValue")],Tp);const dOe=Tp;let Z1=class extends d8{constructor(t){super(t),this.type=null,this.value=null}};c([h({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Z1.prototype,"type",void 0),c([h({type:dOe,json:{write:!0}})],Z1.prototype,"value",void 0),Z1=c([O("esri.popup.content.mixins.ChartMediaInfo")],Z1);const RO=Z1,LO=mi()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var SL;let A2=SL=class extends RO{constructor(e){super(e),this.type="bar-chart"}clone(){return new SL({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([h({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:LO.write}})],A2.prototype,"type",void 0),A2=SL=c([O("esri.popup.content.BarChartMediaInfo")],A2);const die=A2;var xL;let P2=xL=class extends RO{constructor(e){super(e),this.type="column-chart"}clone(){return new xL({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([h({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:LO.write}})],P2.prototype,"type",void 0),P2=xL=c([O("esri.popup.content.ColumnChartMediaInfo")],P2);const hie=P2;var $L;let X1=$L=class extends Q{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new $L({linkURL:this.linkURL,sourceURL:this.sourceURL})}};c([h({type:String,json:{write:!0}})],X1.prototype,"linkURL",void 0),c([h({type:String,json:{write:!0}})],X1.prototype,"sourceURL",void 0),X1=$L=c([O("esri.popup.content.support.ImageMediaInfoValue")],X1);const hOe=X1;var EL;let wy=EL=class extends d8{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new EL({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};c([h({type:Number,json:{write:!0}})],wy.prototype,"refreshInterval",void 0),c([h({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],wy.prototype,"type",void 0),c([h({type:hOe,json:{write:!0}})],wy.prototype,"value",void 0),wy=EL=c([O("esri.popup.content.ImageMediaInfo")],wy);const pie=wy;var TL;let k2=TL=class extends RO{constructor(e){super(e),this.type="line-chart"}clone(){return new TL({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([h({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:LO.write}})],k2.prototype,"type",void 0),k2=TL=c([O("esri.popup.content.LineChartMediaInfo")],k2);const fie=k2;var ML;let R2=ML=class extends RO{constructor(e){super(e),this.type="pie-chart"}clone(){return new ML({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([h({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:LO.write}})],R2.prototype,"type",void 0),R2=ML=c([O("esri.popup.content.PieChartMediaInfo")],R2);const mie=R2,yie={base:d8,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":die,"column-chart":hie,"line-chart":fie,"pie-chart":mie,image:pie}};var IL;let va=IL=class extends Hh{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?pie.fromJSON(t):t.type==="barchart"?die.fromJSON(t):t.type==="columnchart"?hie.fromJSON(t):t.type==="linechart"?fie.fromJSON(t):t.type==="piechart"?mie.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new IL(B({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};c([h()],va.prototype,"activeMediaInfoIndex",void 0),c([h({type:Object,json:{write:!0}})],va.prototype,"attributes",void 0),c([h({type:String,json:{write:!0}})],va.prototype,"description",void 0),c([h({types:[yie]})],va.prototype,"mediaInfos",void 0),c([he("mediaInfos")],va.prototype,"readMediaInfos",null),c([ge("mediaInfos")],va.prototype,"writeMediaInfos",null),c([h({type:String,json:{write:!0}})],va.prototype,"title",void 0),c([h({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],va.prototype,"type",void 0),va=IL=c([O("esri.popup.content.MediaContent")],va);const x_=va;var OL;let Q1=OL=class extends Q{constructor(e){super(e),this.field=null,this.order=null}clone(){return new OL({field:this.field,order:this.order})}};c([h({type:String,json:{write:!0}})],Q1.prototype,"field",void 0),c([h({type:["asc","desc"],json:{write:!0}})],Q1.prototype,"order",void 0),Q1=OL=c([O("esri.popup.support.RelatedRecordsInfoFieldOrder")],Q1);const h8=Q1;let pl=class extends ar(Hh){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};c([h({type:String,json:{write:!0}})],pl.prototype,"description",void 0),c([h({type:Number,json:{type:Gt,write:!0}})],pl.prototype,"displayCount",void 0),c([h({type:["list"],json:{write:!0}})],pl.prototype,"displayType",void 0),c([h({type:[h8],json:{write:!0}})],pl.prototype,"orderByFields",void 0),c([h({type:Number,json:{type:Gt,write:!0}})],pl.prototype,"relationshipId",void 0),c([h({type:String,json:{write:!0}})],pl.prototype,"title",void 0),c([h({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],pl.prototype,"type",void 0),pl=c([O("esri.popup.content.RelationshipContent")],pl);const GT=pl;var CL;let eb=CL=class extends Hh{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new CL({text:this.text})}};c([h({type:String,json:{write:!0}})],eb.prototype,"text",void 0),c([h({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],eb.prototype,"type",void 0),eb=CL=c([O("esri.popup.content.TextContent")],eb);const w0=eb,pOe={base:null,key:"type",typeMap:{attachment:__,media:x_,text:w0,expression:c8,field:b0,relationship:GT}};var AL;let Mp=AL=class extends Q{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new AL({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([h({type:String,json:{write:!0}})],Mp.prototype,"name",void 0),c([h({type:String,json:{write:!0}})],Mp.prototype,"title",void 0),c([h({type:String,json:{write:!0}})],Mp.prototype,"expression",void 0),c([h({type:["string","number"],json:{write:!0}})],Mp.prototype,"returnType",void 0),Mp=AL=c([O("esri.popup.ExpressionInfo")],Mp);const gie=Mp;var PL;let tb=PL=class extends Q{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new PL({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};c([h({type:Boolean,json:{write:!0}})],tb.prototype,"returnTopmostRaster",void 0),c([h({type:Boolean,json:{write:!0}})],tb.prototype,"showNoDataRecords",void 0),tb=PL=c([O("esri.popup.LayerOptions")],tb);const fOe=tb;var kL;let rb=kL=class extends Q{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new kL({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?B(this.orderByFields):null})}};c([h({type:Boolean,json:{write:!0}})],rb.prototype,"showRelatedRecords",void 0),c([h({type:[h8],json:{write:!0}})],rb.prototype,"orderByFields",void 0),rb=kL=c([O("esri.popup.RelatedRecordsInfo")],rb);const mOe=rb;let vie=0;const cv=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+vie++})}};return t=c([O("esri.core.Identifiable")],t),t},p8=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:vie++})}};return t=c([O("esri.core.NumericIdentifiable")],t),t};let OB=class extends cv(class{}){};OB=c([O("esri.core.Identifiable")],OB);var RL;let ba=RL=class extends cv(Ie){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new RL({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};c([h()],ba.prototype,"active",void 0),c([h()],ba.prototype,"className",void 0),c([h()],ba.prototype,"disabled",void 0),c([h()],ba.prototype,"id",void 0),c([h()],ba.prototype,"indicator",void 0),c([h()],ba.prototype,"title",void 0),c([h()],ba.prototype,"type",void 0),c([h()],ba.prototype,"visible",void 0),ba=RL=c([O("esri.support.actions.ActionBase")],ba);const NO=ba;var LL;let L2=LL=class extends NO{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new LL({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};c([h()],L2.prototype,"image",void 0),L2=LL=c([O("esri.support.Action.ActionButton")],L2);const dv=L2;var NL;let nb=NL=class extends NO{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new NL({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};c([h()],nb.prototype,"image",void 0),c([h()],nb.prototype,"value",void 0),nb=NL=c([O("esri.support.Action.ActionToggle")],nb);const bie=nb,yOe="esri.PopupTemplate",gOe=oe.getLogger(yOe),g1="relationships/",CB="expression/",vOe=Fe.ofType({key:"type",defaultKeyValue:"button",base:NO,typeMap:{button:dv,toggle:bie}}),bOe={base:Hh,key:"type",typeMap:{media:x_,custom:cOe,text:w0,attachments:__,fields:b0,expression:c8,relationship:GT}},wOe=["attachments","fields","media","text","expression","relationship"];let vn=class extends ar(Q){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>tu(bOe,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Rc(t)?t:(gOe.error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:n}=r;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,n):this._readPopupInfo(r)}writeContent(t,r,n,i){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(s=>wOe.includes(s.type)).map(s=>s&&s.toJSON(i)),r.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(r):s.type==="media"?this._writeMediaContent(s,r):s.type==="text"?this._writeTextContent(s,r):s.type==="relationship"&&this._writeRelationshipContent(s,r)})):r.description=t}writeFieldInfos(t,r,n,i){const{content:s}=this,o=Array.isArray(s)?s:null;if(t){const a=o?o.filter(u=>u.type==="fields"):[],l=a.length&&a.every(u=>{var d;return(d=u.fieldInfos)==null?void 0:d.length});r.fieldInfos=t.filter(Boolean).map(u=>{const d=u.toJSON(i);return l&&(d.visible=!1),d})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,r)}writeLayerOptions(t,r,n,i){r[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(i)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...n,...this._getContentExpressionInfos(this.content,n)]),w_(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const n=B(t.fieldInfos);Array.isArray(r.fieldInfos)?n.forEach(i=>{const s=r.fieldInfos.find(o=>o.fieldName.toLowerCase()===i.fieldName.toLowerCase());s?s.visible=!0:r.fieldInfos.push(i)}):r.fieldInfos=n}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){var s,o;const n=((s=t.orderByFields)==null?void 0:s.map(a=>this._toFieldOrderJSON(a,t.relationshipId)))||[],i=[...((o=r.relatedRecordsInfo)==null?void 0:o.orderByFields)||[],...n];r.relatedRecordsInfo={showRelatedRecords:!0,...(i==null?void 0:i.length)&&{orderByFields:i}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=B(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...n]:r.mediaInfos=n}_readPopupInfoElements(t,r,n){const i={description:!1,mediaInfos:!1};return n.map(s=>s.type==="media"?(s.mediaInfos||!r||i.mediaInfos||(s.mediaInfos=r,i.mediaInfos=!0),x_.fromJSON(s)):s.type==="text"?(s.text||!t||i.description||(s.text=t,i.description=!0),w0.fromJSON(s)):s.type==="attachments"?__.fromJSON(s):s.type==="fields"?b0.fromJSON(s):s.type==="expression"?c8.fromJSON(s):s.type==="relationship"?GT.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:n}=t;if(!(r!=null&&r.startsWith(g1)))return null;const i=r.replace(g1,"").split("/");if(i.length!==2)return null;const s=parseInt(i[0],10),o=i[1];return typeof s=="number"&&o?GT.fromJSON({relationshipId:s,orderByFields:[{field:o,order:n}]}):null}_toFieldOrderJSON(t,r){const{order:n,field:i}=t;return{field:`${g1}${r}/${i}`,order:n}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:n,relatedRecordsInfo:i={showRelatedRecords:!1}}){const s=[];t?s.push(new w0({text:t})):s.push(new b0),Array.isArray(r)&&r.length&&s.push(x_.fromJSON({mediaInfos:r})),n&&s.push(__.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=i;return o&&(a!=null&&a.length)&&a.forEach(l=>{const u=this._toRelationshipContent(l);u&&s.push(u)}),s.length?s:t}_getContentElementFields(t){const r=t==null?void 0:t.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((i,s)=>[...i,...this._getMediaInfoFields(s)],[])]}return r==="text"?this._extractFieldNames(t.text):[]}_getMediaInfoFields(t){const{caption:r,title:n,value:i}=t,s=i||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:u,linkURL:d}=s,p=[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(u),...this._extractFieldNames(d),...o??[]];return a&&p.push(a),l&&p.push(l),p}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((n,i)=>[...n,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,n)=>[...r,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,r,n){n&&await Promise.all(n.map(i=>ls(t,r,i.expression)))}_getFieldInfoFields(t){return t?t.filter(r=>r.visible===void 0||!!r.visible).map(r=>r.fieldName).filter(r=>!r.startsWith(g1)&&!r.startsWith(CB)):[]}_getActionsFields(t){return t?t.toArray().reduce((r,n)=>[...r,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:r,title:n,type:i}=t,s=i==="button"||i==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){if(!t||typeof t!="string")return[];const r=/{[^}]*}/g,n=t.match(r);if(!n)return[];const i=/\{(\w+):.+\}/,s=n.filter(o=>!(o.indexOf(`{${g1}`)===0||o.indexOf(`{${CB}`)===0)).map(o=>o.replace(i,"{$1}"));return s?s.map(o=>o.slice(1,-1)):[]}};c([h({type:vOe})],vn.prototype,"actions",void 0),c([h()],vn.prototype,"content",void 0),c([vt("content")],vn.prototype,"castContent",null),c([he("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],vn.prototype,"readContent",null),c([ge("content",{popupElements:{type:Fe.ofType(pOe)},showAttachments:{type:Boolean},mediaInfos:{type:Fe.ofType(yie)},description:{type:String},relatedRecordsInfo:{type:mOe}})],vn.prototype,"writeContent",null),c([h({type:[gie],json:{write:!0}})],vn.prototype,"expressionInfos",void 0),c([h({type:[kS]})],vn.prototype,"fieldInfos",void 0),c([ge("fieldInfos")],vn.prototype,"writeFieldInfos",null),c([h({type:fOe})],vn.prototype,"layerOptions",void 0),c([ge("layerOptions")],vn.prototype,"writeLayerOptions",null),c([h({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],vn.prototype,"lastEditInfoEnabled",void 0),c([h()],vn.prototype,"outFields",void 0),c([h()],vn.prototype,"overwriteActions",void 0),c([h()],vn.prototype,"returnGeometry",void 0),c([h({json:{type:String}})],vn.prototype,"title",void 0),c([ge("title")],vn.prototype,"writeTitle",null),vn=c([O("esri.PopupTemplate")],vn);const Rm=vn,qT={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function wie(e){return qT[e]||qT[e.toLowerCase()]}function f8(e){return qT[e]??qT[e.toLowerCase()]}function _Oe(e){return[...f8(e)]}function hP(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function _ie(e,t,r,n=1){const i=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,o=2*r-s;return[Math.round(255*hP(o,s,i+1/3)),Math.round(255*hP(o,s,i)),Math.round(255*hP(o,s,i-1/3)),n]}function SOe(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,s=t?e.length===9:e.length===5;let o=+("0x"+e.substr(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&n,o>>=r,a[3]=i*l/255),l=o&n,o>>=r,a[2]=i*l,l=o&n,o>>=r,a[1]=i*l,l=o&n,o>>=r,a[0]=i*l,a}function lu(){return[0,0,0]}function xOe(e){return[e[0],e[1],e[2]]}function hv(e,t,r){return[e,t,r]}function $Oe(e){const t=lu(),r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function EOe(e,t){return new Float64Array(e,t,3)}function Sie(){return lu()}function xie(){return hv(1,1,1)}function $ie(){return hv(1,0,0)}function Eie(){return hv(0,1,0)}function Tie(){return hv(0,0,1)}const TOe=Sie(),Mie=xie(),MOe=$ie(),IOe=Eie(),OOe=Tie();Object.freeze(Object.defineProperty({__proto__:null,ONES:Mie,UNIT_X:MOe,UNIT_Y:IOe,UNIT_Z:OOe,ZEROS:TOe,clone:xOe,create:lu,createView:EOe,fromArray:$Oe,fromValues:hv,ones:xie,unitX:$ie,unitY:Eie,unitZ:Tie,zeros:Sie},Symbol.toStringTag,{value:"Module"}));let m8=1e-6;function sa(){return m8}function COe(e){m8=e}const FO=Math.random,AOe=Math.PI/180,POe=180/Math.PI;function y8(e){return e*AOe}function kOe(e){return e*POe}function ROe(e,t){return Math.abs(e-t)<=m8*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:FO,equals:ROe,getEpsilon:sa,setEpsilon:COe,toDegree:kOe,toRadian:y8},Symbol.toStringTag,{value:"Module"}));function g8(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function FL(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Iie(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function LOe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Oie(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function Cie(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Aie(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function NOe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function FOe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function DOe(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function jOe(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function VOe(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function zOe(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function UOe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function Pie(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function BOe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function kie(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function Rie(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function Lie(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function GOe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function qOe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function DL(e,t){const r=t[0],n=t[1],i=t[2];let s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function Nie(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function WOe(e,t,r){const n=t[0],i=t[1],s=t[2],o=r[0],a=r[1],l=r[2];return e[0]=i*l-s*a,e[1]=s*o-n*l,e[2]=n*a-i*o,e}function HOe(e,t,r,n){const i=t[0],s=t[1],o=t[2];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=o+n*(r[2]-o),e}function KOe(e,t,r,n,i,s){const o=s*s,a=o*(2*s-3)+1,l=o*(s-2)+s,u=o*(s-1),d=o*(3-2*s);return e[0]=t[0]*a+r[0]*l+n[0]*u+i[0]*d,e[1]=t[1]*a+r[1]*l+n[1]*u+i[1]*d,e[2]=t[2]*a+r[2]*l+n[2]*u+i[2]*d,e}function JOe(e,t,r,n,i,s){const o=1-s,a=o*o,l=s*s,u=a*o,d=3*s*a,p=3*l*o,f=l*s;return e[0]=t[0]*u+r[0]*d+n[0]*p+i[0]*f,e[1]=t[1]*u+r[1]*d+n[1]*p+i[1]*f,e[2]=t[2]*u+r[2]*d+n[2]*p+i[2]*f,e}function YOe(e,t){t=t||1;const r=FO,n=2*r()*Math.PI,i=2*r()-1,s=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=i*t,e}function ZOe(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12],e[1]=r[1]*n+r[5]*i+r[9]*s+r[13],e[2]=r[2]*n+r[6]*i+r[10]*s+r[14],e}function XOe(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=n*r[0]+i*r[3]+s*r[6],e[1]=n*r[1]+i*r[4]+s*r[7],e[2]=n*r[2]+i*r[5]+s*r[8],e}function QOe(e,t,r){const n=r[0],i=r[1],s=r[2],o=r[3],a=t[0],l=t[1],u=t[2];let d=i*u-s*l,p=s*a-n*u,f=n*l-i*a,y=i*f-s*p,v=s*d-n*f,g=n*p-i*d;const b=2*o;return d*=b,p*=b,f*=b,y*=2,v*=2,g*=2,e[0]=a+d+y,e[1]=l+p+v,e[2]=u+f+g,e}function eCe(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function tCe(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function rCe(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function nCe(e,t){FL(Zx,e),FL(Xx,t),DL(Zx,Zx),DL(Xx,Xx);const r=Nie(Zx,Xx);return r>1?0:r<-1?Math.PI:Math.acos(r)}const Zx=lu(),Xx=lu();function iCe(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function sCe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function oCe(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],s=t[0],o=t[1],a=t[2],l=sa();return Math.abs(r-s)<=l*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-o)<=l*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=l*Math.max(1,Math.abs(i),Math.abs(a))}function aCe(e,t,r){const n=r[0]-t[0],i=r[1]-t[1],s=r[2]-t[2];let o=n*n+i*i+s*s;return o>0?(o=1/Math.sqrt(o),e[0]=n*o,e[1]=i*o,e[2]=s*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const lCe=Oie,uCe=Cie,cCe=Aie,dCe=kie,hCe=Rie,pCe=g8,fCe=Lie;Object.freeze(Object.defineProperty({__proto__:null,abs:DOe,add:LOe,angle:nCe,bezier:JOe,ceil:NOe,copy:FL,cross:WOe,direction:aCe,dist:dCe,distance:kie,div:cCe,divide:Aie,dot:Nie,equals:oCe,exactEquals:sCe,floor:FOe,hermite:KOe,inverse:qOe,len:pCe,length:g8,lerp:HOe,max:zOe,min:VOe,mul:uCe,multiply:Cie,negate:GOe,normalize:DL,random:YOe,rotateX:eCe,rotateY:tCe,rotateZ:rCe,round:UOe,scale:Pie,scaleAndAdd:BOe,set:Iie,sign:jOe,sqrDist:hCe,sqrLen:fCe,squaredDistance:Rie,squaredLength:Lie,str:iCe,sub:lCe,subtract:Oie,transformMat3:XOe,transformMat4:ZOe,transformQuat:QOe},Symbol.toStringTag,{value:"Module"}));function mCe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function yCe(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function gCe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function Fie(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Die(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function jie(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function vCe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function bCe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function wCe(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function _Ce(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function SCe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function xCe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function $Ce(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function Vie(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+s*s)}function zie(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return r*r+n*n+i*i+s*s}function Uie(e){const t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function Bie(e){const t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function ECe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function TCe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function MCe(e,t){const r=t[0],n=t[1],i=t[2],s=t[3];let o=r*r+n*n+i*i+s*s;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=s*o),e}function ICe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Gie(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=t[3];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=o+n*(r[2]-o),e[3]=a+n*(r[3]-a),e}function OCe(e,t){const r=FO;let n,i,s,o,a,l;t=t||1;do n=2*r()-1,i=2*r()-1,a=n*n+i*i;while(a>=1);do s=2*r()-1,o=2*r()-1,l=s*s+o*o;while(l>=1);const u=Math.sqrt((1-a)/l);return e[0]=t*n,e[1]=t*i,e[2]=t*s*u,e[3]=t*o*u,e}function CCe(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*o,e}function ACe(e,t,r){const n=t[0],i=t[1],s=t[2],o=r[0],a=r[1],l=r[2],u=r[3],d=u*n+a*s-l*i,p=u*i+l*n-o*s,f=u*s+o*i-a*n,y=-o*n-a*i-l*s;return e[0]=d*u+y*-o+p*-l-f*-a,e[1]=p*u+y*-a+f*-o-d*-l,e[2]=f*u+y*-l+d*-a-p*-o,e[3]=t[3],e}function PCe(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function kCe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function RCe(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=t[0],a=t[1],l=t[2],u=t[3],d=sa();return Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-u)<=d*Math.max(1,Math.abs(s),Math.abs(u))}const LCe=Fie,NCe=Die,FCe=jie,DCe=Vie,jCe=zie,VCe=Uie,zCe=Bie;Object.freeze(Object.defineProperty({__proto__:null,add:gCe,ceil:vCe,copy:mCe,dist:DCe,distance:Vie,div:FCe,divide:jie,dot:ICe,equals:RCe,exactEquals:kCe,floor:bCe,inverse:TCe,len:VCe,length:Uie,lerp:Gie,max:_Ce,min:wCe,mul:NCe,multiply:Die,negate:ECe,normalize:MCe,random:OCe,round:SCe,scale:xCe,scaleAndAdd:$Ce,set:yCe,sqrDist:jCe,sqrLen:zCe,squaredDistance:zie,squaredLength:Bie,str:PCe,sub:LCe,subtract:Fie,transformMat4:CCe,transformQuat:ACe},Symbol.toStringTag,{value:"Module"}));const AB=new Float32Array(1);function q0t(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function Ps(e,t,r){return Math.min(Math.max(e,t),r)}function W0t(e){return(e&e-1)==0}function H0t(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function K0t(e,t,r){return e+(t-e)*r}function UCe(e){return e*Math.PI/180}function qie(e){return 180*e/Math.PI}function J0t(e){return Math.acos(Ps(e,-1,1))}function Wie(e){return Math.asin(Ps(e,-1,1))}function pP(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}const WT=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function BCe(e){return WT.setFloat64(0,e),WT.getBigInt64(0)}function GCe(e){return WT.setBigInt64(0,e),WT.getFloat64(0)}const fP=BigInt("1000000");qCe(1);function qCe(e){const t=BCe(e=Math.abs(e)),r=GCe(t<=fP?fP:t-fP);return Math.abs(e-r)}function Y0t(e){return Hie(Math.max(-PB,Math.min(e,PB)))}function Hie(e){return AB[0]=e,AB[0]}function Z0t(e,t){const r=g8(e),n=Wie(e[2]/r),i=Math.atan2(e[1]/r,e[0]/r);return Iie(t,r,n,i),t}function X0t(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(pP(t,1)&&pP(r,1)&&pP(n,1))}const PB=Hie(34028234663852886e22);function Qx(e){return Ps(k6(e),0,255)}function e$(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}let N2=class ni{static blendColors(t,r,n,i=new ni){return i.r=Math.round(t.r+(r.r-t.r)*n),i.g=Math.round(t.g+(r.g-t.g)*n),i.b=Math.round(t.b+(r.b-t.b)*n),i.a=t.a+(r.a-t.a)*n,i._sanitize()}static fromRgb(t,r){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){const i=n[2].split(/\s*,\s*/),s=n[1];if(s==="rgb"&&i.length===3||s==="rgba"&&i.length===4){const o=i[0];if(o.charAt(o.length-1)==="%"){const a=i.map(l=>2.56*parseFloat(l));return i.length===4&&(a[3]=parseFloat(i[3])),ni.fromArray(a,r)}return ni.fromArray(i.map(a=>parseFloat(a)),r)}if(s==="hsl"&&i.length===3||s==="hsla"&&i.length===4)return ni.fromArray(_ie(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),r)}return null}static fromHex(t,r=new ni){if(t.length!==4&&t.length!==7||t[0]!=="#")return null;const n=t.length===4?4:8,i=(1<<n)-1;let s=+("0x"+t.substr(1));return isNaN(s)?null:(["b","g","r"].forEach(o=>{const a=s&i;s>>=n,r[o]=n===4?17*a:a}),r.a=1,r)}static fromArray(t,r=new ni){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const n=wie(t)?f8(t):null;return n&&ni.fromArray(n,r)||ni.fromRgb(t,r)||ni.fromHex(t,r)}static fromJSON(t){return t&&new ni([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return C(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return C(t)?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?ni.fromString(t,this):Array.isArray(t)?ni.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof ni||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),r=this.g.toString(16),n=this.b.toString(16);return`#${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}${n.length<2?"0"+n:n}`}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=ni.AlphaMode.ALWAYS){const r=Qx(this.r),n=Qx(this.g),i=Qx(this.b);return t===ni.AlphaMode.ALWAYS||this.a!==1?[r,n,i,Qx(255*this.a)]:[r,n,i]}clone(){return new ni(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return C(t)&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(e$(this.r,0,255)),this.g=Math.round(e$(this.g,0,255)),this.b=Math.round(e$(this.b,0,255)),this.a=e$(this.a,0,1),this}_set(t,r,n,i){this.r=t,this.g=r,this.b=n,this.a=i}};N2.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(N2||(N2={}));const Be=N2,kB=new Xe({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let WCe=0,_y=class extends Q{constructor(t){super(t),this.id="sym"+WCe++,this.type=null,this.color=new Be([0,0,0,1])}readColor(t){return t&&t[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};c([h({type:kB.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:kB.write}}})],_y.prototype,"type",void 0),c([h({type:Be,json:{write:{allowNull:!0}}})],_y.prototype,"color",void 0),c([he("color")],_y.prototype,"readColor",null),_y=c([O("esri.symbols.Symbol")],_y);const ks=_y;var jL;let dd=jL=class extends ks{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){if(e)for(const r in e)t[r]=e[r]}async collectRequiredFields(e,t){var r;if(((r=this.data)==null?void 0:r.type)==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const i=n.map(s=>{const o=s.valueExpressionInfo;return ls(e,t,o.expression)});await Promise.all(i)}}}clone(){return new jL({data:B(this.data)})}hash(){return v6(JSON.stringify(this.data)).toString()}};c([h({json:{write:!1}})],dd.prototype,"color",void 0),c([h({json:{write:!0}})],dd.prototype,"data",void 0),c([he("data",["symbol"])],dd.prototype,"readData",null),c([ge("data",{})],dd.prototype,"writeData",null),c([Pe({CIMSymbolReference:"cim"},{readOnly:!0})],dd.prototype,"type",void 0),dd=jL=c([O("esri.symbols.CIMSymbol")],dd);const RS=dd;let Sy=class extends Q{constructor(t){super(t),this.enabled=!0,this.type=null}writeEnabled(t,r,n){t||(r[n]=t)}};c([h({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Sy.prototype,"enabled",void 0),c([ge("enabled")],Sy.prototype,"writeEnabled",null),c([h({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Sy.prototype,"type",void 0),Sy=c([O("esri.symbols.Symbol3DLayer")],Sy);const uu=Sy,HCe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,KCe="screenUtils.toPt: input not recognized!",Kie=96;function Jie(e){return e?e/72*Kie:0}function Tc(e){return e?72*e/Kie:0}function xt(e){if(typeof e=="string"){const t=e.match(HCe);if(t){const r=Number(t[1]),n=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",s=n==="px"?Tc(r):r;return i?-s:s}return console.warn(KCe),null}return e}function is(e=0,t=0){return{x:e,y:t}}function tvt(e=0,t=0){return[e,t]}function DO(e){const t=k6(100*(1-e));return Math.max(0,Math.min(t,100))}function $_(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function JCe(e,t){const r=t.transparency!=null?$_(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new Be([n[0]||0,n[1]||0,n[2]||0,r]):null}function YCe(e,t){t.color=e.toJSON().slice(0,3);const r=DO(e.a);r!==0&&(t.transparency=r)}const Kh={type:Be,json:{type:[Gt],default:null,read:{source:["color","transparency"],reader:JCe},write:{target:{color:{type:[Gt]},transparency:{type:Gt}},writer:YCe}}},ru={type:Number,cast:xt,json:{write:!0}};let Ip=class extends Q{constructor(t){super(t),this.color=new Be([0,0,0,1]),this.extensionLength=0,this.size=Tc(1)}clone(){}cloneProperties(){return{color:B(this.color),size:this.size,extensionLength:this.extensionLength}}};c([h({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ip.prototype,"type",void 0),c([h(Kh)],Ip.prototype,"color",void 0),c([h({...ru,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Ip.prototype,"extensionLength",void 0),c([h(ru)],Ip.prototype,"size",void 0),Ip=c([O("esri.symbols.edges.Edges3D")],Ip);const v8=Ip;var VL;let F2=VL=class extends v8{constructor(e){super(e),this.type="sketch"}clone(){return new VL(this.cloneProperties())}};c([Pe({sketch:"sketch"},{readOnly:!0})],F2.prototype,"type",void 0),F2=VL=c([O("esri.symbols.edges.SketchEdges3D")],F2);const ZCe=F2;var zL;let D2=zL=class extends v8{constructor(e){super(e),this.type="solid"}clone(){return new zL(this.cloneProperties())}};c([Pe({solid:"solid"},{readOnly:!0})],D2.prototype,"type",void 0),D2=zL=c([O("esri.symbols.support.SolidEdges3D")],D2);const XCe=D2,Yie={types:{key:"type",base:v8,typeMap:{solid:XCe,sketch:ZCe}},json:{write:!0}};var UL;let io=UL=class extends Q{constructor(e){super(e),this.color=null}clone(){const e={color:C(this.color)?this.color.clone():null};return new UL(e)}};c([h(Kh)],io.prototype,"color",void 0),io=UL=c([O("esri.symbols.support.Symbol3DMaterial")],io);var BL;let hd=BL=class extends uu{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new BL({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:C(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};c([Pe({Extrude:"extrude"},{readOnly:!0})],hd.prototype,"type",void 0),c([h({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],hd.prototype,"size",void 0),c([h({type:io,json:{write:!0}})],hd.prototype,"material",void 0),c([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],hd.prototype,"castShadows",void 0),c([h(Yie)],hd.prototype,"edges",void 0),hd=BL=c([O("esri.symbols.ExtrudeSymbol3DLayer")],hd);const Zie=hd;let ib=class extends ks{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};c([Pe({esriSLS:"simple-line"},{readOnly:!0})],ib.prototype,"type",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],ib.prototype,"width",void 0),ib=c([O("esri.symbols.LineSymbol")],ib);const QCe=ib,eAe=["begin","end","begin-end"],Xie=["arrow","circle","square","diamond","cross","x"];var GL;let fl=GL=class extends Q{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,n){t[r]=(n==null?void 0:n.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,n){(n==null?void 0:n.origin)==="web-map"||(t[r]=e)}clone(){return new GL({color:B(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};c([h({type:["begin","end","begin-end"],json:{write:!0}})],fl.prototype,"placement",void 0),c([Pe({"line-marker":"line-marker"},{readOnly:!0}),h({json:{origins:{"web-map":{write:!1}}}})],fl.prototype,"type",void 0),c([h({type:Xie})],fl.prototype,"style",void 0),c([ge("style")],fl.prototype,"writeStyle",null),c([h({type:Be,value:null,json:{write:{allowNull:!0}}})],fl.prototype,"color",null),c([he("color")],fl.prototype,"readColor",null),c([ge("color")],fl.prototype,"writeColor",null),fl=GL=c([O("esri.symbols.LineSymbolMarker")],fl);const tAe=fl;var qL;const mP=new Xe({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Tu=qL=class extends QCe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,n,i,s){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),r!=null&&(o.width=xt(r)),n!=null&&(o.cap=n),i!=null&&(o.join=i),s!=null&&(o.miterLimit=xt(s)),o}clone(){var e;return new qL({color:B(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};c([Pe({esriSLS:"simple-line"},{readOnly:!0})],Tu.prototype,"type",void 0),c([h({type:mP.apiValues,json:{read:mP.read,write:mP.write}})],Tu.prototype,"style",void 0),c([h({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],Tu.prototype,"cap",void 0),c([h({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],Tu.prototype,"join",void 0),c([h({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":tAe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Tu.prototype,"marker",void 0),c([h({type:Number,json:{read:!1,write:!1}})],Tu.prototype,"miterLimit",void 0),Tu=qL=c([O("esri.symbols.SimpleLineSymbol")],Tu);const ho=Tu;let sb=class extends ks{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};c([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ho}},json:{default:null,write:!0}})],sb.prototype,"outline",void 0),c([h({type:["simple-fill","picture-fill"],readOnly:!0})],sb.prototype,"type",void 0),sb=c([O("esri.symbols.FillSymbol")],sb);const Qie=sb;let j2=class extends Q{constructor(t){super(t)}clone(){}};c([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],j2.prototype,"type",void 0),j2=c([O("esri.symbols.patterns.LinePattern3D")],j2);const ese=j2,rAe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var WL;const nAe=mi()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let ob=WL=class extends ese{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new WL(e)}};c([h({type:["style"]})],ob.prototype,"type",void 0),c([Pe(nAe),h({type:rAe})],ob.prototype,"style",void 0),ob=WL=c([O("esri.symbols.patterns.LineStylePattern3D")],ob);const b8=ob;let V2=class extends Q{constructor(t){super(t)}clone(){}};c([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],V2.prototype,"type",void 0),V2=c([O("esri.symbols.patterns.Pattern3D")],V2);const tse=V2,iAe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var HL;let ab=HL=class extends tse{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new HL(e)}};c([h({type:["style"]})],ab.prototype,"type",void 0),c([h({type:iAe,json:{read:!0,write:!0}})],ab.prototype,"style",void 0),ab=HL=c([O("esri.symbols.patterns.StylePattern3D")],ab);const rse=ab,sAe={types:{key:"type",base:tse,typeMap:{style:rse}},json:{write:!0}},nse={types:{key:"type",base:ese,typeMap:{style:b8}},json:{write:!0}},pw=new Be("white");new Be("black");const oAe=new Be([255,255,255,0]);function aAe(e){return e.r===0&&e.g===0&&e.b===0}var KL;let fw=KL=class extends io{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:C(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new KL(e)}};c([Pe({multiply:"multiply",replace:"replace",tint:"tint"})],fw.prototype,"colorMixMode",void 0),fw=KL=c([O("esri.symbols.support.Symbol3DFillMaterial")],fw);function Lh(e=hAe){return[e[0],e[1],e[2],e[3]]}function avt(e){return[e[0],e[1],e[2],e[3]]}function ise(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function lAe(e,t,r,n,i=Lh()){return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function lvt(e,t=Lh()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function uvt(e,t){return new Pt({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function cvt(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function dvt(e,t,r){if(G(t))ise(r,e);else if("length"in t)JL(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}}function uAe(e){return G(e)||e[0]>=e[2]?0:e[2]-e[0]}function cAe(e){return e[1]>=e[3]?0:e[3]-e[1]}function hvt(e){return uAe(e)*cAe(e)}function pvt(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function fvt(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function mvt(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function dAe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function yvt(e){return e?ise(e,RB):Lh(RB)}function JL(e){return e!=null&&e.length===4}function gvt(e,t){return JL(e)&&JL(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const RB=[1/0,1/0,-1/0,-1/0],hAe=[0,0,0,0];function w8(e=vAe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function _8(e,t,r,n,i,s,o=w8()){return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=s,o}function vvt(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new Pt(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function bvt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function wvt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function pAe(e){return e[0]>=e[3]?0:e[3]-e[0]}function fAe(e){return e[1]>=e[4]?0:e[4]-e[1]}function mAe(e){return e[2]>=e[5]?0:e[5]-e[2]}function _vt(e,t=[0,0,0]){return t[0]=pAe(e),t[1]=fAe(e),t[2]=mAe(e),t}function Svt(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function xvt(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function yAe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function $vt(e){return e?yAe(e,LB):w8(LB)}function Evt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function gAe(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=n,e[4]=i,e[5]=Number.POSITIVE_INFINITY,e}function YL(e){return e.length===6}function Tvt(e,t,r){if(G(e)||G(t))return e===t;if(!YL(e)||!YL(t))return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const LB=[1/0,1/0,1/0,-1/0,-1/0,-1/0],vAe=[0,0,0,0,0,0];w8();function Mvt(e,{isPrimitive:t,width:r,depth:n,height:i}){const s=t?10:1;if(r==null&&i==null&&n==null)return[s*e[0],s*e[1],s*e[2]];const o=hv(r,n,i);let a;for(let l=0;l<3;l++){const u=o[l];if(u!=null){a=u/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const bAe=_8(-.5,-.5,-.5,.5,.5,.5),wAe=_8(-.5,-.5,0,.5,.5,1),_Ae=_8(-.5,-.5,0,.5,.5,.5);function Ivt(e){switch(e){case"sphere":case"cube":case"diamond":return bAe;case"cylinder":case"cone":case"inverted-cone":return wAe;case"tetrahedron":return _Ae;default:return}}const S8=["butt","square","round"],SAe=[...S8,"none"],sse=["miter","bevel","round"];var ZL;let Op=ZL=class extends Q{constructor(e){super(e),this.color=new Be([0,0,0,1]),this.size=Tc(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:C(this.color)?this.color.clone():null,size:this.size,pattern:C(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new ZL(e)}};c([h(Kh)],Op.prototype,"color",void 0),c([h(ru)],Op.prototype,"size",void 0),c([h(nse)],Op.prototype,"pattern",void 0),c([h({type:S8,json:{default:"butt",write:{overridePolicy(){return{enabled:C(this.pattern)}}}}})],Op.prototype,"patternCap",void 0),Op=ZL=c([O("esri.symbols.support.Symbol3DOutline")],Op);var z2;let Mu=z2=class extends uu{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:C(this.edges)?this.edges.clone():null,enabled:this.enabled,material:C(this.material)?this.material.clone():null,pattern:C(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:C(this.outline)?this.outline.clone():null};return new z2(e)}static fromSimpleFillSymbol(e){var n,i,s;const t=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new b8({style:e.outline.style}):null,r={size:((n=e.outline)==null?void 0:n.width)??0,color:(((i=e.outline)==null?void 0:i.color)??pw).clone(),pattern:t};return t&&((s=e.outline)!=null&&s.cap)&&(r.patternCap=e.outline.cap),new z2({material:new fw({color:(e.color??oAe).clone()}),pattern:e.style&&e.style!=="solid"?new rse({style:e.style}):null,outline:r})}};c([Pe({Fill:"fill"},{readOnly:!0})],Mu.prototype,"type",void 0),c([h({type:fw,json:{write:!0}})],Mu.prototype,"material",void 0),c([h(sAe)],Mu.prototype,"pattern",void 0),c([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Mu.prototype,"castShadows",void 0),c([h({type:Op,json:{write:!0}})],Mu.prototype,"outline",void 0),c([h(Yie)],Mu.prototype,"edges",void 0),Mu=z2=c([O("esri.symbols.FillSymbol3DLayer")],Mu);const LS=Mu,xAe=["none","underline","line-through"],$Ae=["normal","italic","oblique"],EAe=["normal","lighter","bold","bolder"],ose={type:Number,cast:e=>{const t=zo(e);return t===0?1:Ps(t,.1,4)},nonNullable:!0},TAe=["left","right","center"],MAe=["baseline","top","middle","bottom"],ase={type:TAe,nonNullable:!0},lse={type:MAe,nonNullable:!0};var XL;let Iu=XL=class extends Q{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return xt(e)}clone(){return new XL({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};c([h({type:xAe,json:{default:"none",write:!0}})],Iu.prototype,"decoration",void 0),c([h({type:String,json:{write:!0}})],Iu.prototype,"family",void 0),c([h({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Iu.prototype,"size",void 0),c([vt("size")],Iu.prototype,"castSize",null),c([h({type:$Ae,json:{default:"normal",write:!0}})],Iu.prototype,"style",void 0),c([h({type:EAe,json:{default:"normal",write:!0}})],Iu.prototype,"weight",void 0),Iu=XL=c([O("esri.symbols.Font")],Iu);const jO=Iu;function pv(e,t){const r=t&&t.url&&t.url.path;if(e&&r&&(e=Bo(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=T6(e,t.portalItem.itemUrl);n!=null&&IAe.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return QL(e,t&&t.portal)}function NS(e,t,r=E_.YES){if(e==null)return e;!ro(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=Bo(e);if(t){const i=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(i){const s=QL(i,t.portal),o=QL(n,t.portal);n=T6(o,s,s),n!=null&&n!==o&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=cse(n,t==null?void 0:t.portal),ro(n)&&(n=Xo(n)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!ro(n)&&!Am(n)&&r===E_.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function x8(e,t,r){return pv(e,r)}function bm(e,t,r,n){const i=NS(e,n);i!==void 0&&(t[r]=i)}const use=/\/items\/([^\/]+)\/resources\/(.*)/,IAe=/^\.\/resources\//;function OAe(e){var t;return((t=(e==null?void 0:e.match(use))??null)==null?void 0:t[1])??null}function CAe(e){const t=(e==null?void 0:e.match(use))??null;if(t==null)return null;const r=t[2],n=r.lastIndexOf("/");if(n===-1){const{path:o,extension:a}=vU(r);return{prefix:null,filename:o,extension:a}}const{path:i,extension:s}=vU(r.slice(n+1));return{prefix:r.slice(0,n),filename:i,extension:s}}function cse(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?N3(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function QL(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,n=x6();return c0(n,`${n.scheme}://${r}`)?N3(e,t.portalHostname,r):N3(e,r,t.portalHostname)}var E_;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(E_||(E_={}));const Ovt=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return E_},ensureMainOnlineDomain:cse,fromJSON:pv,itemIdFromResourceUrl:OAe,prefixAndFilenameFromResourceUrl:CAe,read:x8,toJSON:NS,write:bm},Symbol.toStringTag,{value:"Module"}));var eN;const AAe=mi()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Cp=eN=class extends Q{constructor(e){super(e)}readHref(e,t,r){return e?pv(e,r):t.dataURI}writeHref(e,t,r,n){e&&(Am(e)?t.dataURI=e:(t.href=NS(e,n),ro(t.href)&&(t.href=Xo(t.href))))}clone(){return new eN({href:this.href,primitive:this.primitive})}};c([h({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Cp.prototype,"href",void 0),c([he("href")],Cp.prototype,"readHref",null),c([ge("href",{href:{type:String},dataURI:{type:String}})],Cp.prototype,"writeHref",null),c([Pe(AAe)],Cp.prototype,"primitive",void 0),Cp=eN=c([O("esri.symbols.support.IconSymbol3DLayerResource")],Cp);var tN;let gg=tN=class extends Ie{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new tN({x:this.x,y:this.y})}};c([h({type:Number})],gg.prototype,"x",void 0),c([h({type:Number})],gg.prototype,"y",void 0),gg=tN=c([O("esri.symbols.support.Symbol3DAnchorPosition2D")],gg);var rN;let lb=rN=class extends Q{constructor(e){super(e),this.color=new Be([0,0,0,1]),this.size=Tc(1)}clone(){const e={color:C(this.color)?this.color.clone():null,size:this.size};return new rN(e)}};c([h(Kh)],lb.prototype,"color",void 0),c([h(ru)],lb.prototype,"size",void 0),lb=rN=c([O("esri.symbols.support.Symbol3DIconOutline")],lb);var xy;const dse="esri.symbols.IconSymbol3DLayer";let ml=xy=class extends uu{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new xy({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:C(this.material)?this.material.clone():null,outline:C(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||pw,r=NB(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||pw).clone()}:null;return new xy({size:e.size,resource:{primitive:kAe(e.style)},material:{color:t},outline:n,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||aAe(e.color)?pw:e.color,r=NB(e);return new xy({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new xy({resource:{href:cte({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function NB(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,n=FB(e.xoffset),i=FB(e.yoffset);return(n||i)&&t&&r?{x:-n/t,y:i/r}:null}function FB(e){return isFinite(e)?e:0}c([h({type:io,json:{write:!0}})],ml.prototype,"material",void 0),c([h({type:Cp,json:{write:!0}})],ml.prototype,"resource",void 0),c([Pe({Icon:"icon"},{readOnly:!0})],ml.prototype,"type",void 0),c([h(ru)],ml.prototype,"size",void 0),c([Pe({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),h({json:{default:"center"}})],ml.prototype,"anchor",void 0),c([h({type:gg,json:{type:[Number],read:{reader:e=>new gg({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ml.prototype,"anchorPosition",void 0),c([h({type:lb,json:{write:!0}})],ml.prototype,"outline",void 0),ml=xy=c([O(dse)],ml);const PAe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function kAe(e){return PAe[e]||(oe.getLogger(dse).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Tf=ml;function wm(e,t,r=Fe){return t||(t=new r),t===e||(t.removeAll(),RAe(e)?t.addMany(e):e&&t.add(e)),t}function hse(e){return e}function RAe(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}const LAe="not-loaded",NAe="loading",FAe="failed",DB="loaded",pse=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const i=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const u=w6(s,l);this.destroyed&&l(new V("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(a,l).finally(()=>{u&&u.remove()})});if(this.loadStatus===LAe){this._set("loadStatus",NAe);const a=this._loadController=new AbortController;i({signal:a.signal}),Zo(a.signal,()=>{this._promiseProps.abort()})}return n(),o}})),this.when(()=>{this._set("loadStatus",DB),this._loadController=null},n=>{this._set("loadStatus",FAe),this._set("loadError",n),this._loadController=null})}get loaded(){return this.loadStatus===DB}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new V("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort()),this}};return c([h({readOnly:!0})],t.prototype,"loaded",null),c([h({readOnly:!0})],t.prototype,"loadError",void 0),c([h({clonable:!1})],t.prototype,"loadStatus",void 0),c([h({type:[ta],readOnly:!0})],t.prototype,"loadWarnings",null),t=c([O("esri.core.Loadable")],t),t};let ub=class extends pse(CT){};ub=c([O("esri.core.Loadable")],ub),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=pse,e.isLoadable=t}(ub||(ub={}));const Mc=ub;var nN;const DAe=new Xe({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Oo=nN=class extends Ie{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new nN({categories:this.categories?B(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let n="";if(this.extent){const o=AO(this.extent,Ge.WGS84);C(o)&&(n=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const s={categories:r,bbox:n,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>DAe.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};c([h()],Oo.prototype,"categories",void 0),c([h()],Oo.prototype,"disableExtraQuery",void 0),c([h({type:Pt})],Oo.prototype,"extent",void 0),c([h()],Oo.prototype,"filter",void 0),c([h()],Oo.prototype,"num",void 0),c([h()],Oo.prototype,"query",void 0),c([h()],Oo.prototype,"sortField",void 0),c([h()],Oo.prototype,"sortOrder",null),c([h()],Oo.prototype,"start",void 0),Oo=nN=c([O("esri.portal.PortalQueryParams")],Oo);const ec=Oo;let Ap=class extends Ie{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};c([h()],Ap.prototype,"nextQueryParams",void 0),c([h()],Ap.prototype,"queryParams",void 0),c([h()],Ap.prototype,"results",void 0),c([h()],Ap.prototype,"total",void 0),Ap=c([O("esri.portal.PortalQueryResult")],Ap);const jAe=Ap;let Ou=class extends Q{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.get("portal.restUrl");return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new V("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};c([h({type:Date})],Ou.prototype,"created",void 0),c([h()],Ou.prototype,"id",void 0),c([h()],Ou.prototype,"portal",void 0),c([h()],Ou.prototype,"title",void 0),c([h({readOnly:!0})],Ou.prototype,"url",null),c([h()],Ou.prototype,"username",void 0),Ou=c([O("esri.portal.PortalFolder")],Ou);const VAe=Ou;let bn=class extends Q{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){var n;const t=this.url,r=this.thumbnail;return t&&r&&this.portal?(n=this.portal)==null?void 0:n.normalizeUrl(`${t}/info/${r}?f=json`):null}get url(){const t=this.get("portal.restUrl");return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return Js(this.portal).request(this.url+"/categorySchema",t).then(r=>{const n=r.categorySchema||[];return n.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):n})}fetchMembers(t){return Js(this.portal).request(this.url+"/users",t)}getThumbnailUrl(t){let r=this.thumbnailUrl;return r&&t&&(r+=`&w=${t}`),r}toJSON(){throw new V("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(t,r){let n=qt(ec,t);const i=Js(this.portal);return parseFloat(i.currentVersion)>5?(n=n||new ec,i.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",r)):(n=n?n.clone():new ec,n.query="group:"+this.id+(n.query?" "+n.query:""),i.queryItems(n,r))}_fetchCategorySchemaSet(t,r){const n=Js(this.portal);return n.fetchSelf(n.authMode,!0,r).then(i=>{const s=i.contentCategorySetsGroupQuery;if(s){const o=new ec;return o.disableExtraQuery=!0,o.num=1,o.query=s,n.queryGroups(o,r)}throw new V("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const s=i.results[0],o=new ec;return o.num=1,o.query=`typekeywords:"${t}"`,s.queryItems(o,r)}throw new V("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",r).then(s=>{const o=s&&s.categorySchema;return o&&o.length?o:[]}):[])}};c([h()],bn.prototype,"access",void 0),c([h({type:Date})],bn.prototype,"created",void 0),c([h()],bn.prototype,"description",void 0),c([h()],bn.prototype,"id",void 0),c([h()],bn.prototype,"isInvitationOnly",void 0),c([h({type:Date})],bn.prototype,"modified",void 0),c([h()],bn.prototype,"owner",void 0),c([h()],bn.prototype,"portal",void 0),c([h()],bn.prototype,"snippet",void 0),c([h()],bn.prototype,"sortField",void 0),c([h()],bn.prototype,"sortOrder",void 0),c([h()],bn.prototype,"tags",void 0),c([h()],bn.prototype,"thumbnail",void 0),c([h({readOnly:!0})],bn.prototype,"thumbnailUrl",null),c([h()],bn.prototype,"title",void 0),c([h({readOnly:!0})],bn.prototype,"url",null),bn=c([O("esri.portal.PortalGroup")],bn);const iN=bn,zAe=Object.freeze(Object.defineProperty({__proto__:null,default:iN},Symbol.toStringTag,{value:"Module"}));var sN;let ur=sN=class extends Q{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,n=e&&e.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),r!=null&&(typeof r=="string"?i.query.text=r:typeof r=="object"&&(i.query.text=JSON.stringify(r))));let s=this.userContentUrl;return n&&(s+="/"+(typeof n=="string"?n:n.id)),this.portal.request(s+"/addItem",i).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal.request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map(n=>n.id);if(r.length){const n={method:"post",query:{items:r.join(",")}};return this.portal.request(t,n).then(()=>{e.forEach(i=>{i.id=null,i.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(n=>{const i=VAe.fromJSON(n);return i.portal=this.portal,i}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const n=iN.fromJSON(r);return n.portal=this.portal,n}):[],t})}fetchItems(e){const t=e??{};let r,n=this.userContentUrl??"";return t.folder&&(n+="/"+t.folder.id),Y(()=>Promise.resolve().then(()=>Kue),void 0).then(({default:i})=>{r=i;const s={folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"};return this.portal.request(n,{query:s})}).then(i=>{let s;return i&&i.items?(s=i.items.map(o=>{const a=r.fromJSON(o);return a.portal=this.portal,a}),Promise.all(s.map(o=>o.load())).catch(o=>o).then(()=>({items:s,nextStart:i.nextStart,total:i.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new iN({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new V("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new V("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new sN;return t.sourceJSON=e,t.read(e),t}};c([h()],ur.prototype,"access",void 0),c([h({type:Date})],ur.prototype,"created",void 0),c([h()],ur.prototype,"culture",void 0),c([h()],ur.prototype,"description",void 0),c([h()],ur.prototype,"email",void 0),c([h()],ur.prototype,"favGroupId",void 0),c([h()],ur.prototype,"fullName",void 0),c([h({type:Date})],ur.prototype,"modified",void 0),c([h()],ur.prototype,"orgId",void 0),c([h()],ur.prototype,"portal",void 0),c([h()],ur.prototype,"preferredView",void 0),c([h()],ur.prototype,"privileges",void 0),c([h()],ur.prototype,"region",void 0),c([h()],ur.prototype,"role",void 0),c([h()],ur.prototype,"roleId",void 0),c([h()],ur.prototype,"sourceJSON",void 0),c([h()],ur.prototype,"thumbnail",void 0),c([h({readOnly:!0})],ur.prototype,"thumbnailUrl",null),c([h()],ur.prototype,"units",void 0),c([h({readOnly:!0})],ur.prototype,"userContentUrl",null),c([h({readOnly:!0})],ur.prototype,"url",null),c([h()],ur.prototype,"username",void 0),c([h()],ur.prototype,"userType",void 0),ur=sN=c([O("esri.portal.PortalUser")],ur);const $8=ur,UAe=Object.freeze(Object.defineProperty({__proto__:null,default:$8},Symbol.toStringTag,{value:"Module"}));var Ds;let yP;const jB={PortalGroup:()=>Y(()=>Promise.resolve().then(()=>zAe),void 0),PortalItem:()=>Y(()=>Promise.resolve().then(()=>Kue),void 0),PortalUser:()=>Y(()=>Promise.resolve().then(()=>UAe),void 0)};let fe=Ds=class extends PS(Mc){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=yt.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){this._esriIdCredentialCreateHandle=sn(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)yt.request.trustedServers.includes(t)||yt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=$8.fromJSON(e),t.portal=this),t}load(e){const t=Y(()=>Promise.resolve().then(()=>kVe),void 0).then(({default:r})=>{Qr(e),yP=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{if(Ct){const n=Ct;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==Ds.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle=n.on("credential-create",()=>{n.findCredential(this.restUrl)&&this.signIn().catch(()=>{})}))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Y(()=>import("./ElevationLayer-f0bee5e9.js"),["assets/ElevationLayer-f0bee5e9.js","assets/ArcGISCachedService-f3f3c3c9.js","assets/TilemapCache-4b3f822a.js"])).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}fetchBasemaps(e,t){const r=new ec;return r.query=e||(yt.apiKey&&vte(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then(n=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',n.total){const i=n.results[0];return r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc",i.queryItems(r,t)}return null}).then(n=>{let i;return i=n&&n.total?n.results.filter(s=>s.type==="Web Map").map(s=>new yP({portalItem:s})):[],i})}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Xa(e)?Promise.reject(kr()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new ec;if(r.num=100,r.sortField="title",t&&t.length){const n=[];for(const i of t)n.push(`(title:"${i.title}" AND owner:${i.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,e).then(i=>i.results)}return Xa(e)?Promise.reject(kr()):Promise.resolve([])}fetchRegions(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Yo();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Yo();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return Ds._default&&!Ds._default.destroyed||(Ds._default=new Ds),Ds._default}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const n=this.restUrl+"/portals/self",i={authMode:e,query:{culture:Yo().toLowerCase()},...r};return i.authMode==="auto"&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this.request(n,i)}queryPortal(e,t,r,n){const i=qt(ec,t),s=o=>this.request(this.restUrl+e,{...i.toRequestOptions(this),...n}).then(a=>{const l=i.clone();return l.start=a.nextStart,new jAe({nextQueryParams:l,queryParams:i,total:a.total,results:Ds._resultsToTypedArray(o,{portal:this},a,n)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(Nl(l),a)));return r&&jB[r]?jB[r]().then(({default:o})=>(Qr(n),s(o))):s()}signIn(){if(this.authMode===Ds.AUTH_MODE_ANONYMOUS)return Promise.reject(new V("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Ct?Ct.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then(n=>{const i=Ds._resultsToTypedArray(r,{portal:this},n);return Promise.all(i.map(s=>typeof s.when=="function"?s.when():n)).then(()=>i,()=>i)})}request(e,t={}){const r={f:"json",...t.query},{authMode:n=this.authMode===Ds.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:i=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=t,u={authMode:n,body:i,cacheBust:s,method:o,query:r,responseType:a,timeout:0,signal:l};return Tt(this._normalizeSSL(e),u).then(d=>d.data)}toJSON(){throw new V("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Ds({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new V("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=yP.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,n){let i=[];if(r){const s=C(n)?n.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(s),a}))}else i=[];return i}};fe.AUTH_MODE_ANONYMOUS="anonymous",fe.AUTH_MODE_AUTO="auto",fe.AUTH_MODE_IMMEDIATE="immediate",c([h()],fe.prototype,"access",void 0),c([h()],fe.prototype,"allSSL",void 0),c([h()],fe.prototype,"authMode",void 0),c([h()],fe.prototype,"authorizedCrossOriginDomains",void 0),c([he("authorizedCrossOriginDomains")],fe.prototype,"readAuthorizedCrossOriginDomains",null),c([h()],fe.prototype,"basemapGalleryGroupQuery",void 0),c([h()],fe.prototype,"bingKey",void 0),c([h()],fe.prototype,"canListApps",void 0),c([h()],fe.prototype,"canListData",void 0),c([h()],fe.prototype,"canListPreProvisionedItems",void 0),c([h()],fe.prototype,"canProvisionDirectPurchase",void 0),c([h()],fe.prototype,"canSearchPublic",void 0),c([h()],fe.prototype,"canShareBingPublic",void 0),c([h()],fe.prototype,"canSharePublic",void 0),c([h()],fe.prototype,"canSignInArcGIS",void 0),c([h()],fe.prototype,"canSignInIDP",void 0),c([h()],fe.prototype,"colorSetsGroupQuery",void 0),c([h()],fe.prototype,"commentsEnabled",void 0),c([h({type:Date})],fe.prototype,"created",void 0),c([h()],fe.prototype,"credential",void 0),c([h()],fe.prototype,"culture",void 0),c([h()],fe.prototype,"currentVersion",void 0),c([h()],fe.prototype,"customBaseUrl",void 0),c([h()],fe.prototype,"defaultBasemap",void 0),c([he("defaultBasemap")],fe.prototype,"readDefaultBasemap",null),c([h()],fe.prototype,"defaultDevBasemap",void 0),c([he("defaultDevBasemap")],fe.prototype,"readDefaultDevBasemap",null),c([h({type:Pt})],fe.prototype,"defaultExtent",void 0),c([h()],fe.prototype,"defaultVectorBasemap",void 0),c([he("defaultVectorBasemap")],fe.prototype,"readDefaultVectorBasemap",null),c([h()],fe.prototype,"description",void 0),c([h()],fe.prototype,"devBasemapGalleryGroupQuery",void 0),c([h()],fe.prototype,"eueiEnabled",void 0),c([h({readOnly:!0})],fe.prototype,"extraQuery",null),c([h()],fe.prototype,"featuredGroups",void 0),c([h()],fe.prototype,"featuredItemsGroupQuery",void 0),c([h()],fe.prototype,"galleryTemplatesGroupQuery",void 0),c([h()],fe.prototype,"livingAtlasGroupQuery",void 0),c([h()],fe.prototype,"hasCategorySchema",void 0),c([h()],fe.prototype,"helpBase",void 0),c([h()],fe.prototype,"helperServices",void 0),c([h()],fe.prototype,"helpMap",void 0),c([h()],fe.prototype,"homePageFeaturedContent",void 0),c([h()],fe.prototype,"homePageFeaturedContentCount",void 0),c([h()],fe.prototype,"httpPort",void 0),c([h()],fe.prototype,"httpsPort",void 0),c([h()],fe.prototype,"id",void 0),c([h()],fe.prototype,"ipCntryCode",void 0),c([h({readOnly:!0})],fe.prototype,"isOrganization",null),c([h()],fe.prototype,"isPortal",void 0),c([h()],fe.prototype,"isReadOnly",void 0),c([h({readOnly:!0})],fe.prototype,"itemPageUrl",null),c([h()],fe.prototype,"layerTemplatesGroupQuery",void 0),c([h()],fe.prototype,"maxTokenExpirationMinutes",void 0),c([h({type:Date})],fe.prototype,"modified",void 0),c([h()],fe.prototype,"name",void 0),c([h()],fe.prototype,"portalHostname",void 0),c([h()],fe.prototype,"portalMode",void 0),c([h()],fe.prototype,"portalProperties",void 0),c([h()],fe.prototype,"region",void 0),c([h({readOnly:!0})],fe.prototype,"restUrl",null),c([h()],fe.prototype,"rotatorPanels",void 0),c([h()],fe.prototype,"showHomePageDescription",void 0),c([h()],fe.prototype,"sourceJSON",void 0),c([h()],fe.prototype,"staticImagesUrl",void 0),c([h({json:{name:"2DStylesGroupQuery"}})],fe.prototype,"stylesGroupQuery2d",void 0),c([h({json:{name:"stylesGroupQuery"}})],fe.prototype,"stylesGroupQuery3d",void 0),c([h()],fe.prototype,"supportsHostedServices",void 0),c([h()],fe.prototype,"symbolSetsGroupQuery",void 0),c([h()],fe.prototype,"templatesGroupQuery",void 0),c([h()],fe.prototype,"thumbnail",void 0),c([h({readOnly:!0})],fe.prototype,"thumbnailUrl",null),c([h()],fe.prototype,"units",void 0),c([h()],fe.prototype,"url",void 0),c([h()],fe.prototype,"urlKey",void 0),c([he("urlKey")],fe.prototype,"readUrlKey",null),c([h()],fe.prototype,"user",void 0),c([he("user")],fe.prototype,"readUser",null),c([h()],fe.prototype,"useStandardizedQuery",void 0),c([h()],fe.prototype,"useVectorBasemaps",void 0),c([h()],fe.prototype,"vectorBasemapGalleryGroupQuery",void 0),fe=Ds=c([O("esri.portal.Portal")],fe);const pi=fe;let Pp=class extends ar(Q){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return C(t)&&t.placement===this.placement&&t.style===this.style&&(G(this.color)&&G(t.color)||C(this.color)&&C(t.color)&&this.color.toJSON()===t.color.toJSON())}};c([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Pp.prototype,"type",void 0),c([h({type:eAe,json:{default:"begin-end",write:!0}})],Pp.prototype,"placement",void 0),c([h({type:Xie,json:{default:"arrow",write:!0}})],Pp.prototype,"style",void 0),c([h({type:Be,json:{type:[Gt],default:null,write:!0}})],Pp.prototype,"color",void 0),Pp=c([O("esri.symbols.LineStyleMarker3D")],Pp);const oN=Pp;var U2;let yl=U2=class extends uu{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Tc(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:C(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:C(this.pattern)?this.pattern.clone():null,marker:C(this.marker)?this.marker.clone():null};return new U2(e)}static fromSimpleLineSymbol(e){var r;const t={enabled:!0,size:e.width??Tc(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new b8({style:e.style}):null,material:new io({color:(e.color||pw).clone()}),marker:e.marker?new oN({placement:e.marker.placement,style:e.marker.style,color:((r=e.marker.color)==null?void 0:r.clone())??null}):null};return new U2(t)}};c([h({type:io,json:{write:!0}})],yl.prototype,"material",void 0),c([Pe({Line:"line"},{readOnly:!0})],yl.prototype,"type",void 0),c([h({type:sse,json:{write:!0,default:"miter"}})],yl.prototype,"join",void 0),c([h({type:S8,json:{write:!0,default:"butt"}})],yl.prototype,"cap",void 0),c([h(ru)],yl.prototype,"size",void 0),c([h(nse)],yl.prototype,"pattern",void 0),c([h({types:{key:"type",base:oN,typeMap:{style:oN}},json:{write:!0}})],yl.prototype,"marker",void 0),yl=U2=c([O("esri.symbols.LineSymbol3DLayer")],yl);const FS=yl;var aN;const BAe=mi()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let cb=aN=class extends Q{clone(){return new aN({href:this.href,primitive:this.primitive})}};c([h({type:String,json:{read:x8,write:bm}})],cb.prototype,"href",void 0),c([Pe(BAe)],cb.prototype,"primitive",void 0),cb=aN=c([O("esri.symbols.support.ObjectSymbol3DLayerResource")],cb);var lN;let yf=lN=class extends Ie{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new lN({x:this.x,y:this.y,z:this.z})}};c([h({type:Number})],yf.prototype,"x",void 0),c([h({type:Number})],yf.prototype,"y",void 0),c([h({type:Number})],yf.prototype,"z",void 0),yf=lN=c([O("esri.symbols.support.Symbol3DAnchorPosition3D")],yf);var uN;let Ei=uN=class extends uu{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new uN({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:C(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};c([h({type:io,json:{write:!0}})],Ei.prototype,"material",void 0),c([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ei.prototype,"castShadows",void 0),c([h({type:cb,json:{write:!0}})],Ei.prototype,"resource",void 0),c([Pe({Object:"object"},{readOnly:!0})],Ei.prototype,"type",void 0),c([h({type:Number,json:{write:!0}})],Ei.prototype,"width",void 0),c([h({type:Number,json:{write:!0}})],Ei.prototype,"height",void 0),c([h({type:Number,json:{write:!0}})],Ei.prototype,"depth",void 0),c([Pe({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),h({json:{default:"origin"}})],Ei.prototype,"anchor",void 0),c([h({type:yf,json:{type:[Number],read:{reader:e=>new yf({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Ei.prototype,"anchorPosition",void 0),c([h({type:Number,json:{write:!0}})],Ei.prototype,"heading",void 0),c([h({type:Number,json:{write:!0}})],Ei.prototype,"tilt",void 0),c([h({type:Number,json:{write:!0}})],Ei.prototype,"roll",void 0),c([h({readOnly:!0})],Ei.prototype,"isPrimitive",null),Ei=uN=c([O("esri.symbols.ObjectSymbol3DLayer")],Ei);const E8=Ei;var cN;let Ki=cN=class extends uu{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new cN({enabled:this.enabled,material:C(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};c([h({type:io,json:{write:!0}})],Ki.prototype,"material",void 0),c([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ki.prototype,"castShadows",void 0),c([Pe({Path:"path"},{readOnly:!0})],Ki.prototype,"type",void 0),c([h({type:["circle","quad"],json:{write:!0,default:"circle"}})],Ki.prototype,"profile",void 0),c([h({type:sse,json:{write:!0,default:"miter"}})],Ki.prototype,"join",void 0),c([h({type:SAe,json:{write:!0,default:"butt"}})],Ki.prototype,"cap",void 0),c([h({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Ki.prototype,"width",void 0),c([he("width",["width","size","height"])],Ki.prototype,"readWidth",null),c([h({type:Number,json:{write:!0}})],Ki.prototype,"height",void 0),c([he("height",["height","size","width"])],Ki.prototype,"readHeight",null),c([h({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Ki.prototype,"anchor",void 0),c([h({type:["heading","all"],json:{write:!0,default:"all"}})],Ki.prototype,"profileRotation",void 0),Ki=cN=c([O("esri.symbols.PathSymbol3DLayer")],Ki);const T8=Ki;var dN;let vg=dN=class extends Q{constructor(){super(...arguments),this.color=new Be([0,0,0,1]),this.size=0}clone(){const e={color:B(this.color),size:this.size};return new dN(e)}};c([h(Kh)],vg.prototype,"color",void 0),c([h(ru)],vg.prototype,"size",void 0),vg=dN=c([O("esri.symbols.support.Symbol3DHalo")],vg);let mw=class extends ar(Q){constructor(t){super(t),this.color=null}};c([h(Kh)],mw.prototype,"color",void 0),mw=c([O("esri.symbols.support.Symbol3DTextBackground")],mw);var B2;let hs=B2=class extends uu{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){C(e)&&C(this._userSize)&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,n){const i={...n,textSymbol3D:!0};t.font=e.write({},i),delete t.font.size}get size(){return C(this._userSize)?this._userSize:C(this.font)&&this.font.size!=null?this.font.size:9}set size(e){this._userSize=e,C(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new B2({enabled:this.enabled,font:this.font&&B(this.font),halo:this.halo&&B(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:C(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:B(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new B2({font:C(e.font)?e.font.clone():new jO,halo:GAe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new io({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new mw({color:e.backgroundColor.clone()}):null})}};function GAe(e,t){return e&&t!=null&&t>0?new vg({color:B(e),size:t}):null}c([h({type:jO,json:{write:!0}})],hs.prototype,"font",null),c([ge("font")],hs.prototype,"writeFont",null),c([h({type:vg,json:{write:!0}})],hs.prototype,"halo",void 0),c([h({...ase,json:{default:"center",write:!0}})],hs.prototype,"horizontalAlignment",void 0),c([h({...ose,json:{default:1,write:!0}})],hs.prototype,"lineHeight",void 0),c([h({type:io,json:{write:!0}})],hs.prototype,"material",void 0),c([h({type:mw,json:{write:!0}})],hs.prototype,"background",void 0),c([h(ru)],hs.prototype,"size",null),c([h({type:String,json:{write:!0}})],hs.prototype,"text",void 0),c([Pe({Text:"text"},{readOnly:!0})],hs.prototype,"type",void 0),c([h({...lse,json:{default:"baseline",write:!0}})],hs.prototype,"verticalAlignment",void 0),hs=B2=c([O("esri.symbols.TextSymbol3DLayer")],hs);const fv=hs;var hN;let pd=hN=class extends uu{constructor(e){super(e),this.color=pN.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new hN({color:B(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};c([h({type:Be,nonNullable:!0,json:{type:[Gt],write:(e,t,r)=>t[r]=e.toArray(Be.AlphaMode.UNLESS_OPAQUE),default:()=>pN.clone(),defaultEquals:e=>e.toCss(!0)===pN.toCss(!0)}})],pd.prototype,"color",void 0),c([Pe({Water:"water"},{readOnly:!0})],pd.prototype,"type",void 0),c([h({type:["small","medium","large"],json:{write:!0,default:"medium"}})],pd.prototype,"waterbodySize",void 0),c([h({type:Number,json:{write:!0,default:null}})],pd.prototype,"waveDirection",void 0),c([h({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],pd.prototype,"waveStrength",void 0),pd=hN=c([O("esri.symbols.WaterSymbol3DLayer")],pd);const pN=new Be([0,119,190]),fse=pd;var fN;let kp=fN=class extends Ie{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new fN({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};c([h({type:String})],kp.prototype,"name",void 0),c([h({type:String})],kp.prototype,"styleUrl",void 0),c([h({type:String})],kp.prototype,"styleName",void 0),c([h({type:pi})],kp.prototype,"portal",void 0),kp=fN=c([O("esri.symbols.support.StyleOrigin")],kp);const mN=kp;var yN;let yw=yN=class extends Ie{constructor(){super(...arguments),this.url=""}clone(){return new yN({url:this.url})}};c([h({type:String})],yw.prototype,"url",void 0),yw=yN=c([O("esri.symbols.support.Thumbnail")],yw);const mse={icon:Tf,object:E8,line:FS,path:T8,fill:LS,extrude:Zie,text:fv,water:fse},qAe=Fe.ofType({base:uu,key:"type",typeMap:mse,errorContext:"symbol-layer"});let gl=class extends ks{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,n=r&&r.type||Fe;this._set("symbolLayers",new n)}get color(){return null}set color(t){this.constructed&&oe.getLogger(this.declaredClass).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){wm(t,this._get("symbolLayers"))}readStyleOrigin(t,r,n){if(t.styleUrl&&t.name){const i=pv(t.styleUrl,n);return new mN({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new mN({portal:n&&n.portal||pi.getDefault(),styleName:t.styleName,name:t.name});n&&n.messages&&n.messages.push(new ta("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,r,n,i){if(t.styleUrl&&t.name){let s=NS(t.styleUrl,i);ro(s)&&(s=Xo(s)),r.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&i&&i.portal&&!lte(t.portal.restUrl,i.portal.restUrl)?i&&i.messages&&i.messages.push(new ta("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof uu||t&&mse[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};c([h({json:{read:!1,write:!1}})],gl.prototype,"color",null),c([h({type:qAe,nonNullable:!0,json:{write:!0}}),vt(hse)],gl.prototype,"symbolLayers",null),c([h({type:mN})],gl.prototype,"styleOrigin",void 0),c([he("styleOrigin")],gl.prototype,"readStyleOrigin",null),c([ge("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],gl.prototype,"writeStyleOrigin",null),c([h({type:yw,json:{read:!1}})],gl.prototype,"thumbnail",void 0),c([h({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],gl.prototype,"type",void 0),gl=c([O("esri.symbols.Symbol3D")],gl);const mv=gl;let db=class extends Q{constructor(t){super(t),this.visible=!0}clone(){}};c([h({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],db.prototype,"type",void 0),c([h({readOnly:!0})],db.prototype,"visible",void 0),db=c([O("esri.symbols.callouts.Callout3D")],db);const yse=db;var gN;let G2=gN=class extends Q{constructor(){super(...arguments),this.color=new Be("white")}clone(){return new gN({color:B(this.color)})}};c([h(Kh)],G2.prototype,"color",void 0),G2=gN=c([O("esri.symbols.callouts.LineCallout3DBorder")],G2);const gse=G2;Object.freeze(Object.defineProperty({__proto__:null,default:gse},Symbol.toStringTag,{value:"Module"}));var vN;let fd=vN=class extends yse{constructor(e){super(e),this.type="line",this.color=new Be([0,0,0,1]),this.size=Tc(1),this.border=null}get visible(){return this.size>0&&C(this.color)&&this.color.a>0}clone(){return new vN({color:B(this.color),size:this.size,border:B(this.border)})}};c([Pe({line:"line"},{readOnly:!0})],fd.prototype,"type",void 0),c([h(Kh)],fd.prototype,"color",void 0),c([h(ru)],fd.prototype,"size",void 0),c([h({type:gse,json:{write:!0}})],fd.prototype,"border",void 0),c([h({readOnly:!0})],fd.prototype,"visible",null),fd=vN=c([O("esri.symbols.callouts.LineCallout3D")],fd);const WAe=fd;function M8(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||C(t.maxWorldLength)&&t.maxWorldLength<=0)}function vse(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!M8(e)}const bse={types:{key:"type",base:yse,typeMap:{line:WAe}},json:{write:!0}};var bN;let $y=bN=class extends Q{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new bN({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};c([h(ru)],$y.prototype,"screenLength",void 0),c([h({type:Number,nonNullable:!0,json:{write:!0,default:0}})],$y.prototype,"minWorldLength",void 0),c([h({type:Number,json:{write:!0}})],$y.prototype,"maxWorldLength",void 0),$y=bN=c([O("esri.symbols.support.Symbol3DVerticalOffset")],$y);const wse=$y;var q2;const _se=Fe.ofType({base:null,key:"type",typeMap:{text:fv}});let md=q2=class extends mv{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new _se,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return vse(this)}hasVisibleVerticalOffset(){return M8(this)}clone(){return new q2({styleOrigin:B(this.styleOrigin),symbolLayers:B(this.symbolLayers),thumbnail:B(this.thumbnail),callout:B(this.callout),verticalOffset:B(this.verticalOffset)})}static fromTextSymbol(e){return new q2({symbolLayers:[fv.fromTextSymbol(e)]})}};c([h({type:wse,json:{write:!0}})],md.prototype,"verticalOffset",void 0),c([h(bse)],md.prototype,"callout",void 0),c([h({json:{read:!1,write:!1}})],md.prototype,"styleOrigin",void 0),c([h({type:_se})],md.prototype,"symbolLayers",void 0),c([Pe({LabelSymbol3D:"label-3d"},{readOnly:!0})],md.prototype,"type",void 0),md=q2=c([O("esri.symbols.LabelSymbol3D")],md);const VO=md;var W2;const Sse=Fe.ofType({base:null,key:"type",typeMap:{line:FS,path:T8}}),HAe=Fe.ofType({base:null,key:"type",typeMap:{line:FS,path:T8}});let hb=W2=class extends mv{constructor(e){super(e),this.symbolLayers=new Sse,this.type="line-3d"}clone(){return new W2({styleOrigin:B(this.styleOrigin),symbolLayers:B(this.symbolLayers),thumbnail:B(this.thumbnail)})}static fromSimpleLineSymbol(e){return new W2({symbolLayers:[FS.fromSimpleLineSymbol(e)]})}};c([h({type:Sse,json:{type:HAe}})],hb.prototype,"symbolLayers",void 0),c([Pe({LineSymbol3D:"line-3d"},{readOnly:!0})],hb.prototype,"type",void 0),hb=W2=c([O("esri.symbols.LineSymbol3D")],hb);const zO=hb;let yd=class extends ks{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};c([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],yd.prototype,"angle",void 0),c([h({type:["simple-marker","picture-marker"],readOnly:!0})],yd.prototype,"type",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],yd.prototype,"xoffset",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],yd.prototype,"yoffset",void 0),c([h({type:Number,cast:e=>e==="auto"?e:xt(e),json:{write:!0}})],yd.prototype,"size",void 0),yd=c([O("esri.symbols.MarkerSymbol")],yd);const xse=yd;var H2;const $se=Fe.ofType({base:null,key:"type",typeMap:{fill:LS}});let pb=H2=class extends mv{constructor(e){super(e),this.symbolLayers=new $se,this.type="mesh-3d"}clone(){return new H2({styleOrigin:B(this.styleOrigin),symbolLayers:B(this.symbolLayers),thumbnail:B(this.thumbnail)})}static fromSimpleFillSymbol(e){return new H2({symbolLayers:[LS.fromSimpleFillSymbol(e)]})}};c([h({type:$se})],pb.prototype,"symbolLayers",void 0),c([Pe({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],pb.prototype,"type",void 0),pb=H2=c([O("esri.symbols.MeshSymbol3D")],pb);const UO=pb;function KAe(e,t,r){return t.imageData?cte({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):Ese(t.url,r)}function Ese(e,t){var r;return YAe(t)&&!ro(e)&&((r=t==null?void 0:t.layer)!=null&&r.parsedUrl)?lm(t.layer.parsedUrl.path,"images",e):pv(e,t)}function JAe(e,t,r,n){if(Am(e)){const i=M6(e);if(!i)return;t.contentType=i.mediaType,t.imageData=i.data,r&&r.imageData===t.imageData&&r.url&&bm(r.url,t,"url",n)}else bm(e,t,"url",n)}const Tse={json:{read:{source:["imageData","url"],reader:KAe},write:{writer(e,t,r,n){JAe(e,t,this.source,n)}}}},Mse={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=Ese(t.url,r)),n}}}};function YAe(e){var t,r;return!(e==null||e.origin!=="service"&&e.origin!=="portal-item"||((t=e.layer)==null?void 0:t.type)!=="feature"&&((r=e.layer)==null?void 0:r.type)!=="stream")}var wN;let Co=wN=class extends Qie{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),r!=null&&(i.width=xt(r)),n!=null&&(i.height=xt(n)),i}clone(){const e=new wN({color:B(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",B(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};c([Pe({esriPFS:"picture-fill"},{readOnly:!0})],Co.prototype,"type",void 0),c([h(Tse)],Co.prototype,"url",void 0),c([h({type:Number,json:{write:!0}})],Co.prototype,"xscale",void 0),c([h({type:Number,json:{write:!0}})],Co.prototype,"yscale",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],Co.prototype,"width",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],Co.prototype,"height",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],Co.prototype,"xoffset",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],Co.prototype,"yoffset",void 0),c([h(Mse)],Co.prototype,"source",void 0),Co=wN=c([O("esri.symbols.PictureFillSymbol")],Co);const Ise=Co;var _N;let wa=_N=class extends xse{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=xt(t)),r!=null&&(n.height=xt(r)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new _N({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",B(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};c([h({json:{write:!1}})],wa.prototype,"color",void 0),c([Pe({esriPMS:"picture-marker"},{readOnly:!0})],wa.prototype,"type",void 0),c([h(Tse)],wa.prototype,"url",void 0),c([h(Mse)],wa.prototype,"source",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],wa.prototype,"height",void 0),c([he("height",["height","size"])],wa.prototype,"readHeight",null),c([h({type:Number,cast:xt,json:{write:!0}})],wa.prototype,"width",void 0),c([h({json:{write:!1}})],wa.prototype,"size",void 0),wa=_N=c([O("esri.symbols.PictureMarkerSymbol")],wa);const DS=wa;var Rp;const Ose=Fe.ofType({base:null,key:"type",typeMap:{icon:Tf,object:E8,text:fv}});let Lp=Rp=class extends mv{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new Ose,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return vse(this)}hasVisibleVerticalOffset(){return M8(this)}clone(){return new Rp({verticalOffset:B(this.verticalOffset),callout:B(this.callout),styleOrigin:B(this.styleOrigin),symbolLayers:B(this.symbolLayers),thumbnail:B(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Rp({symbolLayers:[Tf.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new Rp({symbolLayers:[Tf.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){var n,i;if(((i=(n=e.data)==null?void 0:n.symbol)==null?void 0:i.type)!=="CIMPointSymbol")return null;const r=e.data.symbol;return new Rp(r!=null&&r.callout?{symbolLayers:[Tf.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[Tf.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new Rp({symbolLayers:[fv.fromTextSymbol(e)]})}};c([h({type:wse,json:{write:!0}})],Lp.prototype,"verticalOffset",void 0),c([h(bse)],Lp.prototype,"callout",void 0),c([h({type:Ose,json:{origins:{"web-scene":{write:!0}}}})],Lp.prototype,"symbolLayers",void 0),c([Pe({PointSymbol3D:"point-3d"},{readOnly:!0})],Lp.prototype,"type",void 0),Lp=Rp=c([O("esri.symbols.PointSymbol3D")],Lp);const Mf=Lp;var fb;const Cse=Fe.ofType({base:null,key:"type",typeMap:{extrude:Zie,fill:LS,icon:Tf,line:FS,object:E8,text:fv,water:fse}});let mb=fb=class extends mv{constructor(e){super(e),this.symbolLayers=new Cse,this.type="polygon-3d"}clone(){return new fb({styleOrigin:B(this.styleOrigin),symbolLayers:B(this.symbolLayers),thumbnail:B(this.thumbnail)})}static fromJSON(e){const t=new fb;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.getItemAt(0).type==="fill"&&t.symbolLayers.getItemAt(1).type==="line"){const r=t.symbolLayers.getItemAt(0),n=t.symbolLayers.getItemAt(1);!n.enabled||e.symbolLayers&&e.symbolLayers[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:n.size,color:C(n.material)?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new fb({symbolLayers:[LS.fromSimpleFillSymbol(e)]})}};c([h({type:Cse,json:{write:!0}})],mb.prototype,"symbolLayers",void 0),c([Pe({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],mb.prototype,"type",void 0),mb=fb=c([O("esri.symbols.PolygonSymbol3D")],mb);const jS=mb;var SN;const gP=new Xe({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Np=SN=class extends Qie{constructor(...e){super(...e),this.color=new Be([0,0,0,.25]),this.outline=new ho,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),r&&(n.color=r),n}clone(){return new SN({color:B(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};c([h()],Np.prototype,"color",void 0),c([h()],Np.prototype,"outline",void 0),c([Pe({esriSFS:"simple-fill"},{readOnly:!0})],Np.prototype,"type",void 0),c([h({type:gP.apiValues,json:{read:gP.read,write:gP.write}})],Np.prototype,"style",void 0),Np=SN=c([O("esri.symbols.SimpleFillSymbol")],Np);const Nc=Np;var xN;const vP=new Xe({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let vl=xN=class extends xse{constructor(...e){super(...e),this.color=new Be([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new ho}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=xt(t)),r&&(i.outline=r),n&&(i.color=n),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new xN({angle:this.angle,color:B(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};c([h()],vl.prototype,"color",void 0),c([ge("color")],vl.prototype,"writeColor",null),c([Pe({esriSMS:"simple-marker"},{readOnly:!0})],vl.prototype,"type",void 0),c([h()],vl.prototype,"size",void 0),c([h({type:vP.apiValues,json:{read:vP.read,write:vP.write}})],vl.prototype,"style",void 0),c([h({type:String,json:{write:!0}})],vl.prototype,"path",null),c([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ho}},json:{default:null,write:!0}})],vl.prototype,"outline",void 0),vl=xN=c([O("esri.symbols.SimpleMarkerSymbol")],vl);const Jh=vl;var $N;let br=$N=class extends ks{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new jO,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),r&&(n.color=r),n}writeLineWidth(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}castLineWidth(e){return xt(e)}writeLineHeight(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}clone(){return new $N({angle:this.angle,backgroundColor:B(this.backgroundColor),borderLineColor:B(this.borderLineColor),borderLineSize:this.borderLineSize,color:B(this.color),font:this.font&&this.font.clone(),haloColor:B(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(e=this.color)==null?void 0:e.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};c([h({type:Be,json:{write:!0}})],br.prototype,"backgroundColor",void 0),c([h({type:Be,json:{write:!0}})],br.prototype,"borderLineColor",void 0),c([h({type:Number,json:{write:!0},cast:xt})],br.prototype,"borderLineSize",void 0),c([h({type:jO,json:{write:!0}})],br.prototype,"font",void 0),c([h({...ase,json:{write:!0}})],br.prototype,"horizontalAlignment",void 0),c([h({type:Boolean,json:{write:!0}})],br.prototype,"kerning",void 0),c([h({type:Be,json:{write:!0}})],br.prototype,"haloColor",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],br.prototype,"haloSize",void 0),c([h({type:Boolean,json:{write:!0}})],br.prototype,"rightToLeft",void 0),c([h({type:Boolean,json:{write:!0}})],br.prototype,"rotated",void 0),c([h({type:String,json:{write:!0}})],br.prototype,"text",void 0),c([Pe({esriTS:"text"},{readOnly:!0})],br.prototype,"type",void 0),c([h({...lse,json:{write:!0}})],br.prototype,"verticalAlignment",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],br.prototype,"xoffset",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],br.prototype,"yoffset",void 0),c([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],br.prototype,"angle",void 0),c([h({type:Number,json:{write:!0}})],br.prototype,"width",void 0),c([h({type:Number})],br.prototype,"lineWidth",void 0),c([ge("lineWidth")],br.prototype,"writeLineWidth",null),c([vt("lineWidth")],br.prototype,"castLineWidth",null),c([h(ose)],br.prototype,"lineHeight",void 0),c([ge("lineHeight")],br.prototype,"writeLineHeight",null),br=$N=c([O("esri.symbols.TextSymbol")],br);const Lm=br;var EN;let _a=EN=class extends ks{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=C(this.portal)?this.portal:pi.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new EN({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=C(t)?t.cache:null,n=r?this._fetchCacheKey:null;if(C(r)){const a=n&&r.get(n);if(a)return a.clone()}const i=await ZAe();Qr(t);const s=i.resolveWebStyleSymbol(this,{portal:this.portal},e,t);s.catch(a=>{oe.getLogger(this.declaredClass).error("#fetchSymbol()","Failed to create symbol from style",a)});const o=await s;return e==="webRef"&&o.type==="point-3d"||e==="cimRef"&&o.type==="cim"?(C(r)&&r.set(n,o.clone()),o):null}};function ZAe(){return Y(()=>import("./webStyleSymbolUtils-fe264161.js"),["assets/webStyleSymbolUtils-fe264161.js","assets/devEnvironmentUtils-5002a058.js"])}c([h({json:{write:!1}})],_a.prototype,"color",void 0),c([h({type:String,json:{write:!0}})],_a.prototype,"styleName",void 0),c([h({type:pi,json:{write:!1}})],_a.prototype,"portal",void 0),c([h({type:String,json:{read:x8,write:bm}})],_a.prototype,"styleUrl",void 0),c([h({type:yw,json:{read:!1}})],_a.prototype,"thumbnail",void 0),c([h({type:String,json:{write:!0}})],_a.prototype,"name",void 0),c([Pe({styleSymbolReference:"web-style"},{readOnly:!0})],_a.prototype,"type",void 0),c([h()],_a.prototype,"_fetchCacheKey",null),_a=EN=c([O("esri.symbols.WebStyleSymbol")],_a);const Nm=_a;function BO(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function _0(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Kf={base:ks,key:"type",typeMap:{"simple-fill":Nc,"picture-fill":Ise,"picture-marker":DS,"simple-line":ho,"simple-marker":Jh,text:Lm,"label-3d":VO,"line-3d":zO,"mesh-3d":UO,"point-3d":Mf,"polygon-3d":jS,"web-style":Nm,cim:RS},errorContext:"symbol"},XAe={base:ks,key:"type",typeMap:{"picture-marker":DS,"simple-marker":Jh,text:Lm,"web-style":Nm,cim:RS},errorContext:"symbol"},QAe=qh({types:Kf}),GO={base:ks,key:"type",typeMap:{"simple-fill":Nc,"picture-fill":Ise,"picture-marker":DS,"simple-line":ho,"simple-marker":Jh,text:Lm,"line-3d":zO,"mesh-3d":UO,"point-3d":Mf,"polygon-3d":jS,"web-style":Nm,cim:RS},errorContext:"symbol"},ePe={base:ks,key:"type",typeMap:{text:Lm,"label-3d":VO},errorContext:"symbol"},VB={base:ks,key:"type",typeMap:{"line-3d":zO,"mesh-3d":UO,"point-3d":Mf,"polygon-3d":jS,"web-style":Nm,cim:RS},errorContext:"symbol"},tPe={base:ks,key:"type",typeMap:{"label-3d":VO},errorContext:"symbol"},Ase=tu(Kf);function rPe(e){if(!e)return null;const t={};for(const r in e){const n=as(e[r]);n&&(t[r]=n)}return Object.keys(t).length!==0?t:null}function nPe(e){if(!C(e))return null;const t={};for(const r in e){const n=e[r];n&&(t[r]=n.toJSON())}return Object.keys(t).length!==0?t:null}let ps=class extends ar(Q){constructor(...t){super(...t),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:cw(),configurable:!0})}normalizeCtorArgs(t,r,n,i){return t&&!t.declaredClass?t:{geometry:t,symbol:r,attributes:n,popupTemplate:i}}set aggregateGeometries(t){const r=this._get("aggregateGeometries");JSON.stringify(r)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const r=this._get("attributes");r!==t&&(this._set("attributes",t),this._notifyLayer("attributes",r,t))}set geometry(t){const r=this._get("geometry");r!==t&&(this._set("geometry",t),this._notifyLayer("geometry",r,t))}set symbol(t){const r=this._get("symbol");r!==t&&(this._set("symbol",t),this._notifyLayer("symbol",r,t))}set visible(t){const r=this._get("visible");r!==t&&(this._set("visible",t),this._notifyLayer("visible",r,t))}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;for(const r of[this.sourceLayer,this.layer])if(r){if("popupTemplate"in r&&r.popupTemplate)return r.popupTemplate;if(t&&"defaultPopupTemplate"in r&&C(r.defaultPopupTemplate))return r.defaultPopupTemplate}return null}getAttribute(t){var r;return(r=this.attributes)==null?void 0:r[t]}setAttribute(t,r){if(this.attributes){const n=this.getAttribute(t);this.attributes[t]=r,this._notifyLayer("attributes",n,r,t)}else this.attributes={[t]:r},this._notifyLayer("attributes",void 0,r,t)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:nPe(this.aggregateGeometries),geometry:C(this.geometry)?this.geometry.toJSON():null,symbol:C(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){C(this.geometry)&&this.geometry.type==="mesh"&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(t,r,n,i){if(!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:t,oldValue:r,newValue:n};t==="attributes"&&(s.attributeName=i),this.layer.graphicChanged(s)}};c([h({value:null,json:{read:rPe}})],ps.prototype,"aggregateGeometries",null),c([h({value:null})],ps.prototype,"attributes",null),c([h({value:null,types:km,json:{read:as}})],ps.prototype,"geometry",null),c([h({type:Boolean})],ps.prototype,"isAggregate",void 0),c([h({clonable:"reference"})],ps.prototype,"layer",void 0),c([h({type:Rm})],ps.prototype,"popupTemplate",void 0),c([h({clonable:"reference"})],ps.prototype,"sourceLayer",void 0),c([h({value:null,types:Kf})],ps.prototype,"symbol",null),c([h({type:Boolean,value:!0})],ps.prototype,"visible",null),ps=c([O("esri.Graphic")],ps),function(e){e.generateUID=cw}(ps||(ps={}));const Pn=ps;function TN(e){return e&&typeof e.highlight=="function"}let tn=class extends cv(Q){constructor(t){super(t),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};c([h()],tn.prototype,"autoNavigate",void 0),c([h()],tn.prototype,"filter",void 0),c([h()],tn.prototype,"getResults",void 0),c([h()],tn.prototype,"getSuggestions",void 0),c([h()],tn.prototype,"maxResults",void 0),c([h()],tn.prototype,"maxSuggestions",void 0),c([h()],tn.prototype,"minSuggestCharacters",void 0),c([h()],tn.prototype,"outFields",void 0),c([h()],tn.prototype,"placeholder",void 0),c([h()],tn.prototype,"popupEnabled",void 0),c([h()],tn.prototype,"popupTemplate",void 0),c([h()],tn.prototype,"prefix",void 0),c([h()],tn.prototype,"resultGraphicEnabled",void 0),c([h()],tn.prototype,"resultSymbol",void 0),c([h()],tn.prototype,"suggestionsEnabled",void 0),c([h()],tn.prototype,"suffix",void 0),c([h()],tn.prototype,"withinViewEnabled",void 0),c([h()],tn.prototype,"zoomScale",void 0),tn=c([O("esri.widgets.Search.SearchSource")],tn);const I8=tn;let Fp=class extends ar(Q){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};c([h({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:C(this.onFields)&&this.onFields.length>0}}}}})],Fp.prototype,"onFields",void 0),c([h({type:String,json:{write:!0}})],Fp.prototype,"operator",void 0),c([h({type:String,json:{write:!0}})],Fp.prototype,"searchTerm",void 0),c([h({type:String,json:{write:!0}})],Fp.prototype,"searchType",void 0),Fp=c([O("esri.rest.support.FullTextSearch")],Fp);const Pse=Fp,kse=96;function Uvt(e,t){const r=t||e.extent,n=e.width,i=Lc(r&&r.spatialReference);return r&&n?r.width/n*i*$ne*kse:0}function iPe(e,t){return e/(Lc(t)*$ne*kse)}function sPe(e,t){const r=e.extent,n=e.width-(e.padding?e.padding.left+e.padding.right:0),i=iPe(t,r.spatialReference);return r.clone().expand(i*n/r.width)}const zB=oe.getLogger("esri.widgets.Search.support.geometryUtils");function oPe(e,t){var n,i;if(!t)return zB.error("missing-parameter: view is missing."),Promise.reject(new V("searchgeometryutils:missing-parameter","view is missing."));if(!e)return zB.error("missing-parameter: point is missing."),Promise.reject(new V("searchgeometryutils:missing-parameter","point is missing."));if(e.hasZ||t.type==="2d")return Promise.resolve(e);const r=(n=t==null?void 0:t.map)==null?void 0:n.ground;return r&&r.layers.length?r.queryElevation(e,{cache:(i=t.basemapTerrain)==null?void 0:i.elevationQueryCache}).then(s=>s.geometry):Promise.resolve(e)}function UB(e){if(G(e))return null;switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":return e.getPoint(0);case"polyline":return e.getPoint(0,0)}return null}function O8(e,t,r){return G(e)?null:e.type==="extent"?e:e.type==="multipoint"||e.type==="polygon"||e.type==="polyline"?e.extent:e.type==="point"?Rse(e,t,r):void 0}function MN(e,t,r){return G(e)||G(t)?null:Rse(e.center,t,r)}function Rse(e,t,r){const n=e.hasZ?e.z:void 0;return t&&t.map?(r?sPe(t,r):t.extent).clone().centerAt(e).set({zmax:n,zmin:n}):new Pt({xmin:e.x-.25,ymin:e.y-.25,xmax:e.x+.25,ymax:e.y+.25,spatialReference:e.spatialReference,zmin:n,zmax:n})}const aPe=/https?:\/\/services.*\.arcgis\.com/i,lPe=/(?:\{([^}]+)\})/g,Vg=oe.getLogger("esri.widgets.Search.support.layerSearchUtils");function uPe(e,t){const{exactMatch:r=!1,location:n,maxResults:i,spatialReference:s,source:o,sourceIndex:a,suggestResult:l,view:u}=e,{layer:d,filter:p,zoomScale:f}=o,y=u&&u.scale,v=Lse(o,u),g=t&&t.signal;return Fse(d).then(()=>{const b=d.popupTemplate;return b?b.getRequiredFields(d.fieldsIndex):null}).then(b=>{var P,L,D;const{objectIdField:w,returnZ:S}=d,_=Bse(o);if(!C8(d,_))throw Vg.error("invalid-field: displayField is invalid."),new V("getResults():invalid-field","displayField is invalid.");const x=b&&b.length?b:[_],$=o.outFields||x,E=Nse($);if($.includes(w)||E||$.push(w),(P=d.floorInfo)!=null&&P.floorField&&$.push(d.floorInfo.floorField),!(E||HT(d,$)))throw Vg.error("invalid-field: outField is invalid."),new V("getResults():invalid-field","outField is invalid.");const T=d.createQuery(),{orderByFields:M}=o;if(M&&(T.orderByFields=M),s){T.outSpatialReference=s;const j=1/Lc(s);j&&(T.maxAllowableOffset=j)}const A=d.geometryType==="mesh"||d.geometryType==="multipatch",k=((D=(L=d.capabilities)==null?void 0:L.data)==null?void 0:D.supportsZ)&&!A;if(T.returnZ=k&&S!==!1,T.returnGeometry=!0,T.multipatchOption=A?"xyFootprint":null,$&&(T.outFields=$),n)T.geometry=n;else if(l.key)T.objectIds=[l.key];else{const j=o.searchFields||[_];if(!HT(d,j))throw Vg.error("invalid-field: search field is invalid."),new V("getResults():invalid-field","search field is invalid.");if(Use(d)&&(T.num=i),v&&(T.geometry=v),!l.text.trim())return[];const W=l.text,{prefix:te="",suffix:ae=""}=o,z=Gse(`${te}${W}${ae}`);zse(d)&&jse(d,j)&&!r&&W&&(T.fullText=Vse({text:W,searchFields:j}));const J=qse({searchTerm:z,layer:d,searchFields:j,filter:p,exactMatch:r,query:T,type:"search"});if(T.where=J,!Dse(T))return[]}return d.queryFeatures(T,{signal:g}).then(j=>_Pe(j,u,o,a,_,y,f))})}function cPe(e,t){const{source:r,spatialReference:n,view:i,suggestTerm:s,maxSuggestions:o,sourceIndex:a,exactMatch:l}=e,{layer:u,filter:d}=r,p=t&&t.signal,f=Lse(r,i);return Fse(u).then(()=>{if(!Use(u))return[];const y=Bse(r),v=r.searchFields||[y],g=[];r.suggestionTemplate?r.suggestionTemplate.replace(lPe,(k,P)=>(g.push(P),k)):g.push(y);const b=Nse(g);g.includes(u.objectIdField)||b||g.push(u.objectIdField);const w=C8(u,y),S=b||HT(u,g),_=HT(u,v);if(!w)throw Vg.error("invalid-field: displayField is invalid."),new V("getSuggestions():invalid-field","displayField is invalid.");if(!S)throw Vg.error("invalid-field: outField is invalid."),new V("getSuggestions():invalid-field","outField is invalid.");if(!_)throw Vg.error("invalid-field: search field is invalid."),new V("getSuggestions():invalid-field","search field is invalid.");const x=u.createQuery(),{orderByFields:$}=r;if($&&(x.orderByFields=$),x.outSpatialReference=n,x.returnGeometry=!1,x.num=o,x.outFields=g,f&&(x.geometry=f),!s.trim())return[];const{prefix:E="",suffix:T=""}=r,M=Gse(`${E}${s}${T}`);zse(u)&&jse(u,v)&&!l&&s&&(x.fullText=Vse({text:s,searchFields:v}));const A=qse({searchTerm:M,layer:u,searchFields:v,filter:d,exactMatch:l,query:x,type:"suggest"});return x.where=A,Dse(x)?u.queryFeatures(x,{signal:p}).then(k=>bPe(k,r,a,y)):[]})}function Lse(e,t){const{filter:r,withinViewEnabled:n}=e,i=t&&t.extent;return r&&r.geometry||(n&&i?i:void 0)}function Nse(e){return e&&e.includes("*")}async function Fse(e){e&&await e.load()}function Dse(e){return!(!e.fullText&&!e.where)}function jse(e,t){const r=e==null?void 0:e.indexes;return!r||!(t!=null&&t.length)?!1:r.filter(n=>n.indexType==="FullText").some(n=>{var s;const i=((s=n.fields)==null?void 0:s.split(",").map(o=>o.trim().toLowerCase()))||[];return t.every(o=>i.includes(o.toLowerCase()))})}function Vse({text:e,searchFields:t}){return e.trim().split(" ").filter(r=>!!r.trim()).map(r=>new Pse({onFields:t,searchTerm:r,searchType:"prefix"}))}function zse(e){var t,r;return((r=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:r.supportsFullTextSearch)??!1}function Use(e){var t,r;return((r=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:r.supportsPagination)??!1}function dPe(e){var t,r,n;return((n=(r=(t=e==null?void 0:e.fieldsIndex)==null?void 0:t.fields)==null?void 0:r.find(i=>i.type==="string"))==null?void 0:n.name)??""}function Bse(e){return e.displayField||e.layer.displayField||dPe(e.layer)}function HT(e,t){return!(!e||!(t!=null&&t.length))&&t.every(r=>C8(e,r))}function C8(e,t){return!!e.getField(t)}function hPe(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}function pPe(e,t,r){let n=null;const{codedValues:i}=e;return i&&i.some(s=>{const o=s.name,a=r?o:o.toLowerCase();return(r?t:t.toLowerCase())===a&&(n=s.code.toString(),!0)}),n}function Gse(e){return e.replace(/\'/g,"''")}function v1(e,t){const r=t&&t.where;return r?`(${e}) AND (${r})`:e}function fPe({currentTerm:e,field:t,filter:r,exactMatch:n,url:i,type:s}){const o=t.type,a=t.name;if(o==="string"||o==="date"||o==="global-id"){const l=aPe.test(i),u=l&&hPe(e)?"N":"";return v1(n&&s==="search"?`${a} = ${u}'${e}'`:l?`${a} LIKE ${u}${`'${e}%'`}`:`${`LOWER(${a})`} LIKE ${u}${`'${e.toLowerCase()}%'`}`,r)}if(o==="oid"||o==="small-integer"||o==="integer"||o==="single"||o==="double"){const l=Number(e);return isNaN(l)?null:v1(`${a} = ${l}`,r)}return v1(`${a} = ${e}`,r)}function mPe(e,t){return e?` OR (${t})`:`(${t})`}function qse({searchTerm:e,layer:t,searchFields:r,filter:n,exactMatch:i,query:s,type:o}){const{definitionExpression:a,url:l}=t;let u="";return!s.fullText&&e&&r&&r.forEach(d=>{const p=t.getField(d),f=typeof t.getFieldDomain=="function"&&t.getFieldDomain(d),y=(f&&f.type==="coded-value"?pPe(f,e,i):null)||e||null;if(y!==null){const v=fPe({currentTerm:y,field:p,filter:n,exactMatch:i,url:l,type:o});v&&(u+=mPe(u,v))}}),a&&u?`(${a}) AND (${u})`:a||u}function yPe(e,t){let r=null;const{codedValues:n}=e;return n&&n.length&&n.some(i=>i.code===t&&(r=i.name,!0)),r}function gPe(e,t){return e[Object.keys(e).find(r=>r.toLowerCase()===t.toLowerCase())]}function Wse(e,t,r){const n=e.sourceLayer,{attributes:i}=e,s=typeof n.getFieldDomain=="function"&&n.getFieldDomain(r);if(t)return No(t,i);if(r&&i){const o=n.getField(r),a=gPe(i,r);return a==null?"":s&&s.type==="coded-value"?yPe(s,a):(o==null?void 0:o.type)==="date"?eu(new Date(a)):typeof a=="number"?a.toString():typeof a!="string"?"":a.trim()}return""}function vPe(e,t,r,n){const i=e.sourceLayer,{attributes:s}=e,{objectIdField:o}=i,a=s[o];return{text:Wse(e,t.suggestionTemplate,n),key:a,sourceIndex:r}}function bPe(e,t,r,n){return e.features.map(i=>vPe(i,t,r,n))}function wPe(e,t,r,n,i,s,o){const a=e.clone(),l=e.sourceLayer,u=l&&l.objectIdField,d=u&&e.attributes[u],p=Wse(e,r.searchTemplate,i),f=O8(a.geometry,t,s),y=typeof o=="number"?MN(B(f),t,o):f,v=e.clone();return C(y)&&(v.geometry=ra.fromExtent(y)),{extent:y,target:v,feature:a,key:d,name:p,sourceIndex:n}}function _Pe(e,t,r,n,i,s,o){return e.features.map(a=>wPe(a,t,r,n,i,s,o))}var IN;let Sa=IN=class extends I8{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(t,r)=>uPe({source:this,...t},r),this.getSuggestions=(t,r)=>cPe({source:this,...t},r)}set layer(e){this._set("layer",e),e&&e.load().catch(()=>{})}get name(){return this._getLayerTitle()??""}set name(e){this._overrideIfSome("name",e)}clone(){return new IN({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?B(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?B(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e;return((e=this.layer.fieldsIndex.fields.find(t=>t.type==="string"))==null?void 0:e.name)??""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;return e.loaded?`: ${(t||[this._getDisplayField()]).map(r=>{const n=e.getField(r);return n&&n.alias||r}).join(", ")}`:""}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};c([h({json:{read:{source:"field.name"},write:{target:"field.name"}}})],Sa.prototype,"displayField",void 0),c([h({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],Sa.prototype,"exactMatch",void 0),c([h({value:null})],Sa.prototype,"layer",null),c([h()],Sa.prototype,"name",null),c([h({type:[String],json:{write:!0}})],Sa.prototype,"orderByFields",void 0),c([h()],Sa.prototype,"searchFields",void 0),c([h()],Sa.prototype,"searchTemplate",void 0),c([h()],Sa.prototype,"suggestionTemplate",void 0),Sa=IN=c([O("esri.widgets.Search.LayerSearchSource")],Sa);const Ey=Sa;function qO(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function yv(e){return typeof e=="string"?Vi(e):B(e)}function WO(e,t,r){const n={};for(const i in e){if(i==="declaredClass")continue;const s=e[i];if(s!=null&&typeof s!="function")if(Array.isArray(s)){n[i]=[];for(let o=0;o<s.length;o++)n[i][o]=WO(s[o])}else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(r&&r[i]);n[i]=t?o:JSON.stringify(o)}else n[i]=t?s:JSON.stringify(s);else n[i]=s}return n}function SPe(e){return!!e&&typeof e.x=="number"&&typeof e.y=="number"}function xPe(e){return e&&typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"}let gd=class extends Q{constructor(t){super(t),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};c([h({type:String,json:{write:!0}})],gd.prototype,"address",void 0),c([h({type:Object,json:{write:!0}})],gd.prototype,"attributes",void 0),c([h({type:Pt,json:{write:!0}})],gd.prototype,"extent",void 0),c([h({type:Ve,json:{write:!0}})],gd.prototype,"location",void 0),c([h({type:Number,json:{write:!0}})],gd.prototype,"score",void 0),gd=c([O("esri.rest.support.AddressCandidate")],gd);const Hse=gd,A8={type:String,json:{read:{source:"token"},write:{target:"token"}}};let ii=class extends Q{constructor(t){super(t),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};c([h({type:Object,json:{write:!0}})],ii.prototype,"address",void 0),c([h(A8)],ii.prototype,"apiKey",void 0),c([h({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],ii.prototype,"categories",void 0),c([h({type:String,json:{write:!0}})],ii.prototype,"countryCode",void 0),c([h({type:Boolean,json:{write:!0}})],ii.prototype,"forStorage",void 0),c([h({type:Ve,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],ii.prototype,"location",void 0),c([h({type:String,json:{write:!0}})],ii.prototype,"locationType",void 0),c([h({type:String,json:{write:!0}})],ii.prototype,"magicKey",void 0),c([h({type:Number,json:{write:!0}})],ii.prototype,"maxLocations",void 0),c([h({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],ii.prototype,"outFields",void 0),c([h({type:Ge,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ii.prototype,"outSpatialReference",void 0),c([h({type:Pt,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=r}}}})],ii.prototype,"searchExtent",void 0),ii=c([O("esri.rest.support.AddressToLocationsParameters")],ii),ii.from=qt(ii);const Kse=ii;async function $Pe(e,t,r){t=Kse.from(t);const n=yv(e),{address:i,...s}=t.toJSON(),o={...i,...s,f:"json"},a=WO({...n.query,...o}),l=qO(a,r),u=`${n.path}/findAddressCandidates`;return Tt(u,l).then(EPe)}function EPe({data:e}){if(!e)return[];const{candidates:t,spatialReference:r}=e;return t?t.map(n=>{if(!n)return;const{extent:i,location:s}=n,o=!i||xPe(i);return SPe(s)&&o?(i&&(i.spatialReference=r),s&&(s.spatialReference=r),Hse.fromJSON(n)):void 0}):[]}let Cu=class extends Q{constructor(t){super(t),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};c([h(A8)],Cu.prototype,"apiKey",void 0),c([h({type:Ve,json:{write:{writer:(e,t)=>{const r=e?e.clone().normalize():null,n=r!==void 0;t.location=n?r:null}}}})],Cu.prototype,"location",void 0),c([h({type:String,json:{write:!0}})],Cu.prototype,"locationType",void 0),c([h({type:Ge,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Cu.prototype,"outSpatialReference",void 0),Cu=c([O("esri.rest.support.LocationToAddressParameters")],Cu),Cu.from=qt(Cu);const Jse=Cu;async function TPe(e,t,r){t=Jse.from(t);const n=yv(e),i={...t.toJSON(),f:"json"},s=WO({...n.query,...i}),o=qO(s,r),a=`${n.path}/reverseGeocode`;return Tt(a,o).then(MPe)}function MPe({data:e}){if(!e)return;const{address:t,location:r}=e,n=t&&t.Match_addr||"";return Hse.fromJSON({address:n,attributes:t||{},location:r,score:100})}let Ty=class extends Q{constructor(t){super(t),this.isCollection=null,this.magicKey=null,this.text=null}};c([h({type:Boolean,json:{write:!0}})],Ty.prototype,"isCollection",void 0),c([h({type:String,json:{write:!0}})],Ty.prototype,"magicKey",void 0),c([h({type:String,json:{write:!0}})],Ty.prototype,"text",void 0),Ty=c([O("esri.rest.support.SuggestionCandidate")],Ty);const IPe=Ty;let js=class extends Q{constructor(t){super(t),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};c([h(A8)],js.prototype,"apiKey",void 0),c([h({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],js.prototype,"categories",void 0),c([h({type:String,json:{write:!0}})],js.prototype,"countryCode",void 0),c([h({type:Ve,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],js.prototype,"location",void 0),c([h({type:Number,json:{write:!0}})],js.prototype,"maxSuggestions",void 0),c([h({type:Ge,json:{read:{source:"outSR"},write:{target:"outSR"}}})],js.prototype,"outSpatialReference",void 0),c([h({type:Pt,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(r)}}}})],js.prototype,"searchExtent",void 0),c([h({type:String,json:{write:!0}})],js.prototype,"text",void 0),js=c([O("esri.rest.support.SuggestLocationsParameters")],js),js.from=qt(js);const Yse=js;async function OPe(e,t,r){const n=yv(e),i={...(t=Yse.from(t)).toJSON(),f:"json"},s=WO({...n.query,...i}),o=qO(s,r),a=`${n.path}/suggest`;return Tt(a,o).then(CPe)}function CPe(e){const{data:t}=e;if(!t)return[];const{suggestions:r}=t;return r?r.map(n=>new IPe(n)):[]}const APe="Single Line Input",PPe=3e5;function kPe(e,t){return e.location?DPe(e,t):jPe(e,t)}function Zse(e,t){if(t.localSearchDisabled)return null;const r=e==null?void 0:e.scale;return typeof r=="number"&&r<=PPe?e.get("extent.center"):null}function RPe(e,t){const{source:r,spatialReference:n,view:i,suggestTerm:s,maxSuggestions:o,sourceIndex:a}=e,l=new Yse,{apiKey:u,url:d}=r,p=Xse(r,i),f=t&&t.signal;if(!d)return Promise.resolve(null);u&&(l.apiKey=u),r.categories&&(l.categories=r.categories),n&&(l.outSpatialReference=n);const y=Zse(i,r);if(y&&(l.location=y),!s.trim())return Promise.resolve(null);const{prefix:v="",suffix:g=""}=r,b=`${v}${s}${g}`;return l.text=b,p&&(l.searchExtent=p),l.maxSuggestions=o,r.countryCode&&(l.countryCode=r.countryCode),OPe(d,l,{signal:f}).then(w=>zPe(w,a))}function LPe(e){return!!e&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}function NPe(e){return!!e&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/i.test(e)}function BB(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}const FPe="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";function DPe(e,t){const{source:r,spatialReference:n,location:i,sourceIndex:s,view:o}=e,{apiKey:a,url:l,zoomScale:u,defaultZoomScale:d}=r,p=o&&o.scale,f=t&&t.signal,y=new Jse;return y.location=i,a&&(y.apiKey=a),n&&(y.outSpatialReference=n),TPe(l,y,{signal:f}).then(v=>Qse([v],{sourceIndex:s,scale:p,view:o,zoomScale:u,defaultZoomScale:d})).catch(()=>[])}function Xse(e,t){const{filter:r,withinViewEnabled:n}=e,i=t&&t.scale,s=t&&t.extent,o=r&&r.geometry;return O8(o,t,i)||(n&&s?s:void 0)}function jPe(e,t){const{source:r,suggestResult:n,spatialReference:i,view:s,maxResults:o,sourceIndex:a}=e,l=r&&r.zoomScale,u=r&&r.defaultZoomScale;if(!n.text.trim())return Promise.resolve(null);const d=!n.key&&r.prefix?r.prefix:"",p=!n.key&&r.suffix?r.suffix:"",f=`${d}${n.text}${p}`,y=new Kse,{apiKey:v,url:g}=r,b=s&&s.scale,w=Xse(r,s),S=t&&t.signal;if(v&&(y.apiKey=v),!g)return Promise.resolve(null);r.categories&&(y.categories=r.categories),r.locationType&&(y.locationType=r.locationType),i&&(y.outSpatialReference=i);const _=Zse(s,r);_&&(y.location=_),y.maxLocations=o,w&&(y.searchExtent=w),r.countryCode&&(y.countryCode=r.countryCode);const{key:x}=n,$=`${x}`;return x&&(y.magicKey=$),y.address={},y.address[r.singleLineFieldName||APe]=f,r.outFields&&(y.outFields=r.outFields),$Pe(g,y,{signal:S}).then(E=>Qse(E,{key:$,scale:b,sourceIndex:a,view:s,zoomScale:l,defaultZoomScale:u}))}function VPe(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}function zPe(e,t){return e.map(r=>VPe(r,t))}function UPe(e,t){const{key:r,scale:n,sourceIndex:i,view:s,zoomScale:o,defaultZoomScale:a}=t,{attributes:l,extent:u,location:d,address:p}=e,f=new Pn({geometry:d,attributes:l}),y=u||d,v=O8(y,s,n),g=typeof o=="number"?MN(v,s,o):typeof a=="number"&&y.type==="point"?MN(v,s,a):v,b=d?`${d.x},${d.y}`:"",w=p||b,S=f.clone();return C(g)&&(S.geometry=ra.fromExtent(g)),{extent:g,feature:f,target:S,key:r,name:w,sourceIndex:i}}function Qse(e,t){return e.filter(Boolean).map(r=>UPe(r,t))}var ON;const BPe="esri.widgets.Search.LocatorSearchSource";let Ti=ON=class extends I8{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(t,r)=>kPe({source:this,...t},r),this.getSuggestions=(t,r)=>RPe({source:this,...t},r)}clone(){return new ON({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?B(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?B(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};c([h()],Ti.prototype,"apiKey",void 0),c([h()],Ti.prototype,"categories",void 0),c([h()],Ti.prototype,"countryCode",void 0),c([h({json:{write:!0}})],Ti.prototype,"defaultZoomScale",void 0),c([h()],Ti.prototype,"localSearchDisabled",void 0),c([h()],Ti.prototype,"locationType",void 0),c([h({json:{write:!0}})],Ti.prototype,"name",void 0),c([h({json:{write:!0}})],Ti.prototype,"placeholder",void 0),c([h()],Ti.prototype,"searchTemplate",void 0),c([h({json:{write:!0}})],Ti.prototype,"singleLineFieldName",void 0),c([h({json:{read:{source:"suggest"},write:{target:"suggest"}}})],Ti.prototype,"suggestionsEnabled",void 0),c([h({json:{write:!0}})],Ti.prototype,"url",void 0),c([h({json:{write:!0}})],Ti.prototype,"zoomScale",void 0),Ti=ON=c([O(BPe)],Ti);const eoe=Ti;new Xe({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"});new Xe({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});let op=class extends Q{constructor(t){super(t),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};c([h({type:String,json:{write:!0}})],op.prototype,"deviationUnit",void 0),c([h({json:{read:{reader:e=>e?e.map(t=>as(t)).filter(C):null},write:{writer:(e,t)=>{t.geometries=(e==null?void 0:e.map(r=>r.toJSON()))??null}}}})],op.prototype,"geometries",void 0),c([h({type:Number,json:{write:!0}})],op.prototype,"maxDeviation",void 0),op=c([O("esri.rest.support.GeneralizeParameters")],op),op.from=qt(op);new Xe({preserveShape:"preserve-shape"});let Jc=class extends Q{constructor(t){super(t),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}};c([h({type:String,json:{write:!0}})],Jc.prototype,"calculationType",void 0),c([h({type:Boolean,json:{write:!0}})],Jc.prototype,"geodesic",void 0),c([h({json:{write:!0}})],Jc.prototype,"lengthUnit",void 0),c([h({type:[Qs],json:{read:{reader:e=>e?e.map(t=>as(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(r=>r.toJSON())}}}})],Jc.prototype,"polylines",void 0),Jc=c([O("esri.rest.support.LengthsParameters")],Jc),Jc.from=qt(Jc);new Xe({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"});new Xe({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});let mu=class extends Q{constructor(t){super(t),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};c([h({type:Number,json:{write:!0}})],mu.prototype,"bevelRatio",void 0),c([h({json:{read:{reader:e=>e?e.map(t=>as(t)).filter(C):null},write:{writer:(e,t)=>{t.geometries=(e==null?void 0:e.map(r=>r.toJSON()))??null}}}})],mu.prototype,"geometries",void 0),c([h({type:Number,json:{write:!0}})],mu.prototype,"offsetDistance",void 0),c([h({type:String,json:{write:!0}})],mu.prototype,"offsetHow",void 0),c([h({type:String,json:{write:!0}})],mu.prototype,"offsetUnit",void 0),mu=c([O("esri.rest.support.OffsetParameters")],mu),mu.from=qt(mu);function GPe(e){return{geometryType:uv(e[0]),geometries:e.map(t=>t.toJSON())}}function toe(e,t,r){const n=IIe(t);return e.map(i=>{const s=n.fromJSON(i);return s.spatialReference=r,s})}let Dp=class extends Q{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(i=>i.toJSON()),r=this.geometries[0],n={};return n.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),n.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference.toJSON()),n.geometries=JSON.stringify({geometryType:uv(r),geometries:t}),this.transformation&&(n.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(n.transformForward=this.transformForward),n}};c([h()],Dp.prototype,"geometries",void 0),c([h({json:{read:{source:"outSR"}}})],Dp.prototype,"outSpatialReference",void 0),c([h()],Dp.prototype,"transformation",void 0),c([h()],Dp.prototype,"transformForward",void 0),Dp=c([O("esri.rest.support.ProjectParameters")],Dp);const roe=Dp,qPe=qt(roe);async function WPe(e,t,r){t=qPe(t);const n=yv(e),i={...n.query,f:"json",...t.toJSON()},s=t.outSpatialReference,o=uv(t.geometries[0]),a=qO(i,r);return Tt(n.path+"/project",a).then(({data:{geometries:l}})=>toe(l,o,s))}new Xe({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});let Yc=class extends Q{constructor(t){super(t),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};c([h({json:{read:{reader:e=>e?e.map(t=>as(t)).filter(C):null},write:{writer:(e,t)=>{t.geometries1=(e==null?void 0:e.map(r=>r.toJSON()))??null}}}})],Yc.prototype,"geometries1",void 0),c([h({json:{read:{reader:e=>e?e.map(t=>as(t)).filter(C):null},write:{writer:(e,t)=>{t.geometries2=(e==null?void 0:e.map(r=>r.toJSON()))??null}}}})],Yc.prototype,"geometries2",void 0),c([h({type:String,json:{write:!0}})],Yc.prototype,"relation",void 0),c([h({type:String,json:{write:!0}})],Yc.prototype,"relationParameter",void 0),Yc=c([O("esri.rest.support.RelationParameters")],Yc),Yc.from=qt(Yc);new Xe({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});let ap=class extends Q{constructor(t){super(t),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}};c([h({type:String,json:{write:!0}})],ap.prototype,"extendHow",void 0),c([h({type:[Qs],json:{read:{reader:e=>e?e.map(t=>as(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(r=>r.toJSON())}}}})],ap.prototype,"polylines",void 0),c([h({json:{read:{reader:e=>e?as(e):null},write:{writer:(e,t)=>{t.trimExtendTo=e.toJSON()}}}})],ap.prototype,"trimExtendTo",void 0),ap=c([O("esri.rest.support.TrimExtendParameters")],ap),ap.from=qt(ap);const noe=oe.getLogger("esri.widgets.support.geolocationUtils"),HPe={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function KPe(){const e=Z("esri-geolocation");return e||noe.warn("geolocation-unsupported","Geolocation unsupported."),e}function JPe(){const e=window.isSecureContext;return e||noe.warn("insecure-context","Geolocation requires a secure origin."),e}function GB(){return KPe()&&JPe()}function YPe(e){return e||(e=HPe),new Promise((r,n)=>{setTimeout(()=>n(new V("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(r,n,e)})}function ZPe(e,t){var s;const{position:r,view:n}=e,i=(s=XPe(r))==null?void 0:s.coords;if(!i)throw new V("geometry-service:no-coords","Geolocation has no coordinates");return eke(QPe(i),n,t)}function XPe(e){const t=e&&e.coords||{},r={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e&&{coords:r,timestamp:e.timestamp}}function QPe({longitude:e,latitude:t,altitude:r}){return new Ve({longitude:e,latitude:t,z:r||void 0,spatialReference:{wkid:4326}})}function eke(e,t,r){if(!t)return Promise.resolve(e);const n=t.spatialReference;return n.isWGS84?Promise.resolve(e):n.isWebMercator?Promise.resolve(fc(e)):tke(r).then(i=>{if(!i)throw new V("geometry-service:missing-url","Geometry service URL is missing");const s=new roe({geometries:[e],outSpatialReference:n});return WPe(i,s,r).then(o=>o[0])})}function tke(e){if(yt.geometryServiceUrl)return Promise.resolve(yt.geometryServiceUrl);const t=pi.getDefault();return t.load(e).catch(()=>{}).then(()=>t.get("helperServices.geometry.url"))}const P8=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:n}=this;return d6(n),this.goToOverride?this.goToOverride(n,r):n.goTo(r.target,r.options)}};return c([h()],t.prototype,"goToOverride",void 0),c([h()],t.prototype,"view",void 0),t=c([O("esri.widgets.support.GoTo")],t),t};function vi(e,t){return e.hasOwnProperty(t)&&e[t]!=null&&e[t]!==""}const rke=()=>_6("esri/widgets/Search/t9n/Search"),ioe="esri.widgets.Search.SearchViewModel",yu=oe.getLogger(ioe),qB="highlight",K2=Fe.ofType({key:e=>e.layer?"layer":"locator",base:I8,typeMap:{layer:Ey,locator:eoe}}),WB=Ge.WGS84,nke="esri/images/search/search-symbol-32.png",ike=/<(?:.|\s)*?>/g,My=-1;let at=class extends P8(au.EventedMixin(Ie)){constructor(t){super(t),this._handles=new zi,this._gotoController=null,this._searching=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new K2,this.defaultSymbols={point:new DS({url:$t(nke),size:24,width:24,height:24}),polyline:new ho({color:[130,130,130,1],width:2}),polygon:new Nc({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=pi.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new K2,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const t=async()=>{const r=await rke();this.messages=r,this.defaultPopupTemplate=new Rm({title:r.searchResult,content:"{Match_addr}"})};t(),this._handles.add([ue(()=>[this.includeDefaultSources,this.view,this.portal],()=>this._update(),mt),f6(t)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null}get activeSource(){return this.allSources.at(this.activeSourceIndex)??null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:My}set activeSourceIndex(t){this._overrideIfSome("activeSourceIndex",t)}get allPlaceholder(){var t;return(t=this.messages)==null?void 0:t.allPlaceholder}set allPlaceholder(t){this._overrideIfSome("allPlaceholder",t)}get allSources(){const{sources:t,defaultSources:r,includeDefaultSources:n}=this,i=typeof n=="function"?n.call(null,{sources:t,defaultSources:r}):n?r.concat(t):t,s=this._get("allSources")||new K2;return s.removeAll(),s.addMany(i.filter(Boolean)),s}get locationEnabled(){return this._get("locationEnabled")||GB()}set locationEnabled(t){if(t===void 0)return void this._clearOverride("locationEnabled");const r=GB();if(t&&!r){const n=new V("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});yu.error(n)}this._override("locationEnabled",!!t&&r)}get placeholder(){const{allSources:t,activeSourceIndex:r,allPlaceholder:n}=this;if(r===My)return n;const i=t.at(r);return i?i.placeholder:""}set searchTerm(t){this._set("searchTerm",t||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==t&&this._set("selectedSuggestion",null),t===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null)}search(t,r){this.emit("search-start"),this.clearGraphics();const n=this._createSuggestionForSearch(t),i=this.when().then(()=>this._getResultsFromSources(n,r).then(s=>{var u;if((u=r==null?void 0:r.signal)!=null&&u.aborted)return null;const o={activeSourceIndex:this.activeSourceIndex,searchTerm:n.text,numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(o,s,n);const a=this._getFirstResult(o.results),l=(n.location&&a?a.name:n.text).replace(ike,"");return this._set("searchTerm",l),(n.key&&typeof n.sourceIndex=="number"||n.location)&&this._set("selectedSuggestion",n),this._set("results",o.results),this._set("resultCount",o.results.reduce((d,p)=>d+p.results.length,0)),this.emit("search-complete",o),this._selectFirstResult(a).then(()=>o)})).then(s=>(this._clearSearching(),s),s=>{throw this._clearSearching(),s});return this._searching=i,i}searchNearby(t){if(!this.locationEnabled){const n=new V("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});return yu.error(n),Promise.reject(n)}const r=YPe().then(n=>ZPe({position:n,view:this.view},t)).then(n=>this.search(n,t));return this._searching=r,r.catch(()=>{}).then(()=>this._clearSearching()),r}select(t){if(this.clearGraphics(),!t){const S=new V("select:missing-parameter","Cannot select without a searchResult.",{searchResult:t});return yu.error(S),Promise.reject(S)}const{view:r}=this,n=vi(t,"sourceIndex")?t.sourceIndex:this._getSourceIndexOfResult(t),i=this.allSources.at(n);if(!i){const S=new V("select:missing-source","Cannot select without a source.",{source:i});return yu.error(S),Promise.reject(S)}const s=i instanceof Ey?this._getLayerSourcePopupTemplate(i):i.popupTemplate,o=i.resultSymbol||this._getDefaultSymbol(t),a=vi(i,"resultGraphicEnabled")?i.resultGraphicEnabled:this.resultGraphicEnabled,l=vi(i,"autoNavigate")?i.autoNavigate:this.autoNavigate,u=vi(i,"popupEnabled")?i.popupEnabled:this.popupEnabled,d=u?s||this.popupTemplate||this.defaultPopupTemplate:null,{feature:p}=t;if(!p){const S=new V("select:missing-feature","Cannot select without a feature.",{feature:p});return yu.error(S),Promise.reject(S)}const{attributes:f,geometry:y,layer:v,sourceLayer:g}=p,b=UB(y),w={layerViewQuery:this._getLayerView(p),elevationQuery:r&&C(b)?oPe(b,r).catch(()=>b):Promise.resolve(b)};return Wn(w).then(S=>{const _=S.layerViewQuery.value,x=S.elevationQuery.value;o instanceof Lm&&(o.text=t.name);const $=r&&l?t.target||t.extent:null;return(C($)?this._goToSearchResult($):Promise.resolve()).then(()=>{var A;const E=_?p:new Pn({geometry:y,symbol:o,attributes:f,layer:v,sourceLayer:g,popupTemplate:d}),T=u&&((A=this.view)==null?void 0:A.popup),M=T&&E.getEffectivePopupTemplate(T.defaultPopupTemplateEnabled);return M&&r.popup.open({features:[E],location:x}),_&&TN(_)&&!M&&this._highlightFeature({graphic:E,layerView:_}),!_&&a&&r&&r.graphics.push(E),this._setResultFloor(t),this._set("selectedResult",t),this._set("resultGraphic",E),this.emit("select-result",{result:t,source:i,sourceIndex:n}),t})})}suggest(t,r,n){const i=t||this.searchTerm;return this.emit("suggest-start",{searchTerm:i}),this._suggestTimer(r,n).then(()=>this._suggestImmediate(i,n).then(s=>(this._set("suggestions",s.results),this._set("suggestionCount",s.results.reduce((o,a)=>o+a.results.length,0)),this.emit("suggest-complete",s),s)))}async when(){await h_(()=>!this.updating)}async _update(){const{portal:t,view:r}=this;if(this.includeDefaultSources){const n=this._updatingPromise=Wn([t==null?void 0:t.load(),r==null?void 0:r.when()]);if(this.destroyed||(await n,n!==this._updatingPromise))return}await h_(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var r,n;const t=(n=(r=this.portal)==null?void 0:r.helperServices)==null?void 0:n.geocode;return t?t.map(i=>{if(i.placefinding===!1)return;const s=yt.apiKey&&BB(i.url)?{url:FPe}:null,o=eoe.fromJSON({...i,...s}),a=o.url;if(BB(a)||NPe(a)||LPe(a)){const l=o.outFields||["Addr_type","Match_addr","StAddr","City"],u=o.placeholder||this.messages.placeholder,d=typeof o.defaultZoomScale=="number"?o.defaultZoomScale:2500;o.set({singleLineFieldName:"SingleLine",outFields:l,placeholder:u,defaultZoomScale:d})}return o.singleLineFieldName?o:void 0}).filter(Boolean):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach(t=>t==null?void 0:t.destroy()),this._createdFeatureLayers=[]}_getLayerSources(t,r){var i;const n=(i=this.view)==null?void 0:i.map;return t.map(s=>{const o=n.findLayerById(s.id);if(!o)return;const a=this._getLayerJSON(s),l=Ey.fromJSON(a);return l.placeholder=r,this._getLayer(o,a).then(u=>{l.layer=u}),l}).filter(Boolean).toArray()}_getTableSources(t,r){var i;const n=(i=this.view)==null?void 0:i.map;return t.map(s=>{const o=n.findTableById(s.id);if(!o)return;const a=this._getLayerJSON(s),l=Ey.fromJSON(a);return l.placeholder=r,this._getLayer(o,a).then(u=>{l.layer=u}),l}).filter(Boolean).toArray()}_convertApplicationProperties(){var a,l,u;const t=(a=this.view)==null?void 0:a.map,r=(u=(l=t==null?void 0:t.applicationProperties)==null?void 0:l.viewing)==null?void 0:u.search;if(!r)return[];const{enabled:n,hintText:i,layers:s,tables:o}=r;return n?[...this._getLayerSources(s,i),...this._getTableSources(o,i)]:[]}async _getSubLayer(t,r){if(await t.load(),!t.allSublayers)throw new Error;const n=t.allSublayers.find(s=>s.id===r.subLayer);if(!n)throw new Error;const i=await n.createFeatureLayer();return this._createdFeatureLayers.push(i),i}async _getBuildingSubLayer(t,r){await t.load();const n=t.allSublayers.find(i=>i.id===r.subLayer);if((n==null?void 0:n.type)!=="building-component")throw new Error;if(await n.load(),n.associatedLayer==null)throw new Error;return await n.associatedLayer.load(),n}_getLayer(t,r){return t.type==="feature"||t.type==="scene"||t.type==="csv"||t.type==="geojson"||t.type==="ogc-feature"?Promise.resolve(t):t.type==="map-image"?this._getSubLayer(t,r).catch(()=>{const n=new V("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:t});return yu.error(n),null}):t.type==="building-scene"?this._getBuildingSubLayer(t,r):Promise.resolve(null)}_getLayerJSON(t){return typeof t.toJSON=="function"?t.toJSON():t}_updateDefaultSources(){const{defaultSources:t,includeDefaultSources:r}=this;this._destroyFeatureLayers(),t.removeAll(),r&&t.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var i;const t=(i=this.view)==null?void 0:i.popup,{resultGraphic:r}=this;if(!t||!r)return;const{selectedFeature:n}=t;n&&n===r&&t.close()}_suggestTimer(t,r){const n=t??this.suggestionDelay;return ES(n,null,r&&r.signal)}_createLocationForSearch(t){return t instanceof Pn?UB(t.geometry):t instanceof Ve?t:Array.isArray(t)&&t.length===2?new Ve({longitude:t[0],latitude:t[1]}):null}_createSuggestionForSearch(t){if(t&&vi(t,"key")&&vi(t,"text")&&vi(t,"sourceIndex"))return t;const r=this._createLocationForSearch(t),n=typeof t=="string"?t:this.searchTerm,{selectedSuggestion:i,selectedResult:s}=this,o=!t&&i&&s,a=o&&i.key===s.key&&i.sourceIndex===s.sourceIndex,l=o&&i.location;return a||l?i:{location:r,text:r?"":n,sourceIndex:null,key:null}}_getFirstResult(t){let r=null;return t&&t.some(n=>{const{results:i}=n,s=i[0],o=!!s;return o&&(r=s),o}),r}_selectFirstResult(t){return this.autoSelect&&t?this.select(t):Promise.resolve(null)}_suggestImmediate(t,r){return this.when().then(()=>this._getSuggestionsFromSources(t,r)).then(n=>{var s;if((s=r==null?void 0:r.signal)!=null&&s.aborted)return null;const i={activeSourceIndex:this.activeSourceIndex,searchTerm:t,numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(i,n),i})}_formatSourceResponse(t,r,n){const i=r&&r.value||[],s=r&&r.error,o=this.allSources.at(n);if(s){const a={sourceIndex:n,source:o,error:s};t.errors.push(a),yu.error(s),t.numErrors++}else{const a={sourceIndex:n,source:o,results:i};t.results.push(a),t.numResults+=i.length}}_formatResponse(t,r,n){if(r)if(t.activeSourceIndex===My){const i=n&&vi(n,"sourceIndex")&&n.sourceIndex!==-1?n.sourceIndex:void 0;r.forEach((s,o)=>{const a=i!==void 0?i:o;this._formatSourceResponse(t,s,a)})}else this._formatSourceResponse(t,r[0],t.activeSourceIndex)}_getResultsFromSources(t,r){const{allSources:n}=this,i=!t.location&&vi(t,"sourceIndex")?t.sourceIndex:this.activeSourceIndex,s=[];if(!n.length){const o=new V("search:no-sources-defined","At least one source is required.",{allSources:n});return yu.error(o),Promise.reject(o)}return i===My?n.forEach((o,a)=>{s.push(this._getResultsFromSource(t,a,r))}):s.push(this._getResultsFromSource(t,i,r)),Wn(s)}_getSuggestionsFromSources(t,r){const{allSources:n,activeSourceIndex:i}=this,s=[];if(!n.length){const o=new V("suggest:no-sources-defined","At least one source is required.",{allSources:n});return yu.error(o),Promise.reject(o)}return i===My?n.forEach((o,a)=>{s.push(this._getSuggestionsFromSource(t,a,r))}):s.push(this._getSuggestionsFromSource(t,i,r)),Wn(s)}_getResultsFromSource(t,r,n){var d;const i=this.allSources.at(r),{location:s=null}=t,o=((d=this.view)==null?void 0:d.spatialReference)||WB,a=vi(i,"maxResults")?i.maxResults:this.maxResults,l=!!(i instanceof Ey&&vi(i,"exactMatch"))&&i.exactMatch,{view:u}=this;return i.getResults({view:u,sourceIndex:r,location:s,suggestResult:t,spatialReference:o,exactMatch:l,maxResults:a},n)}_getSuggestionsFromSource(t,r,n){var l;const i=this.allSources.at(r),s=vi(i,"suggestionsEnabled")?i.suggestionsEnabled:this.suggestionsEnabled,o=t.length,a=vi(i,"minSuggestCharacters")?i.minSuggestCharacters:this.minSuggestCharacters;if(s&&t.trim()&&o>=a){const u=((l=this.view)==null?void 0:l.spatialReference)||WB,d=vi(i,"maxSuggestions")?i.maxSuggestions:this.maxSuggestions,{view:p}=this,f=!!(i instanceof Ey&&vi(i,"exactMatch"))&&i.exactMatch;return i.getSuggestions({view:p,sourceIndex:r,suggestTerm:t,spatialReference:u,maxSuggestions:d,exactMatch:f},n)}return Promise.resolve(null)}_getLayerSourcePopupTemplate(t){const{layer:r}=t;if(r)return vi(t,"popupTemplate")?t.popupTemplate:r.popupTemplate}_getSourceIndexOfResult(t){const r=this.results;let n=null;return r.some(i=>i.results.some(s=>s===t&&(n=i.sourceIndex,!0))),n}async _goToSearchResult(t){const r=!!t;this._abortGoTo();const n=new AbortController;this._gotoController=n;const i={target:{target:t},options:{animate:r,signal:n.signal}};await this.callGoTo(i),this._gotoController=null}_getDefaultSymbol(t){var i;const{defaultSymbols:r}=this,n=(i=t.feature)==null?void 0:i.geometry;if(G(n))return null;switch(n.type){case"point":case"multipoint":return r.point;case"polyline":return r.polyline;case"extent":case"polygon":return r.polygon;default:return null}}_removeHighlight(){this._handles.remove(qB)}async _getLayerView(t){const{view:r}=this;if(!t||!r||t.layer.type==="building-component"||t.layer.type==="subtype-sublayer")return null;const{layer:n}=t;return await r.when(),r.whenLayerView(n)}_highlightFeature(t){const{graphic:r,layerView:n}=t,{attributes:i,layer:s}=r,{objectIdField:o}=s,a=i&&i[o],l=n.highlight(a||r);this._handles.add(l,qB)}_setResultFloor(t){var s,o,a;const{view:r}=this,n=(s=t.feature)==null?void 0:s.attributes,i=(o=t.feature)==null?void 0:o.sourceLayer;if(i&&"floorInfo"in i&&((a=i==null?void 0:i.floorInfo)!=null&&a.floorField)&&n){const l=n[i.floorInfo.floorField];r==null||r.emit("select-result-floor",l)}}};at.ALL_INDEX=My,c([h()],at.prototype,"_searching",void 0),c([h()],at.prototype,"_updatingPromise",void 0),c([h({readOnly:!0,value:null})],at.prototype,"activeSource",null),c([h()],at.prototype,"activeSourceIndex",null),c([h()],at.prototype,"allPlaceholder",null),c([h({readOnly:!0})],at.prototype,"allSources",null),c([h()],at.prototype,"autoNavigate",void 0),c([h()],at.prototype,"autoSelect",void 0),c([h()],at.prototype,"defaultPopupTemplate",void 0),c([h({readOnly:!0})],at.prototype,"defaultSources",void 0),c([h()],at.prototype,"defaultSymbols",void 0),c([h()],at.prototype,"includeDefaultSources",void 0),c([h()],at.prototype,"locationEnabled",null),c([h()],at.prototype,"maxInputLength",void 0),c([h()],at.prototype,"maxResults",void 0),c([h()],at.prototype,"maxSuggestions",void 0),c([h()],at.prototype,"messages",void 0),c([h()],at.prototype,"minSuggestCharacters",void 0),c([h({readOnly:!0})],at.prototype,"placeholder",null),c([h()],at.prototype,"popupEnabled",void 0),c([h({type:Rm})],at.prototype,"popupTemplate",void 0),c([h({type:pi})],at.prototype,"portal",void 0),c([h()],at.prototype,"resultCount",void 0),c([h()],at.prototype,"resultGraphicEnabled",void 0),c([h({readOnly:!0})],at.prototype,"resultGraphic",void 0),c([h({readOnly:!0})],at.prototype,"results",void 0),c([h({readOnly:!0})],at.prototype,"selectedSuggestion",void 0),c([h()],at.prototype,"searchAllEnabled",void 0),c([h({readOnly:!0})],at.prototype,"selectedResult",void 0),c([h()],at.prototype,"searchTerm",null),c([h({type:K2})],at.prototype,"sources",void 0),c([h({readOnly:!0})],at.prototype,"state",null),c([h()],at.prototype,"suggestionDelay",void 0),c([h()],at.prototype,"suggestionCount",void 0),c([h({readOnly:!0})],at.prototype,"suggestions",void 0),c([h()],at.prototype,"suggestionsEnabled",void 0),c([h({readOnly:!0})],at.prototype,"updating",null),c([h()],at.prototype,"view",void 0),c([h()],at.prototype,"clear",null),at=c([O(ioe)],at);const bg=at;function ws(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:oke(e[t])}}}function ske(e){const t=e==null?void 0:e.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function oke(e){return function(t,...r){ske(t)?Ire(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function On(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var ake=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},soe=function(e,t){for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?soe(i,t):i!=null&&i!==!1&&(i.hasOwnProperty("vnodeSelector")||(i=ake(i)),t.push(i))}},lke=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return soe(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function N(e,t,...r){return typeof e!="function"||W6(e)?lke(e,t,...r):e(t,...r)}let vd=class extends Yn{constructor(t,r){super(t,r),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}render(){const t={[fu.showMoreResults]:this.showMoreResultsOpen};return N("div",{class:fu.base},N("div",{key:"esri-search-renderer__container",class:this.classes(fu.moreResults,t)},this.renderSearchResultName(),this.renderMoreResults()))}renderMoreResults(){return N("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}renderSearchResultName(){var n;const t=(n=this.viewModel)==null?void 0:n.selectedResult,r=t&&t.name||"";return N("div",{key:"esri-search-renderer__result-name",class:fu.moreResultsItem},r)}renderMoreResultsLists(){var i;const t=(i=this.viewModel)==null?void 0:i.results,{resultCount:r}=this.viewModel;if(r<2)return null;const n=t.map(s=>this.renderMoreResultsList(s));return N("div",{key:"esri-search-renderer__more-results-container",class:fu.moreResultsList},n)}renderMoreResultsButton(){const{messages:t}=this,{resultCount:r}=this.viewModel;return r<2?null:N("div",{key:"esri-search-renderer__more-results-button",class:fu.moreResultsItem},N("a",{class:fu.anchor,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?t.hideMoreResults:t.showMoreResults))}renderMoreResultsHeader(t,r){return N("div",{key:`esri-search-result-renderer__header-${r}`,class:fu.moreResultsListHeader},t)}renderMoreResultsList(t){var p,f;const{results:r}=t,n=r.length,i=!!n,s=(p=this.viewModel)==null?void 0:p.selectedResult,o=n===1&&r[0]===s,a=this._getSourceName(t.source,t.sourceIndex),l=((f=this.viewModel)==null?void 0:f.results.length)>1&&!o?this.renderMoreResultsHeader(a,t.sourceIndex):null,u=i&&r.map((y,v)=>this.renderMoreResultsListItem(y,v)),d=i&&!o?N("ul",{key:`esri-search-result-renderer__list-${t.sourceIndex}`},u):null;return i?N("div",{key:`esri-search-result-renderer__results-${t.sourceIndex}`},l,d):null}renderMoreResultsListItem(t,r){return t!==this.get("viewModel.selectedResult")?N("li",{key:`esri-search-result-renderer__list-item-${r}`},N("a",{class:fu.anchor,href:"#",tabindex:"0",bind:this,"data-result":t,onclick:this._selectResultClick,onkeydown:this._selectResultClick},t.name)):null}_showMoreResultsClick(t){t.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const r=this.get("viewModel.view.popup");r&&r.reposition()}_selectResultClick(t){t.preventDefault();const r=t.currentTarget["data-result"];this.viewModel&&this.viewModel.select(r)}_getSourceName(t,r){return r===bg.ALL_INDEX?this.messages.all:t.name}};c([h(),On("esri/widgets/Search/t9n/Search")],vd.prototype,"messages",void 0),c([h()],vd.prototype,"showMoreResultsOpen",void 0),c([h()],vd.prototype,"viewModel",void 0),c([ws()],vd.prototype,"_showMoreResultsClick",null),c([ws()],vd.prototype,"_selectResultClick",null),vd=c([O("esri.widgets.Search.SearchResultRenderer")],vd);const uke=vd;function ooe(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,n=Array.isArray(e)?e:cke(e);r.push(...n)}}function cke(e){return e.split(",").map(t=>t.trim())}const dke=/<[a-z/][\s\S]*>/i;let lt=class extends Yn{constructor(t,r){super(t,r),this._activeMenuItemIndex=-1,this._handles=new zi,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new uke,this._locateFailed=null,this._container=null,this.activeMenu="none",this.disabled=!1,this.iconClass=ke.widgetIcon,this.messages=null,this.messagesCommon=null,this.viewModel=new bg,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=n=>{var s;const i=n.relatedTarget;i&&((s=this._container)!=null&&s.contains(i))||this._clearActiveMenu()},this.addHandles([ue(()=>this.searchTerm,n=>{(n&&this.activeMenu==="warning"||!n&&!this.get("viewModel.selectedSuggestion.location"))&&this._clearActiveMenu()}),As(()=>{var n;return(n=this.viewModel)==null?void 0:n.allSources},"change",()=>this._watchSourceChanges()),ue(()=>this.activeMenu,()=>this._resetActiveMenuItemIndex(),mt),ue(()=>{var n;return(n=this.viewModel)==null?void 0:n.defaultPopupTemplate},n=>{n&&(n.content=this._renderSearchResultsContent.bind(this))},mt)])}destroy(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}get activeSource(){return this.viewModel.activeSource}get activeSourceIndex(){return this.viewModel.activeSourceIndex}set activeSourceIndex(t){this.viewModel.activeSourceIndex=t}get allPlaceholder(){return this.viewModel.allPlaceholder}set allPlaceholder(t){this.viewModel.allPlaceholder=t}get allSources(){return this.viewModel.allSources}get autoNavigate(){return this.viewModel.autoNavigate}set autoNavigate(t){this.viewModel.autoNavigate=t}get autoSelect(){return this.viewModel.autoSelect}set autoSelect(t){this.viewModel.autoSelect=t}get defaultSources(){return this.viewModel.defaultSources}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get includeDefaultSources(){return this.viewModel.includeDefaultSources}set includeDefaultSources(t){this.viewModel.includeDefaultSources=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get locationEnabled(){return this.viewModel.locationEnabled}set locationEnabled(t){this.viewModel.locationEnabled=t}get maxResults(){return this.viewModel.maxResults}set maxResults(t){this.viewModel.maxResults=t}get maxSuggestions(){return this.viewModel.maxSuggestions}set maxSuggestions(t){this.viewModel.maxSuggestions=t}get minSuggestCharacters(){return this.viewModel.minSuggestCharacters}set minSuggestCharacters(t){this.viewModel.minSuggestCharacters=t}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(t){this.viewModel.popupEnabled=t}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(t){this.viewModel.popupTemplate=t}get portal(){return this.viewModel.portal}set portal(t){this.viewModel.portal=t}get resultGraphic(){return this.viewModel.resultGraphic}set resultGraphic(t){this.viewModel.resultGraphic=t}get resultGraphicEnabled(){return this.viewModel.resultGraphicEnabled}set resultGraphicEnabled(t){this.viewModel.resultGraphicEnabled=t}get results(){return this.viewModel.results}get searchAllEnabled(){return this.viewModel.searchAllEnabled}set searchAllEnabled(t){this.viewModel.searchAllEnabled=t}get searchTerm(){return this.viewModel.searchTerm}set searchTerm(t){this.viewModel.searchTerm=t}get selectedResult(){return this.viewModel.selectedResult}get sources(){return this.viewModel.sources}set sources(t){this.viewModel.sources=t}get suggestions(){return this.viewModel.suggestions}get suggestionsEnabled(){return this.viewModel.suggestionsEnabled}set suggestionsEnabled(t){this.viewModel.suggestionsEnabled=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}clear(){this.viewModel.clear()}focus(){var t;(t=this._inputNode)==null||t.focus(),this.emit("search-focus")}blur(){var t;(t=this._inputNode)==null||t.blur(),this.emit("search-blur")}search(t){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const r=new AbortController,{signal:n}=r;return this._searchController=r,this.viewModel.search(t,{signal:n}).catch(i=>{if(this._searchController===r)return this._clearActiveMenu(),this._searchController=null,i}).then(i=>{if(this._searchController===r)return this.activeMenu=i.numResults?"none":"warning",this._searchController=null,i})}suggest(t){this._cancelSuggest();const r=new AbortController,{signal:n}=r;return this._suggestController=r,this.viewModel.suggest(t,null,{signal:n}).then(i=>{if(this._suggestController===r)return this._suggestController=null,i.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),i}).catch(()=>{if(this._suggestController===r)return this._suggestController=null,null})}render(){const{state:t}=this.viewModel,r={[ke.disabled]:t==="disabled",[ke.esriWidgetDisabled]:this.disabled};return N("div",{class:this.classes(ke.base,r)},t==="loading"?this.renderLoader():this.renderContainer())}renderSubmitButton(){const{messages:t,disabled:r}=this;return N("button",{"aria-label":t.searchButtonTitle,bind:this,disabled:r,class:this.classes(ke.submitButton,ke.button),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:t.searchButtonTitle,type:"button"},N("span",{"aria-hidden":"true",class:ke.searchIcon}))}renderWarningMenu(){return N("div",{key:"esri-search__error-menu",class:this.classes(ke.menu,ke.warningMenu)},N("div",{class:ke.warningMenuBody},this.renderWarning()))}renderSourceMenuButton(){const{messages:t,activeMenu:r,sourceMenuId:n,sourceMenuButtonId:i,disabled:s}=this,{activeSourceIndex:o,allSources:a}=this.viewModel;return a.length>1?N("button",{id:i,key:"esri-search__source-menu-button",bind:this,disabled:s,"aria-label":t.searchIn,title:t.searchIn,"aria-haspopup":"true","aria-expanded":(r==="source").toString(),"aria-controls":n,class:this.classes(ke.sourcesButton,ke.button),onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,afterCreate:oh,"data-node-ref":"_sourceMenuButtonNode",type:"button"},N("span",{"aria-hidden":"true",class:ke.dropdownIcon}),N("span",{"aria-hidden":"true",class:ke.dropupIcon}),N("span",{class:ke.sourceName},this._getSourceName(o))):null}renderSourcesList(){const{allSources:t,searchAllEnabled:r}=this.viewModel,{_activeMenuItemIndex:n,activeMenu:i,sourceMenuId:s,sourceMenuButtonId:o}=this,a=i==="source"&&n>-1?this._buildId("source-item",n):null;return t.length>1?N("ul",{"aria-activedescendant":a,"aria-labelledby":o,id:s,role:"menu",bind:this,afterCreate:oh,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:ke.menuList,tabIndex:-1},r?this.renderSource(bg.ALL_INDEX):null,t.map((l,u)=>this.renderSource(u)).toArray()):null}renderSourcesMenu(){const{allSources:t}=this.viewModel;return t.length>1?N("div",{key:"esri-search__source-menu",class:this.classes(ke.menu,ke.sourcesMenu)},this.renderSourcesList()):null}renderLoader(){const{messages:t,messagesCommon:r,disabled:n}=this;return N("div",{class:ke.loader,key:"base-loader",tabIndex:n?-1:null},N("span",{"aria-hidden":"true",class:ke.loaderAnimation}),N("span",{class:ke.fallbackText},t.searchButtonTitle),N("span",{class:ke.loaderText},r.loading))}renderContainer(){const{allSources:t,state:r}=this.viewModel,{activeMenu:n}=this,i={[ke.hasMultipleSources]:t.length>1,[ke.isLoading]:r==="loading",[ke.isSearching]:r==="searching",[ke.showWarning]:n==="warning",[ke.showSources]:n==="source",[ke.showSuggestions]:n==="suggestion"};return N("div",{tabIndex:-1,afterCreate:s=>{this._container=s,s.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:s=>{s.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(i,ke.container),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}renderClearButton(){return this.searchTerm?N("button",{bind:this,disabled:this.disabled,class:this.classes(ke.clearButton,ke.button),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},N("span",{"aria-hidden":"true",class:ke.clearIcon})):null}renderLocationGroup(){const{messages:t,locationEnabled:r,displayedSearchTerm:n}=this,i=r&&!n,s=this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0;return i?N("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes(ke.menuList,ke.suggestionList,ke.suggestionListCurrentLocation)},N("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0).toString(),role:"option",class:this.classes(ke.menuItem,s?ke.menuItemFocus:null)},N("span",{"aria-hidden":"true",class:ke.locate})," ",t.useCurrentLocation)):null}renderInput(){const{activeMenu:t,locationEnabled:r,displayedSearchTerm:n,messages:i,suggestionsMenuId:s,inputId:o,_activeMenuItemIndex:a,disabled:l}=this,{maxInputLength:u,placeholder:d,searchTerm:p,suggestionCount:f}=this.viewModel,y=!(!(r&&!n)&&!f),v=t==="suggestion"&&a>-1?this._buildId("suggestion-item",a):null;return N("input",{"aria-activedescendant":v,"aria-autocomplete":"list","aria-expanded":(y&&t==="suggestion").toString(),"aria-controls":y?s:null,"aria-haspopup":"listbox","aria-label":i.searchButtonTitle,bind:this,disabled:l,placeholder:d,maxlength:u,autocomplete:"off",type:"text",class:this.classes(ke.esriInput,ke.input),value:p,id:o,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:oh,"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:p?"":d})}renderForm(){return N("form",{key:"esri-search__form",bind:this,disabled:this.disabled,class:ke.form,onsubmit:this._formSubmit,role:"search"},this.renderInput())}renderSuggestList(t){const{sourceIndex:r}=t,n=t.results.length,i=t.results;return n?N("ul",{role:"group",key:`esri-search__suggestion-list-${r}`,class:this.classes(ke.menuList,ke.suggestionList)},i.map(s=>this.renderSuggestion(s,this._menuItemCount++))):null}renderSuggestionsGroup(){const{suggestions:t}=this.viewModel;return t?t.map(r=>[this.renderSuggestionHeader(r),this.renderSuggestList(r)]):null}renderSuggestionsMenu(){const{displayedSearchTerm:t,locationEnabled:r,suggestionsMenuId:n,inputId:i}=this,{suggestionCount:s}=this.viewModel,o=r&&!t||s;return this._menuItemCount=0,o?N("div",{id:n,key:"esri-search__suggestions-menu",class:this.classes(ke.menu,ke.suggestionsMenu),role:"listbox","aria-labelledby":i,bind:this,afterCreate:oh,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}renderInputContainer(){return N("div",{key:"esri-search__input-container",class:ke.inputContainer},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}renderSuggestionHeader(t){const{allSources:r,activeSourceIndex:n}=this.viewModel,{sourceIndex:i}=t,s=t.results.length,o=r.length>1&&n===bg.ALL_INDEX;return s&&o?N("div",{key:`esri-search__suggestion-header-${i}`,class:ke.menuHeader},this._getSourceName(i)):null}renderSuggestion(t,r){const{_activeMenuItemIndex:n,messages:i}=this,{searchTerm:s}=this.viewModel;if(s){const{text:o}=t,a=o||i.untitledResult,l=dke.test(a),u=[];if(l)u.push(N("div",{innerHTML:a}));else{const p=this._splitResult(a,s),f=s.toLowerCase();p.forEach((y,v)=>{y&&y.length&&(y.toLowerCase()===f?u.push(N("strong",{key:v},y)):u.push(y))})}const d=this.activeMenu==="suggestion"&&n===r;return N("li",{bind:this,id:this._buildId("suggestion-item",r),"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===r).toString(),onclick:this._handleSuggestionClick,key:`esri-search__suggestion_${r}`,"data-suggestion":t,role:"option",class:this.classes(ke.menuItem,d?ke.menuItemFocus:null)},u)}}renderSource(t){const{activeSourceIndex:r,searchAllEnabled:n}=this.viewModel,i={[ke.menuItemActive]:t===r,[ke.menuItemFocus]:this.activeMenu==="source"&&t===(n?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},s=n?t+1:t;return N("li",{bind:this,key:`esri-search__source-${t}`,id:this._buildId("source-item",s),"aria-checked":(t===r).toString(),onclick:this._handleSourceClick,"data-source-index":t,role:"menuitemradio",class:this.classes(ke.source,ke.menuItem,i)},this._getSourceName(t))}renderNoResultsWarning(t){const{messages:r}=this,n=t?No(r.noResultsFoundForValue,{value:`"${t}"`}):r.noResultsFound;return N("div",{key:"esri-search__no_results"},N("div",{class:ke.warningMenuHeader},r.noResults),N("div",{class:ke.warningMenuText},n))}renderEmptySearchWarning(){const{messages:t}=this;return N("div",{key:"esri-search__empty-search"},N("span",{"aria-hidden":"true",class:ke.noticeIcon}),N("span",{class:ke.noValueText},t.emptyValue))}renderLocateWarning(){const{messages:t}=this;return N("div",{key:"esri-search__locate-error"},N("span",{"aria-hidden":"true",class:ke.noticeIcon}),N("span",{class:ke.noValueText},t.locateError))}renderWarning(){var i;const{displayedSearchTerm:t,_locateFailed:r}=this,{viewModel:n}=this;return r?this.renderLocateWarning():(i=n.selectedSuggestion)!=null&&i.location||t?this.renderNoResultsWarning(t):this.renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(t,r){return`${this.id}-${t}${r===void 0?"":`-${r}`}`}_watchSourceChanges(){const{_handles:t,viewModel:{allSources:r}}=this,n="sources";t.remove(n),r.forEach(i=>t.add(ue(()=>i.name,()=>this.scheduleRender()),n))}_handleSourcesMenuToggleFocus(){this.activeMenu!=="source"&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){var r;const t=this.activeMenu==="source";this.activeMenu=t?"none":"source",this.renderNow(),this.activeMenu==="source"&&((r=this._sourceListNode)==null||r.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(t){const r=t.currentTarget["data-suggestion"];r&&(this._focus(),this.search(r))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:r}=t;this._searchController=t,this.viewModel.searchNearby({signal:r}).then(n=>{this.activeMenu=n.numResults?"none":"warning"}).catch(()=>{this._locateFailed=!0,this.activeMenu="warning"}).then(()=>{this._searchController=null})}_handleSourceClick(t){this._setSourceFromMenuItem(t.currentTarget)}_setSourceFromMenuItem(t){var n;if(!t)return;const r=t["data-source-index"];this.viewModel.activeSourceIndex=r,this._clearActiveMenu(),(n=this._sourceMenuButtonNode)==null||n.focus()}_cancelSuggest(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)}_cancelSearch(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1}_handleInputKeyup(t){var s;const r=Vl(t);if(t.ctrlKey||t.metaKey||r==="Copy"||r==="ArrowLeft"||r==="ArrowRight"||r==="Shift")return;if(r==="Tab"||r==="Escape"||t.shiftKey&&r==="Tab")return this._cancelSuggest(),void(r==="Escape"&&this._clearActiveMenu());const n=r==="Home"||r==="End"||r==="ArrowUp"||r==="ArrowDown";if(r==="Enter"&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const i=(s=this._suggestionListNode)==null?void 0:s.getElementsByTagName("li");if(i!=null&&i.length){if(this.activeMenu!=="suggestion"&&this._openSuggestionMenu(),n)return t.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(r,i,this._suggestionListNode);const o=i[this._activeMenuItemIndex];if(r==="Enter"&&o){const a=o["data-suggestion"];return void(a?(this._focus(),this.search(a)):o["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(t,r,n){const i=this._activeMenuItemIndex;t==="Home"&&(this._activeMenuItemIndex=0),t==="End"&&(this._activeMenuItemIndex=r.length-1),t==="ArrowUp"&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?r.length-1:this._activeMenuItemIndex-1),t==="ArrowDown"&&(this._activeMenuItemIndex=this._activeMenuItemIndex===r.length-1?0:this._activeMenuItemIndex+1),i!==this._activeMenuItemIndex&&gEe(r[this._activeMenuItemIndex],n)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(t){const r=t.target;this.viewModel.searchTerm!==r.value&&(this.viewModel.searchTerm=r.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(t){const r=Vl(t);if(Ire(r)){t.preventDefault();const n=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(n)}else r!=="ArrowUp"&&r!=="ArrowDown"&&r!=="End"&&r!=="Home"||t.preventDefault()}_handleSourceMenuKeyup(t){var s,o;const r=Vl(t),n=r==="ArrowUp"||r==="ArrowDown"||r==="End"||r==="Home";if(n&&t.preventDefault(),r==="Escape")return this._clearActiveMenu(),void((s=this._sourceMenuButtonNode)==null?void 0:s.focus());const i=(o=this._sourceListNode)==null?void 0:o.getElementsByTagName("li");return i&&i.length!==0&&n?(this.activeMenu!=="source"&&(this.activeMenu="source"),void this._handleItemNavigation(r,i,this._sourceListNode.parentElement)):void 0}_focus(t){this.focus(),t&&(this.activeMenu=t)}_formSubmit(t){t.preventDefault(),this._activeMenuItemIndex===-1&&this.search()}_getSourceName(t){const{messages:r}=this,n=this.viewModel,{allSources:i}=n,s=i.getItemAt(t);return t===bg.ALL_INDEX?r.all:s&&s.name||r.untitledSource}_splitResult(t,r){const n=xSe(r);return t.replace(new RegExp(`(^|)(${n})(|$)`,"ig"),"$1|$2|$3").split("|")}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};c([h()],lt.prototype,"_activeMenuItemIndex",void 0),c([h()],lt.prototype,"displayedSearchTerm",null),c([h({readOnly:!0})],lt.prototype,"inputId",null),c([h({readOnly:!0})],lt.prototype,"suggestionsMenuId",null),c([h({readOnly:!0})],lt.prototype,"sourceMenuId",null),c([h({readOnly:!0})],lt.prototype,"sourceMenuButtonId",null),c([h()],lt.prototype,"activeMenu",void 0),c([h({readOnly:!0})],lt.prototype,"activeSource",null),c([h()],lt.prototype,"activeSourceIndex",null),c([h()],lt.prototype,"allPlaceholder",null),c([h({readOnly:!0})],lt.prototype,"allSources",null),c([h()],lt.prototype,"autoNavigate",null),c([h()],lt.prototype,"autoSelect",null),c([h({readOnly:!0})],lt.prototype,"defaultSources",null),c([h()],lt.prototype,"disabled",void 0),c([h()],lt.prototype,"goToOverride",null),c([h()],lt.prototype,"iconClass",void 0),c([h()],lt.prototype,"includeDefaultSources",null),c([h()],lt.prototype,"label",null),c([h()],lt.prototype,"locationEnabled",null),c([h()],lt.prototype,"maxResults",null),c([h()],lt.prototype,"maxSuggestions",null),c([h(),On("esri/widgets/Search/t9n/Search")],lt.prototype,"messages",void 0),c([h(),On("esri/t9n/common")],lt.prototype,"messagesCommon",void 0),c([h()],lt.prototype,"minSuggestCharacters",null),c([h()],lt.prototype,"popupEnabled",null),c([h()],lt.prototype,"popupTemplate",null),c([h()],lt.prototype,"portal",null),c([h()],lt.prototype,"resultGraphic",null),c([h()],lt.prototype,"resultGraphicEnabled",null),c([h({readOnly:!0})],lt.prototype,"results",null),c([h()],lt.prototype,"searchAllEnabled",null),c([h()],lt.prototype,"searchTerm",null),c([h({readOnly:!0})],lt.prototype,"selectedResult",null),c([h()],lt.prototype,"sources",null),c([h({readOnly:!0})],lt.prototype,"suggestions",null),c([h()],lt.prototype,"suggestionsEnabled",null),c([h()],lt.prototype,"view",null),c([ooe(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),h({type:bg})],lt.prototype,"viewModel",void 0),lt=c([O("esri.widgets.Search")],lt);const hke=lt;let k8=class{constructor(t,r){this.min=t,this.max=r,this.range=r-t}ndiff(t,r=0){return Math.ceil((t-r)/this.range)*this.range+r}_normalize(t,r,n,i=0,s=!1){return(n-=i)<t?n+=this.ndiff(t-n):n>r&&(n-=this.ndiff(n-r)),s&&n===r&&(n=t),n+i}normalize(t,r=0,n=!1){return this._normalize(this.min,this.max,t,r,n)}clamp(t,r=0){return Ps(t-r,this.min,this.max)+r}monotonic(t,r,n){return t<r?r:r+this.ndiff(t-r,n)}minimalMonotonic(t,r,n){return this._normalize(t,t+this.range,r,n)}center(t,r,n){return r=this.monotonic(t,r,n),this.normalize((t+r)/2,n)}diff(t,r,n){return this.monotonic(t,r,n)-t}shortestSignedDiff(t,r){t=this.normalize(t);const n=(r=this.normalize(r))-t,i=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(n)<Math.abs(i)?n:i}contains(t,r,n){return r=this.minimalMonotonic(t,r),(n=this.minimalMonotonic(t,n))>t&&n<r}};function R8(e){for(const t in e){const r=e[t];r instanceof Function&&(e[t]=r.bind(e))}return e}R8(new k8(0,2*Math.PI));R8(new k8(-Math.PI,Math.PI));const pke=R8(new k8(0,360));let Au=class extends ar(Q){constructor(...t){super(...t),this.position=new Ve([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(t,r,n,i){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const s={position:t};return r!=null&&(s.heading=r),n!=null&&(s.tilt=n),i!=null&&(s.fov=i),s}return t}writePosition(t,r,n,i){const s=t.clone();s.x=zo(t.x||0),s.y=zo(t.y||0),s.z=t.hasZ?zo(t.z||0):t.z,r[n]=s.write({},i)}readPosition(t,r){const n=new Ve;return n.read(t,r),n.x=zo(n.x||0),n.y=zo(n.y||0),n.z=n.hasZ?zo(n.z||0):n.z,n}equals(t){return!G(t)&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)}};c([h({type:Ve,json:{write:{isRequired:!0}}})],Au.prototype,"position",void 0),c([ge("position")],Au.prototype,"writePosition",null),c([he("position")],Au.prototype,"readPosition",null),c([h({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),vt(e=>pke.normalize(zo(e)))],Au.prototype,"heading",void 0),c([h({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),vt(e=>Ps(zo(e),-180,180))],Au.prototype,"tilt",void 0),c([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Au.prototype,"fov",void 0),Au=c([O("esri.Camera")],Au);const fke=Au;var CN;let bd=CN=class extends Q{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new CN({rotation:this.rotation,scale:this.scale,targetGeometry:C(this.targetGeometry)?this.targetGeometry.clone():null,camera:C(this.camera)?this.camera.clone():null})}};function bP(){return{enabled:!this.camera}}c([h({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:bP}}}}})],bd.prototype,"rotation",void 0),c([vt("rotation")],bd.prototype,"castRotation",null),c([h({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:bP}}}}})],bd.prototype,"scale",void 0),c([h({types:km,json:{read:as,write:!0,origins:{"web-scene":{read:as,write:{overridePolicy:bP}}}}})],bd.prototype,"targetGeometry",void 0),c([h({type:fke,json:{write:!0}})],bd.prototype,"camera",void 0),bd=CN=c([O("esri.Viewpoint")],bd);const Yl=bd;let Iy=class extends Fe{constructor(t){super(t),this.getCollections=null}initialize(){this.own(Nte(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const t=C(this.getCollections)?this.getCollections():null;if(G(t))return void this.removeAll();let r=0;for(const n of t)C(n)&&(r=this._processCollection(r,n));this.splice(r,this.length)}_createNewInstance(t){return new Fe(t)}_processCollection(t,r){if(!r)return t;const n=this.itemFilterFunction?this.itemFilterFunction:i=>!!i;for(const i of r)if(i){if(n(i)){const s=this.indexOf(i,t);s>=0?s!==t&&this.reorder(i,t):this.add(i,t),++t}if(this.getChildrenFunction){const s=this.getChildrenFunction(i);if(Array.isArray(s))for(const o of s)t=this._processCollection(t,o);else t=this._processCollection(t,s)}}return t}};c([h()],Iy.prototype,"getCollections",void 0),c([h()],Iy.prototype,"getChildrenFunction",void 0),c([h()],Iy.prototype,"itemFilterFunction",void 0),Iy=c([O("esri.core.CollectionFlattener")],Iy);const T_=Iy;let KT=class{constructor(t=r=>r.values().next().value){this._peeker=t,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(this._items.size===0)return;let t;for(t of this._items);return t}peek(){if(this._items.size!==0)return this._peeker(this._items)}push(t){this.contains(t)||this._items.add(t)}contains(t){return this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),t}remove(t){this._items.delete(t)}filter(t){return this._items.forEach(r=>{t(r)||this._items.delete(r)}),this}};var qn;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(qn||(qn={}));let mke=0;function aoe(){return mke++}function yke(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function M_(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function L8(e,t,r,n){if(t.type===qn.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==qn.INVOKE&&t.type!==qn.RESPONSE)return void e.postMessage(t);let i;if(yke(r)?(i=HB(r.transferList),t.data=r.result):(i=HB(n),t.data=r),i){if(Z("ff")){for(const s of i)if("byteLength"in s&&s.byteLength>267386880){const o="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case qn.INVOKE:throw o;case qn.RESPONSE:return void L8(e,{type:qn.RESPONSE,jobId:t.jobId,error:M_(o)})}}}e.postMessage(t,i)}else e.postMessage(t)}function I_(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function HB(e){if(!e||!e.length)return null;if(Z("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!gke(r));return t.length?t:null}function gke(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}const vke={statsWorker:()=>Y(()=>import("./statsWorker-81054a07.js"),["assets/statsWorker-81054a07.js","assets/quantizationUtils-9763d180.js","assets/utils-9f206cfe.js","assets/generateRendererUtils-d34e4b5a.js"]),geometryEngineWorker:()=>Y(()=>import("./geometryEngineWorker-8a57eda3.js"),["assets/geometryEngineWorker-8a57eda3.js","assets/geometryEngineJSON-3f330436.js","assets/geometryEngineBase-e1a33b0a.js","assets/json-48e3ea08.js"]),CSVSourceWorker:()=>Y(()=>import("./CSVSourceWorker-e0090ab6.js"),["assets/CSVSourceWorker-e0090ab6.js","assets/json-48e3ea08.js","assets/FeatureStore-db21f162.js","assets/BoundsStore-b551517a.js","assets/PooledRBush-be9bc7b5.js","assets/centroid-234cbe70.js","assets/utils-254e9de5.js","assets/projectionSupport-2bdd481a.js","assets/QueryEngine-7a2c6883.js","assets/QueryEngineResult-7308c5fa.js","assets/quantizationUtils-9763d180.js","assets/WhereClause-98560f78.js","assets/executionError-fb3f283a.js","assets/utils-9f206cfe.js","assets/generateRendererUtils-d34e4b5a.js","assets/QueryEngineCapabilities-42e44ded.js","assets/timeSupport-a1d17170.js","assets/number-be4bed68.js","assets/clientSideDefaults-54953f63.js"]),EdgeProcessingWorker:()=>Y(()=>import("./EdgeProcessingWorker-1b4faffd.js"),["assets/EdgeProcessingWorker-1b4faffd.js","assets/BufferView-6dbb0b7c.js","assets/edgeProcessing-8a92cd41.js","assets/deduplicate-ab6004d2.js","assets/Indices-15a00de2.js","assets/InterleavedLayout-367f9553.js","assets/types-e1c0a5bf.js","assets/VertexAttribute-15d1866a.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js"]),ElevationSamplerWorker:()=>Y(()=>import("./ElevationSamplerWorker-74024f01.js"),["assets/ElevationSamplerWorker-74024f01.js","assets/PooledRBush-be9bc7b5.js","assets/georeference-d9025f31.js","assets/mat3f64-221ce671.js","assets/mat4f64-1413b4a7.js","assets/spatialReferenceEllipsoidUtils-4291323d.js","assets/quat-8d5f3518.js","assets/quatf64-3363c48e.js","assets/BufferView-6dbb0b7c.js","assets/vec33-d6ebf3f2.js"]),FeatureServiceSnappingSourceWorker:()=>Y(()=>import("./FeatureServiceSnappingSourceWorker-16f34818.js"),["assets/FeatureServiceSnappingSourceWorker-16f34818.js","assets/FeatureStore-db21f162.js","assets/BoundsStore-b551517a.js","assets/PooledRBush-be9bc7b5.js","assets/centroid-234cbe70.js","assets/utils-254e9de5.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/QueryEngine-7a2c6883.js","assets/QueryEngineResult-7308c5fa.js","assets/quantizationUtils-9763d180.js","assets/WhereClause-98560f78.js","assets/executionError-fb3f283a.js","assets/utils-9f206cfe.js","assets/generateRendererUtils-d34e4b5a.js","assets/QueryEngineCapabilities-42e44ded.js","assets/timeSupport-a1d17170.js"]),GeoJSONSourceWorker:()=>Y(()=>import("./GeoJSONSourceWorker-4bf3ba4f.js"),["assets/GeoJSONSourceWorker-4bf3ba4f.js","assets/FeatureStore-db21f162.js","assets/BoundsStore-b551517a.js","assets/PooledRBush-be9bc7b5.js","assets/centroid-234cbe70.js","assets/utils-254e9de5.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/QueryEngine-7a2c6883.js","assets/QueryEngineResult-7308c5fa.js","assets/quantizationUtils-9763d180.js","assets/WhereClause-98560f78.js","assets/executionError-fb3f283a.js","assets/utils-9f206cfe.js","assets/generateRendererUtils-d34e4b5a.js","assets/QueryEngineCapabilities-42e44ded.js","assets/timeSupport-a1d17170.js","assets/geojson-c55b59e4.js","assets/clientSideDefaults-54953f63.js","assets/sourceUtils-cbc7f15f.js"]),LercWorker:()=>Y(()=>import("./LercWorker-e856872b.js"),[]),MemorySourceWorker:()=>Y(()=>import("./MemorySourceWorker-f021d029.js"),["assets/MemorySourceWorker-f021d029.js","assets/objectIdUtils-789e911a.js","assets/FeatureStore-db21f162.js","assets/BoundsStore-b551517a.js","assets/PooledRBush-be9bc7b5.js","assets/centroid-234cbe70.js","assets/utils-254e9de5.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/QueryEngine-7a2c6883.js","assets/QueryEngineResult-7308c5fa.js","assets/quantizationUtils-9763d180.js","assets/WhereClause-98560f78.js","assets/executionError-fb3f283a.js","assets/utils-9f206cfe.js","assets/generateRendererUtils-d34e4b5a.js","assets/QueryEngineCapabilities-42e44ded.js","assets/timeSupport-a1d17170.js","assets/clientSideDefaults-54953f63.js","assets/sourceUtils-cbc7f15f.js"]),PBFDecoderWorker:()=>Y(()=>import("./PBFDecoderWorker-a550f4b1.js"),[]),Pipeline:()=>Y(()=>import("./Pipeline-eb10a390.js"),["assets/Pipeline-eb10a390.js","assets/QueryEngine-7a2c6883.js","assets/QueryEngineResult-7308c5fa.js","assets/quantizationUtils-9763d180.js","assets/WhereClause-98560f78.js","assets/executionError-fb3f283a.js","assets/utils-9f206cfe.js","assets/generateRendererUtils-d34e4b5a.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/utils-254e9de5.js","assets/QueryEngineCapabilities-42e44ded.js","assets/timeSupport-a1d17170.js","assets/FeatureStore2D-dbc6cb5e.js","assets/CircularArray-95b23b6d.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/centroid-234cbe70.js","assets/definitions-3ddd14a8.js","assets/visualVariablesUtils-ab072646.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/visualVariablesUtils-7f5c50f5.js","assets/ogcFeatureUtils-82a4409c.js","assets/geojson-c55b59e4.js","assets/clientSideDefaults-54953f63.js","assets/createConnection-c002535c.js"]),PointCloudWorker:()=>Y(()=>import("./PointCloudWorker-fe2eedce.js"),["assets/PointCloudWorker-fe2eedce.js","assets/quat-8d5f3518.js","assets/mat3f64-221ce671.js","assets/quatf64-3363c48e.js","assets/I3SBinaryReader-1598632e.js","assets/VertexAttribute-15d1866a.js","assets/vec3f32-ad1dc57f.js","assets/PointCloudUniqueValueRenderer-34d594f8.js"]),RasterWorker:()=>Y(()=>import("./RasterWorker-f2489994.js"),["assets/RasterWorker-f2489994.js","assets/dataUtils-cb5f38bd.js","assets/RasterSymbolizer-1b1fd10e.js","assets/colorUtils-c0f43caf.js","assets/utils-1413266f.js","assets/rasterProjectionHelper-cb7fc121.js"]),SceneLayerSnappingSourceWorker:()=>Y(()=>import("./SceneLayerSnappingSourceWorker-84aff227.js"),["assets/SceneLayerSnappingSourceWorker-84aff227.js","assets/Util-97e89cd8.js","assets/sphere-f6241429.js","assets/mat3f64-221ce671.js","assets/mat4f64-1413b4a7.js","assets/quatf64-3363c48e.js","assets/QueryEngineResult-7308c5fa.js","assets/quantizationUtils-9763d180.js","assets/WhereClause-98560f78.js","assets/executionError-fb3f283a.js","assets/utils-9f206cfe.js","assets/generateRendererUtils-d34e4b5a.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/utils-254e9de5.js","assets/plane-c25a2ac0.js","assets/edgeProcessing-8a92cd41.js","assets/deduplicate-ab6004d2.js","assets/Indices-15a00de2.js","assets/InterleavedLayout-367f9553.js","assets/BufferView-6dbb0b7c.js","assets/types-e1c0a5bf.js","assets/VertexAttribute-15d1866a.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js"]),SceneLayerWorker:()=>Y(()=>import("./SceneLayerWorker-05f0f07a.js"),["assets/SceneLayerWorker-05f0f07a.js","assets/sphere-f6241429.js","assets/mat3f64-221ce671.js","assets/mat4f64-1413b4a7.js","assets/quatf64-3363c48e.js"]),WFSSourceWorker:()=>Y(()=>import("./WFSSourceWorker-8e9f1874.js"),["assets/WFSSourceWorker-8e9f1874.js","assets/FeatureStore-db21f162.js","assets/BoundsStore-b551517a.js","assets/PooledRBush-be9bc7b5.js","assets/centroid-234cbe70.js","assets/utils-254e9de5.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/QueryEngine-7a2c6883.js","assets/QueryEngineResult-7308c5fa.js","assets/quantizationUtils-9763d180.js","assets/WhereClause-98560f78.js","assets/executionError-fb3f283a.js","assets/utils-9f206cfe.js","assets/generateRendererUtils-d34e4b5a.js","assets/QueryEngineCapabilities-42e44ded.js","assets/timeSupport-a1d17170.js","assets/geojson-c55b59e4.js","assets/sourceUtils-cbc7f15f.js","assets/wfsUtils-0801d430.js","assets/xmlUtils-444cb4c0.js"]),WorkerTileHandler:()=>Y(()=>import("./WorkerTileHandler-279c21b9.js"),["assets/WorkerTileHandler-279c21b9.js","assets/enums-fb086c25.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/config-1337d16e.js","assets/StyleDefinition-fbc907c2.js","assets/enums-55085e26.js","assets/TurboLine-530d7290.js","assets/definitions-3ddd14a8.js","assets/StyleRepository-f39d985d.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/colorUtils-c0f43caf.js","assets/earcut-61f7b102.js","assets/BidiEngine-836b7ef6.js"])},{CLOSE:KB,ABORT:JB,INVOKE:YB,RESPONSE:b1,OPEN_PORT:ZB,ON:bke}=qn,wke=2;let _ke=class{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===qn.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},Nh=class Oy{static connect(t){const r=new MessageChannel;let n;n=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const i=new Oy(r.port1,{channel:r,client:n},()=>null);return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=i),Oy.clients.set(i,n),r.port2}static loadWorker(t){const r=vke[t];return r?r():Promise.resolve(null)}constructor(t,r,n){this._port=t,this._getNextJob=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new _ke(i=>this._onInvokeMessage(i)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:KB}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,n){const i=n&&n.signal,s=n&&n.transferList;if(!this._port)return Promise.reject(new V("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const o=aoe();return new Promise((a,l)=>{if(Xa(i))return this._processWork(),void l(kr());const u=Zo(i,()=>{const p=this._outJobs.get(o);p&&(this._outJobs.delete(o),this._processWork(),sn(p.abortHandle),this._post({type:JB,jobId:o}),l(kr()))}),d={resolve:a,reject:l,abortHandle:u,debugInfo:t};this._outJobs.set(o,d),this._post({type:YB,jobId:o,methodName:t,abortable:i!=null},r,s)})}on(t,r){const n=new MessageChannel;function i(s){r(s.data)}return this._port.postMessage({type:qn.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",i),n.port1.start(),{remove(){n.port1.postMessage({type:qn.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",i)}}}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:ZB,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=wke)return;const t=this._getNextJob();if(!t)return;const{methodName:r,data:n,invokeOptions:i,deferred:s}=t;this.invoke(r,n,i).then(o=>s.resolve(o)).catch(o=>s.reject(o))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{sn(t.abortHandle),t.reject(kr(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(t){C(this._schedule)?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const r=I_(t);if(r)switch(r.type){case b1:this._onResponseMessage(r);break;case YB:this._invokeQueue.push(r);break;case JB:this._onAbortMessage(r);break;case KB:this._onCloseMessage();break;case ZB:this._onOpenPortMessage(r);break;case bke:this._onOnMessage(r)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);this._invokeQueue.push(t),i&&(i.controller&&i.controller.abort(),r.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&Oy.clients.get(this)===t&&t.destroy(),Oy.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i,abortable:s}=t,o=s?new AbortController:null,a=this._inJobs;let l,u=this._client,d=u[r];try{if(!d&&r&&r.includes(".")){const p=r.split(".");for(let f=0;f<p.length-1;f++)u=u[p[f]],d=u[p[f+1]]}if(typeof d!="function")throw new TypeError(`${r} is not a function`);l=d.call(u,i,{client:this,signal:o?o.signal:null})}catch(p){return void this._post({type:b1,jobId:n,error:M_(p)})}Rc(l)?(a.set(n,{controller:o,promise:l}),l.then(p=>{a.has(n)&&(a.delete(n),this._post({type:b1,jobId:n},p))},p=>{a.has(n)&&(a.delete(n),ia(p)||this._post({type:b1,jobId:n,error:M_(p||{message:`Error encountered at method ${r}`})}))})):this._post({type:b1,jobId:n},l)}_onOpenPortMessage(t){new Oy(t.port,{client:this._client},()=>null)}_onOnMessage(t){const{port:r}=t,n=this._client.on(t.eventType,s=>{r.postMessage(s)}),i=gO(t.port,"message",s=>{var o;((o=I_(s))==null?void 0:o.type)===qn.CLOSE&&(i.remove(),n.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs;if(!s.has(r))return;const o=s.get(r);s.delete(r),this._processWork(),sn(o.abortHandle),n?o.reject(V.fromJSON(JSON.parse(n))):o.resolve(i)}_post(t,r,n){return L8(this._port,t,r,n)}};Nh.kernelInfo={revision:yte,version:gte,buildDate:mte},Nh.clients=new Map;let Ske=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new KT}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,r){return new Promise((n,i)=>{let s=!0;const o=a=>{Qr(r.signal),s&&(s=!1,a())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let a=0;a<t.length;++a){const l=t[a];Rc(l)?this._clientPromises[a]=l.then(u=>(this._clients[a]=new Nh(u,r,()=>this._ongoingJobsQueue.pop()??null),o(n),this._clients[a]),()=>(o(i),null)):(this._clients[a]=new Nh(l,r,()=>this._ongoingJobsQueue.pop()??null),this._clientPromises[a]=Promise.resolve(this._clients[a]),o(n))}})}broadcast(t,r,n){const i=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const o=this._clientPromises[s];i[s]=o.then(a=>a==null?void 0:a.invoke(t,r,n))}return i}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.deferred.reject(kr(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(n=>n==null?void 0:n.close());this._clients.length=0,this._clientPromises.length=0}invoke(t,r,n){let i;Array.isArray(n)?(oe.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),i={transferList:n}):i=n;const s=xc();this._ongoingJobsQueue.push({methodName:t,data:r,invokeOptions:i,deferred:s});for(let o=0;o<this._clientPromises.length;o++){const a=this._clients[o];a?a.jobAdded():this._clientPromises[o].then(l=>l==null?void 0:l.jobAdded())}return s.promise}on(t,r){return Promise.all(this._clientPromises).then(()=>_O(this._clients.map(n=>n.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let n=r.length;for(let i=0;i<this._clientPromises.length;++i)this._clientPromises[i].then(s=>{s&&(r[i]=s.openPort()),--n==0&&t(r)})})}get test(){return{numClients:this._clients.length}}};const xke={};function $ke(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages&&e.packages.concat()||[],paths:{...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=xke.baseUrl),t}let Eke=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...n)=>t[r](...n)})}},J2=class{constructor(){this._dispatcher=new Eke,this._workerPostMessage({type:qn.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){mT(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,n){this._dispatcher.addEventListener(t,r,n)}removeEventListener(t,r,n){this._dispatcher.removeEventListener(t,r,n)}_workerPostMessage(t){mT(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=I_(t);if(r&&r.type===qn.OPEN){const{modulePath:n,jobId:i}=r;let s=await Nh.loadWorker(n);s||(s=await Y(()=>import(n),[]));const o=Nh.connect(s);this._workerPostMessage({type:qn.OPENED,jobId:i,data:o})}}};const AN=oe.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:Tke}=qn,Mke='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,version:r}=configuration.kernelInfo,{revision:t,version:n}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS API for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const i=outgoing.get(r);outgoing.delete(r),o.error?i.reject(JSON.parse(o.error)):i.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let t$,r$;const XB="Failed to create Worker. Fallback to execute module in main thread";async function Ike(){if(!Z("esri-workers")||(Z("mozilla"),0))return QB(new J2);if(!t$&&!r$)try{const t=Mke.split('"{CONFIGURATION}"').join(`'${Oke()}'`);t$=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){r$=t||{}}let e;if(t$)try{e=new Worker(t$,{name:"esri-worker-"+Cke++})}catch{AN.warn(XB,r$),e=new J2}else AN.warn(XB,r$),e=new J2;return QB(e)}async function QB(e){return new Promise(t=>{function r(i){const s=I_(i);s&&s.type===Tke&&(e.removeEventListener("message",r),e.removeEventListener("error",n),t(e))}function n(i){i.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",n),AN.warn("Failed to create Worker. Fallback to execute module in main thread",i),(e=new J2).addEventListener("message",r),e.addEventListener("error",n)}e.addEventListener("message",r),e.addEventListener("error",n)})}function Oke(){let e;if(yt.default!=null){const i={...yt};delete i.default,e=JSON.parse(JSON.stringify(i))}else e=JSON.parse(JSON.stringify(yt));e.assetsPath=Bo(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?Bo(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Yo(),e.has={"esri-csp-restrictions":Z("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":Z("esri-2d-update-debug"),"featurelayer-pbf":Z("featurelayer-pbf"),"featurelayer-simplify-thresholds":Z("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":Z("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":Z("featurelayer-simplify-mobile-factor"),"esri-atomics":Z("esri-atomics"),"esri-shared-array-buffer":Z("esri-shared-array-buffer"),"esri-tiles-debug":Z("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":Z("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":Z("feature-polyline-generalization-factor"),"host-webworker":1,"polylabel-placement-enabled":Z("polylabel-placement-enabled")},e.workers.loaderUrl&&(e.workers.loaderUrl=Bo(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Bo(e.workers.workerPath):e.workers.workerPath=Bo($t("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=yt.workers.loaderConfig,r=$ke({baseUrl:t==null?void 0:t.baseUrl,locale:Yo(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:{version:gte,buildDate:mte,revision:yte}})}let Cke=0;const{ABORT:eG,INVOKE:Ake,OPEN:Pke,OPENED:kke,RESPONSE:w1}=qn;let Rke=class loe{static async create(t){const r=await Ike();return new loe(r,t)}constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),oe.getLogger("esri.core.workers.WorkerOwner").error(n)})}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:n}=r,i=aoe();return new Promise((s,o)=>{const a={resolve:s,reject:o,abortHandle:w6(n,()=>{this._outJobs.delete(i),this._post({type:eG,jobId:i})})};this._outJobs.set(i,a),this._post({type:Pke,jobId:i,modulePath:t})})}_onMessage(t){const r=I_(t);if(r)switch(r.type){case kke:this._onOpenedMessage(r);break;case w1:this._onResponseMessage(r);break;case eG:this._onAbortMessage(r);break;case Ake:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);i&&(i.controller&&i.controller.abort(),r.delete(n))}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i,abortable:s}=t,o=s?new AbortController:null,a=this._inJobs,l=vxe[r];let u;try{if(typeof l!="function")throw new TypeError(`${r} is not a function`);u=l.call(null,i,{signal:o?o.signal:null})}catch(d){return void this._post({type:w1,jobId:n,error:M_(d)})}Rc(u)?(a.set(n,{controller:o,promise:u}),u.then(d=>{a.has(n)&&(a.delete(n),this._post({type:w1,jobId:n},d))},d=>{a.has(n)&&(a.delete(n),d||(d={message:"Error encountered at method"+r}),ia(d)||this._post({type:w1,jobId:n,error:M_(d||{message:`Error encountered at method ${r}`})}))})):this._post({type:w1,jobId:n},u)}_onOpenedMessage(t){const{jobId:r,data:n}=t,i=this._outJobs.get(r);i&&(this._outJobs.delete(r),sn(i.abortHandle),i.resolve(n))}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs.get(r);s&&(this._outJobs.delete(r),sn(s.abortHandle),n?s.reject(V.fromJSON(JSON.parse(n))):s.resolve(i))}_post(t,r,n){return L8(this.worker,t,r,n)}},If=Z("esri-workers-debug")?1:Z("esri-mobile")?Math.min(navigator.hardwareConcurrency-1,3):Z("host-browser")?navigator.hardwareConcurrency-1:0;If||(If=Z("safari")&&Z("mac")?7:2);let tG=0;const Y2=[];function Lke(){uoe()}async function n$(e,t){const r=new Ske;return await r.open(e,t),r}async function Nke(e,t={}){if(typeof e!="string")throw new V("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(Z("host-webworker")&&!Z("esri-workers")&&(r="local"),r==="local"){let n=await Nh.loadWorker(e);n||(n=await Y(()=>import(e),[])),Qr(t.signal);const i=t.client||n;return n$([Nh.connect(n)],{...t,client:i})}if(await uoe(),Qr(t.signal),r==="dedicated"){const n=tG++%If;return n$([await Y2[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,If);if(n<If){const i=new Array(n);for(let s=0;s<n;++s){const o=tG++%If;i[s]=Y2[o].open(e,t)}return n$(i,t)}}return n$(Y2.map(n=>n.open(e,t)),t)}let i$=null;async function uoe(){if(i$)return i$;new AbortController;const e=[];for(let t=0;t<If;t++){const r=Rke.create(t).then(n=>(Y2[t]=n,n));e.push(r)}return i$=Promise.all(e),i$}function Fke(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Yh(e,t,r,n,i,s,o,a,l,u,d,p,f,y,v,g,b){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=u,e[9]=d,e[10]=p,e[11]=f,e[12]=y,e[13]=v,e[14]=g,e[15]=b,e}function VS(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Fc(e,t){if(e===t){const r=t[1],n=t[2],i=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=s,e[11]=t[14],e[12]=i,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Dke(e,t){return coe(e,t)||VS(e),e}function coe(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],d=t[8],p=t[9],f=t[10],y=t[11],v=t[12],g=t[13],b=t[14],w=t[15],S=r*a-n*o,_=r*l-i*o,x=r*u-s*o,$=n*l-i*a,E=n*u-s*a,T=i*u-s*l,M=d*g-p*v,A=d*b-f*v,k=d*w-y*v,P=p*b-f*g,L=p*w-y*g,D=f*w-y*b;let j=S*D-_*L+x*P+$*k-E*A+T*M;return j?(j=1/j,e[0]=(a*D-l*L+u*P)*j,e[1]=(i*L-n*D-s*P)*j,e[2]=(g*T-b*E+w*$)*j,e[3]=(f*E-p*T-y*$)*j,e[4]=(l*k-o*D-u*A)*j,e[5]=(r*D-i*k+s*A)*j,e[6]=(b*x-v*T-w*_)*j,e[7]=(d*T-f*x+y*_)*j,e[8]=(o*L-a*k+u*M)*j,e[9]=(n*k-r*L-s*M)*j,e[10]=(v*E-g*x+w*S)*j,e[11]=(p*x-d*E-y*S)*j,e[12]=(a*A-o*P-l*M)*j,e[13]=(r*P-n*A+i*M)*j,e[14]=(g*_-v*$-b*S)*j,e[15]=(d*$-p*_+f*S)*j,e):null}function jke(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],d=t[8],p=t[9],f=t[10],y=t[11],v=t[12],g=t[13],b=t[14],w=t[15];return e[0]=a*(f*w-y*b)-p*(l*w-u*b)+g*(l*y-u*f),e[1]=-(n*(f*w-y*b)-p*(i*w-s*b)+g*(i*y-s*f)),e[2]=n*(l*w-u*b)-a*(i*w-s*b)+g*(i*u-s*l),e[3]=-(n*(l*y-u*f)-a*(i*y-s*f)+p*(i*u-s*l)),e[4]=-(o*(f*w-y*b)-d*(l*w-u*b)+v*(l*y-u*f)),e[5]=r*(f*w-y*b)-d*(i*w-s*b)+v*(i*y-s*f),e[6]=-(r*(l*w-u*b)-o*(i*w-s*b)+v*(i*u-s*l)),e[7]=r*(l*y-u*f)-o*(i*y-s*f)+d*(i*u-s*l),e[8]=o*(p*w-y*g)-d*(a*w-u*g)+v*(a*y-u*p),e[9]=-(r*(p*w-y*g)-d*(n*w-s*g)+v*(n*y-s*p)),e[10]=r*(a*w-u*g)-o*(n*w-s*g)+v*(n*u-s*a),e[11]=-(r*(a*y-u*p)-o*(n*y-s*p)+d*(n*u-s*a)),e[12]=-(o*(p*b-f*g)-d*(a*b-l*g)+v*(a*f-l*p)),e[13]=r*(p*b-f*g)-d*(n*b-i*g)+v*(n*f-i*p),e[14]=-(r*(a*b-l*g)-o*(n*b-i*g)+v*(n*l-i*a)),e[15]=r*(a*f-l*p)-o*(n*f-i*p)+d*(n*l-i*a),e}function Vke(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],u=e[8],d=e[9],p=e[10],f=e[11],y=e[12],v=e[13],g=e[14],b=e[15];return(t*o-r*s)*(p*b-f*g)-(t*a-n*s)*(d*b-f*v)+(t*l-i*s)*(d*g-p*v)+(r*a-n*o)*(u*b-f*y)-(r*l-i*o)*(u*g-p*y)+(n*l-i*a)*(u*v-d*y)}function doe(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],d=t[7],p=t[8],f=t[9],y=t[10],v=t[11],g=t[12],b=t[13],w=t[14],S=t[15];let _=r[0],x=r[1],$=r[2],E=r[3];return e[0]=_*n+x*a+$*p+E*g,e[1]=_*i+x*l+$*f+E*b,e[2]=_*s+x*u+$*y+E*w,e[3]=_*o+x*d+$*v+E*S,_=r[4],x=r[5],$=r[6],E=r[7],e[4]=_*n+x*a+$*p+E*g,e[5]=_*i+x*l+$*f+E*b,e[6]=_*s+x*u+$*y+E*w,e[7]=_*o+x*d+$*v+E*S,_=r[8],x=r[9],$=r[10],E=r[11],e[8]=_*n+x*a+$*p+E*g,e[9]=_*i+x*l+$*f+E*b,e[10]=_*s+x*u+$*y+E*w,e[11]=_*o+x*d+$*v+E*S,_=r[12],x=r[13],$=r[14],E=r[15],e[12]=_*n+x*a+$*p+E*g,e[13]=_*i+x*l+$*f+E*b,e[14]=_*s+x*u+$*y+E*w,e[15]=_*o+x*d+$*v+E*S,e}function zke(e,t,r){const n=r[0],i=r[1],s=r[2];if(t===e)e[12]=t[0]*n+t[4]*i+t[8]*s+t[12],e[13]=t[1]*n+t[5]*i+t[9]*s+t[13],e[14]=t[2]*n+t[6]*i+t[10]*s+t[14],e[15]=t[3]*n+t[7]*i+t[11]*s+t[15];else{const o=t[0],a=t[1],l=t[2],u=t[3],d=t[4],p=t[5],f=t[6],y=t[7],v=t[8],g=t[9],b=t[10],w=t[11];e[0]=o,e[1]=a,e[2]=l,e[3]=u,e[4]=d,e[5]=p,e[6]=f,e[7]=y,e[8]=v,e[9]=g,e[10]=b,e[11]=w,e[12]=o*n+d*i+v*s+t[12],e[13]=a*n+p*i+g*s+t[13],e[14]=l*n+f*i+b*s+t[14],e[15]=u*n+y*i+w*s+t[15]}return e}function Uke(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Bke(e,t,r,n){let i,s,o,a,l,u,d,p,f,y,v,g,b,w,S,_,x,$,E,T,M,A,k,P,L=n[0],D=n[1],j=n[2],W=Math.sqrt(L*L+D*D+j*j);return W<sa()?null:(W=1/W,L*=W,D*=W,j*=W,i=Math.sin(r),s=Math.cos(r),o=1-s,a=t[0],l=t[1],u=t[2],d=t[3],p=t[4],f=t[5],y=t[6],v=t[7],g=t[8],b=t[9],w=t[10],S=t[11],_=L*L*o+s,x=D*L*o+j*i,$=j*L*o-D*i,E=L*D*o-j*i,T=D*D*o+s,M=j*D*o+L*i,A=L*j*o+D*i,k=D*j*o-L*i,P=j*j*o+s,e[0]=a*_+p*x+g*$,e[1]=l*_+f*x+b*$,e[2]=u*_+y*x+w*$,e[3]=d*_+v*x+S*$,e[4]=a*E+p*T+g*M,e[5]=l*E+f*T+b*M,e[6]=u*E+y*T+w*M,e[7]=d*E+v*T+S*M,e[8]=a*A+p*k+g*P,e[9]=l*A+f*k+b*P,e[10]=u*A+y*k+w*P,e[11]=d*A+v*k+S*P,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function Gke(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],d=t[9],p=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*i+u*n,e[5]=o*i+d*n,e[6]=a*i+p*n,e[7]=l*i+f*n,e[8]=u*i-s*n,e[9]=d*i-o*n,e[10]=p*i-a*n,e[11]=f*i-l*n,e}function qke(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],u=t[8],d=t[9],p=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i-u*n,e[1]=o*i-d*n,e[2]=a*i-p*n,e[3]=l*i-f*n,e[8]=s*n+u*i,e[9]=o*n+d*i,e[10]=a*n+p*i,e[11]=l*n+f*i,e}function Wke(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],u=t[4],d=t[5],p=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i+u*n,e[1]=o*i+d*n,e[2]=a*i+p*n,e[3]=l*i+f*n,e[4]=u*i-s*n,e[5]=d*i-o*n,e[6]=p*i-a*n,e[7]=f*i-l*n,e}function hoe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Hke(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Kke(e,t,r){if(t===0)return VS(e);let n,i,s,o=r[0],a=r[1],l=r[2],u=Math.sqrt(o*o+a*a+l*l);return u<sa()?null:(u=1/u,o*=u,a*=u,l*=u,n=Math.sin(t),i=Math.cos(t),s=1-i,e[0]=o*o*s+i,e[1]=a*o*s+l*n,e[2]=l*o*s-a*n,e[3]=0,e[4]=o*a*s-l*n,e[5]=a*a*s+i,e[6]=l*a*s+o*n,e[7]=0,e[8]=o*l*s+a*n,e[9]=a*l*s-o*n,e[10]=l*l*s+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function Jke(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Yke(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Zke(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function poe(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=n+n,l=i+i,u=s+s,d=n*a,p=n*l,f=n*u,y=i*l,v=i*u,g=s*u,b=o*a,w=o*l,S=o*u;return e[0]=1-(y+g),e[1]=p+S,e[2]=f-w,e[3]=0,e[4]=p-S,e[5]=1-(d+g),e[6]=v+b,e[7]=0,e[8]=f+w,e[9]=v-b,e[10]=1-(d+y),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Xke(e,t){const r=Qke,n=-t[0],i=-t[1],s=-t[2],o=t[3],a=t[4],l=t[5],u=t[6],d=t[7],p=n*n+i*i+s*s+o*o;return p>0?(r[0]=2*(a*o+d*n+l*s-u*i)/p,r[1]=2*(l*o+d*i+u*n-a*s)/p,r[2]=2*(u*o+d*s+a*i-l*n)/p):(r[0]=2*(a*o+d*n+l*s-u*i),r[1]=2*(l*o+d*i+u*n-a*s),r[2]=2*(u*o+d*s+a*i-l*n)),poe(e,t,r),e}const Qke=lu();function eRe(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function tRe(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],o=t[5],a=t[6],l=t[8],u=t[9],d=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(s*s+o*o+a*a),e[2]=Math.sqrt(l*l+u*u+d*d),e}function rRe(e,t){const r=t[0]+t[5]+t[10];let n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function nRe(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=t[3],l=i+i,u=s+s,d=o+o,p=i*l,f=i*u,y=i*d,v=s*u,g=s*d,b=o*d,w=a*l,S=a*u,_=a*d,x=n[0],$=n[1],E=n[2];return e[0]=(1-(v+b))*x,e[1]=(f+_)*x,e[2]=(y-S)*x,e[3]=0,e[4]=(f-_)*$,e[5]=(1-(p+b))*$,e[6]=(g+w)*$,e[7]=0,e[8]=(y+S)*E,e[9]=(g-w)*E,e[10]=(1-(p+v))*E,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function iRe(e,t,r,n,i){const s=t[0],o=t[1],a=t[2],l=t[3],u=s+s,d=o+o,p=a+a,f=s*u,y=s*d,v=s*p,g=o*d,b=o*p,w=a*p,S=l*u,_=l*d,x=l*p,$=n[0],E=n[1],T=n[2],M=i[0],A=i[1],k=i[2],P=(1-(g+w))*$,L=(y+x)*$,D=(v-_)*$,j=(y-x)*E,W=(1-(f+w))*E,te=(b+S)*E,ae=(v+_)*T,z=(b-S)*T,J=(1-(f+g))*T;return e[0]=P,e[1]=L,e[2]=D,e[3]=0,e[4]=j,e[5]=W,e[6]=te,e[7]=0,e[8]=ae,e[9]=z,e[10]=J,e[11]=0,e[12]=r[0]+M-(P*M+j*A+ae*k),e[13]=r[1]+A-(L*M+W*A+z*k),e[14]=r[2]+k-(D*M+te*A+J*k),e[15]=1,e}function sRe(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,a=n+n,l=i+i,u=r*o,d=n*o,p=n*a,f=i*o,y=i*a,v=i*l,g=s*o,b=s*a,w=s*l;return e[0]=1-p-v,e[1]=d+w,e[2]=f-b,e[3]=0,e[4]=d-w,e[5]=1-u-v,e[6]=y+g,e[7]=0,e[8]=f+b,e[9]=y-g,e[10]=1-u-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function oRe(e,t,r,n,i,s,o){const a=1/(r-t),l=1/(i-n),u=1/(s-o);return e[0]=2*s*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(i+n)*l,e[10]=(o+s)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*s*2*u,e[15]=0,e}function aRe(e,t,r,n,i){const s=1/Math.tan(t/2);let o;return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}function lRe(e,t,r,n){const i=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),u=2/(i+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(o-a)*l*.5,e[9]=(i-s)*u*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function uRe(e,t,r,n,i,s,o){const a=1/(t-r),l=1/(n-i),u=1/(s-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*a,e[13]=(i+n)*l,e[14]=(o+s)*u,e[15]=1,e}function cRe(e,t,r,n){let i,s,o,a,l,u,d,p,f,y;const v=t[0],g=t[1],b=t[2],w=n[0],S=n[1],_=n[2],x=r[0],$=r[1],E=r[2],T=sa();return Math.abs(v-x)<T&&Math.abs(g-$)<T&&Math.abs(b-E)<T?VS(e):(d=v-x,p=g-$,f=b-E,y=1/Math.sqrt(d*d+p*p+f*f),d*=y,p*=y,f*=y,i=S*f-_*p,s=_*d-w*f,o=w*p-S*d,y=Math.sqrt(i*i+s*s+o*o),y?(y=1/y,i*=y,s*=y,o*=y):(i=0,s=0,o=0),a=p*o-f*s,l=f*i-d*o,u=d*s-p*i,y=Math.sqrt(a*a+l*l+u*u),y?(y=1/y,a*=y,l*=y,u*=y):(a=0,l=0,u=0),e[0]=i,e[1]=a,e[2]=d,e[3]=0,e[4]=s,e[5]=l,e[6]=p,e[7]=0,e[8]=o,e[9]=u,e[10]=f,e[11]=0,e[12]=-(i*v+s*g+o*b),e[13]=-(a*v+l*g+u*b),e[14]=-(d*v+p*g+f*b),e[15]=1,e)}function dRe(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=n[0],l=n[1],u=n[2];let d=i-r[0],p=s-r[1],f=o-r[2],y=d*d+p*p+f*f;y>0&&(y=1/Math.sqrt(y),d*=y,p*=y,f*=y);let v=l*f-u*p,g=u*d-a*f,b=a*p-l*d;return y=v*v+g*g+b*b,y>0&&(y=1/Math.sqrt(y),v*=y,g*=y,b*=y),e[0]=v,e[1]=g,e[2]=b,e[3]=0,e[4]=p*b-f*g,e[5]=f*v-d*b,e[6]=d*g-p*v,e[7]=0,e[8]=d,e[9]=p,e[10]=f,e[11]=0,e[12]=i,e[13]=s,e[14]=o,e[15]=1,e}function hRe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function pRe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function fRe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function foe(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function mRe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function yRe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function gRe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function vRe(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],p=e[9],f=e[10],y=e[11],v=e[12],g=e[13],b=e[14],w=e[15],S=t[0],_=t[1],x=t[2],$=t[3],E=t[4],T=t[5],M=t[6],A=t[7],k=t[8],P=t[9],L=t[10],D=t[11],j=t[12],W=t[13],te=t[14],ae=t[15],z=sa();return Math.abs(r-S)<=z*Math.max(1,Math.abs(r),Math.abs(S))&&Math.abs(n-_)<=z*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-x)<=z*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(s-$)<=z*Math.max(1,Math.abs(s),Math.abs($))&&Math.abs(o-E)<=z*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(a-T)<=z*Math.max(1,Math.abs(a),Math.abs(T))&&Math.abs(l-M)<=z*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(u-A)<=z*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(d-k)<=z*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(p-P)<=z*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(f-L)<=z*Math.max(1,Math.abs(f),Math.abs(L))&&Math.abs(y-D)<=z*Math.max(1,Math.abs(y),Math.abs(D))&&Math.abs(v-j)<=z*Math.max(1,Math.abs(v),Math.abs(j))&&Math.abs(g-W)<=z*Math.max(1,Math.abs(g),Math.abs(W))&&Math.abs(b-te)<=z*Math.max(1,Math.abs(b),Math.abs(te))&&Math.abs(w-ae)<=z*Math.max(1,Math.abs(w),Math.abs(ae))}function bRe(e){const t=sa(),r=e[0],n=e[1],i=e[2],s=e[4],o=e[5],a=e[6],l=e[8],u=e[9],d=e[10];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(n*n+o*o+u*u))<=t&&Math.abs(1-(i*i+a*a+d*d))<=t}function wRe(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const _Re=doe,SRe=foe;Object.freeze(Object.defineProperty({__proto__:null,add:fRe,adjoint:jke,copy:Fke,determinant:Vke,equals:vRe,exactEquals:gRe,frob:pRe,fromQuat:sRe,fromQuat2:Xke,fromRotation:Kke,fromRotationTranslation:poe,fromRotationTranslationScale:nRe,fromRotationTranslationScaleOrigin:iRe,fromScaling:Hke,fromTranslation:hoe,fromXRotation:Jke,fromYRotation:Yke,fromZRotation:Zke,frustum:oRe,getRotation:rRe,getScaling:tRe,getTranslation:eRe,hasIdentityRotation:wRe,identity:VS,invert:coe,invertOrIdentity:Dke,isOrthoNormal:bRe,lookAt:cRe,mul:_Re,multiply:doe,multiplyScalar:mRe,multiplyScalarAndAdd:yRe,ortho:uRe,perspective:aRe,perspectiveFromFieldOfView:lRe,rotate:Bke,rotateX:Gke,rotateY:qke,rotateZ:Wke,scale:Uke,set:Yh,str:hRe,sub:SRe,subtract:foe,targetTo:dRe,translate:zke,transpose:Fc},Symbol.toStringTag,{value:"Module"}));let wP,U=null;function moe(){return!!U}function xRe(){return!!Z("esri-wasm")}function yoe(){return wP||(wP=Y(()=>import("./pe-wasm-67793c2f.js"),[]).then(e=>e.p).then(({default:e})=>e({locateFile:t=>$t(`esri/geometry/support/${t}`)})).then(e=>{voe(e)}),wP)}var PN,Sr,kN;(function(e){function t(s,o,a){U.ensureCache.prepare();const l=gf(a),u=a===l,d=U.ensureFloat64(l),p=U._pe_geog_to_proj(U.getPointer(s),o,d);return p&&Xd(a,o,d,u),p}function r(s,o,a,l){switch(l){case Sr.PE_TRANSFORM_P_TO_G:return n(s,o,a);case Sr.PE_TRANSFORM_G_TO_P:return t(s,o,a)}return 0}function n(s,o,a){return i(s,o,a,0)}function i(s,o,a,l){U.ensureCache.prepare();const u=gf(a),d=a===u,p=U.ensureFloat64(u),f=U._pe_proj_to_geog_center(U.getPointer(s),o,p,l);return f&&Xd(a,o,p,d),f}e.geogToProj=t,e.projGeog=r,e.projToGeog=n,e.projToGeogCenter=i})(PN||(PN={})),function(e){function t(){e.PE_BUFFER_MAX=U.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=U.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=U.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=U.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=U.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=U.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=U.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=U.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=U.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=U.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=U.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=U.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=U.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=U.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=U.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=U.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=U.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=U.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=U.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=U.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=U.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=U.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=U.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=U.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=U.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=U.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=U.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=U.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=U.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=U.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Sr||(Sr={})),function(e){const t={},r={},n=y=>{if(y){const v=y.getType();switch(v){case Sr.PE_TYPE_GEOGCS:y=U.castObject(y,U.PeGeogcs);break;case Sr.PE_TYPE_PROJCS:y=U.castObject(y,U.PeProjcs);break;case Sr.PE_TYPE_GEOGTRAN:y=U.castObject(y,U.PeGeogtran);break;default:v&Sr.PE_TYPE_UNIT&&(y=U.castObject(y,U.PeUnit))}}return y};function i(){U.PeFactory.prototype.initialize(null)}function s(y){return o(Sr.PE_TYPE_COORDSYS,y)}function o(y,v){let g=null,b=t[y];if(b||(b={},t[y]=b),b.hasOwnProperty(String(v)))g=b[v];else{const w=U.PeFactory.prototype.factoryByType(y,v);U.compare(w,U.NULL)||(g=w,b[v]=g)}return g=n(g),g}function a(y,v){let g=null,b=r[y];if(b||(b={},r[y]=b),b.hasOwnProperty(v))g=b[v];else{const w=U.PeFactory.prototype.fromString(y,v);U.compare(w,U.NULL)||(g=w,b[v]=g)}return g=n(g),g}function l(y){return o(Sr.PE_TYPE_GEOGCS,y)}function u(y){return o(Sr.PE_TYPE_GEOGTRAN,y)}function d(y){return U.PeFactory.prototype.getCode(y)}function p(y){return o(Sr.PE_TYPE_PROJCS,y)}function f(y){return o(Sr.PE_TYPE_UNIT,y)}e.initialize=i,e.coordsys=s,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=u,e.getCode=d,e.projcs=p,e.unit=f}(kN||(kN={}));let goe=null;var JT,RN,LN,NN,YT,FN,ZT,XT,DN;function voe(e){function t(s,o,a){s[o]=a(s[o])}U=e,Sr.init(),JT.init(),YT.init(),ZT.init(),XT.init(),goe=class extends U.PeGCSExtent{destroy(){U.destroy(this)}};const r=[U.PeDatum,U.PeGeogcs,U.PeGeogtran,U.PeObject,U.PeParameter,U.PePrimem,U.PeProjcs,U.PeSpheroid,U.PeUnit];for(const s of r)t(s.prototype,"getName",o=>function(){return o.call(this,new Array(Sr.PE_NAME_MAX))});for(const s of[U.PeGeogtran,U.PeProjcs])t(s.prototype,"getParameters",o=>function(){const a=new Array(Sr.PE_PARM_MAX);let l=o.call(this);for(let u=0;u<a.length;u++){const d=U.getValue(l,"*");a[u]=d?U.wrapPointer(d,U.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(U.PeHorizon.prototype,"getCoord",s=>function(){const o=this.getSize();if(!o)return null;const a=[];return Xd(a,o,s.call(this)),a}),t(U.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=U._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!U.compare(l,U.NULL)){a=[l];const u=this.getSteps();if(u>1){const d=U.getPointer(l);for(let p=1;p<u;p++)a.push(U.wrapPointer(d+o*p,U.PeGTlistExtendedGTs))}}return a}});const n=U._pe_getPeHorizonSize(),i=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!U.compare(l,U.NULL)){a=[l];const u=l.getNump();if(u>1){const d=U.getPointer(l);for(let p=1;p<u;p++)a.push(U.wrapPointer(d+n*p,U.PeHorizon))}}return o.set(s,a),a};t(U.PeProjcs.prototype,"horizonGcsGenerate",i),t(U.PeProjcs.prototype,"horizonPcsGenerate",i),U.PeObject.prototype.toString=function(s=Sr.PE_STR_OPTS_NONE){U.ensureCache.prepare();const o=U.getPointer(this),a=U.ensureInt8(new Array(Sr.PE_BUFFER_MAX));return U.UTF8ToString(U._pe_object_to_string_ext(o,s,a))}}function gu(e){if(!e)return;const t=U.getClass(e);if(!t)return;const r=U.getCache(t);if(!r)return;const n=U.getPointer(e);n&&delete r[n]}function s$(e,t){const r=[],n=new Array(t);for(let i=0;i<e;i++)r.push(U.ensureInt8(n));return r}function gf(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(r=>{t.push(r[0],r[1])})):t=e,t}function Xd(e,t,r,n=!1){if(n)for(let i=0;i<2*t;i++)e[i]=U.getValue(r+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=e.length===0;for(let s=0;s<t;s++)i&&(e[s]=new Array(2)),e[s][0]=U.getValue(r,"double"),e[s][1]=U.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=U.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=U._pe_getPeGTlistExtendedEntrySize()}function n(i,s,o,a,l,u){let d=null;const p=new U.PeInteger(u);try{const f=U.PeGTlistExtended.prototype.getGTlist(i,s,o,a,l,p);if((u=p.val)&&(d=[f],u>1)){const y=U.getPointer(f);for(let v=1;v<u;v++)d.push(U.wrapPointer(y+t*v,U.PeGTlistExtendedEntry))}}finally{U.destroy(p)}return d}e.init=r,e.getGTlist=n})(JT||(JT={})),function(e){function t(r){if(r&&r.length){for(const n of r)gu(n),n.getEntries().forEach(i=>{gu(i);const s=i.getGeogtran();gu(s),s.getParameters().forEach(gu),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{gu(o);const a=o.getDatum();gu(a),gu(a.getSpheroid()),gu(o.getPrimem()),gu(o.getUnit())})});U.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(RN||(RN={})),function(e){function t(r,n,i,s,o){U.ensureCache.prepare();const a=gf(i),l=i===a,u=U.ensureFloat64(a);let d=0;s&&(d=U.ensureFloat64(s));const p=U._pe_geog_to_geog(U.getPointer(r),n,u,d,o);return p&&Xd(i,n,u,l),p}e.geogToGeog=t}(LN||(LN={})),function(e){const t=(u,d,p,f,y,v)=>{let g,b;switch(U.ensureCache.prepare(),u){case"dd":g=U._pe_geog_to_dd,b=Sr.PE_DD_MAX;break;case"ddm":g=U._pe_geog_to_ddm,b=Sr.PE_DDM_MAX;break;case"dms":g=U._pe_geog_to_dms,b=Sr.PE_DMS_MAX}let w=0;d&&(w=U.getPointer(d));const S=gf(f),_=U.ensureFloat64(S),x=s$(p,b),$=g(w,p,_,y,U.ensureInt32(x));if($)for(let E=0;E<p;E++)v[E]=U.UTF8ToString(x[E]);return $},r=(u,d,p,f,y)=>{let v;switch(U.ensureCache.prepare(),u){case"dd":v=U._pe_dd_to_geog;break;case"ddm":v=U._pe_ddm_to_geog;break;case"dms":v=U._pe_dms_to_geog}let g=0;d&&(g=U.getPointer(d));const b=f.map(x=>U.ensureString(x)),w=U.ensureInt32(b),S=U.ensureFloat64(new Array(2*p)),_=v(g,p,w,S);return _&&Xd(y,p,S),_};function n(u,d,p,f,y){return t("dms",u,d,p,f,y)}function i(u,d,p,f){return r("dms",u,d,p,f)}function s(u,d,p,f,y){return t("ddm",u,d,p,f,y)}function o(u,d,p,f){return r("ddm",u,d,p,f)}function a(u,d,p,f,y){return t("dd",u,d,p,f,y)}function l(u,d,p,f){return r("dd",u,d,p,f)}e.geogToDms=n,e.dmsToGeog=i,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(NN||(NN={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=U.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=U.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=U.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=U.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=U.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(i,s,o,a,l,u,d){U.ensureCache.prepare();let p=0;i&&(p=U.getPointer(i));const f=gf(o),y=U.ensureFloat64(f),v=s$(s,Sr.PE_MGRS_MAX),g=U.ensureInt32(v),b=U._pe_geog_to_mgrs_extended(p,s,y,a,l,u,g);if(b)for(let w=0;w<s;w++)d[w]=U.UTF8ToString(v[w]);return b}function n(i,s,o,a,l){U.ensureCache.prepare();let u=0;i&&(u=U.getPointer(i));const d=o.map(v=>U.ensureString(v)),p=U.ensureInt32(d),f=U.ensureFloat64(new Array(2*s)),y=U._pe_mgrs_to_geog_extended(u,s,p,a,f);return y&&Xd(l,s,f),y}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=n}(YT||(YT={})),function(e){function t(n,i,s,o,a,l,u){U.ensureCache.prepare();let d=0;n&&(d=U.getPointer(n));const p=gf(s),f=U.ensureFloat64(p),y=s$(i,Sr.PE_MGRS_MAX),v=U.ensureInt32(y),g=U._pe_geog_to_usng(d,i,f,o,a,l,v);if(g)for(let b=0;b<i;b++)u[b]=U.UTF8ToString(y[b]);return g}function r(n,i,s,o){U.ensureCache.prepare();let a=0;n&&(a=U.getPointer(n));const l=s.map(f=>U.ensureString(f)),u=U.ensureInt32(l),d=U.ensureFloat64(new Array(2*i)),p=U._pe_usng_to_geog(a,i,u,d);return p&&Xd(o,i,d),p}e.geogToUsng=t,e.usngToGeog=r}(FN||(FN={})),function(e){function t(){e.PE_UTM_OPTS_NONE=U.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=U.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=U.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(i,s,o,a,l){U.ensureCache.prepare();let u=0;i&&(u=U.getPointer(i));const d=gf(o),p=U.ensureFloat64(d),f=s$(s,Sr.PE_UTM_MAX),y=U.ensureInt32(f),v=U._pe_geog_to_utm(u,s,p,a,y);if(v)for(let g=0;g<s;g++)l[g]=U.UTF8ToString(f[g]);return v}function n(i,s,o,a,l){U.ensureCache.prepare();let u=0;i&&(u=U.getPointer(i));const d=o.map(v=>U.ensureString(v)),p=U.ensureInt32(d),f=U.ensureFloat64(new Array(2*s)),y=U._pe_utm_to_geog(u,s,p,a,f);return y&&Xd(l,s,f),y}e.init=t,e.geogToUtm=r,e.utmToGeog=n}(ZT||(ZT={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=U.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=U.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=U.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=U.PePCSInfo.prototype.PE_POLE_POINT}function n(i,s=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(i)&&(a=t.get(i),a[s]&&(o=a[s])),o||(o=U.PePCSInfo.prototype.generate(i,s),a||(a=[],t.set(i,a)),a[s]=o),o}e.init=r,e.generate=n}(XT||(XT={})),function(e){function t(){return U.PeVersion.prototype.version_string()}e.versionString=t}(DN||(DN={}));const $Re=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return PN},get PeDefs(){return Sr},get PeFactory(){return kN},get PeGCSExtent(){return goe},get PeGTTransformations(){return LN},get PeGTlistExtended(){return JT},get PeGTlistExtendedEntry(){return RN},get PeNotationDms(){return NN},get PeNotationMgrs(){return YT},get PeNotationUsng(){return FN},get PeNotationUtm(){return ZT},get PePCSInfo(){return XT},get PeVersion(){return DN},_init:voe,get _pe(){return U},isLoaded:moe,isSupported:xRe,load:yoe},Symbol.toStringTag,{value:"Module"})),Zc=mr.radius,da=mr.eccentricitySquared,ERe={a1:Zc*da,a2:Zc*da*Zc*da,a3:Zc*da*da/2,a4:Zc*da*Zc*da*2.5,a5:Zc*da+Zc*da*da/2,a6:1-da};1/294.9786982,1/298.257222101,mr.radius,mr.flattening,Rh.radius,Rh.flattening,1/192.0430107526882,pc.radius,pc.flattening,1/10.2079945799458,1/43.61604095563141,pc.radius;let o$=0,_P=class jN{static fromGE(t){const r=new jN;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}constructor(t){this.uid=o$++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=o$++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=o$++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=o$++}getInverse(){const t=new jN;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},VN=class yb{static cacheKey(t,r){return[t.wkid!==void 0&&t.wkid!==null?t.wkid.toString():"-1",t.wkt!==void 0&&t.wkt!==null?t.wkt.toString():"",r.wkid!==void 0&&r.wkid!==null?r.wkid.toString():"-1",r.wkt!==void 0&&r.wkt!==null?r.wkt.toString():""].join(",")}static fromGE(t){const r=new yb;let n="";for(const i of t.steps){const s=_P.fromGE(i);r.steps.push(s),n+=s.uid.toString()+","}return r._cachedProjection={},r._gtlistentry=null,r._chain=n,r}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t&&t.steps)for(const r of t.steps)r instanceof _P?this.steps.push(r):this.steps.push(new _P({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){const t=new yb;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const n=this.steps[r];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,n){this._cachedProjection[yb.cacheKey(t,r)]=n}getCachedGeTransformation(t,r){let n="";for(const s of this.steps)n+=s.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const i=this._cachedProjection[yb.cacheKey(t,r)];return i===void 0?null:i}};function boe(e,t,r){if(G(t)||G(r)||r.vcsWkid||An(t,r))return null;const n=f0(t)/f0(r);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>TRe(i,n);case"polyline":case"esriGeometryPolyline":return i=>IRe(i,n);case"polygon":case"esriGeometryPolygon":return i=>MRe(i,n);case"multipoint":case"esriGeometryMultipoint":return i=>ORe(i,n);case"extent":case"esriGeometryExtent":return i=>CRe(i,n);default:return null}}function TRe(e,t){e&&e.z!=null&&(e.z*=t)}function MRe(e,t){if(e)for(const r of e.rings)for(const n of r)n.length>2&&(n[2]*=t)}function IRe(e,t){if(e)for(const r of e.paths)for(const n of r)n.length>2&&(n[2]*=t)}function ORe(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function CRe(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let Sh=null,O_=null,SP=null,xP={};const woe=new o8;function _m(){return!!Sh&&moe()}function Sm(e){return G(SP)&&(SP=Promise.all([yoe(),Y(()=>import("./geometryEngineBase-e1a33b0a.js"),[]).then(t=>t.g),Y(()=>import("./hydrated-dd828c7c.js"),[])])),SP.then(([,t,{hydratedAdapter:r}])=>{Qr(e),O_=r,Sh=t.default,Sh._enableProjection($Re),woe.notify()})}function Fm(e,t,r=null,n=null){return Array.isArray(e)?e.length===0?[]:rG(O_,e,e[0].spatialReference,t,r,n):rG(O_,[e],e.spatialReference,t,r,n)[0]}function rG(e,t,r,n,i=null,s=null){if(G(r)||G(n))return t;if(Fh(r,n,i))return t.map(o=>LRe(o,r,n));if(G(i)){const o=VN.cacheKey(r,n);xP[o]!==void 0?i=xP[o]:(i=PRe(r,n,void 0),G(i)&&(i=new VN),xP[o]=i)}if(G(Sh)||G(e))throw new N8;return C(s)?Sh._project(e,t,r,n,i,s):Sh._project(e,t,r,n,i)}function d1t(e,t){const r=ARe([e],t);return C(r.pending)?{pending:r.pending,geometry:null}:C(r.geometries)?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}}function ARe(e,t){if(!_m()){for(const r of e)if(C(r)&&!An(r.spatialReference,t)&&Hn(r.spatialReference)&&Hn(t)&&!Fh(r.spatialReference,t))return et(woe),{pending:Sm(),geometries:null}}return{pending:null,geometries:e.map(r=>G(r)?null:An(r.spatialReference,t)?r:Hn(r.spatialReference)&&Hn(t)?kRe(r,t):null)}}function PRe(e,t,r=null){if(G(e)||G(t))return null;if(G(Sh)||G(O_))throw new N8;const n=Sh._getTransformation(O_,e,t,r,r==null?void 0:r.spatialReference);return n!==null?VN.fromGE(n):null}class N8 extends V{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var F;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(F||(F={}));function kRe(e,t){try{const r=Fm(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const n=boe(r.type,e.spatialReference,t);return C(n)&&n(r),r}catch(r){if(!(r instanceof N8))throw r;return null}}function Fh(e,t,r){return!r&&(!!An(e,t)||Hn(e)&&Hn(t)&&!!$oe(e,t,Eoe))}async function RRe(e,t,r,n){if(_m())return cU(n);if(Array.isArray(e)){for(const{source:i,dest:s,geographicTransformation:o}of e)if(!Fh(i,s,o))return Sm(n)}else if(!Fh(e,t,r))return Sm(n);return cU(n)}function LRe(e,t,r){return e?"x"in e?NRe(e,t,new Ve,r,0):"xmin"in e?jRe(e,t,new Pt,r,0):"rings"in e?_oe(e,t,new ra,r,0):"paths"in e?DRe(e,t,new Qs,r,0):"points"in e?FRe(e,t,new kO,r,0):null:null}function NRe(e,t,r,n,i){hn[0]=e.x,hn[1]=e.y;const s=e.z;return hn[2]=s!==void 0?s:i,zS(hn,t,0,hn,n,0,1)?(r.x=hn[0],r.y=hn[1],r.spatialReference=n,s===void 0?(r.z=void 0,r.hasZ=!1):(r.z=hn[2],r.hasZ=!0),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function FRe(e,t,r,n,i){const{points:s,hasZ:o,hasM:a}=e,l=[],u=s.length,d=[];for(const p of s)d.push(p[0],p[1],o?p[2]:i);if(!zS(d,t,0,d,n,0,u))return null;for(let p=0;p<u;++p){const f=3*p,y=d[f],v=d[f+1];o&&a?l.push([y,v,d[f+2],s[p][3]]):o?l.push([y,v,d[f+2]]):a?l.push([y,v,s[p][2]]):l.push([y,v])}return r.points=l,r.spatialReference=n,r.hasZ=o,r.hasM=a,r}function DRe(e,t,r,n,i){const{paths:s,hasZ:o,hasM:a}=e,l=[];return Soe(s,o??!1,a??!1,t,l,n,i)?(r.paths=l,r.spatialReference=n,r.hasZ=o,r.hasM=a,r):null}function h1t(e,t,r=t.spatialReference,n=0){return C(e.spatialReference)&&C(r)&&C(_oe(e,e.spatialReference,t,r,n))}function _oe(e,t,r,n,i){const{rings:s,hasZ:o,hasM:a}=e,l=[];return Soe(s,o??!1,a??!1,t,l,n,i)?(r.rings=l,r.spatialReference=n,r.hasZ=o,r.hasM=a,r):null}function jRe(e,t,r,n,i){const{xmin:s,ymin:o,xmax:a,ymax:l,hasZ:u,hasM:d}=e;return nG(s,o,u?e.zmin:i,t,hn,n)?(r.xmin=hn[0],r.ymin=hn[1],u&&(r.zmin=hn[2]),nG(a,l,u?e.zmax:i,t,hn,n)?(r.xmax=hn[0],r.ymax=hn[1],u&&(r.zmax=hn[2]),d&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null):null}function p1t(e,t,r,n=0){hn[0]=e.x,hn[1]=e.y;const i=e.z;return hn[2]=i!==void 0?i:n,zS(hn,e.spatialReference,0,t,r,0,1)}function nG(e,t,r,n,i,s){return a$[0]=e,a$[1]=t,a$[2]=r,zS(a$,n,0,i,s,0,1)}function zS(e,t,r,n,i,s,o=1){const a=$oe(t,i,Eoe);if(G(a))return!1;if(a===Yt){if(e===n&&r===s)return!0;const u=r+3*o;for(let d=r,p=s;d<u;d++,p++)n[p]=e[d];return!0}const l=r+3*o;for(let u=r,d=s;u<l;u+=3,d+=3)a(e,u,n,d);return!0}function Soe(e,t,r,n,i,s,o=0){const a=new Array;for(const u of e)for(const d of u)a.push(d[0],d[1],t?d[2]:o);if(!zS(a,n,0,a,s,0,a.length/3))return!1;let l=0;i.length=0;for(const u of e){const d=new Array;for(const p of u)t&&r?d.push([a[l++],a[l++],a[l++],p[3]]):t?d.push([a[l++],a[l++],a[l++]]):r?(d.push([a[l++],a[l++],p[2]]),l++):(d.push([a[l++],a[l++]]),l++);i.push(d)}return!0}function f1t(e,t,r,n){if(G(e)||G(n))return!1;const i=QT(e,r3e),s=QT(n,n3e);if(i===s&&!iG(s)&&(i!==F.UNKNOWN||An(e,n)))return hoe(r,t),!0;if(iG(s)){const o=gb[i][F.LON_LAT],a=gb[F.LON_LAT][s];return!G(o)&&!G(a)&&(o(t,0,Xc,0),a(Xc,0,Qc,0),xoe(Gl*Xc[0],Gl*Xc[1],r),r[12]=Qc[0],r[13]=Qc[1],r[14]=Qc[2],!0)}if((s===F.WEB_MERCATOR||s===F.PLATE_CARREE)&&(i===F.WGS84||i===F.CGCS2000&&s===F.PLATE_CARREE||i===F.SPHERICAL_ECEF||i===F.WEB_MERCATOR)){const o=gb[i][F.LON_LAT],a=gb[F.LON_LAT][s];return!G(o)&&!G(a)&&(o(t,0,Xc,0),a(Xc,0,Qc,0),i===F.SPHERICAL_ECEF?VRe(Gl*Xc[0],Gl*Xc[1],r):VS(r),r[12]=Qc[0],r[13]=Qc[1],r[14]=Qc[2],!0)}return!1}function iG(e){return e===F.SPHERICAL_ECEF||e===F.SPHERICAL_MARS_PCPF||e===F.SPHERICAL_MOON_PCPF}function xoe(e,t,r){const n=Math.sin(e),i=Math.cos(e),s=Math.sin(t),o=Math.cos(t),a=r;return a[0]=-n,a[4]=-s*i,a[8]=o*i,a[12]=0,a[1]=i,a[5]=-s*n,a[9]=o*n,a[13]=0,a[2]=0,a[6]=o,a[10]=s,a[14]=0,a[3]=0,a[7]=0,a[11]=0,a[15]=1,a}function VRe(e,t,r){return xoe(e,t,r),Fc(r,r),r}function QT(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Lc(e,1)),e.wkt===SMe.wkt?t.spatialReferenceId=F.SPHERICAL_ECEF:v_(e)?t.spatialReferenceId=F.WGS84:fm(e)?t.spatialReferenceId=F.WEB_MERCATOR:gMe(e)?t.spatialReferenceId=F.PLATE_CARREE:e.wkt===xMe.wkt?t.spatialReferenceId=F.WGS84_ECEF:e.wkid===pm.CGCS2000?t.spatialReferenceId=F.CGCS2000:e.wkt===Sne.wkt?t.spatialReferenceId=F.SPHERICAL_MARS_PCPF:e.wkt===xne.wkt?t.spatialReferenceId=F.SPHERICAL_MOON_PCPF:J6(e)?t.spatialReferenceId=F.GCSMARS2000:Z6(e)?t.spatialReferenceId=F.GCSMOON2000:t.spatialReferenceId=F.UNKNOWN):F.UNKNOWN}function Yt(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function zg(e,t,r,n){r[n++]=S0*(e[t++]/mr.radius),r[n++]=S0*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/mr.radius))),r[n]=e[t]}function zRe(e,t,r,n){zg(e,t,r,n),Af(r,n,r,n)}function URe(e,t,r,n){zg(e,t,r,n),kf(r,n,r,n)}function BRe(e,t,r,n,i){const s=.4999999*Math.PI,o=Ps(Gl*e[t+1],-s,s),a=Math.sin(o);r[n++]=Gl*e[t]*i.radius,r[n++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),r[n]=e[t+2]}function C_(e,t,r,n){BRe(e,t,r,n,mr)}const sG=mr.radius*Math.PI/180,oG=180/(mr.radius*Math.PI);function Of(e,t,r,n){r[n]=e[t]*sG,r[n+1]=e[t+1]*sG,r[n+2]=e[t+2]}function Cf(e,t,r,n){r[n]=e[t]*oG,r[n+1]=e[t+1]*oG,r[n+2]=e[t+2]}function GRe(e,t,r,n){zg(e,t,r,n),Of(r,n,r,n)}function qRe(e,t,r,n){Rf(e,t,r,n),Of(r,n,r,n)}function WRe(e,t,r,n){Pf(e,t,r,n),Of(r,n,r,n)}function HRe(e,t,r,n){Cf(e,t,r,n),Af(r,n,r,n)}function KRe(e,t,r,n){Cf(e,t,r,n),C_(r,n,r,n)}function JRe(e,t,r,n){Cf(e,t,r,n),kf(r,n,r,n)}function F8(e,t,r,n,i){const s=i+e[t+2],o=Gl*e[t+1],a=Gl*e[t],l=Math.cos(o);r[n++]=Math.cos(a)*l*s,r[n++]=Math.sin(a)*l*s,r[n]=Math.sin(o)*s}function aG(e,t,r,n){F8(e,t,r,n,Rh.radius)}function lG(e,t,r,n){F8(e,t,r,n,pc.radius)}function Af(e,t,r,n){F8(e,t,r,n,mr.radius)}function D8(e,t,r,n,i){const s=e[t],o=e[t+1],a=e[t+2],l=Math.sqrt(s*s+o*o+a*a),u=Wie(a/(l===0?1:l)),d=Math.atan2(o,s);r[n++]=S0*d,r[n++]=S0*u,r[n]=l-i}function uG(e,t,r,n){D8(e,t,r,n,Rh.radius)}function cG(e,t,r,n){D8(e,t,r,n,pc.radius)}function Pf(e,t,r,n){D8(e,t,r,n,mr.radius)}function YRe(e,t,r,n){Pf(e,t,r,n),C_(r,n,r,n)}function ZRe(e,t,r,n){Pf(e,t,r,n),kf(r,n,r,n)}function XRe(e,t,r,n,i){const s=Gl*e[t],o=Gl*e[t+1],a=e[t+2],l=Math.sin(o),u=Math.cos(o),d=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);r[n++]=(d+a)*u*Math.cos(s),r[n++]=(d+a)*u*Math.sin(s),r[n++]=(d*(1-i.eccentricitySquared)+a)*l}function kf(e,t,r,n){XRe(e,t,r,n,mr)}function Rf(e,t,r,n){const i=ERe,s=e[t],o=e[t+1],a=e[t+2];let l,u,d,p,f,y,v,g,b,w,S,_,x,$,E,T,M,A,k,P,L;l=Math.abs(a),u=s*s+o*o,d=Math.sqrt(u),p=u+a*a,f=Math.sqrt(p),P=Math.atan2(o,s),y=a*a/p,v=u/p,$=i.a2/f,E=i.a3-i.a4/f,v>.3?(g=l/f*(1+v*(i.a1+$+y*E)/f),k=Math.asin(g),w=g*g,b=Math.sqrt(1-w)):(b=d/f*(1-y*(i.a5-$-v*E)/f),k=Math.acos(b),w=1-b*b,g=Math.sqrt(w)),S=1-mr.eccentricitySquared*w,_=mr.radius/Math.sqrt(S),x=i.a6*_,$=d-_*b,E=l-x*g,M=b*$+g*E,T=b*E-g*$,A=T/(x/S+M),k+=A,L=M+T*A/2,a<0&&(k=-k),r[n++]=S0*P,r[n++]=S0*k,r[n]=L}function QRe(e,t,r,n){Rf(e,t,r,n),Af(r,n,r,n)}function e3e(e,t,r,n){Rf(e,t,r,n),C_(r,n,r,n)}const gb={[F.WGS84]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:Yt,[F.WGS84_COMPARABLE_LON_LAT]:Yt,[F.SPHERICAL_ECEF]:Af,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:C_,[F.PLATE_CARREE]:Of,[F.WGS84]:Yt,[F.WGS84_ECEF]:kf},[F.CGCS2000]:{[F.CGCS2000]:Yt,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:Yt,[F.WGS84_COMPARABLE_LON_LAT]:Yt,[F.SPHERICAL_ECEF]:Af,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:Of,[F.WGS84]:null,[F.WGS84_ECEF]:kf},[F.GCSMARS2000]:{[F.CGCS2000]:null,[F.GCSMARS2000]:Yt,[F.GCSMOON2000]:null,[F.LON_LAT]:Yt,[F.WGS84_COMPARABLE_LON_LAT]:null,[F.SPHERICAL_ECEF]:null,[F.SPHERICAL_MARS_PCPF]:lG,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:null,[F.WGS84]:null,[F.WGS84_ECEF]:null},[F.GCSMOON2000]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:Yt,[F.LON_LAT]:Yt,[F.WGS84_COMPARABLE_LON_LAT]:null,[F.SPHERICAL_ECEF]:null,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:aG,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:null,[F.WGS84]:null,[F.WGS84_ECEF]:null},[F.WEB_MERCATOR]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:zg,[F.WGS84_COMPARABLE_LON_LAT]:zg,[F.SPHERICAL_ECEF]:zRe,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:Yt,[F.PLATE_CARREE]:GRe,[F.WGS84]:zg,[F.WGS84_ECEF]:URe},[F.WGS84_ECEF]:{[F.CGCS2000]:Rf,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:Rf,[F.WGS84_COMPARABLE_LON_LAT]:Rf,[F.SPHERICAL_ECEF]:QRe,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:e3e,[F.PLATE_CARREE]:qRe,[F.WGS84]:Rf,[F.WGS84_ECEF]:Yt},[F.SPHERICAL_ECEF]:{[F.CGCS2000]:Pf,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:Pf,[F.WGS84_COMPARABLE_LON_LAT]:Pf,[F.SPHERICAL_ECEF]:Yt,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:YRe,[F.PLATE_CARREE]:WRe,[F.WGS84]:Pf,[F.WGS84_ECEF]:ZRe},[F.SPHERICAL_MARS_PCPF]:{[F.CGCS2000]:null,[F.GCSMARS2000]:cG,[F.GCSMOON2000]:null,[F.LON_LAT]:cG,[F.WGS84_COMPARABLE_LON_LAT]:null,[F.SPHERICAL_ECEF]:null,[F.SPHERICAL_MARS_PCPF]:Yt,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:null,[F.WGS84]:null,[F.WGS84_ECEF]:null},[F.SPHERICAL_MOON_PCPF]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:uG,[F.LON_LAT]:uG,[F.WGS84_COMPARABLE_LON_LAT]:null,[F.SPHERICAL_ECEF]:null,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:Yt,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:null,[F.WGS84]:null,[F.WGS84_ECEF]:null},[F.UNKNOWN]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:null,[F.WGS84_COMPARABLE_LON_LAT]:null,[F.SPHERICAL_ECEF]:null,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:Yt,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:null,[F.WGS84]:null,[F.WGS84_ECEF]:null},[F.LON_LAT]:{[F.CGCS2000]:Yt,[F.GCSMARS2000]:Yt,[F.GCSMOON2000]:Yt,[F.LON_LAT]:Yt,[F.WGS84_COMPARABLE_LON_LAT]:Yt,[F.SPHERICAL_ECEF]:Af,[F.SPHERICAL_MARS_PCPF]:lG,[F.SPHERICAL_MOON_PCPF]:aG,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:C_,[F.PLATE_CARREE]:Of,[F.WGS84]:Yt,[F.WGS84_ECEF]:kf},[F.WGS84_COMPARABLE_LON_LAT]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:Yt,[F.WGS84_COMPARABLE_LON_LAT]:Yt,[F.SPHERICAL_ECEF]:Af,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:Of,[F.WGS84]:Yt,[F.WGS84_ECEF]:kf},[F.PLATE_CARREE]:{[F.CGCS2000]:Cf,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:Cf,[F.WGS84_COMPARABLE_LON_LAT]:Cf,[F.SPHERICAL_ECEF]:HRe,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:KRe,[F.PLATE_CARREE]:Yt,[F.WGS84]:Cf,[F.WGS84_ECEF]:JRe}};function $oe(e,t,r=j8()){return G(e)||G(t)?null:t3e(e,t,r).projector}function t3e(e,t,r){if(G(e)||G(t)||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;const n=QT(e,r.source),i=QT(t,r.dest);return n===F.UNKNOWN&&i===F.UNKNOWN?An(e,t)?r.projector=Yt:r.projector=null:r.projector=gb[n][i],r}function j8(){return{source:{spatialReference:null,spatialReferenceId:F.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:F.UNKNOWN,metersPerUnit:1},projector:Yt}}const r3e={spatialReference:null,spatialReferenceId:F.UNKNOWN},n3e={spatialReference:null,spatialReferenceId:F.UNKNOWN},Eoe=j8();j8();const Gl=UCe(1),S0=qie(1),a$=lu(),Xc=lu(),Qc=lu(),hn=lu();var zN;let bl=zN=class extends Q{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new zN({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};c([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],bl.prototype,"cols",void 0),c([h({type:Gt,json:{write:!0}})],bl.prototype,"level",void 0),c([h({type:String,json:{write:!0}})],bl.prototype,"levelValue",void 0),c([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],bl.prototype,"origin",void 0),c([h({type:Number,json:{write:!0}})],bl.prototype,"resolution",void 0),c([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],bl.prototype,"rows",void 0),c([h({type:Number,json:{write:!0}})],bl.prototype,"scale",void 0),bl=zN=c([O("esri.layers.support.LOD")],bl);const Lt=bl;let i3e=class{constructor(t,r,n,i,s){this.id=t,this.level=r,this.row=n,this.col=i,this.extent=s}};var wd;const dG=new Xe({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let wn=wd=class extends Q{static create(e={}){const{resolutionFactor:t=1,scales:r,size:n=256,spatialReference:i=Ge.WebMercator,numLODs:s=24}=e;if(!Hn(i)){const p=[];if(r)for(let f=0;f<r.length;f++){const y=r[f];p.push(new Lt({level:f,scale:y,resolution:y}))}else{let f=5e-4;for(let y=s-1;y>=0;y--)p.unshift(new Lt({level:y,scale:f,resolution:f})),f*=2}return new wd({dpi:96,lods:p,origin:new Ve(0,0,i),size:[n,n],spatialReference:i})}const o=Ka(i),a=e.origin?new Ve({x:e.origin.x,y:e.origin.y,spatialReference:i}):new Ve(o?{x:o.origin[0],y:o.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),l=96,u=1/(Lc(i)*39.37*l),d=[];if(r)for(let p=0;p<r.length;p++){const f=r[p],y=f*u;d.push(new Lt({level:p,scale:f,resolution:y}))}else{let p=_ne(i)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const f=Math.ceil(s/t);d.push(new Lt({level:0,scale:p,resolution:p*u}));for(let y=1;y<f;y++){const v=p/2**t,g=v*u;d.push(new Lt({level:y,scale:v,resolution:g})),p=v}}return new wd({dpi:l,lods:d,origin:a,size:[n,n],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=Ka(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return Ve.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const n=[],i=this._levelToLOD={};e&&(t=-1/0,r=1/0,e.forEach(s=>{n.push(s.scale),t=s.scale>t?s.scale:t,r=s.scale<r?s.scale:r,i[s.level]=s})),this._set("scales",n),this._set("minScale",t),this._set("maxScale",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const r=Math.floor(e),n=r+1;return t[r]/(t[r]/t[n])**(e-r)}scaleToZoom(e){const t=this.scales,r=t.length-1;let n=0;for(;n<r;n++){const i=t[n],s=t[n+1];if(i<=e)return n;if(s===e)return n+1;if(i>e&&s<e)return n+Math.log(i/e)/Math.log(i/s)}return n}snapScale(e,t=.95){const r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))}tileAt(e,t,r,n){const i=this.lodAt(e);if(!i)return null;let s,o;if(typeof t=="number")s=t,o=r;else if(An(t.spatialReference,this.spatialReference))s=t.x,o=t.y,n=r;else{const u=AO(t,this.spatialReference);if(G(u))return null;s=u.x,o=u.y,n=r}const a=i.resolution*this.size[0],l=i.resolution*this.size[1];return n||(n=new i3e(null,0,0,0,Lh())),n.level=e,n.row=Math.floor((this.origin.y-o)/l+.001),n.col=Math.floor((s-this.origin.x)/a+.001),this.updateTileInfo(n),n}updateTileInfo(e,t=wd.ExtrapolateOptions.NONE){let r=this.lodAt(e.level);if(!r&&t===wd.ExtrapolateOptions.POWER_OF_TWO){const o=this.lods[this.lods.length-1];o.level<e.level&&(r=o)}if(!r)return;const n=e.level-r.level,i=r.resolution*this.size[0]/2**n,s=r.resolution*this.size[1]/2**n;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=Lh()),e.extent[0]=this.origin.x+e.col*i,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+i,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const r=this.lodAt(t.level);if(r==null)return null;const{resolution:n}=r,i=n*this.size[0],s=n*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+i,e[3]=e[1]+s,e}lodAt(e){var t;return((t=this._levelToLOD)==null?void 0:t[e])??null}clone(){return wd.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(this.size[0]===256&&this.size[1]===256)return e===256?this:null;const r=[],n=this.lods.length;for(let i=0;i<n;i++){const s=this.lods[i],o=s.resolution*t;r.push(new Lt({level:s.level,scale:s.scale,resolution:o}))}return new wd({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const n=e[r];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};c([h({type:Number,json:{write:!0}})],wn.prototype,"compressionQuality",void 0),c([h({type:Number,json:{write:!0}})],wn.prototype,"dpi",void 0),c([h({type:String,json:{read:dG.read,write:dG.write,origins:{"web-scene":{read:!1,write:!1}}}})],wn.prototype,"format",void 0),c([h({readOnly:!0})],wn.prototype,"isWrappable",null),c([h({type:Ve,json:{write:!0}})],wn.prototype,"origin",void 0),c([he("origin")],wn.prototype,"readOrigin",null),c([h({type:[Lt],value:null,json:{write:!0}})],wn.prototype,"lods",null),c([h({readOnly:!0})],wn.prototype,"minScale",void 0),c([h({readOnly:!0})],wn.prototype,"maxScale",void 0),c([h({readOnly:!0})],wn.prototype,"scales",void 0),c([h({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],wn.prototype,"size",void 0),c([he("size",["rows","cols"])],wn.prototype,"readSize",null),c([ge("size",{cols:{type:Gt},rows:{type:Gt}})],wn.prototype,"writeSize",null),c([h({type:Ge,json:{write:!0}})],wn.prototype,"spatialReference",void 0),wn=wd=c([O("esri.layers.support.TileInfo")],wn),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(wn||(wn={}));const V8=wn,Z2={widthBreakpoint:{getValue(e){const t=e.viewSize[0],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,r=t[0],n=t[1],i=this.values;return n>=r?i.portrait:i.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},$P={xsmall:544,small:768,medium:992,large:1200};function s3e(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function EP(e,t){return t?Z2[e].valueToClassName[t].split(" "):[]}const o3e=e=>{let t=class extends e{constructor(...r){super(...r),this._breakpointsHandles=new zi,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=$P}initialize(){this._breakpointsHandles.add(ue(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),mt))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=Ur(this._breakpointsHandles))}set breakpoints(r){if(r===this._get("breakpoints"))return;const n=s3e(r);if(!n){const i=JSON.stringify($P,null,2);console.warn("provided breakpoints are not valid, using defaults:"+i)}r=n?r:$P,this._set("breakpoints",{...r})}_updateClassNames(){if(!this.container)return;const r=ts.acquire(),n=ts.acquire();let i,s=!1;for(i in Z2){const o=this[i],a=Z2[i].getValue({viewSize:this.size,breakpoints:this.breakpoints});o!==a&&(s=!0,this[i]=a,EP(i,o).forEach(l=>n.push(l)),EP(i,a).forEach(l=>r.push(l)))}s&&(this._applyClassNameChanges(r,n),ts.release(r),ts.release(n))}_applyClassNameChanges(r,n){const i=this.container;i&&(n.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let n;for(n in Z2)EP(n,this[n]).forEach(i=>r.classList.remove(i))}};return c([h()],t.prototype,"breakpoints",null),c([h()],t.prototype,"orientation",void 0),c([h()],t.prototype,"widthBreakpoint",void 0),c([h()],t.prototype,"heightBreakpoint",void 0),t=c([O("esri.views.BreakpointsOwner")],t),t};let Ug=class extends Ie{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._handles=new zi,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll(),this._handles.destroy()}add(t,r,n={}){return this._installWatch(t,r,n,ue)}addWhen(t,r,n={}){return this._installWatch(t,r,n,Ni)}addOnCollectionChange(t,r,{initial:n=!1,final:i=!1}={}){const s=++this._handleId;return this._handles.add([As(t,"after-changes",this._createSyncUpdatingCallback(),h0),As(t,"change",r,{onListenerAdd:n?o=>r({added:o.toArray(),removed:[]}):void 0,onListenerRemove:i?o=>r({added:[],removed:o.toArray()}):void 0})],s),{remove:()=>this._handles.remove(s)}}addPromise(t){if(G(t))return t;const r=++this._handleId;this._handles.add({remove:()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this._handles.has(l$)||this._set("updating",!1))}},r),this._pendingPromises.add(t),this._set("updating",!0);const n=()=>this._handles.remove(r);return t.then(n,n),t}removeAll(){this._pendingPromises.clear(),this._handles.removeAll(),this._set("updating",!1)}_installWatch(t,r,n={},i){const s=++this._handleId;n.sync||this._installSyncUpdatingWatch(t,s);const o=i(t,r,n);return this._handles.add(o,s),{remove:()=>this._handles.remove(s)}}_installSyncUpdatingWatch(t,r){const n=this._createSyncUpdatingCallback(),i=ue(t,n,{sync:!0,equals:()=>!1});return this._handles.add(i,r),i}_createSyncUpdatingCallback(){return()=>{this._handles.remove(l$),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this._handles.add(lv(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this._handles.remove(l$))}),l$)}}};c([h({readOnly:!0})],Ug.prototype,"updating",void 0),Ug=c([O("esri.core.support.WatchUpdatingTracking")],Ug);const l$=-42;let _d=class extends Ie{constructor(){super(...arguments),this.items=new Fe,this._watchUpdatingTracking=new Ug,this._callbacks=new Map,this._projector=iL(),this._hiddenProjector=iL()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,r=>{for(const n of r.added){const i=()=>n.render();this._callbacks.set(n,i),this._projector.append(this.surface,i)}for(const n of r.removed){const i=this._projector.detach(this._callbacks.get(n));this.surface.removeChild(i.domNode),this._callbacks.delete(n)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const r=this._hiddenSurface,n=this._hiddenProjector;let i;const s=()=>(i=t.render(),i);n.append(r,s),n.renderNow();const o={left:0,top:0,right:0,bottom:0};if(i&&i.domNode){const a=i.domNode.getBoundingClientRect();o.left=a.left,o.top=a.top,o.right=a.right,o.bottom=a.bottom}for(n.detach(s);r.firstChild;)r.removeChild(r.firstChild);return o}overlaps(t,r){const n=this.computeBoundingRect(t),i=this.computeBoundingRect(r);return Math.max(n.left,i.left)<=Math.min(n.right,i.right)&&Math.max(n.top,i.top)<=Math.min(n.bottom,i.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t){if(!this.items.some(n=>n.visible))return;const r=t.getContext("2d");r.save(),r.font=this._fontString(),this.items.forEach(n=>{r.save(),n.renderCanvas(r),r.restore()}),r.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};c([h({readOnly:!0})],_d.prototype,"surface",void 0),c([h({readOnly:!0})],_d.prototype,"items",void 0),c([h({readOnly:!0})],_d.prototype,"needsRender",null),c([h({readOnly:!0})],_d.prototype,"_watchUpdatingTracking",void 0),c([h({readOnly:!0})],_d.prototype,"updating",null),_d=c([O("esri.views.overlay.ViewOverlay")],_d);const hG=_d;function Bg(e,t,r,n){let i=null,s=1e3;typeof t=="number"?(s=t,n=r):(i=t??null,s=r);let o,a=0;const l=()=>{a=0,e.apply(n,o)},u=(...d)=>{i&&i.apply(n,d),o=d,s?a||(a=setTimeout(l,s)):l()};return u.remove=()=>{a&&(clearTimeout(a),a=0)},u.forceUpdate=()=>{a&&(clearTimeout(a),l())},u.hasPendingUpdates=()=>!!a,u}function Toe(e){return 32+e.length}function Moe(e){return 16}function v1t(e){if(!e)return 0;let t=Ooe;for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];switch(typeof n){case"string":t+=Toe(n);break;case"number":t+=Moe();break;case"boolean":t+=4}}return t}function a3e(e){if(!e)return 0;if(Array.isArray(e))return l3e(e);let t=Ooe;for(const r in e)e.hasOwnProperty(r)&&(t+=Ioe(e[r]));return t}function l3e(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let r=Coe;for(let n=0;n<t;n++)r+=Ioe(e[n]);return r}function Ioe(e){switch(typeof e){case"object":return a3e(e);case"string":return Toe(e);case"number":return Moe();case"boolean":return 4;default:return 8}}function b1t(e,t){return Coe+e.length*t}const Ooe=32,Coe=32;var eM;(function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"})(eM||(eM={}));const pG=["B","kB","MB","GB","TB"];function u3e(e,t){let r=t===0?0:Math.floor(Math.log(t)/Math.log(eM.KILOBYTES));r=Ps(r,0,pG.length-1);const n=kh(t/eM.KILOBYTES**r,{maximumFractionDigits:2});return Za(e.units.bytes[pG[r]],{fileSize:n})}function c3e(e){const{exifInfo:t,exifName:r,tagName:n}=e;if(!t||!r||!n)return null;const i=t.find(s=>s.name===r);return i?d3e({tagName:n,tags:i.tags}):null}function d3e(e){const{tagName:t,tags:r}=e;if(!r||!t)return null;const n=r.find(i=>i.name===t);return n&&n.value||null}var UN;const h3e={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let fs=UN=class extends Q{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=c3e({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return h3e[t]||null}clone(){return new UN({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};c([h({type:String})],fs.prototype,"contentType",void 0),c([h()],fs.prototype,"exifInfo",void 0),c([h({readOnly:!0})],fs.prototype,"orientationInfo",null),c([h({type:Gt})],fs.prototype,"id",void 0),c([h({type:String})],fs.prototype,"globalId",void 0),c([h({type:String})],fs.prototype,"keywords",void 0),c([h({type:String})],fs.prototype,"name",void 0),c([h({json:{read:!1}})],fs.prototype,"parentGlobalId",void 0),c([h({json:{read:!1}})],fs.prototype,"parentObjectId",void 0),c([h({type:Gt})],fs.prototype,"size",void 0),c([h({json:{read:!1}})],fs.prototype,"url",void 0),fs=UN=c([O("esri.layers.support.AttachmentInfo")],fs);const p3e=fs;var BN;let jn=BN=class extends Q{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new BN(B({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};c([h({type:[String],json:{write:!0}})],jn.prototype,"attachmentTypes",void 0),c([h({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],jn.prototype,"attachmentsWhere",void 0),c([h({type:Boolean,json:{write:!0}})],jn.prototype,"cacheHint",void 0),c([h({type:[String],json:{write:!0}})],jn.prototype,"keywords",void 0),c([h({type:[Number],json:{write:!0}})],jn.prototype,"globalIds",void 0),c([h({json:{write:!0}})],jn.prototype,"name",void 0),c([h({type:Number,json:{read:{source:"resultRecordCount"}}})],jn.prototype,"num",void 0),c([h({type:[Number],json:{write:!0}})],jn.prototype,"objectIds",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],jn.prototype,"returnMetadata",void 0),c([h({type:[Number],json:{write:!0}})],jn.prototype,"size",void 0),c([h({type:Number,json:{read:{source:"resultOffset"}}})],jn.prototype,"start",void 0),c([ge("start"),ge("num")],jn.prototype,"writeStart",null),c([h({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],jn.prototype,"where",void 0),jn=BN=c([O("esri.rest.support.AttachmentQuery")],jn),jn.from=qt(jn);const GN=jn,w1t={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function Aoe(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function z8(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function _1t(e){var t;return(e==null?void 0:e.type)==="feature"&&((t=e.source)==null?void 0:t.type)==="feature-layer"}async function Poe(e,t){const r=Ct==null?void 0:Ct.findServerInfo(e);if((r==null?void 0:r.currentVersion)!=null)return r.owningSystemUrl||null;const n=e.toLowerCase().indexOf("/rest/services");if(n===-1)return null;const i=`${e.substring(0,n)}/rest/info`,s=C(t)?t.signal:null,{data:o}=await Tt(i,{query:{f:"json"},responseType:"json",signal:s});return(o==null?void 0:o.owningSystemUrl)||null}function f3e(e){if(!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function koe(e){return f3e(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function m3e(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function y3e(e){return!!m3e(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const g3e="esri.widgets.Feature.support.featureUtils",fG=oe.getLogger(g3e),v3e=/href=(""|'')/gi,b3e=/(\{([^\{\r\n]+)\})/g,w3e=/\'/g,Roe=/^\s*expression\//i,_3e=/(\n)/gi,S3e=/[\u00A0-\u9999<>\&]/gim,x3e=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,$3e=/^(?:mailto:|tel:)/,Loe="relationships/",qN=g6("short-date-short-time");function Noe(e){if(!G(e))return e.get("sourceLayer")||e.get("layer")}async function tM(e,t){return typeof e=="function"?e.call(null,t):e}function Foe(e=""){if(e)return!$3e.test(e.trim().toLowerCase())}function U8(e){return!!e&&Roe.test(e)}function E3e(e,t){if(!U8(t)||!e)return null;const r=t.replace(Roe,"").toLowerCase();let n=null;return e.some(i=>i.name.toLowerCase()===r&&(n=i,!0)),n}function Doe(e,t){const r=E3e(t,e==null?void 0:e.fieldName);return r?r.title||null:e?e.label||e.fieldName:null}function T3e(e,t){const r=t.get(e.toLowerCase());return`{${r&&r.fieldName||e}}`}function M3e(e){return e.replace(v3e,"")}function A_(e,t){const r=B8(t,e);return r?r.name:e}function I3e(e,t){return e&&e.map(r=>A_(r,t))}function B8(e,t){return e&&typeof e.getField=="function"&&t?e.getField(t)??null:null}function joe(e){return`${e}`.trim()}function Lf({attributes:e,globalAttributes:t,layer:r,text:n,expressionAttributes:i,fieldInfoMap:s}){return n?WN({formattedAttributes:t,template:P3e(n,{...t,...i,...e},r),fieldInfoMap:s}):""}function WN({formattedAttributes:e,template:t,fieldInfoMap:r}){return joe(M3e(Za(Za(t,n=>T3e(n,r)),e)))}function O3e(e,t,r=!1){const n=t[e];if(typeof n=="string"){const i="%27",s=(r?encodeURIComponent(n):n).replace(w3e,i);t[e]=s}}function C3e(e,t=!1){const r={...e};return Object.keys(r).forEach(n=>O3e(n,r,t)),r}function A3e(e,t,r){const n=(t=joe(t))&&t[0]!=="{";return Za(e,C3e(r,n||!1))}function HN(e,t){return e.replace(b3e,(r,n,i)=>{const s=B8(t,i);return s?`{${s.name}}`:n})}function P3e(e,t,r){const n=HN(e,r);return n&&n.replace(x3e,(i,s,o)=>A3e(i,s||o,t))}function k3e(e,t){if(typeof e=="string"&&t&&t.dateFormat==null&&(t.places!=null||t.digitSeparator!=null)){const r=Number(e);if(!isNaN(r))return r}return e}function R3e(e){return(e==null?void 0:e.type)==="feature"}function mG(e){return!!(e!=null&&e.layer)}function L3e(e){return(e==null?void 0:e.type)==="map-image"}function N3e(e,t){var u;const r=t.fieldInfos,n=t.fieldName,i=(u=Voe(r,n))==null?void 0:u.clone(),s=t.preventPlacesFormatting,o=t.layer,a=B8(o,n);if(i&&(a==null?void 0:a.type)==="date"){const d=i.format||new yg;d.dateFormat=d.dateFormat||"short-date-short-time",d.dateTimeFormatOptions=!mG(o)&&R3e(o)&&o.datesInUnknownTimezone||mG(o)&&L3e(o.layer)&&o.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,i.format=d}const l=i&&i.format;return typeof e=="string"&&lie(n)&&l?l.formatRasterPixelValue(e):typeof(e=k3e(e,l))=="string"||e==null||l==null?US(e):s?kh(e,{...Jee(l),minimumFractionDigits:0,maximumFractionDigits:20}):l.format(e)}function Voe(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let n;return e.some(i=>!(!i.fieldName||i.fieldName.toLowerCase()!==r)&&(n=i,!0)),n}function F3e({fieldName:e,graphic:t,layer:r}){if(nc(e)||!r||typeof r.getFeatureType!="function")return null;const{typeIdField:n}=r;if(!n||e!==n)return null;const i=r.getFeatureType(t);return i?i.name:null}function D3e({fieldName:e,value:t,graphic:r,layer:n}){if(nc(e)||!n||typeof n.getFieldDomain!="function")return null;const i=r&&n.getFieldDomain(e,{feature:r});return i&&i.type==="coded-value"?i.getName(t):null}function j3e(e,t){const{creatorField:r,creationDateField:n,editorField:i,editDateField:s}=e;if(!t)return;const o=t[s];if(typeof o=="number"){const l=t[i];return{type:"edit",date:eu(o,qN),user:l}}const a=t[n];if(typeof a=="number"){const l=t[r];return{type:"create",date:eu(a,qN),user:l}}return null}function V3e(e,t){const r=new Map;return e&&e.forEach(n=>{const i=A_(n.fieldName,t);n.fieldName=i,r.set(i.toLowerCase(),n)}),r}function yG(e){const t=[];if(!e)return t;const{fieldInfos:r,content:n}=e;return r&&t.push(...r),n&&Array.isArray(n)&&n.forEach(i=>{if(i.type==="fields"){const s=i&&i.fieldInfos;s&&t.push(...s)}}),t}function G8(e){return e.replace(S3e,t=>`&#${t.charCodeAt(0)};`)}function US(e){return typeof e=="string"?e.replace(_3e,'<br class="esri-text-new-line" />'):e}function zoe(e){const{value:t,fieldName:r,fieldInfos:n,fieldInfoMap:i,layer:s,graphic:o}=e;if(t==null)return"";const a=D3e({fieldName:r,value:t,graphic:o,layer:s});if(a)return a;const l=F3e({fieldName:r,graphic:o,layer:s});if(l)return l;if(i.get(r.toLowerCase()))return N3e(t,{fieldInfos:n||Array.from(i.values()),fieldName:r,layer:s});const u=s&&s.fieldsIndex;return u&&u.isDateField(r)?eu(t,qN):US(t)}function TP({fieldInfos:e,attributes:t,layer:r,graphic:n,fieldInfoMap:i,relatedInfos:s}){const o={};return s==null||s.forEach(a=>G3e({attributes:o,relatedInfo:a,fieldInfoMap:i,fieldInfos:e,layer:r})),t&&Object.keys(t).forEach(a=>{const l=t[a];o[a]=zoe({fieldName:a,fieldInfos:e,fieldInfoMap:i,layer:r,value:l,graphic:n})}),o}async function Uoe(e,t){var d,p;const{layer:r,graphic:n,outFields:i,objectIds:s,returnGeometry:o,spatialReference:a}=e,l=s[0];if(typeof l!="number"&&typeof l!="string"){const f="Could not query required fields for the specified feature. The feature's ID is invalid.",y={layer:r,graphic:n,objectId:l,requiredFields:i};return fG.warn(f,y),null}if(!((p=(d=koe(r))==null?void 0:d.operations)!=null&&p.supportsQuery)){const f="The specified layer cannot be queried. The following fields will not be available.",y={layer:r,graphic:n,requiredFields:i,returnGeometry:o};return fG.warn(f,y),null}const u=r.createQuery();return u.objectIds=s,u.outFields=i!=null&&i.length?i:[r.objectIdField],u.returnGeometry=!!o,u.returnZ=!!o,u.returnM=!!o,u.outSpatialReference=a,(await r.queryFeatures(u,t)).features[0]}async function z3e(e){var n;if(!((n=e.expressionInfos)!=null&&n.length))return!1;const t=await Ec(),{arcadeUtils:{hasGeometryFunctions:r}}=t;return r(e)}async function U3e({graphic:e,popupTemplate:t,layer:r,spatialReference:n},i){if(!r||!t||(typeof r.load=="function"&&await r.load(i),!e.attributes))return;const s=e.attributes[r.objectIdField];if(s==null)return;const o=[s],a=await t.getRequiredFields(r.fieldsIndex),l=lOe(a,e),u=l?[]:a,d=t.returnGeometry||await z3e(t);if(l&&!d)return;const p=await Uoe({layer:r,graphic:e,outFields:u,objectIds:o,returnGeometry:d,spatialReference:n},i);p&&(p.geometry&&(e.geometry=p.geometry),p.attributes&&(e.attributes={...e.attributes,...p.attributes}))}function nc(e=""){return!!e&&e.includes(Loe)}function B3e(e){return e?`${Loe}${e.layerId}/${e.fieldName}`:""}function gG({attributes:e,graphic:t,relatedInfo:r,fieldInfos:n,fieldInfoMap:i,layer:s}){e&&t&&r&&Object.keys(t.attributes).forEach(o=>{const a=B3e({layerId:r.relation.id.toString(),fieldName:o}),l=t.attributes[o];e[a]=zoe({fieldName:a,fieldInfos:n,fieldInfoMap:i,layer:s,value:l,graphic:t})})}function G3e({attributes:e,relatedInfo:t,fieldInfoMap:r,fieldInfos:n,layer:i}){e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach(s=>gG({attributes:e,graphic:s,relatedInfo:t,fieldInfoMap:r,fieldInfos:n,layer:i})),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach(s=>gG({attributes:e,graphic:s,relatedInfo:t,fieldInfoMap:r,fieldInfos:n,layer:i})))}const vG=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},Boe=({layer:e,method:t,query:r,definitionExpression:n})=>{var o,a;if(!((a=(o=e.capabilities)==null?void 0:o.query)!=null&&a.supportsCacheHint)||t==="attachments")return;const i=C(r.where)?r.where:null,s=C(r.geometry)?r.geometry:null;vG(n)||vG(i)||(s==null?void 0:s.type)==="extent"||r.resultType==="tile"||(r.cacheHint=!0)},q3e=({query:e,layer:t,method:r})=>{Boe({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},W3e=({queryPayload:e,layer:t,method:r})=>{Boe({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})};function H3e(e,t,r){return e&&t&&r?bG(e.allLayers,t,r)||bG(e.allTables,t,r):null}function bG(e,t,r){return e.find(n=>n!==t&&n.type==="feature"&&n.url===t.url&&n.layerId===r.relatedTableId)}const wG={editing:!1,operations:{add:!0,update:!0,delete:!0}},Goe=Fe.ofType(p3e);let ms=class extends Ie{constructor(t){super(t),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities={...wG},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new Goe,this.fileInfos=new Fe,this.graphic=null,this.mode="view",this.filesEnabled=!1,this.addHandles(ue(()=>this.graphic,()=>this._graphicChanged(),mt))}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(t){return{...wG,...t}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:t}=this;if(!t)return!1;const r=t.layer||t.sourceLayer;return(r==null?void 0:r.loaded)&&"capabilities"in r&&r.capabilities&&"operations"in r.capabilities&&"supportsResizeAttachments"in r.capabilities.operations&&r.capabilities.operations.supportsResizeAttachments||!1}async getAttachments(){const{_attachmentLayer:t,attachmentInfos:r}=this;if(!t||typeof t.queryAttachments!="function")throw new V("invalid-layer","getAttachments(): A valid layer is required.");const n=this._getObjectId(),i=new GN({objectIds:[n],returnMetadata:!0}),s=[],o=t.queryAttachments(i).then(l=>l[n]||s).catch(()=>s);this._getAttachmentsPromise=o,this.notifyChange("state");const a=await o;return r.removeAll(),a.length&&r.addMany(a),this._getAttachmentsPromise=null,this.notifyChange("state"),a}async addAttachment(t,r=this.graphic){var l;const{_attachmentLayer:n,attachmentInfos:i,abilities:s}=this;if(!r)throw new V("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:r});if(!t)throw new V("invalid-attachment","addAttachment(): An attachment is required.",{attachment:t});if(!((l=s.operations)!=null&&l.add))throw new V("invalid-abilities","addAttachment(): add abilities are required.");if(!n||typeof n.addAttachment!="function")throw new V("invalid-layer","addAttachment(): A valid layer is required.");const o=n.addAttachment(r,t).then(u=>this._queryAttachment(u.objectId,r)),a=await o;return i.add(a),a}async deleteAttachment(t){var l;const{_attachmentLayer:r,attachmentInfos:n,graphic:i,abilities:s}=this;if(!t)throw new V("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!((l=s.operations)!=null&&l.delete))throw new V("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!r||typeof r.deleteAttachments!="function")throw new V("invalid-layer","deleteAttachment(): A valid layer is required.");if(!i)throw new V("invalid-graphic","deleteAttachment(): A graphic is required.");const o=r.deleteAttachments(i,[t.id]).then(()=>t),a=await o;return n.remove(a),a}async updateAttachment(t,r=this.activeAttachmentInfo){var d;const{_attachmentLayer:n,attachmentInfos:i,graphic:s,abilities:o}=this;if(!t)throw new V("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:t});if(!r)throw new V("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:r});if(!((d=o.operations)!=null&&d.update))throw new V("invalid-abilities","updateAttachment(): Update abilities are required.");const a=i.findIndex(p=>p===r);if(!n||typeof n.updateAttachment!="function")throw new V("invalid-layer","updateAttachment(): A valid layer is required.");if(!s)throw new V("invalid-graphic","updateAttachment(): A graphic is required.");const l=n.updateAttachment(s,r.id,t).then(p=>this._queryAttachment(p.objectId)),u=await l;return i.splice(a,1,u),u}async commitFiles(){return await Promise.all(this.fileInfos.items.map(t=>this.addAttachment(t.form))),this.fileInfos.removeAll(),this.getAttachments()}addFile(t,r){if(!t||!r)return null;const n={file:t,form:r};return this.fileInfos.add(n),n}updateFile(t,r,n=this.activeFileInfo){if(!t||!r||!n)return null;const i=this.fileInfos.findIndex(s=>n===s);return i>-1&&this.fileInfos.splice(i,1,{file:t,form:r}),this.fileInfos.items[i]}deleteFile(t){const r=this.fileInfos.find(n=>n.file===t);return r?(this.fileInfos.remove(r),r):null}async _queryAttachment(t,r){const{_attachmentLayer:n}=this;if(!t||!(n!=null&&n.queryAttachments))throw new V("invalid-attachment-id","Could not query attachment.");const i=this._getObjectId(r),s=new GN({objectIds:[i],attachmentsWhere:`AttachmentId=${t}`,returnMetadata:!0});return n.queryAttachments(s).then(o=>o[i][0])}_getObjectId(t=this.graphic){return(t==null?void 0:t.getObjectId())??null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:t}=this,r=Noe(t);this._attachmentLayer=r?r.type==="scene"&&C(r.associatedLayer)?r.associatedLayer:r:null}};c([h()],ms.prototype,"abilities",void 0),c([vt("abilities")],ms.prototype,"castAbilities",null),c([h()],ms.prototype,"activeAttachmentInfo",void 0),c([h()],ms.prototype,"activeFileInfo",void 0),c([h({readOnly:!0,type:Goe})],ms.prototype,"attachmentInfos",void 0),c([h()],ms.prototype,"fileInfos",void 0),c([h({type:Pn})],ms.prototype,"graphic",void 0),c([h()],ms.prototype,"mode",void 0),c([h({readOnly:!0})],ms.prototype,"state",null),c([h()],ms.prototype,"filesEnabled",void 0),c([h({readOnly:!0})],ms.prototype,"supportsResizeAttachments",null),ms=c([O("esri.widgets.Attachments.AttachmentsViewModel")],ms);const q8=ms;function _G(e){const t=e.toLowerCase();return t==="image/bmp"||t==="image/emf"||t==="image/exif"||t==="image/gif"||t==="image/x-icon"||t==="image/jpeg"||t==="image/png"||t==="image/tiff"||t==="image/x-wmf"}function K3e(e){const t=$t("esri/themes/base/images/files/");return e?e==="text/plain"?`${t}text-32.svg`:e==="application/pdf"?`${t}pdf-32.svg`:e==="text/csv"?`${t}csv-32.svg`:e==="application/gpx+xml"?`${t}gpx-32.svg`:e==="application/x-dwf"?`${t}cad-32.svg`:e==="application/postscript"||e==="application/json"||e==="text/xml"||e==="model/vrml"?`${t}code-32.svg`:e==="application/x-zip-compressed"||e==="application/x-7z-compressed"||e==="application/x-gzip"||e==="application/x-tar"||e==="application/x-gtar"||e==="application/x-bzip2"||e==="application/gzip"||e==="application/x-compress"||e==="application/x-apple-diskimage"||e==="application/x-rar-compressed"||e==="application/zip"?`${t}zip-32.svg`:e.includes("image/")?`${t}image-32.svg`:e.includes("audio/")?`${t}sound-32.svg`:e.includes("video/")?`${t}video-32.svg`:e.includes("msexcel")||e.includes("ms-excel")||e.includes("spreadsheetml")?`${t}excel-32.svg`:e.includes("msword")||e.includes("ms-word")||e.includes("wordprocessingml")?`${t}word-32.svg`:e.includes("powerpoint")||e.includes("presentationml")?`${t}report-32.svg`:`${t}generic-32.svg`:`${t}generic-32.svg`}const SG={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},St="esri-attachments",lp="esri-button",ye={base:St,loaderContainer:`${St}__loader-container`,loader:`${St}__loader`,fadeIn:`${St}--fade-in`,container:`${St}__container`,containerList:`${St}__container--list`,containerPreview:`${St}__container--preview`,actions:`${St}__actions`,deleteButton:`${St}__delete-button`,addAttachmentButton:`${St}__add-attachment-button`,errorMessage:`${St}__error-message`,items:`${St}__items`,item:`${St}__item`,itemButton:`${St}__item-button`,itemMask:`${St}__item-mask`,itemMaskIcon:`${St}__item-mask--icon`,itemImage:`${St}__image`,itemImageResizable:`${St}__image--resizable`,itemLabel:`${St}__label`,itemFilename:`${St}__filename`,itemChevronIcon:`${St}__item-chevron-icon`,itemLink:`${St}__item-link`,itemLinkOverlay:`${St}__item-link-overlay`,itemLinkOverlayIcon:`${St}__item-link-overlay-icon`,itemEditIcon:`${St}__item-edit-icon`,itemAddIcon:`${St}__item-add-icon`,itemAddButton:`${St}__item-add-button`,formNode:`${St}__form-node`,fileFieldset:`${St}__file-fieldset`,fileLabel:`${St}__file-label`,fileName:`${St}__file-name`,fileInput:`${St}__file-input`,metadata:`${St}__metadata`,metadataFieldset:`${St}__metadata-fieldset`,progressBar:`${St}__progress-bar`,esriWidget:"esri-widget",esriButton:lp,buttonDisabled:`${lp}--disabled`,esriButtonSecondary:`${lp}--secondary`,esriButtonTertiary:`${lp}--tertiary`,esriButtonThird:`${lp}--third`,esriButtonSmall:`${lp}--small`,esriButtonHalf:`${lp}--half`,empty:"esri-widget__content--empty",iconExternalLink:"esri-icon-link-external",iconEdit:"esri-icon-edit",iconRight:"esri-icon-right",iconLeft:"esri-icon-left",iconPlus:"esri-icon-plus"},MP=window.CSS;let Mi=class extends Yn{constructor(t,r){super(t,r),this.displayType="auto",this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=null,this.visibleElements={...SG},this._supportsImageOrientation=MP&&MP.supports&&MP.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.viewModel||(this.viewModel=new q8),this.addHandles([As(()=>{var t;return(t=this.viewModel)==null?void 0:t.attachmentInfos},"change",()=>this.scheduleRender()),As(()=>{var t;return(t=this.viewModel)==null?void 0:t.fileInfos},"change",()=>this.scheduleRender()),ue(()=>{var t;return(t=this.viewModel)==null?void 0:t.mode},()=>this._modeChanged(),mt)])}loadDependencies(){return Promise.all([Y(()=>import("./calcite-icon-6fe809d8.js"),["assets/calcite-icon-6fe809d8.js","assets/icon-1d21489b.js","assets/observers-4f67f1fb.js"])])}get abilities(){return this.viewModel.abilities}set abilities(t){this.viewModel.abilities=t}get effectiveDisplayType(){const{displayType:t}=this;return t&&t!=="auto"?t:this.viewModel.supportsResizeAttachments?"preview":"list"}get graphic(){return this.viewModel.graphic}set graphic(t){this.viewModel.graphic=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}castVisibleElements(t){return{...SG,...t}}addAttachment(){const{_addAttachmentForm:t,viewModel:r}=this;return this._set("submitting",!0),this._set("error",null),r.addAttachment(t).then(n=>(this._set("submitting",!1),this._set("error",null),r.mode="view",n)).catch(n=>{throw this._set("submitting",!1),this._set("error",new V("attachments:add-attachment",this.messages.addErrorMessage,n)),n})}deleteAttachment(t){const{viewModel:r}=this;return this._set("submitting",!0),this._set("error",null),r.deleteAttachment(t).then(n=>(this._set("submitting",!1),this._set("error",null),r.mode="view",n)).catch(n=>{throw this._set("submitting",!1),this._set("error",new V("attachments:delete-attachment",this.messages.deleteErrorMessage,n)),n})}updateAttachment(){const{viewModel:t}=this,{_updateAttachmentForm:r}=this;return this._set("submitting",!0),this._set("error",null),t.updateAttachment(r).then(n=>(this._set("submitting",!1),this._set("error",null),t.mode="view",n)).catch(n=>{throw this._set("submitting",!1),this._set("error",new V("attachments:update-attachment",this.messages.updateErrorMessage,n)),n})}addFile(){const t=this.viewModel.addFile(this.selectedFile,this._addAttachmentForm);return this.viewModel.mode="view",t}updateFile(){const{viewModel:t}=this,r=t.updateFile(this.selectedFile,this._updateAttachmentForm,t.activeFileInfo);return t.mode="view",r}deleteFile(t){var n;const r=this.viewModel.deleteFile(t||((n=this.viewModel.activeFileInfo)==null?void 0:n.file));return this.viewModel.mode="view",r}render(){const{submitting:t,viewModel:r}=this,{state:n}=r;return N("div",{class:this.classes(ye.base,ye.esriWidget)},t?this.renderProgressBar():null,n==="loading"?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:t,visibleElements:r}=this;return t&&r.errorMessage?N("div",{key:"error-message",class:ye.errorMessage},t.message):null}renderAttachments(){const{activeFileInfo:t,mode:r,activeAttachmentInfo:n}=this.viewModel;return r==="add"?this.renderAddForm():r==="edit"?this.renderDetailsForm(n||t):this.renderAttachmentContainer()}renderLoading(){return N("div",{class:ye.loaderContainer,key:"loader"},N("div",{class:ye.loader}))}renderProgressBar(){return this.visibleElements.progressBar?N("div",{class:ye.progressBar,key:"progress-bar"}):null}renderAddForm(){const{submitting:t,selectedFile:r}=this,n=t||!r,i=this.visibleElements.cancelAddButton?N("button",{type:"button",bind:this,disabled:t,onclick:this._cancelForm,class:this.classes(ye.esriButton,ye.esriButtonTertiary,ye.esriButtonSmall,ye.esriButtonHalf,t&&ye.buttonDisabled)},this.messages.cancel):null,s=this.visibleElements.addSubmitButton?N("button",{type:"submit",disabled:n,class:this.classes(ye.esriButton,ye.esriButtonSecondary,ye.esriButtonSmall,ye.esriButtonHalf,{[ye.buttonDisabled]:n})},this.messages.add):null,o=r?N("span",{key:"file-name",class:ye.fileName},r.name):null,a=N("form",{bind:this,afterCreate:oh,afterRemoved:KU,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},N("fieldset",{class:ye.fileFieldset},o,N("label",{class:this.classes(ye.fileLabel,ye.esriButton,ye.esriButtonSecondary)},r?this.messages.changeFile:this.messages.selectFile,N("input",{class:ye.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),s,i);return N("div",{key:"add-form-container",class:ye.formNode},a)}renderDetailsForm(t){var x,$,E;const{visibleElements:r,viewModel:n,selectedFile:i,submitting:s}=this,{abilities:o}=n,a=s||!i;let l,u,d,p;i?(l=i.type,u=i.name,d=i.size):t&&"file"in t?(l=t.file.type,u=t.file.name,d=t.file.size):t&&"contentType"in t&&(l=t.contentType,u=t.name,d=t.size,p=t.url);const f=o.editing&&((x=o.operations)!=null&&x.delete)&&r.deleteButton?N("button",{key:"delete-button",type:"button",disabled:s,bind:this,onclick:T=>this._submitDeleteAttachment(T,t),class:this.classes(ye.esriButton,ye.esriButtonSmall,ye.esriButtonTertiary,ye.deleteButton,{[ye.buttonDisabled]:s})},this.messages.delete):void 0,y=o.editing&&(($=o.operations)!=null&&$.update)&&r.updateButton?N("button",{disabled:a,key:"update-button",type:"submit",class:this.classes(ye.esriButton,ye.esriButtonSmall,ye.esriButtonThird,{[ye.buttonDisabled]:a})},this.messages.update):void 0,v=this.visibleElements.cancelUpdateButton?N("button",{disabled:s,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(ye.esriButton,ye.esriButtonSmall,ye.esriButtonTertiary,ye.esriButtonThird,{[ye.buttonDisabled]:s})},this.messages.cancel):void 0,g=o.editing&&((E=o.operations)!=null&&E.update)?N("fieldset",{key:"file",class:ye.fileFieldset},N("span",{key:"file-name",class:ye.fileName},u),N("label",{class:this.classes(ye.fileLabel,ye.esriButton,ye.esriButtonSecondary)},this.messages.changeFile,N("input",{class:ye.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):void 0,b=N("fieldset",{key:"size",class:ye.metadataFieldset},N("label",null,u3e(this.messagesUnits,d??0))),w=N("fieldset",{key:"content-type",class:ye.metadataFieldset},N("label",null,l)),S=C(p)?N("a",{class:ye.itemLink,href:p,rel:"noreferrer",target:"_blank"},this.renderImageMask(t,400),N("div",{class:ye.itemLinkOverlay},N("span",{class:ye.itemLinkOverlayIcon},N("calcite-icon",{icon:"launch"})))):this.renderImageMask(t,400),_=N("form",{bind:this,afterCreate:oh,afterRemoved:KU,"data-node-ref":"_updateAttachmentForm",onsubmit:T=>this._submitUpdateAttachment(T,t)},N("div",{class:ye.metadata},b,w),g,N("div",{class:ye.actions},f,v,y));return N("div",{key:"edit-form-container",class:ye.formNode},S,_)}renderImageMask(t,r){return t?"file"in t?this.renderGenericImageMask(t.file.name,t.file.type):this.renderImageMaskForAttachment(t,r):null}renderGenericImageMask(t,r){const{supportsResizeAttachments:n}=this.viewModel,i=K3e(r),s={[ye.itemImageResizable]:n};return N("div",{class:this.classes(ye.itemMaskIcon,ye.itemMask)},N("img",{title:t,alt:t,src:i,class:this.classes(s,ye.itemImage)}))}renderImageMaskForAttachment(t,r){const{supportsResizeAttachments:n}=this.viewModel;if(!t)return null;const{contentType:i,name:s,url:o}=t;if(!n||!_G(i))return this.renderGenericImageMask(s,i);const a=this._getCSSTransform(t),l=a?{transform:a,"image-orientation":"none"}:{},u=`${o}${o!=null&&o.includes("?")?"&":"?"}w=${r}`,d={[ye.itemImageResizable]:n};return N("div",{class:this.classes(ye.itemMask)},N("img",{styles:l,alt:s,title:s,src:u,class:this.classes(d,ye.itemImage)}))}renderFile(t){const{file:r}=t;return N("li",{class:ye.item,key:r},N("button",{key:"details-button",bind:this,class:ye.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,onclick:()=>this._startEditFile(t),type:"button"},this.renderImageMask(t),N("label",{class:ye.itemLabel},N("span",{class:ye.itemFilename},r.name||this.messages.noTitle),N("span",{"aria-hidden":"true",class:this.classes(ye.itemChevronIcon,Bl(this.container)?ye.iconLeft:ye.iconRight)}))))}renderAttachmentInfo({attachmentInfo:t,displayType:r}){const{viewModel:n,effectiveDisplayType:i}=this,{abilities:s,supportsResizeAttachments:o}=n,{contentType:a,name:l,url:u}=t,d=this.renderImageMask(t,r==="list"?48:400),p=s.editing?N("span",{"aria-hidden":"true",class:this.classes(ye.itemChevronIcon,Bl(this.container)?ye.iconLeft:ye.iconRight)}):null,f=[d,i==="preview"&&o&&_G(a)?null:N("label",{class:ye.itemLabel},N("span",{class:ye.itemFilename},l||this.messages.noTitle),p)],y=s.editing?N("button",{key:"details-button",bind:this,class:ye.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":t.id,onclick:()=>this._startEditAttachment(t),type:"button"},f):N("a",{key:"details-link",class:ye.itemButton,href:u??void 0,target:"_blank"},f);return N("li",{class:ye.item,key:t},y)}renderAttachmentContainer(){var v;const{effectiveDisplayType:t,viewModel:r,visibleElements:n}=this,{attachmentInfos:i,abilities:s,fileInfos:o}=r,a=!!(i!=null&&i.length),l=!!(o!=null&&o.length),u={[ye.containerList]:t!=="preview",[ye.containerPreview]:t==="preview"},d=s.editing&&((v=s.operations)!=null&&v.add)&&n.addButton?N("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(ye.esriButton,ye.esriButtonTertiary,ye.addAttachmentButton),type:"button"},N("span",{"aria-hidden":"true",class:this.classes(ye.itemAddIcon,ye.iconPlus)}),this.messages.add):void 0,p=a?N("ul",{key:"attachments-list",class:ye.items},i.toArray().map(g=>this.renderAttachmentInfo({attachmentInfo:g,displayType:t}))):void 0,f=l?N("ul",{key:"file-list",class:ye.items},o.toArray().map(g=>this.renderFile(g))):void 0,y=l||a?void 0:N("div",{class:ye.empty},this.messages.noAttachments);return N("div",{key:"attachments-container",class:this.classes(ye.container,u)},p,f,y,d)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(t){const r=t.target,n=r&&r.files&&r.files.item(0);this._set("selectedFile",n)}_submitDeleteAttachment(t,r){t.preventDefault(),r&&("file"in r?this.deleteFile(r.file):r&&this.deleteAttachment(r))}_submitAddAttachment(t){t.preventDefault(),this.viewModel.filesEnabled?this.addFile():this.addAttachment()}_submitUpdateAttachment(t,r){t.preventDefault(),r&&"file"in r?this.updateFile():this.updateAttachment()}_startEditAttachment(t){const{viewModel:r}=this;r.activeFileInfo=null,r.activeAttachmentInfo=t,r.mode="edit"}_startEditFile(t){const{viewModel:r}=this;r.activeAttachmentInfo=null,r.activeFileInfo=t,r.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(t){t.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(t){const{orientationInfo:r}=t;return!this._supportsImageOrientation&&r?[r.rotation?`rotate(${r.rotation}deg)`:"",r.mirrored?"scaleX(-1)":""].join(" "):""}};c([h()],Mi.prototype,"abilities",null),c([h()],Mi.prototype,"displayType",void 0),c([h({readOnly:!0})],Mi.prototype,"effectiveDisplayType",null),c([h()],Mi.prototype,"graphic",null),c([h()],Mi.prototype,"label",null),c([h(),On("esri/widgets/Attachments/t9n/Attachments")],Mi.prototype,"messages",void 0),c([h(),On("esri/core/t9n/Units")],Mi.prototype,"messagesUnits",void 0),c([h({readOnly:!0})],Mi.prototype,"selectedFile",void 0),c([h({readOnly:!0})],Mi.prototype,"submitting",void 0),c([h({readOnly:!0})],Mi.prototype,"error",void 0),c([h({type:q8})],Mi.prototype,"viewModel",void 0),c([h()],Mi.prototype,"visibleElements",void 0),c([vt("visibleElements")],Mi.prototype,"castVisibleElements",null),Mi=c([O("esri.widgets.Attachments")],Mi);const J3e=Mi;let vb=class extends q8{constructor(t){super(t),this.description=null,this.title=null}};c([h()],vb.prototype,"description",void 0),c([h()],vb.prototype,"title",void 0),vb=c([O("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],vb);const W8=vb,Y3e={heading:"esri-widget__heading"};function H8({level:e,class:t,...r},n){const i=Z3e(e);return N(`h${i}`,{...r,class:Tre(Y3e.heading,t),role:"heading","aria-level":String(i)},n)}function Z3e(e){return Ps(Math.ceil(e),1,6)}const IP="esri-feature-element-info",OP={base:IP,title:`${IP}__title`,description:`${IP}__description`};let Cy=class extends Yn{constructor(t,r){super(t,r),this.description=null,this.headingLevel=2,this.title=null}render(){return N("div",{class:OP.base},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:t}=this;return t?N(H8,{level:this.headingLevel,class:OP.title},t):null}renderDescription(){const{description:t}=this;return t?N("div",{key:"description",class:OP.description},t):null}};c([h()],Cy.prototype,"description",void 0),c([h()],Cy.prototype,"headingLevel",void 0),c([h()],Cy.prototype,"title",void 0),Cy=c([O("esri.widgets.Feature.support.FeatureElementInfo")],Cy);const HO=Cy,X3e={base:"esri-feature-attachments"};let wl=class extends Yn{constructor(t,r){super(t,r),this._featureElementInfo=null,this.attachmentsWidget=new J3e,this.headingLevel=2,this.viewModel=new W8}initialize(){this._featureElementInfo=new HO,this.addHandles([ue(()=>{var t,r;return[(t=this.viewModel)==null?void 0:t.description,(r=this.viewModel)==null?void 0:r.title,this.headingLevel]},()=>this._setupFeatureElementInfo(),mt),ue(()=>this.viewModel,t=>this.attachmentsWidget.viewModel=t,mt)])}destroy(){var t;this.attachmentsWidget.destroy(),(t=this._featureElementInfo)==null||t.destroy()}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get displayType(){return this.attachmentsWidget.displayType}set displayType(t){this.attachmentsWidget.displayType=t}get graphic(){return this.viewModel.graphic}set graphic(t){this.viewModel.graphic=t}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}render(){var r;const{attachmentsWidget:t}=this;return N("div",{class:X3e.base},(r=this._featureElementInfo)==null?void 0:r.render(),t==null?void 0:t.render())}_setupFeatureElementInfo(){var i;const{description:t,title:r,headingLevel:n}=this;(i=this._featureElementInfo)==null||i.set({description:t,title:r,headingLevel:n})}};c([h({readOnly:!0})],wl.prototype,"attachmentsWidget",void 0),c([h()],wl.prototype,"description",null),c([h()],wl.prototype,"displayType",null),c([h()],wl.prototype,"graphic",null),c([h()],wl.prototype,"headingLevel",void 0),c([h()],wl.prototype,"title",null),c([h({type:W8})],wl.prototype,"viewModel",void 0),wl=c([O("esri.widgets.Feature.FeatureAttachments")],wl);const Q3e=wl,Dm=e=>{let t=class extends e{destroy(){var r,n;this.destroyed||((r=this._get("handles"))==null||r.destroy(),(n=this._get("updatingHandles"))==null||n.destroy())}get handles(){return this._get("handles")||new zi}get updatingHandles(){return this._get("updatingHandles")||new Ug}};return c([h({readOnly:!0})],t.prototype,"handles",null),c([h({readOnly:!0})],t.prototype,"updatingHandles",null),t=c([O("esri.core.HandleOwner")],t),t};let rM=class extends Dm(Ie){};rM=c([O("esri.core.HandleOwner")],rM);let Sd=class extends Dm(Ie){constructor(t){super(t),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add(ue(()=>this.creator,r=>{this._destroyContent(),this._createContent(r)},mt))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:t,graphic:r,destroyer:n}=this;t&&r&&(tM(n,{graphic:r}).catch(()=>null),this._set("created",null))}async _createContent(t){const r=this.graphic;if(!r||!t)return;const n=tM(t,{graphic:r}).catch(()=>null);this._loadingPromise=n,this.notifyChange("state");const i=await n;n===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",i))}};c([h({readOnly:!0})],Sd.prototype,"created",void 0),c([h()],Sd.prototype,"creator",void 0),c([h()],Sd.prototype,"destroyer",void 0),c([h({type:Pn})],Sd.prototype,"graphic",void 0),c([h({readOnly:!0})],Sd.prototype,"state",null),Sd=c([O("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],Sd);const nM=Sd,qoe="calcite-mode-";function eLe(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replace(/\s|'|"/g,"")}function iM(){return eLe().startsWith("dark")}function tLe(){return`${qoe}${iM()?"dark":"light"}`}function rLe(e){nLe(e),e.classList.add(tLe())}function nLe(e){Array.from(e.classList).forEach(t=>{t.startsWith(qoe)&&e.classList.remove(t)})}function Woe(e){return e&&typeof e.render=="function"}function iLe(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const CP="esri-feature-content",AP={base:CP,loaderContainer:`${CP}__loader-container`,loader:`${CP}__loader`};let Ay=class extends Yn{constructor(t,r){super(t,r),this.viewModel=null,this._addTargetToAnchors=n=>{Array.from(n.querySelectorAll("a")).forEach(i=>{Foe(i.href)&&!i.hasAttribute("target")&&i.setAttribute("target","_blank")})}}get creator(){var t;return(t=this.viewModel)==null?void 0:t.creator}set creator(t){this.viewModel&&(this.viewModel.creator=t)}get graphic(){var t;return(t=this.viewModel)==null?void 0:t.graphic}set graphic(t){this.viewModel&&(this.viewModel.graphic=t)}renderLoading(){return N("div",{class:AP.loaderContainer,key:"loader"},N("div",{class:AP.loader}))}renderCreated(){var r;const t=(r=this.viewModel)==null?void 0:r.created;return t?t instanceof HTMLElement?N("div",{key:t,bind:t,afterCreate:this._attachToNode}):Woe(t)?N("div",{key:t},!t.destroyed&&t.render()):N("div",{key:t,innerHTML:t,afterCreate:this._addTargetToAnchors}):null}render(){var r;const t=(r=this.viewModel)==null?void 0:r.state;return N("div",{class:AP.base},t==="loading"?this.renderLoading():this.renderCreated())}_attachToNode(t){const r=this;t.appendChild(r)}};c([h()],Ay.prototype,"creator",null),c([h()],Ay.prototype,"graphic",null),c([h({type:nM})],Ay.prototype,"viewModel",void 0),Ay=c([O("esri.widgets.Feature.FeatureContent")],Ay);const X2=Ay;let Pu=class extends Ie{constructor(t){super(t),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:t,fieldInfos:r}=this,n=[];return r==null||r.forEach(i=>{if(!(!i.hasOwnProperty("visible")||i.visible))return;const s=i.clone();s.label=Doe(s,t),n.push(s)}),n}};c([h()],Pu.prototype,"attributes",void 0),c([h({type:[gie]})],Pu.prototype,"expressionInfos",void 0),c([h()],Pu.prototype,"description",void 0),c([h({type:[kS]})],Pu.prototype,"fieldInfos",void 0),c([h({readOnly:!0})],Pu.prototype,"formattedFieldInfos",null),c([h()],Pu.prototype,"title",void 0),Pu=c([O("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],Pu);const KO=Pu,sLe=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function oLe(e){let t=null;return sLe.some(r=>(r.pattern.test(e)&&(t=r),!!t)),t}function aLe(e,t){if(typeof t!="string"||!t)return t;const r=oLe(t);if(!r)return t;const n=t.match(r.pattern),i=n&&n[2],s=Za(Za(r.label,{messages:e,hierPart:i}),{appName:r.appName}),o=r.target?` target="${r.target}"`:"",a=r.target==="_blank"?' rel="noreferrer"':"";return t.replace(r.pattern,`<a${o} href="$1"${a}>${s}</a>`)}const u$="esri-feature-fields",_1={base:u$,fieldHeader:`${u$}__field-header`,fieldData:`${u$}__field-data`,fieldDataDate:`${u$}__field-data--date`,esriTable:"esri-widget__table"};let xa=class extends Yn{constructor(t,r){super(t,r),this._featureElementInfo=null,this.viewModel=new KO,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new HO,this.addHandles(ue(()=>{var t,r;return[(t=this.viewModel)==null?void 0:t.description,(r=this.viewModel)==null?void 0:r.title]},()=>this._setupFeatureElementInfo(),mt))}destroy(){var t;(t=this._featureElementInfo)==null||t.destroy()}get attributes(){return this.viewModel.attributes}set attributes(t){this.viewModel.attributes=t}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get expressionInfos(){return this.viewModel.expressionInfos}set expressionInfos(t){this.viewModel.expressionInfos=t}get fieldInfos(){return this.viewModel.fieldInfos}set fieldInfos(t){this.viewModel.fieldInfos=t}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}renderFieldInfo(t,r){const{attributes:n}=this.viewModel,i=t.fieldName,s=t.label||i,o=n?n[i]==null?"":n[i]:"",a=!(!t.format||!t.format.dateFormat),l=typeof o=="number"&&!a?this._forceLTR(o):aLe(this.messagesURIUtils,o),u={[_1.fieldDataDate]:a};return N("tr",{key:`fields-element-info-row-${i}-${r}`},N("th",{key:`fields-element-info-row-header-${i}-${r}`,class:_1.fieldHeader,innerHTML:s}),N("td",{key:`fields-element-info-row-data-${i}-${r}`,class:this.classes(_1.fieldData,u),innerHTML:l}))}renderFields(){const{formattedFieldInfos:t}=this.viewModel;return t!=null&&t.length?N("table",{class:_1.esriTable,summary:this.messages.fieldsSummary},N("tbody",null,t.map((r,n)=>this.renderFieldInfo(r,n)))):null}render(){var t;return N("div",{class:_1.base},(t=this._featureElementInfo)==null?void 0:t.render(),this.renderFields())}_setupFeatureElementInfo(){var n;const{description:t,title:r}=this;(n=this._featureElementInfo)==null||n.set({description:t,title:r})}_forceLTR(t){return`&lrm;${t}`}};c([h()],xa.prototype,"attributes",null),c([h()],xa.prototype,"description",null),c([h()],xa.prototype,"expressionInfos",null),c([h()],xa.prototype,"fieldInfos",null),c([h()],xa.prototype,"title",null),c([h({type:KO,nonNullable:!0})],xa.prototype,"viewModel",void 0),c([h(),On("esri/widgets/Feature/t9n/Feature")],xa.prototype,"messages",void 0),c([h(),On("esri/widgets/support/t9n/uriUtils")],xa.prototype,"messagesURIUtils",void 0),xa=c([O("esri.widgets.Feature.FeatureFields")],xa);const Hoe=xa,lLe={maximumFractionDigits:20};function uLe(e){return kh(e,lLe)}var KN;let jp=KN=class extends Q{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e??0}clone(){return new KN({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};c([h({type:Be,json:{type:[Gt],write:!0}})],jp.prototype,"color",void 0),c([h({type:String,json:{write:!0}})],jp.prototype,"label",void 0),c([h({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],jp.prototype,"value",void 0),c([ge("value")],jp.prototype,"writeValue",null),jp=KN=c([O("esri.renderers.visualVariables.support.ColorStop")],jp);const cLe=jp;function dLe(e,t,r){return Wn(e.map((n,i)=>t.apply(r,[n,i])))}async function hLe(e,t,r){return(await Wn(e.map((n,i)=>t.apply(r,[n,i])))).map(n=>n.value)}function K8(e){return{ok:!0,value:e}}function J8(e){return{ok:!1,error:e}}function pLe(e){return C(e)&&e.ok===!0?e.value:null}function fLe(e){return C(e)&&e.ok===!1?e.error:null}async function JO(e){if(G(e))return{ok:!1,error:new Error("no promise provided")};try{return K8(await e)}catch(t){return J8(t)}}async function P1t(e){try{return K8(await e)}catch(t){return Nl(t),J8(t)}}function Koe(e,t){return new xd(e,t)}let xd=class extends Ie{get value(){return pLe(this._result)}get error(){return fLe(this._result)}get finished(){return C(this._result)}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=uT(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(i=>{this._result=K8(i),this._cleanup()},i=>{this._result=J8(i),this._cleanup()}),this._abortHandle=Zo(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=sn(this._abortHandle),this._abortController=null}};c([h()],xd.prototype,"value",null),c([h()],xd.prototype,"error",null),c([h()],xd.prototype,"finished",null),c([h()],xd.prototype,"promise",void 0),c([h()],xd.prototype,"_result",void 0),xd=c([O("esri.core.asyncUtils.ReactiveTask")],xd);function YO(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function mLe(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function yLe(e,t,r,n,i,s,o,a,l,u,d,p,f,y,v,g){const b=new Float32Array(16);return b[0]=e,b[1]=t,b[2]=r,b[3]=n,b[4]=i,b[5]=s,b[6]=o,b[7]=a,b[8]=l,b[9]=u,b[10]=d,b[11]=p,b[12]=f,b[13]=y,b[14]=v,b[15]=g,b}function gLe(e,t){return new Float32Array(e,t,16)}const vLe=YO();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:vLe,clone:mLe,create:YO,createView:gLe,fromValues:yLe},Symbol.toStringTag,{value:"Module"}));const bLe=(e,t)=>{const r=Yh(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Fc(r,r)},wLe=(e,t)=>{const r=Yh(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Fc(r,r)},_Le=(e,t)=>{const r=1-t,n=Yh(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return Fc(n,n)},SLe=(e,t)=>{const r=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),i=Yh(e,.213+.787*n-.213*r,.715-.715*n-.715*r,.072-.072*n+.928*r,0,.213-.213*n+.143*r,.715+.285*n+.14*r,.072-.072*n-.283*r,0,.213-.213*n-.787*r,.715-.715*n+.715*r,.072+.928*n+.072*r,0,0,0,0,1);return Fc(i,i)},xLe=(e,t)=>{const r=1-2*t,n=Yh(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return Fc(n,n)},$Le=(e,t)=>{const r=Yh(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Fc(r,r)},ELe=(e,t)=>{const r=1-t,n=Yh(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return Fc(n,n)};let Joe=class Yoe{constructor(t,r,n){this.strength=t,this.radius=r,this.threshold=n,this.type="bloom"}interpolate(t,r,n){this.strength=_s(t.strength,r.strength,n),this.radius=_s(t.radius,r.radius,n),this.threshold=_s(t.threshold,r.threshold,n)}clone(){return new Yoe(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:gw(this.radius),strength:this.strength,threshold:this.threshold}}},Zoe=class Xoe{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,n){this.radius=Math.round(_s(t.radius,r.radius,n))}clone(){return new Xoe(this.radius)}toJSON(){return{type:"blur",radius:gw(this.radius)}}},JN=class Qoe{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.amount=_s(t.amount,r.amount,n),this._updateMatrix()}clone(){return new Qoe(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||YO();switch(this.type){case"brightness":this._colorMatrix=bLe(t,this.amount);break;case"contrast":this._colorMatrix=wLe(t,this.amount);break;case"grayscale":this._colorMatrix=_Le(t,this.amount);break;case"invert":this._colorMatrix=xLe(t,this.amount);break;case"saturate":this._colorMatrix=$Le(t,this.amount);break;case"sepia":this._colorMatrix=ELe(t,this.amount)}}},eae=class tae{constructor(t,r,n,i){this.offsetX=t,this.offsetY=r,this.blurRadius=n,this.color=i,this.type="drop-shadow"}interpolate(t,r,n){this.offsetX=_s(t.offsetX,r.offsetX,n),this.offsetY=_s(t.offsetY,r.offsetY,n),this.blurRadius=_s(t.blurRadius,r.blurRadius,n),this.color[0]=Math.round(_s(t.color[0],r.color[0],n)),this.color[1]=Math.round(_s(t.color[1],r.color[1],n)),this.color[2]=Math.round(_s(t.color[2],r.color[2],n)),this.color[3]=_s(t.color[3],r.color[3],n)}clone(){return new tae(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:gw(this.offsetX),yoffset:gw(this.offsetY),blurRadius:gw(this.blurRadius),color:t}}},rae=class nae{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.angle=_s(t.angle,r.angle,n),this._updateMatrix()}clone(){return new nae(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||YO();this._colorMatrix=SLe(t,this.angle)}},iae=class sae{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,n){this.amount=_s(t.amount,r.amount,n)}clone(){return new sae(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function _s(e,t,r){return e+(t-e)*r}function gw(e){return Math.round(1e3*Tc(e))/1e3}function TLe(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new JN(e.type,0);case"saturate":case"brightness":case"contrast":return new JN(e.type,1);case"opacity":return new iae(1);case"hue-rotate":return new rae(0);case"blur":return new Zoe(0);case"drop-shadow":return new eae(0,0,0,[...f8("transparent")]);case"bloom":return new Joe(0,0,1)}}function MLe(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((n,i)=>n.type===r[i].type)}function ILe(e,t){const r=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let i=n.length;i<r.length;i++)n.push(TLe(r[i]))}function OLe(e){const t=e[0];return!!t&&"type"in t}var xG,$G,YN={};function oae(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=EG(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new V("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:EG(r.value)}});t.sort((r,n)=>n.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!MLe(t[r].effects,t[r+1].effects))throw new V("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});ILe(t[r].effects,t[r+1].effects)}return t.sort((r,n)=>n.scale-r.scale),t}function EG(e){let t;if(!e)return[];try{t=YN.parse(e)}catch(r){throw new V("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>CLe(r))}function CLe(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return ALe(e);case"opacity":return PLe(e);case"hue-rotate":return kLe(e);case"blur":return RLe(e);case"drop-shadow":return LLe(e);case"bloom":return NLe(e)}}catch(t){throw t.details.filter=e,t}throw new V("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function ALe(e){let t=1;return gv(e.parameters,1),e.parameters.length===1&&(t=Na(e.parameters[0])),new JN(e.name,t)}function PLe(e){let t=1;return gv(e.parameters,1),e.parameters.length===1&&(t=Na(e.parameters[0])),new iae(t)}function kLe(e){let t=0;return gv(e.parameters,1),e.parameters.length===1&&(t=ULe(e.parameters[0])),new rae(t)}function RLe(e){let t=0;return gv(e.parameters,1),e.parameters.length===1&&(t=X8(e.parameters[0]),BS(t,e.parameters[0])),new Zoe(t)}function LLe(e){const t=[];let r=null;for(const n of e.parameters)if(n.type==="color"){if(t.length&&Object.freeze(t),r)throw new V("effect:type-error","Accepts only one color",{});r=BLe(n)}else{const i=X8(n);if(Object.isFrozen(t))throw new V("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(i),t.length===3&&BS(i,n)}if(t.length<2||t.length>3)throw new V("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new eae(t[0],t[1],t[2]||0,r||aae("black"))}function NLe(e){let t=1,r=0,n=0;return gv(e.parameters,3),e.parameters[0]&&(t=Na(e.parameters[0])),e.parameters[1]&&(r=X8(e.parameters[1]),BS(r,e.parameters[1])),e.parameters[2]&&(n=Na(e.parameters[2])),new Joe(t,r,n)}function gv(e,t){if(e.length>t)throw new V("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function ZO(e){if(e.type==="color")return"<color>";if(e.unit){if(Z8[e.unit])return"<length>";if(Y8[e.unit])return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function BS(e,t){if(e<0)throw new V("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function FLe(e){if(e.type!=="quantity"||e.unit!==null)throw new V("effect:type-error",`Expected <double>, Actual: ${ZO(e)}`,{term:e})}function DLe(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new V("effect:type-error",`Expected <double> or <percentage>, Actual: ${ZO(e)}`,{term:e})}$G=function(){function e(i,s){function o(){this.constructor=i}o.prototype=s.prototype,i.prototype=new o}function t(i,s,o,a){var l=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(l,t.prototype),l.expected=s,l.found=o,l.location=a,l.name="SyntaxError",l}function r(i,s,o){return o=o||" ",i.length>s?i:(s-=i.length,i+(o+=o.repeat(s)).slice(0,s))}function n(i,s){var o,a={},l=(s=s!==void 0?s:{}).grammarSource,u={start:oz},d=oz,p="none",f=")",y=",",v="(",g="%",b="px",w="cm",S="mm",_="in",x="pt",$="pc",E="deg",T="rad",M="grad",A="turn",k="#",P=".",L="e",D=/^[ \t\n\r]/,j=/^[a-z\-]/,W=/^[0-9a-fA-F]/,te=/^[+\-]/,ae=/^[0-9]/,z=ds("none"),J=ht("none",!1),me=ht(")",!1),we=ht(",",!1),Se=ds("whitespace"),xe=Nr([" ","	",`
`,"\r"],!1,!1),Ne=ds("function"),wt=ht("(",!1),Ut=ds("identifier"),Ht=Nr([["a","z"],"-"],!1,!1),tt=ds("percentage"),le=ht("%",!1),Oe=ds("length"),Ue=ht("px",!1),re=ht("cm",!1),rt=ht("mm",!1),Ae=ht("in",!1),We=ht("pt",!1),Ft=ht("pc",!1),Mr=ds("angle"),Qn=ht("deg",!1),Rs=ht("rad",!1),ir=ht("grad",!1),ei=ht("turn",!1),aa=ds("number"),pu=ds("color"),be=ht("#",!1),Ce=Nr([["0","9"],["a","f"],["A","F"]],!1,!1),ot=Nr(["+","-"],!1,!1),Je=Nr([["0","9"]],!1,!1),on=ht(".",!1),De=ht("e",!1),sr=function(){return[]},Ln=function(R,X){return{type:"function",name:R,parameters:X||[]}},_t=function(R,X){return X.length>0?lme(R,X,3):[R]},Ls=function(R){return{type:"quantity",value:R.value,unit:R.unit}},np=function(R){return{type:"color",colorType:R.type,value:R.value}},Ui=function(R){return R},zv=function(){return Bm()},hx=function(R){return{value:R,unit:"%"}},px=function(R){return{value:R,unit:"px"}},fx=function(R){return{value:R,unit:"cm"}},mx=function(R){return{value:R,unit:"mm"}},Uv=function(R){return{value:R,unit:"in"}},Bv=function(R){return{value:R,unit:"pt"}},yx=function(R){return{value:R,unit:"pc"}},Gv=function(R){return{value:R,unit:"deg"}},aA=function(R){return{value:R,unit:"rad"}},qv=function(R){return{value:R,unit:"grad"}},Wv=function(R){return{value:R,unit:"turn"}},Hv=function(R){return{value:R,unit:null}},lA=function(){return{type:"hex",value:Bm()}},uA=function(R){return{type:"function",value:R}},cA=function(){return{type:"named",value:Bm()}},dA=function(){return parseFloat(Bm())},H=0,lr=0,Vc=[{line:1,column:1}],mo=0,ip=[],$e=0;if("startRule"in s){if(!(s.startRule in u))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');d=u[s.startRule]}function Bm(){return i.substring(lr,H)}function ht(R,X){return{type:"literal",text:R,ignoreCase:X}}function Nr(R,X,ce){return{type:"class",parts:R,inverted:X,ignoreCase:ce}}function Kv(){return{type:"end"}}function ds(R){return{type:"other",description:R}}function yo(R){var X,ce=Vc[R];if(ce)return ce;for(X=R-1;!Vc[X];)X--;for(ce={line:(ce=Vc[X]).line,column:ce.column};X<R;)i.charCodeAt(X)===10?(ce.line++,ce.column=1):ce.column++,X++;return Vc[R]=ce,ce}function sz(R,X){var ce=yo(R),ct=yo(X);return{source:l,start:{offset:R,line:ce.line,column:ce.column},end:{offset:X,line:ct.line,column:ct.column}}}function nt(R){H<mo||(H>mo&&(mo=H,ip=[]),ip.push(R))}function Zfe(R,X,ce){return new t(t.buildMessage(R,X),R,X,ce)}function oz(){var R;return(R=Xfe())===a&&(R=Qfe()),R}function Xfe(){var R,X;return $e++,R=H,Nn(),i.substr(H,4)===p?(X=p,H+=4):(X=a,$e===0&&nt(J)),X!==a?(Nn(),lr=R,R=sr()):(H=R,R=a),$e--,R===a&&$e===0&&nt(z),R}function Qfe(){var R,X;if(R=[],(X=hA())!==a)for(;X!==a;)R.push(X),X=hA();else R=a;return R}function hA(){var R,X,ce,ct;return R=H,Nn(),(X=tme())!==a?(Nn(),(ce=eme())===a&&(ce=null),Nn(),i.charCodeAt(H)===41?(ct=f,H++):(ct=a,$e===0&&nt(me)),ct!==a?(Nn(),lr=R,R=Ln(X,ce)):(H=R,R=a)):(H=R,R=a),R}function eme(){var R,X,ce,ct,ti,Fr,vo,gx;if(R=H,(X=pA())!==a){for(ce=[],ct=H,ti=Nn(),i.charCodeAt(H)===44?(Fr=y,H++):(Fr=a,$e===0&&nt(we)),Fr===a&&(Fr=null),vo=Nn(),(gx=pA())!==a?ct=ti=[ti,Fr,vo,gx]:(H=ct,ct=a);ct!==a;)ce.push(ct),ct=H,ti=Nn(),i.charCodeAt(H)===44?(Fr=y,H++):(Fr=a,$e===0&&nt(we)),Fr===a&&(Fr=null),vo=Nn(),(gx=pA())!==a?ct=ti=[ti,Fr,vo,gx]:(H=ct,ct=a);lr=R,R=_t(X,ce)}else H=R,R=a;return R}function pA(){var R,X;return R=H,(X=rme())===a&&(X=nme())===a&&(X=ime())===a&&(X=sme()),X!==a&&(lr=R,X=Ls(X)),(R=X)===a&&(R=H,(X=ome())!==a&&(lr=R,X=np(X)),R=X),R}function Nn(){var R,X;for($e++,R=[],D.test(i.charAt(H))?(X=i.charAt(H),H++):(X=a,$e===0&&nt(xe));X!==a;)R.push(X),D.test(i.charAt(H))?(X=i.charAt(H),H++):(X=a,$e===0&&nt(xe));return $e--,X=a,$e===0&&nt(Se),R}function tme(){var R,X,ce;return $e++,R=H,(X=az())!==a?(i.charCodeAt(H)===40?(ce=v,H++):(ce=a,$e===0&&nt(wt)),ce!==a?(lr=R,R=Ui(X)):(H=R,R=a)):(H=R,R=a),$e--,R===a&&(X=a,$e===0&&nt(Ne)),R}function az(){var R,X,ce;if($e++,R=H,X=[],j.test(i.charAt(H))?(ce=i.charAt(H),H++):(ce=a,$e===0&&nt(Ht)),ce!==a)for(;ce!==a;)X.push(ce),j.test(i.charAt(H))?(ce=i.charAt(H),H++):(ce=a,$e===0&&nt(Ht));else X=a;return X!==a&&(lr=R,X=zv()),$e--,(R=X)===a&&(X=a,$e===0&&nt(Ut)),R}function rme(){var R,X,ce;return $e++,R=H,Nn(),(X=go())!==a?(i.charCodeAt(H)===37?(ce=g,H++):(ce=a,$e===0&&nt(le)),ce!==a?(lr=R,R=hx(X)):(H=R,R=a)):(H=R,R=a),$e--,R===a&&$e===0&&nt(tt),R}function nme(){var R,X,ce;return $e++,R=H,Nn(),(X=go())!==a?(i.substr(H,2)===b?(ce=b,H+=2):(ce=a,$e===0&&nt(Ue)),ce!==a?(lr=R,R=px(X)):(H=R,R=a)):(H=R,R=a),R===a&&(R=H,Nn(),(X=go())!==a?(i.substr(H,2)===w?(ce=w,H+=2):(ce=a,$e===0&&nt(re)),ce!==a?(lr=R,R=fx(X)):(H=R,R=a)):(H=R,R=a),R===a&&(R=H,Nn(),(X=go())!==a?(i.substr(H,2)===S?(ce=S,H+=2):(ce=a,$e===0&&nt(rt)),ce!==a?(lr=R,R=mx(X)):(H=R,R=a)):(H=R,R=a),R===a&&(R=H,Nn(),(X=go())!==a?(i.substr(H,2)===_?(ce=_,H+=2):(ce=a,$e===0&&nt(Ae)),ce!==a?(lr=R,R=Uv(X)):(H=R,R=a)):(H=R,R=a),R===a&&(R=H,Nn(),(X=go())!==a?(i.substr(H,2)===x?(ce=x,H+=2):(ce=a,$e===0&&nt(We)),ce!==a?(lr=R,R=Bv(X)):(H=R,R=a)):(H=R,R=a),R===a&&(R=H,Nn(),(X=go())!==a?(i.substr(H,2)===$?(ce=$,H+=2):(ce=a,$e===0&&nt(Ft)),ce!==a?(lr=R,R=yx(X)):(H=R,R=a)):(H=R,R=a)))))),$e--,R===a&&$e===0&&nt(Oe),R}function ime(){var R,X,ce;return $e++,R=H,(X=go())!==a?(i.substr(H,3)===E?(ce=E,H+=3):(ce=a,$e===0&&nt(Qn)),ce!==a?(lr=R,R=Gv(X)):(H=R,R=a)):(H=R,R=a),R===a&&(R=H,(X=go())!==a?(i.substr(H,3)===T?(ce=T,H+=3):(ce=a,$e===0&&nt(Rs)),ce!==a?(lr=R,R=aA(X)):(H=R,R=a)):(H=R,R=a),R===a&&(R=H,(X=go())!==a?(i.substr(H,4)===M?(ce=M,H+=4):(ce=a,$e===0&&nt(ir)),ce!==a?(lr=R,R=qv(X)):(H=R,R=a)):(H=R,R=a),R===a&&(R=H,(X=go())!==a?(i.substr(H,4)===A?(ce=A,H+=4):(ce=a,$e===0&&nt(ei)),ce!==a?(lr=R,R=Wv(X)):(H=R,R=a)):(H=R,R=a)))),$e--,R===a&&(X=a,$e===0&&nt(Mr)),R}function sme(){var R,X;return $e++,R=H,Nn(),(X=go())!==a?(lr=R,R=Hv(X)):(H=R,R=a),$e--,R===a&&$e===0&&nt(aa),R}function ome(){var R,X,ce,ct;if($e++,R=H,i.charCodeAt(H)===35?(X=k,H++):(X=a,$e===0&&nt(be)),X!==a){if(ce=[],W.test(i.charAt(H))?(ct=i.charAt(H),H++):(ct=a,$e===0&&nt(Ce)),ct!==a)for(;ct!==a;)ce.push(ct),W.test(i.charAt(H))?(ct=i.charAt(H),H++):(ct=a,$e===0&&nt(Ce));else ce=a;ce!==a?(lr=R,R=lA()):(H=R,R=a)}else H=R,R=a;return R===a&&(R=H,(X=hA())!==a&&(lr=R,X=uA(X)),(R=X)===a&&(R=H,(X=az())!==a&&(lr=R,X=cA()),R=X)),$e--,R===a&&(X=a,$e===0&&nt(pu)),R}function go(){var R,X,ce,ct,ti,Fr,vo;for(R=H,te.test(i.charAt(H))?(i.charAt(H),H++):$e===0&&nt(ot),X=H,ce=[],ae.test(i.charAt(H))?(ct=i.charAt(H),H++):(ct=a,$e===0&&nt(Je));ct!==a;)ce.push(ct),ae.test(i.charAt(H))?(ct=i.charAt(H),H++):(ct=a,$e===0&&nt(Je));if(i.charCodeAt(H)===46?(ct=P,H++):(ct=a,$e===0&&nt(on)),ct!==a){if(ti=[],ae.test(i.charAt(H))?(Fr=i.charAt(H),H++):(Fr=a,$e===0&&nt(Je)),Fr!==a)for(;Fr!==a;)ti.push(Fr),ae.test(i.charAt(H))?(Fr=i.charAt(H),H++):(Fr=a,$e===0&&nt(Je));else ti=a;ti!==a?X=ce=[ce,ct,ti]:(H=X,X=a)}else H=X,X=a;if(X===a)if(X=[],ae.test(i.charAt(H))?(ce=i.charAt(H),H++):(ce=a,$e===0&&nt(Je)),ce!==a)for(;ce!==a;)X.push(ce),ae.test(i.charAt(H))?(ce=i.charAt(H),H++):(ce=a,$e===0&&nt(Je));else X=a;if(X!==a){if(ce=H,i.charCodeAt(H)===101?(ct=L,H++):(ct=a,$e===0&&nt(De)),ct!==a){if(te.test(i.charAt(H))?(ti=i.charAt(H),H++):(ti=a,$e===0&&nt(ot)),ti===a&&(ti=null),Fr=[],ae.test(i.charAt(H))?(vo=i.charAt(H),H++):(vo=a,$e===0&&nt(Je)),vo!==a)for(;vo!==a;)Fr.push(vo),ae.test(i.charAt(H))?(vo=i.charAt(H),H++):(vo=a,$e===0&&nt(Je));else Fr=a;Fr!==a?ce=ct=[ct,ti,Fr]:(H=ce,ce=a)}else H=ce,ce=a;ce===a&&(ce=null),lr=R,R=dA()}else H=R,R=a;return R}function ame(R,X){return R.map(function(ce){return ce[X]})}function lme(R,X,ce){return[R].concat(ame(X,ce))}if((o=d())!==a&&H===i.length)return o;throw o!==a&&H<i.length&&nt(Kv()),Zfe(ip,mo<i.length?i.charAt(mo):null,mo<i.length?sz(mo,mo+1):sz(mo,mo))}return e(t,Error),t.prototype.format=function(i){var s="Error: "+this.message;if(this.location){var o,a=null;for(o=0;o<i.length;o++)if(i[o].source===this.location.source){a=i[o].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,u=this.location.source+":"+l.line+":"+l.column;if(a){var d=this.location.end,p=r("",l.line.toString().length," "),f=a[l.line-1],y=(l.line===d.line?d.column:f.length+1)-l.column||1;s+=`
 --> `+u+`
`+p+` |
`+l.line+" | "+f+`
`+p+" | "+r("",l.column-1," ")+r("",y,"^")}else s+=`
 at `+u}return s},t.buildMessage=function(i,s){var o={literal:function(y){return'"'+l(y.text)+'"'},class:function(y){var v=y.parts.map(function(g){return Array.isArray(g)?u(g[0])+"-"+u(g[1]):u(g)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function a(y){return y.charCodeAt(0).toString(16).toUpperCase()}function l(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+a(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+a(v)})}function u(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+a(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+a(v)})}function d(y){return o[y.type](y)}function p(y){var v,g,b=y.map(d);if(b.sort(),b.length>0){for(v=1,g=1;v<b.length;v++)b[v-1]!==b[v]&&(b[g]=b[v],g++);b.length=g}switch(b.length){case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return b.slice(0,-1).join(", ")+", or "+b[b.length-1]}}function f(y){return y?'"'+l(y)+'"':"end of input"}return"Expected "+p(i)+" but "+f(s)+" found."},{SyntaxError:t,parse:n}},(xG={get exports(){return YN},set exports(e){YN=e}}).exports&&(xG.exports=$G());const Y8={deg:1,grad:.9,rad:180/Math.PI,turn:360};function jLe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&Y8[e.unit]!=null))throw new V("effect:type-error",`Expected <angle>, Actual: ${ZO(e)}`,{term:e})}const Z8={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function VLe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&Z8[e.unit]!=null))throw new V("effect:type-error",`Expected <length>, Actual: ${ZO(e)}`,{term:e})}function Na(e){DLe(e);const t=e.value;return BS(t,e),e.unit==="%"?.01*t:t}function zLe(e){return FLe(e),BS(e.value,e),e.value}function ULe(e){return jLe(e),e.value*Y8[e.unit]||0}function X8(e){return VLe(e),e.value*Z8[e.unit]||0}function BLe(e){switch(e.colorType){case"hex":return SOe(e.value);case"named":return aae(e.value);case"function":return WLe(e.value)}}function aae(e){if(!wie(e))throw new V("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return _Oe(e)}const GLe=/^rgba?/i,qLe=/^hsla?/i;function WLe(e){if(gv(e.parameters,4),GLe.test(e.name))return[Na(e.parameters[0]),Na(e.parameters[1]),Na(e.parameters[2]),e.parameters[3]?Na(e.parameters[3]):1];if(qLe.test(e.name))return _ie(zLe(e.parameters[0]),Na(e.parameters[1]),Na(e.parameters[2]),e.parameters[3]?Na(e.parameters[3]):1);throw new V("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function Q8(e,t,r){var n;try{return KLe(e)}catch(i){(n=r==null?void 0:r.messages)==null||n.push(i)}return null}function e9(e,t,r,n){try{const i=HLe(e);Di(r,i,t)}catch(i){n.messages&&n.messages.push(i)}}function HLe(e){const t=oae(e);return t?OLe(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:n})=>({scale:r,value:n.map(i=>i.toJSON())})):null}function KLe(e){if(!e||e.length===0)return null;if(JLe(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:TG(r.value)});return t}return TG(e)}function JLe(e){const t=e[0];return!!t&&"scale"in t}function TG(e){if(!e||!e.length)return"";const t=[];for(const r of e){let n=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[vu(r,"amount")];break;case"blur":n=[vu(r,"radius","pt")];break;case"hue-rotate":n=[vu(r,"angle","deg")];break;case"drop-shadow":n=[vu(r,"xoffset","pt"),vu(r,"yoffset","pt"),vu(r,"blurRadius","pt"),YLe(r,"color")];break;case"bloom":n=[vu(r,"strength"),vu(r,"radius","pt"),vu(r,"threshold")]}const i=`${r.type}(${n.filter(Boolean).join(" ")})`;oae(i),t.push(i)}return t.join(" ")}function vu(e,t,r){if(e[t]==null)throw new V("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function YLe(e,t){if(e[t]==null)throw new V("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const PP=-3;var Gd;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Gd||(Gd={}));let R1t=class{constructor(t,r,n){this._namespace=t,this._storage=r,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,r,n,i=0){this._storage.put(this._namespace+t,r,n,i)}get(t){const r=this._storage.get(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}pop(t){const r=this._storage.pop(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}updateSize(t,r,n){this._storage.updateSize(this._namespace+t,r,n)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}},lae=class{constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new Gf,this._users=new Gf}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,r){this._removeFuncs.push([t,r])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(r=>r[0]!==t)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,r,n,i){const s=this._db.get(t);if(s&&(this._size-=s.size,this._db.delete(t),s.entry!==r&&this._notifyRemove(t,s.entry,Gd.ALL)),n>this._maxSize)return void this._notifyRemove(t,r,Gd.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return void console.warn("Refusing to cache entry with invalid size "+n);const o=1+Math.max(i,PP)-PP;this._db.set(t,{entry:r,size:n,lifetime:o,lives:o}),this._size+=n,this._checkSizeLimit()}updateSize(t,r,n){const i=this._db.get(t);if(i&&i.entry===r){for(this._size-=i.size;n>this._maxSize;){const s=this._notifyRemove(t,r,Gd.SOME);if(!(C(s)&&s>0))return void this._db.delete(t);n=s}i.size=n,this._size+=n,this._checkSizeLimit()}}pop(t){const r=this._db.get(t);if(r)return this._size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}get(t){const r=this._db.get(t);if(r!==void 0)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},n=new Array;this._db.forEach((o,a)=>{const l=o.lifetime;n[l]=(n[l]||0)+o.size,this._users.forAll(u=>{const d=u.namespace;if(a.startsWith(d)){const p=r[d]||0;r[d]=p+o.size}})});const i={};this._users.forAll(o=>{const a=o.namespace;if(!isNaN(o.hitRate)&&o.hitRate>0){const l=r[a]||0;r[a]=l,i[a]=Math.round(100*o.hitRate)+"%"}else i[a]="0%"});const s=Object.keys(r);s.sort((o,a)=>r[a]-r[o]),s.forEach(o=>t[o]=Math.round(r[o]/2**20)+"MB / "+i[o]);for(let o=n.length-1;o>=0;--o){const a=n[o];a&&(t["Priority "+(o+PP-1)]=Math.round(a/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){this._db.forEach((r,n)=>{n.startsWith(t)&&(this._size-=r.size,this._db.delete(n),this._notifyRemove(n,r.entry,Gd.ALL))})}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,Gd.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,n){let i;return this._removeFuncs.some(s=>{if(t.startsWith(s[0])){const o=s[1](r,n);return typeof o=="number"&&(i=o),!0}return!1}),i}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,r]of this._db){if(this._db.delete(t),r.lives<=1){this._size-=r.size;const n=this._notifyRemove(t,r.entry,Gd.SOME);C(n)&&n>0&&(this._size+=n,r.lives=r.lifetime,r.size=n,this._db.set(t,r))}else--r.lives,this._db.set(t,r);if(this._size<=.9*this.maxSize)return}}},ZLe=class{constructor(t,r){this._storage=new lae,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}put(t,r){this._storage.put(t,r,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}};new ZLe(1e3);new Be([128,128,128]);const XLe=new Be("white");function Ym(e,t){if(!e)return null;let r=null;return _0(e)?r=QLe(e):BO(e)&&(r=e.color?new Be(e.color):null),r?P_(r,t):null}function QLe(e){const t=e.symbolLayers;if(!t)return null;let r=null;return t.forEach(n=>{var i;n.type==="object"&&((i=n.resource)==null?void 0:i.href)!=null||(r=n.type==="water"?n.color:C(n.material)?n.material.color:null)}),r?new Be(r):null}function P_(e,t){if(t==null||e==null)return e;const r=e.toRgba();return r[3]=r[3]*t,new Be(r)}function eNe(e,t,r){const n=e.symbolLayers;if(!n)return;const i=s=>{const o=C(s)?s:null;return P_(t=t??o??(r!=null?XLe:null),r)};n.forEach(s=>{var o;if(s.type!=="object"||((o=s.resource)==null?void 0:o.href)==null||t)if(s.type==="water")s.color=i(s.color);else{const a=C(s.material)?s.material.color:null,l=i(a);G(s.material)?s.material=new io({color:l}):s.material.color=l,r!=null&&"outline"in s&&C(s.outline)&&C(s.outline.color)&&(s.outline.color=P_(s.outline.color,r))}})}function tNe(e,t,r){(t=t??e.color)&&(e.color=P_(t,r)),r!=null&&"outline"in e&&e.outline&&e.outline.color&&(e.outline.color=P_(e.outline.color,r))}function kP(e,t,r){e&&(t||r!=null)&&(t&&(t=new Be(t)),_0(e)?eNe(e,t,r):BO(e)&&tNe(e,t,r))}async function rNe(e,t){const r=e.symbolLayers;r&&await dLe(r,async n=>nNe(n,t))}async function nNe(e,t){switch(e.type){case"extrude":sNe(e,t);break;case"icon":case"line":case"text":iNe(e,t);break;case"path":aNe(e,t);break;case"object":await oNe(e,t)}}function iNe(e,t){const r=uae(t);C(r)&&(e.size=r)}function uae(e){for(const t of e)if(typeof t=="number")return t;return null}function sNe(e,t){e.size=typeof t[2]=="number"?t[2]:0}async function oNe(e,t){const{resourceSize:r,symbolSize:n}=await lNe(e),i=cae(t,r,n);e.width=vw(t[0],n[0],r[0],i),e.depth=vw(t[1],n[1],r[1],i),e.height=vw(t[2],n[2],r[2],i)}function aNe(e,t){const r=cae(t,Mie,[e.width,void 0,e.height]);e.width=vw(t[0],e.width,1,r),e.height=vw(t[2],e.height,1,r)}function cae(e,t,r){for(let n=0;n<3;n++){const i=e[n];switch(i){case"symbol-value":{const s=r[n];return s!=null?s/t[n]:1}case"proportional":break;default:if(i&&t[n])return i/t[n]}}return 1}async function lNe(e){const t=await Y(()=>import("./symbolLayerUtils-dac942b3.js"),[]),r=await t.computeObjectLayerResourceSize(e,10),{width:n,height:i,depth:s}=e,o=[n,s,i];let a=1;for(let l=0;l<3;l++){const u=o[l];if(u!=null){a=u/r[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=r[l]*a);return{resourceSize:r,symbolSize:o}}function vw(e,t,r,n){switch(e){case"proportional":return r*n;case"symbol-value":return t??r;default:return e}}function uNe(e,t){const r=uae(t);if(!G(r))switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":{const n=e.width/e.height;n>1?(e.width=r,e.height=r*n):(e.width=r*n,e.height=r);break}case"simple-line":e.width=r;break;case"text":e.font.size=r}}async function cNe(e,t){if(e&&t)return _0(e)?rNe(e,t):void(BO(e)&&uNe(e,t))}function dNe(e,t,r){if(e&&t!=null)if(_0(e)){const n=e.symbolLayers;n&&n.forEach(i=>{if(i&&i.type==="object")switch(r){case"tilt":i.tilt=t;break;case"roll":i.roll=t;break;default:i.heading=t}})}else BO(e)&&(e.type!=="simple-marker"&&e.type!=="picture-marker"&&e.type!=="text"||(e.angle=t))}async function hNe(e,t){return await e.fetchSymbol(t)||e.fetchCIMSymbol(t)}const pNe="<",fNe=">",mNe=g6("short-date");function yNe(e,t,r,n){let i="";t===0?i=`${pNe} `:t===r&&(i=`${fNe} `);let s=null;return s=n?eu(e,mNe):uLe(e),i+s}const gNe=new Be([64,64,64]);function vNe(e,t){const r=[],n=e.length-1;return e.length===5?r.push(0,2,4):r.push(0,n),e.map((i,s)=>r.includes(s)?yNe(i,s,n,t):null)}async function bNe(e,t,r){let n=!1,i=[],s=[];if(e.stops){const u=e.stops;i=u.map(d=>d.value),n=u.some(d=>!!d.label),n&&(s=u.map(d=>d.label))}const o=i[0],a=i[i.length-1];if(o==null&&a==null)return null;const l=n?null:vNe(i,r??!1);return(await Promise.all(i.map(async(u,d)=>({value:u,color:e.type==="opacity"?await wNe(u,e,t):(await Y(()=>Promise.resolve().then(()=>m9),void 0)).getColor(e,u),label:n?s[d]:(l==null?void 0:l[d])??""})))).reverse()}async function wNe(e,t,r=gNe){const n=new Be(r),i=(await Y(()=>Promise.resolve().then(()=>m9),void 0)).getOpacity(t,e);return i!=null&&(n.a=i),n}var ZN;let bb=ZN=class extends Q{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new ZN({color:this.color,ratio:this.ratio})}};c([h({type:Be,json:{type:[Gt],default:null,write:!0}})],bb.prototype,"color",void 0),c([h({type:Number,json:{write:!0}})],bb.prototype,"ratio",void 0),bb=ZN=c([O("esri.renderers.support.HeatmapColorStop")],bb);const bw=bb;function _Ne(e){if(!e.colorStops)return[];const t=[...e.colorStops].filter(n=>{var i;return((i=n.color)==null?void 0:i.a)>0});let r=t.length-1;if(t&&t[0]){const n=t[r];n&&n.ratio!==1&&(t.push(new bw({ratio:1,color:n.color})),r++)}return t.map((n,i)=>{var o,a;let s="";return i===0?s=((o=e.legendOptions)==null?void 0:o.minLabel)||"low":i===r&&(s=((a=e.legendOptions)==null?void 0:a.maxLabel)||"high"),{color:n.color,label:s,ratio:n.ratio}}).reverse()}oe.getLogger("esri.renderers.support.utils");async function Ns(e,t,r){zte(e,t,()=>[]).push(...r)}async function SNe(e){var r,n;const t=new Map;if(!e)return t;if("visualVariables"in e&&e.visualVariables){const i=e.visualVariables.filter(s=>s.type==="color");for(const s of i){const o=(await bNe(s)??[]).map(a=>a.color);await Ns(t,s.field||s.valueExpression,o)}}if(e.type==="heatmap"){const i=_Ne(e).map(s=>s.color);await Ns(t,e.field||e.valueExpression,i)}else if(e.type==="pie-chart"){for(const i of e.attributes)await Ns(t,i.field||i.valueExpression,[i.color]);await Ns(t,"default",[(r=e==null?void 0:e.othersCategory)==null?void 0:r.color,Ym(e.backgroundFillSymbol,null)])}else if(e.type==="dot-density"){for(const i of e.attributes)await Ns(t,i.field||i.valueExpression,[i.color]);await Ns(t,"default",[e.backgroundColor])}else if(e.type==="unique-value")if(((n=e.authoringInfo)==null?void 0:n.type)==="predominance")for(const i of e.uniqueValueInfos??[])await Ns(t,i.value.toString(),[Ym(i.symbol,null)]);else{const i=(e.uniqueValueInfos??[]).map(u=>Ym(u.symbol,null)),{field:s,field2:o,field3:a,valueExpression:l}=e;(s||l)&&await Ns(t,s||l,i),o&&await Ns(t,o,i),a&&await Ns(t,a,i)}else if(e.type==="class-breaks"){const i=e.classBreakInfos.map(a=>Ym(a.symbol,null)),{field:s,valueExpression:o}=e;await Ns(t,s??o,i)}else e.type==="simple"&&await Ns(t,"default",[Ym(e.symbol,null)]);return"defaultSymbol"in e&&e.defaultSymbol&&await Ns(t,"default",[Ym(e.defaultSymbol,null)]),t.forEach((i,s)=>{const o=X_e(i.filter(Boolean),(a,l)=>JSON.stringify(a)===JSON.stringify(l));t.set(s,o)}),t}var XN;let wb=XN=class extends Q{constructor(e){super(e),this.name=null,this.code=null}clone(){return new XN({name:this.name,code:this.code})}};c([h({type:String,json:{write:!0}})],wb.prototype,"name",void 0),c([h({type:[String,Number],json:{write:!0}})],wb.prototype,"code",void 0),wb=XN=c([O("esri.layers.support.CodedValue")],wb);const xNe=new Xe({inherited:"inherited",codedValue:"coded-value",range:"range"});let _b=class extends Q{constructor(t){super(t),this.name=null,this.type=null}};c([h({type:String,json:{write:!0}})],_b.prototype,"name",void 0),c([Pe(xNe)],_b.prototype,"type",void 0),_b=c([O("esri.layers.support.Domain")],_b);const XO=_b;var QN;let Sb=QN=class extends XO{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(n=>(String(n.code)===r&&(t=n.name),!!t))}return t}clone(){return new QN({codedValues:B(this.codedValues),name:this.name})}};c([h({type:[wb],json:{write:!0}})],Sb.prototype,"codedValues",void 0),c([Pe({codedValue:"coded-value"})],Sb.prototype,"type",void 0),Sb=QN=c([O("esri.layers.support.CodedValueDomain")],Sb);const dae=Sb;var eF;let Q2=eF=class extends XO{constructor(e){super(e),this.type="inherited"}clone(){return new eF}};c([Pe({inherited:"inherited"})],Q2.prototype,"type",void 0),Q2=eF=c([O("esri.layers.support.InheritedDomain")],Q2);const hae=Q2;var tF;let Py=tF=class extends XO{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new tF({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};c([h({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],Py.prototype,"maxValue",void 0),c([h({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],Py.prototype,"minValue",void 0),c([Pe({range:"range"})],Py.prototype,"type",void 0),Py=tF=c([O("esri.layers.support.RangeDomain")],Py);const pae=Py,fae={key:"type",base:XO,typeMap:{range:pae,"coded-value":dae,inherited:hae}};function t9(e){if(!e||!e.type)return null;switch(e.type){case"range":return pae.fromJSON(e);case"codedValue":return dae.fromJSON(e);case"inherited":return hae.fromJSON(e)}return null}const $Ne=new Xe({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});var rF;const ENe=new Xe({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Ii=rF=class extends Q{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return(r==null?void 0:r.value)??null}readValueType(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return r?ENe.fromJSON(r.fieldValueType):null}clone(){return new rF({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};c([h({type:String,json:{write:!0}})],Ii.prototype,"alias",void 0),c([h({type:[String,Number],json:{write:{allowNull:!0}}})],Ii.prototype,"defaultValue",void 0),c([h()],Ii.prototype,"description",void 0),c([he("description")],Ii.prototype,"readDescription",null),c([h({types:fae,json:{read:{reader:t9},write:!0}})],Ii.prototype,"domain",void 0),c([h({type:Boolean,json:{write:!0}})],Ii.prototype,"editable",void 0),c([h({type:Gt,json:{write:!0}})],Ii.prototype,"length",void 0),c([h({type:String,json:{write:!0}})],Ii.prototype,"name",void 0),c([h({type:Boolean,json:{write:!0}})],Ii.prototype,"nullable",void 0),c([Pe($Ne)],Ii.prototype,"type",void 0),c([h()],Ii.prototype,"valueType",void 0),c([he("valueType",["description"])],Ii.prototype,"readValueType",null),c([h({type:Boolean,json:{read:!1}})],Ii.prototype,"visible",void 0),Ii=rF=c([O("esri.layers.support.Field")],Ii);const r9=Ii;var nF;let ky=nF=class extends Q{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new nF({mapLayerId:e,gdbVersion:t})}};c([Pe({mapLayer:"map-layer"})],ky.prototype,"type",void 0),c([h({type:Gt,json:{write:!0}})],ky.prototype,"mapLayerId",void 0),c([h({type:String,json:{write:!0}})],ky.prototype,"gdbVersion",void 0),ky=nF=c([O("esri.layers.support.source.MapLayerSource")],ky);var iF;let ku=iF=class extends Q{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:r,spatialReference:n,geometryType:i}=this,s={workspaceId:e,query:t,oidFields:r,spatialReference:(n==null?void 0:n.clone())??void 0,geometryType:i};return new iF(s)}};c([Pe({queryTable:"query-table"})],ku.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],ku.prototype,"workspaceId",void 0),c([h({type:String,json:{write:!0}})],ku.prototype,"query",void 0),c([h({type:String,json:{write:!0}})],ku.prototype,"oidFields",void 0),c([h({type:Ge,json:{write:!0}})],ku.prototype,"spatialReference",void 0),c([Pe(TIe)],ku.prototype,"geometryType",void 0),ku=iF=c([O("esri.layers.support.source.QueryTableDataSource")],ku);var sF;let Ry=sF=class extends Q{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new sF({workspaceId:e,dataSourceName:t})}};c([Pe({raster:"raster"})],Ry.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],Ry.prototype,"dataSourceName",void 0),c([h({type:String,json:{write:!0}})],Ry.prototype,"workspaceId",void 0),Ry=sF=c([O("esri.layers.support.source.RasterDataSource")],Ry);var oF;let Vp=oF=class extends Q{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new oF({workspaceId:e,gdbVersion:t,dataSourceName:r})}};c([Pe({table:"table"})],Vp.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],Vp.prototype,"workspaceId",void 0),c([h({type:String,json:{write:!0}})],Vp.prototype,"gdbVersion",void 0),c([h({type:String,json:{write:!0}})],Vp.prototype,"dataSourceName",void 0),Vp=oF=c([O("esri.layers.support.source.TableDataSource")],Vp);var aF,lF;const TNe=mi()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Vs=aF=class extends Q{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return MG()(e,t,r)}castLeftTableSource(e){return tu(uF(),e)}readRightTableSource(e,t,r){return MG()(e,t,r)}castRightTableSource(e){return tu(uF(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:n,joinType:i}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:(r==null?void 0:r.clone())??void 0,rightTableSource:(n==null?void 0:n.clone())??void 0,joinType:i};return new aF(s)}};c([Pe({joinTable:"join-table"})],Vs.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],Vs.prototype,"leftTableKey",void 0),c([h({type:String,json:{write:!0}})],Vs.prototype,"rightTableKey",void 0),c([h({json:{write:!0}})],Vs.prototype,"leftTableSource",void 0),c([he("leftTableSource")],Vs.prototype,"readLeftTableSource",null),c([vt("leftTableSource")],Vs.prototype,"castLeftTableSource",null),c([h({json:{write:!0}})],Vs.prototype,"rightTableSource",void 0),c([he("rightTableSource")],Vs.prototype,"readRightTableSource",null),c([vt("rightTableSource")],Vs.prototype,"castRightTableSource",null),c([Pe(TNe)],Vs.prototype,"joinType",void 0),Vs=aF=c([O("esri.layers.support.source.JoinTableDataSource")],Vs);let RP=null;function MG(){return RP||(RP=qh({types:uF()})),RP}let LP=null;function uF(){return LP||(LP={key:"type",base:null,typeMap:{"data-layer":Fa,"map-layer":ky}}),LP}const MNe={key:"type",base:null,typeMap:{"join-table":Vs,"query-table":ku,raster:Ry,table:Vp}};let Fa=lF=class extends Q{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new lF({fields:e,dataSource:t})}};c([Pe({dataLayer:"data-layer"})],Fa.prototype,"type",void 0),c([h({type:[r9],json:{write:!0}})],Fa.prototype,"fields",void 0),c([h({types:MNe,json:{write:!0}})],Fa.prototype,"dataSource",void 0),Fa=lF=c([O("esri.layers.support.source.DataLayerSource")],Fa),Fa.from=qt(Fa);const c$={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Qs({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:Ge.WebMercator}),minus180Line:new Qs({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:Ge.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Qs({paths:[[[180,-180],[180,180]]],spatialReference:Ge.WGS84}),minus180Line:new Qs({paths:[[[-180,-180],[-180,180]]],spatialReference:Ge.WGS84})}};function Nf(e,t){return Math.ceil((e-t)/(2*t))}function mae(e,t){const r=ww(e);for(const n of r)for(const i of n)i[0]+=t;return e}function ww(e){return Hf(e)?e.rings:e.paths}async function INe(e,t,r,n){const i=yv(e),s=t[0].spatialReference,o={...n,query:{...i.query,f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:uv(t[0]),geometries:t}),cutter:JSON.stringify(r)}},a=await Tt(i.path+"/cut",o),{cutIndexes:l,geometries:u=[]}=a.data;return{cutIndexes:l,geometries:u.map(d=>{const p=as(d);return p.spatialReference=s,p})}}async function ONe(e,t,r){const n=typeof e=="string"?Vi(e):e,i=t[0].spatialReference,s=uv(t[0]),o={...r,query:{...n.query,f:"json",sr:i.wkid?i.wkid:JSON.stringify(i),geometries:JSON.stringify(GPe(t))}},{data:a}=await Tt(n.path+"/simplify",o);return toe(a.geometries,s,i)}const yae=oe.getLogger("esri.geometry.support.normalizeUtils");function CNe(e){return e.type==="polygon"}function ANe(e){return e[0].type==="polygon"}function PNe(e){return e[0].type==="polyline"}function kNe(e,t){if(!(e instanceof Qs||e instanceof ra)){const i="straightLineDensify: the input geometry is neither polyline nor polygon";throw yae.error(i),new V(i)}const r=ww(e),n=[];for(const i of r){const s=[];n.push(s),s.push([i[0][0],i[0][1]]);for(let o=0;o<i.length-1;o++){const a=i[o][0],l=i[o][1],u=i[o+1][0],d=i[o+1][1],p=Math.sqrt((u-a)*(u-a)+(d-l)*(d-l)),f=(d-l)/p,y=(u-a)/p,v=p/t;if(v>1){for(let S=1;S<=v-1;S++){const _=S*t,x=y*_+a,$=f*_+l;s.push([x,$])}const g=(p+Math.floor(v-1)*t)/2,b=y*g+a,w=f*g+l;s.push([b,w])}s.push([u,d])}}return CNe(e)?new ra({rings:n,spatialReference:e.spatialReference}):new Qs({paths:n,spatialReference:e.spatialReference})}function IG(e,t,r){if(t){const n=kNe(e,1e6);e=mg(n,!0)}return r&&(e=mae(e,r)),e}function OG(e,t,r){if(Array.isArray(e)){const n=e[0];if(n>t){const i=Nf(n,t);e[0]=n+i*(-2*t)}else if(n<r){const i=Nf(n,r);e[0]=n+i*(-2*r)}}else{const n=e.x;if(n>t){const i=Nf(n,t);e=e.clone().offset(i*(-2*t),0)}else if(n<r){const i=Nf(n,r);e=e.clone().offset(i*(-2*r),0)}}return e}function RNe(e,t){let r=-1;for(let n=0;n<t.cutIndexes.length;n++){const i=t.cutIndexes[n],s=t.geometries[n],o=ww(s);for(let a=0;a<o.length;a++){const l=o[a];l.some(u=>{if(u[0]<180)return!0;{let d=0;for(let f=0;f<l.length;f++){const y=l[f][0];d=y>d?y:d}d=Number(d.toFixed(9));const p=-360*Nf(d,180);for(let f=0;f<l.length;f++){const y=s.getPoint(a,f);s.setPoint(a,f,y.clone().offset(p,0))}return!0}})}if(i===r){if(ANe(e))for(const a of ww(s))e[i]=e[i].addRing(a);else if(PNe(e))for(const a of ww(s))e[i]=e[i].addPath(a)}else r=i,e[i]=s}return e}async function gae(e,t,r){if(!Array.isArray(e))return gae([e],t);t&&typeof t!="string"&&yae.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const n=typeof t=="string"?t:(t==null?void 0:t.url)??yt.geometryServiceUrl;let i,s,o,a,l,u,d,p,f=0;const y=[],v=[];for(const x of e)if(G(x))v.push(x);else if(i||(i=x.spatialReference,s=Ka(i),o=i.isWebMercator,u=o?102100:4326,a=c$[u].maxX,l=c$[u].minX,d=c$[u].plus180Line,p=c$[u].minus180Line),s)if(x.type==="mesh")v.push(x);else if(x.type==="point")v.push(OG(x.clone(),a,l));else if(x.type==="multipoint"){const $=x.clone();$.points=$.points.map(E=>OG(E,a,l)),v.push($)}else if(x.type==="extent"){const $=x.clone()._normalize(!1,!1,s);v.push($.rings?new ra($):$)}else if(x.extent){const $=x.extent,E=Nf($.xmin,l)*(2*a);let T=E===0?x.clone():mae(x.clone(),E);$.offset(E,0),$.intersects(d)&&$.xmax!==a?(f=$.xmax>f?$.xmax:f,T=IG(T,o),y.push(T),v.push("cut")):$.intersects(p)&&$.xmin!==l?(f=$.xmax*(2*a)>f?$.xmax*(2*a):f,T=IG(T,o,360),y.push(T),v.push("cut")):v.push(T)}else v.push(x.clone());else v.push(x);let g=Nf(f,a),b=-90;const w=g,S=new Qs;for(;g>0;){const x=360*g-180;S.addPath([[x,b],[x,-1*b]]),b*=-1,g--}if(y.length>0&&w>0){const x=RNe(y,await INe(n,y,S,r)),$=[],E=[];for(let A=0;A<v.length;A++){const k=v[A];if(k!=="cut")E.push(k);else{const P=x.shift(),L=e[A];C(L)&&L.type==="polygon"&&L.rings&&L.rings.length>1&&P.rings.length>=L.rings.length?($.push(P),E.push("simplify")):E.push(o?fc(P):P)}}if(!$.length)return E;const T=await ONe(n,$,r),M=[];for(let A=0;A<E.length;A++){const k=E[A];k!=="simplify"?M.push(k):M.push(o?fc(T.shift()):T.shift())}return M}const _=[];for(let x=0;x<v.length;x++){const $=v[x];if($!=="cut")_.push($);else{const E=y.shift();_.push(o===!0?fc(E):E)}}return _}function j1t(e,t){const r=Ka(t);if(r){const[n,i]=r.valid,s=i-n;if(e<n)for(;e<n;)e+=s;if(e>i)for(;e>i;)e-=s}return e}function vae(e){const t={};for(const r in e){if(r==="declaredClass")continue;const n=e[r];if(n!=null&&typeof n!="function")if(Array.isArray(n)){t[r]=[];for(let i=0;i<n.length;i++)t[r][i]=vae(n[i])}else typeof n=="object"?n.toJSON&&(t[r]=JSON.stringify(n)):t[r]=n}return t}var qd;(function(e){e[e.varint=0]="varint",e[e.fixed64=1]="fixed64",e[e.delimited=2]="delimited",e[e.fixed32=5]="fixed32",e[e.unknown=99]="unknown"})(qd||(qd={}));const CG=4294967296,LNe=new TextDecoder("utf-8"),NNe=Z("safari")||Z("ios")?6:Z("ff")?12:32;let cF=class eE{constructor(t,r,n=0,i=t?t.byteLength:0){this._tag=0,this._dataType=qd.unknown,this._init(t,r,n,i)}_init(t,r,n,i){this._data=t,this._dataView=r,this._pos=n,this._end=i}asUnsafe(){return this}clone(){return new eE(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const r=this._decodeVarint();if(this._tag=r>>3,this._dataType=7&r,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();if(t!==void 0)return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=this._data[this._pos]!==0;return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,r=this._pos,n=t.getUint32(r,!0)+t.getUint32(r+4,!0)*CG;return this._skip(8),n}getSFixed64(){const t=this._dataView,r=this._pos,n=t.getUint32(r,!0)+t.getInt32(r+4,!0)*CG;return this._skip(8),n}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),r=this._pos,n=this._toString(this._data,r,r+t);return this._skip(t),n}getBytes(){const t=this._getLength(),r=this._pos,n=this._toBytes(this._data,r,r+t);return this._skip(t),n}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,r,n,i){const s=this.getMessage(),o=t(s,r,n,i);return s.release(),o}processMessage(t){const r=this.getMessage(),n=t(r);return r.release(),n}getMessage(){const t=this._getLength(),r=eE.pool.acquire();return r._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),r}release(){eE.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case qd.varint:this._decodeVarint();break;case qd.fixed64:this._skip(8);break;case qd.delimited:this._skip(this._getLength());break;case qd.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}_decodeVarint(){const t=this._data;let r=this._pos,n=0,i=0;if(this._end-r>=10)do{if(i=t[r++],n|=127&i,(128&i)==0||(i=t[r++],n|=(127&i)<<7,(128&i)==0)||(i=t[r++],n|=(127&i)<<14,(128&i)==0)||(i=t[r++],n|=(127&i)<<21,(128&i)==0)||(i=t[r++],n+=268435456*(127&i),(128&i)==0)||(i=t[r++],n+=34359738368*(127&i),(128&i)==0)||(i=t[r++],n+=4398046511104*(127&i),(128&i)==0)||(i=t[r++],n+=562949953421312*(127&i),(128&i)==0)||(i=t[r++],n+=72057594037927940*(127&i),(128&i)==0)||(i=t[r++],n+=9223372036854776e3*(127&i),(128&i)==0))break;throw new Error("Varint too long!")}while(0);else{let s=1;for(;r!==this._end&&(i=t[r],(128&i)!=0);)++r,n+=(127&i)*s,s*=128;if(r===this._end)throw new Error("Varint overrun!");++r,n+=i*s}return this._pos=r,n}_decodeSVarint(){const t=this._data;let r=this._pos,n=0,i=0;const s=1&t[r];if(this._end-r>=10)do{if(i=t[r++],n|=127&i,(128&i)==0||(i=t[r++],n|=(127&i)<<7,(128&i)==0)||(i=t[r++],n|=(127&i)<<14,(128&i)==0)||(i=t[r++],n|=(127&i)<<21,(128&i)==0)||(i=t[r++],n+=268435456*(127&i),(128&i)==0)||(i=t[r++],n+=34359738368*(127&i),(128&i)==0)||(i=t[r++],n+=4398046511104*(127&i),(128&i)==0)||(i=t[r++],n+=562949953421312*(127&i),(128&i)==0)||(i=t[r++],n+=72057594037927940*(127&i),(128&i)==0)||(i=t[r++],n+=9223372036854776e3*(127&i),(128&i)==0))break;throw new Error("Varint too long!")}while(0);else{let o=1;for(;r!==this._end&&(i=t[r],(128&i)!=0);)++r,n+=(127&i)*o,o*=128;if(r===this._end)throw new Error("Varint overrun!");++r,n+=i*o}return this._pos=r,s?-(n+1)/2:n/2}_getLength(){if(this._dataType!==qd.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,r,n){if((n=Math.min(this._end,n))-r>NNe){const o=t.subarray(r,n);return LNe.decode(o)}let i="",s="";for(let o=r;o<n;++o){const a=t[o];128&a?s+="%"+a.toString(16):(i+=decodeURIComponent(s)+String.fromCharCode(a),s="")}return s.length&&(i+=decodeURIComponent(s)),i}_toBytes(t,r,n){return n=Math.min(this._end,n),new Uint8Array(t.buffer,r,n-r)}};cF.pool=new Gh(cF,void 0,e=>{e._data=null,e._dataView=null});let el=class tE{constructor(t=[],r=[],n=!1){this.lengths=t??[],this.coords=r??[],this.hasIndeterminateRingOrder=n}static fromRect(t){const[r,n,i,s]=t,o=i-r,a=s-n;return new tE([5],[r,n,o,0,0,a,-o,0,0,-a])}get isPoint(){return this.lengths.length===0}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,r)=>t+r)}forEachVertex(t){let r=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const i=this.lengths[n];for(let s=0;s<i;s++)t(this.coords[2*(s+r)],this.coords[2*(s+r)+1]);r+=i}}clone(t){return t?(t.set(this.coords),new tE(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new tE(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}},Dh=class bae{constructor(t=null,r={},n,i){this.geometry=t,this.attributes=r,this.centroid=n,this.objectId=i,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const t=new bae(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}};function FNe(e){return!(G(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}let V1t=class extends Dh{},wae=class _ae{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new _ae;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}};const Sae=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let U1t=class{constructor(t){this._options=t,this.geometryTypes=Sae,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new wae}prepareFeatures(t){this._vertexDimension=2,t.hasZ&&this._vertexDimension++,t.hasM&&this._vertexDimension++}finishFeatureResult(t){if(!t||!t.features||!t.hasZ||!this._options.sourceSpatialReference||!t.spatialReference||An(t.spatialReference,this._options.sourceSpatialReference)||t.spatialReference.vcsWkid)return;const r=f0(this._options.sourceSpatialReference)/f0(t.spatialReference);if(r!==1)for(const n of t.features){if(!FNe(n))continue;const i=n.geometry.coords;for(let s=2;s<i.length;s+=3)i[s]*=r}}addFeature(t,r){t.features.push(r)}createFeature(){return new Dh}createSpatialReference(){return{wkid:0}}createGeometry(){return new el}addField(t,r){t.fields.push(r)}allocateCoordinates(t){t.coords.length=t.lengths.reduce((r,n)=>r+n,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(t,r){t.coords[this._coordinatePtr++]=r}addCoordinatePoint(t,r){t.coords.push(r)}addLength(t,r){t.lengths.push(r)}addQueryGeometry(t,r){t.queryGeometry=r.queryGeometry,t.queryGeometryType=r.queryGeometryType}createPointGeometry(){return new el}};const AG=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],PG=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],kG=["upperLeft","lowerLeft"];function RG(e){return e>=AG.length?null:AG[e]}function DNe(e){return e>=PG.length?null:PG[e]}function LG(e){return e>=kG.length?null:kG[e]}function NG(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function jNe(e,t,r){const i=e.asUnsafe(),s=t.createPointGeometry(r);for(;i.next();)switch(i.tag()){case 3:{const o=i.getUInt32(),a=i.pos()+o;let l=0;for(;i.pos()<a;)t.addCoordinatePoint(s,i.getSInt64(),l++);break}default:i.skip()}return s}function VNe(e,t,r){const s=e.asUnsafe(),o=t.createGeometry(r),a=2+(r.hasZ?1:0)+(r.hasM?1:0);for(;s.next();)switch(s.tag()){case 2:{const l=s.getUInt32(),u=s.pos()+l;let d=0;for(;s.pos()<u;)t.addLength(o,s.getUInt32(),d++);break}case 3:{const l=s.getUInt32(),u=s.pos()+l;let d=0;for(t.allocateCoordinates(o);s.pos()<u;)t.addCoordinate(o,s.getSInt64(),d),d++,d===a&&(d=0);break}default:s.skip()}return o}function zNe(e){const i=e.asUnsafe(),s=new el;let o="esriGeometryPoint";for(;i.next();)switch(i.tag()){case 2:{const a=i.getUInt32(),l=i.pos()+a;for(;i.pos()<l;)s.lengths.push(i.getUInt32());break}case 3:{const a=i.getUInt32(),l=i.pos()+a;for(;i.pos()<l;)s.coords.push(i.getSInt64());break}case 1:o=Sae[i.getEnum()];break;default:i.skip()}return{queryGeometry:s,queryGeometryType:o}}function UNe(e){const d=e.asUnsafe();for(;d.next();)switch(d.tag()){case 1:return d.getString();case 2:return d.getFloat();case 3:return d.getDouble();case 4:return d.getSInt32();case 5:return d.getUInt32();case 6:return d.getInt64();case 7:return d.getUInt64();case 8:return d.getSInt64();case 9:return d.getBool();default:return d.skip(),null}return null}function BNe(e){const a=e.asUnsafe(),l={type:RG(0)};for(;a.next();)switch(a.tag()){case 1:l.name=a.getString();break;case 2:l.type=RG(a.getEnum());break;case 3:l.alias=a.getString();break;case 4:l.sqlType=DNe(a.getEnum());break;case 5:a.skip();break;case 6:l.defaultValue=a.getString();break;default:a.skip()}return l}function GNe(e){const n={},i=e.asUnsafe();for(;i.next();)switch(i.tag()){case 1:n.name=i.getString();break;case 2:n.isSystemMaintained=i.getBool();break;default:i.skip()}return n}function qNe(e,t,r,n){const a=t.createFeature(r);let l=0;for(;e.next();)switch(e.tag()){case 1:{const u=n[l++].name;a.attributes[u]=e.processMessage(UNe);break}case 2:a.geometry=e.processMessageWithArgs(VNe,t,r);break;case 4:a.centroid=e.processMessageWithArgs(jNe,t,r);break;default:e.skip()}return a}function WNe(e){const s=[1,1,1,1],o=e.asUnsafe();for(;o.next();)switch(o.tag()){case 1:s[0]=o.getDouble();break;case 2:s[1]=o.getDouble();break;case 4:s[2]=o.getDouble();break;case 3:s[3]=o.getDouble();break;default:o.skip()}return s}function HNe(e){const s=[0,0,0,0],o=e.asUnsafe();for(;o.next();)switch(o.tag()){case 1:s[0]=o.getDouble();break;case 2:s[1]=o.getDouble();break;case 4:s[2]=o.getDouble();break;case 3:s[3]=o.getDouble();break;default:o.skip()}return s}function KNe(e){const i={originPosition:LG(0)},s=e.asUnsafe();for(;s.next();)switch(s.tag()){case 1:i.originPosition=LG(s.getEnum());break;case 2:i.scale=s.processMessage(WNe);break;case 3:i.translate=s.processMessage(HNe);break;default:s.skip()}return i}function JNe(e){const i={},s=e.asUnsafe();for(;s.next();)switch(s.tag()){case 1:i.shapeAreaFieldName=s.getString();break;case 2:i.shapeLengthFieldName=s.getString();break;case 3:i.units=s.getString();break;default:s.skip()}return i}function YNe(e,t){const a=t.createSpatialReference();for(;e.next();)switch(e.tag()){case 1:a.wkid=e.getUInt32();break;case 5:a.wkt=e.getString();break;case 2:a.latestWkid=e.getUInt32();break;case 3:a.vcsWkid=e.getUInt32();break;case 4:a.latestVcsWkid=e.getUInt32();break;default:e.skip()}return a}function ZNe(e,t){const g=t.createFeatureResult(),b=e.asUnsafe();g.geometryType=NG(t,0);let w=!1;for(;b.next();)switch(b.tag()){case 1:g.objectIdFieldName=b.getString();break;case 3:g.globalIdFieldName=b.getString();break;case 4:g.geohashFieldName=b.getString();break;case 5:g.geometryProperties=b.processMessage(JNe);break;case 7:g.geometryType=NG(t,b.getEnum());break;case 8:g.spatialReference=b.processMessageWithArgs(YNe,t);break;case 10:g.hasZ=b.getBool();break;case 11:g.hasM=b.getBool();break;case 12:g.transform=b.processMessage(KNe);break;case 9:{const S=b.getBool();g.exceededTransferLimit=S;break}case 13:t.addField(g,b.processMessage(BNe));break;case 15:w||(t.prepareFeatures(g),w=!0),t.addFeature(g,b.processMessageWithArgs(qNe,t,g,g.fields));break;case 2:g.uniqueIdField=b.processMessage(GNe);break;default:b.skip()}return t.finishFeatureResult(g),g}function XNe(e,t){const i={};let s=null;for(;e.next();)switch(e.tag()){case 4:s=e.processMessageWithArgs(zNe);break;case 1:i.featureResult=e.processMessageWithArgs(ZNe,t);break;default:e.skip()}return C(s)&&i.featureResult&&t.addQueryGeometry(i,s),i}function QNe(e,t){try{const n=new cF(new Uint8Array(e),new DataView(e)),i={};for(;n.next();)n.tag()===2?i.queryResult=n.processMessageWithArgs(XNe,t):n.skip();return i}catch(r){throw new V("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:r})}}function eFe(e,t){const r=QNe(e,t),n=r.queryResult.featureResult,i=r.queryResult.queryGeometry,s=r.queryResult.queryGeometryType;if(n&&n.features&&n.features.length&&n.objectIdFieldName){const o=n.objectIdFieldName;for(const a of n.features)a.attributes&&(a.objectId=a.attributes[o])}return n&&(n.queryGeometry=i,n.queryGeometryType=s),n}function dF(e,t,r){if(!r||!r.features||!r.hasZ)return;const n=boe(r.geometryType,t,e.outSpatialReference);if(!G(n))for(const i of r.features)n(i.geometry)}const FG="Layer does not support extent calculation.";function tFe(e,t){if(t&&e.type==="extent")return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&e.type==="point")return`${e.x},${e.y}`;const r=e.toJSON();return delete r.spatialReference,JSON.stringify(r)}function rFe(e,t){const r=e.geometry,n=e.toJSON();delete n.compactGeometryEnabled,delete n.defaultSpatialReferenceEnabled;const i=n;let s,o,a;if(C(r)&&(o=r.spatialReference,a=r.spatialReference.wkid||JSON.stringify(r.spatialReference),i.geometryType=uv(r),i.geometry=tFe(r,e.compactGeometryEnabled),i.inSR=a),n.groupByFieldsForStatistics&&(i.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(i.objectIds=n.objectIds.join(",")),n.orderByFields&&(i.orderByFields=n.orderByFields.join(",")),!n.outFields||!n.returnDistinctValues&&(t!=null&&t.returnCountOnly||t!=null&&t.returnExtentOnly||t!=null&&t.returnIdsOnly)?delete i.outFields:n.outFields.includes("*")?i.outFields="*":i.outFields=n.outFields.join(","),n.outSR?(i.outSR=n.outSR.wkid||JSON.stringify(n.outSR),s=e.outSpatialReference):r&&(n.returnGeometry||n.returnCentroid)&&(i.outSR=i.inSR,s=o),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(i.outStatistics=JSON.stringify(n.outStatistics)),n.fullText&&(i.fullText=JSON.stringify(n.fullText)),n.pixelSize&&(i.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&C(o)&&C(e.quantizationParameters)&&C(e.quantizationParameters.extent)&&o.equals(e.quantizationParameters.extent.spatialReference)&&delete n.quantizationParameters.extent.spatialReference,i.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.parameterValues&&(i.parameterValues=JSON.stringify(n.parameterValues)),n.rangeValues&&(i.rangeValues=JSON.stringify(n.rangeValues)),n.dynamicDataSource&&(i.layer=JSON.stringify({source:n.dynamicDataSource}),delete n.dynamicDataSource),n.timeExtent){const l=n.timeExtent,{start:u,end:d}=l;u==null&&d==null||(i.time=u===d?u:`${u??"null"},${d??"null"}`),delete n.timeExtent}return e.defaultSpatialReferenceEnabled&&C(o)&&C(s)&&o.equals(s)&&(i.defaultSR=i.inSR,delete i.inSR,delete i.outSR),i}async function nFe(e,t,r,n){const i=C(t.timeExtent)&&t.timeExtent.isEmpty?{data:{features:[]}}:await GS(e,t,"json",n);return dF(t,r,i.data),i}async function G1t(e,t,r,n){if(C(t.timeExtent)&&t.timeExtent.isEmpty)return{data:r.createFeatureResult()};const i=await iFe(e,t,n),s=i;return s.data=eFe(i.data,r),s}function iFe(e,t,r){return GS(e,t,"pbf",r)}function q1t(e,t,r){return C(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):GS(e,t,"json",r,{returnIdsOnly:!0})}function W1t(e,t,r){return C(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):GS(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})}function H1t(e,t,r){return C(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):GS(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then(n=>{const i=n.data;if(i.hasOwnProperty("extent"))return n;if(i.features)throw new Error(FG);if(i.hasOwnProperty("count"))throw new Error(FG);return n})}function GS(e,t,r,n={},i={}){const s=typeof e=="string"?Vi(e):e,o=t.geometry?[t.geometry]:[];return n.responseType=r==="pbf"?"array-buffer":"json",gae(o,null,n).then(a=>{const l=a&&a[0];C(l)&&((t=t.clone()).geometry=l);const u=vae({...s.query,f:r,...i,...rFe(t,i)});return Tt(lm(s.path,"query"),{...n,query:{...u,...n.query}})})}var hF;const pF=new Xe({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Vn=hF=class extends Q{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){var i;const r=Ge.fromJSON(t.spatialReference),n=[];for(let s=0;s<e.length;s++){const o=e[s],a=Pn.fromJSON(o),l=o.geometry&&o.geometry.spatialReference;C(a.geometry)&&!l&&(a.geometry.spatialReference=r);const u=o.aggregateGeometries,d=a.aggregateGeometries;if(u&&C(d))for(const p in d){const f=d[p],y=(i=u[p])==null?void 0:i.spatialReference;C(f)&&!y&&(f.spatialReference=r)}n.push(a)}return n}writeGeometryType(e,t,r,n){if(e)return void pF.write(e,t,r,n);const{features:i}=this;if(i){for(const s of i)if(s&&C(s.geometry))return void pF.write(s.geometry.type,t,r,n)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=as(e);return n&&!r&&t.spatialReference&&(n.spatialReference=Ge.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const n of r)if(n&&C(n.geometry)&&n.geometry.spatialReference)return void(t.spatialReference=n.geometry.spatialReference.toJSON())}}clone(){return new hF(this.cloneProperties())}cloneProperties(){return B({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const i=e&&e[r];n.geometry=i&&i.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,i]}=e,s=u=>Math.round((u-n)/t),o=u=>Math.round((i-u)/r),a=this.features,l=this._getQuantizationFunction(this.geometryType,s,o);for(let u=0,d=a.length;u<d;u++)l!=null&&l(a[u].geometry)||(a.splice(u,1),u--,d--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,i],scale:[s,o]}=r,a=d=>d*s+n,l=d=>i-d*o,u=this._getHydrationFunction(e,a,l);for(const{geometry:d}of t)C(d)&&u&&u(d);return this.transform=null,this}_quantizePoints(e,t,r){let n,i;const s=[];for(let o=0,a=e.length;o<a;o++){const l=e[o];if(o>0){const u=t(l[0]),d=r(l[1]);u===n&&d===i||(s.push([u-n,d-i]),n=u,i=d)}else n=t(l[0]),i=r(l[1]),s.push([n,i])}return s.length>0?s:null}_getQuantizationFunction(e,t,r){return e==="point"?n=>(n.x=t(n.x),n.y=r(n.y),n):e==="polyline"||e==="polygon"?n=>{const i=Hf(n)?n.rings:n.paths,s=[];for(let o=0,a=i.length;o<a;o++){const l=i[o],u=this._quantizePoints(l,t,r);u&&s.push(u)}return s.length>0?(Hf(n)?n.rings=s:n.paths=s,n):null}:e==="multipoint"?n=>{const i=this._quantizePoints(n.points,t,r);return i&&i.length>0?(n.points=i,n):null}:e==="extent"?n=>n:null}_getHydrationFunction(e,t,r){return e==="point"?n=>{n.x=t(n.x),n.y=r(n.y)}:e==="polyline"||e==="polygon"?n=>{const i=Hf(n)?n.rings:n.paths;let s,o;for(let a=0,l=i.length;a<l;a++){const u=i[a];for(let d=0,p=u.length;d<p;d++){const f=u[d];d>0?(s+=f[0],o+=f[1]):(s=f[0],o=f[1]),f[0]=t(s),f[1]=r(o)}}}:e==="extent"?n=>{n.xmin=t(n.xmin),n.ymin=r(n.ymin),n.xmax=t(n.xmax),n.ymax=r(n.ymax)}:e==="multipoint"?n=>{const i=n.points;let s,o;for(let a=0,l=i.length;a<l;a++){const u=i[a];a>0?(s+=u[0],o+=u[1]):(s=u[0],o=u[1]),u[0]=t(s),u[1]=r(o)}}:null}};c([h({type:String,json:{write:!0}})],Vn.prototype,"displayFieldName",void 0),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Vn.prototype,"exceededTransferLimit",void 0),c([h({type:[Pn],json:{write:!0}})],Vn.prototype,"features",void 0),c([he("features")],Vn.prototype,"readFeatures",null),c([h({type:[r9],json:{write:!0}})],Vn.prototype,"fields",void 0),c([h({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:pF.read}}})],Vn.prototype,"geometryType",void 0),c([ge("geometryType")],Vn.prototype,"writeGeometryType",null),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Vn.prototype,"hasM",void 0),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Vn.prototype,"hasZ",void 0),c([h({types:km,json:{write:!0}})],Vn.prototype,"queryGeometry",void 0),c([he("queryGeometry")],Vn.prototype,"readQueryGeometry",null),c([h({type:Ge,json:{write:!0}})],Vn.prototype,"spatialReference",void 0),c([ge("spatialReference")],Vn.prototype,"writeSpatialReference",null),c([h({json:{write:!0}})],Vn.prototype,"transform",void 0),Vn=hF=c([O("esri.rest.support.FeatureSet")],Vn),Vn.prototype.toJSON.isDefaultToJSON=!0;const n9=Vn,DG={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},sFe={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function oFe(e,t){const r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}function Jf(e,t,r){const n=new Date(e.getTime());if(t&&r){const i=sFe[r],{getter:s,setter:o,multiplier:a}=i;if(r==="months"){const l=oFe(n.getFullYear(),n.getMonth()+t);n.getDate()>l&&n.setDate(l)}n[o](n[s]()+t*a)}return n}function jG(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function aFe(e,t,r){return e===0?0:e*DG[t]/DG[r]}var $a;let Ws=$a=class extends Q{static get allTime(){return VG}static get empty(){return lFe}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals($a.allTime)}get isEmpty(){return this.equals($a.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new $a({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=C(this.start)?this.start.getTime():this.start,r=C(this.end)?this.end.getTime():this.end,n=C(e.start)?e.start.getTime():e.start,i=C(e.end)?e.end.getTime():e.end;return t===n&&r===i}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=nh(this.start,n=>jG(n,e)),r=nh(this.end,n=>{const i=jG(n,e);return n.getTime()===i.getTime()?i:Jf(i,1,e)});return new $a({start:t,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return $a.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=H1(this.start,-1/0,a=>a.getTime()),r=H1(this.end,1/0,a=>a.getTime()),n=H1(e.start,-1/0,a=>a.getTime()),i=H1(e.end,1/0,a=>a.getTime());let s,o;if(n>=t&&n<=r?s=n:t>=n&&t<=i&&(s=t),r>=n&&r<=i?o=r:i>=t&&i<=r&&(o=i),s!=null&&o!=null&&!isNaN(s)&&!isNaN(o)){const a=new $a;return a.start=s===-1/0?null:new Date(s),a.end=o===1/0?null:new Date(o),a}return $a.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new $a,{start:n,end:i}=this;return C(n)&&(r.start=Jf(n,e,t)),C(i)&&(r.end=Jf(i,e,t)),r}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return VG.clone();const t=C(this.start)&&C(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=C(this.end)&&C(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new $a({start:t,end:r})}};c([h({type:Date,json:{write:{allowNull:!0}}})],Ws.prototype,"end",void 0),c([he("end")],Ws.prototype,"readEnd",null),c([ge("end")],Ws.prototype,"writeEnd",null),c([h({readOnly:!0,json:{read:!1}})],Ws.prototype,"isAllTime",null),c([h({readOnly:!0,json:{read:!1}})],Ws.prototype,"isEmpty",null),c([h({type:Date,json:{write:{allowNull:!0}}})],Ws.prototype,"start",void 0),c([he("start")],Ws.prototype,"readStart",null),c([ge("start")],Ws.prototype,"writeStart",null),Ws=$a=c([O("esri.TimeExtent")],Ws);const VG=new Ws,lFe=new Ws({start:void 0,end:void 0}),cu=Ws;var fF;const zG=new Xe({upperLeft:"upper-left",lowerLeft:"lower-left"});let zp=fF=class extends Q{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new fF(B({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};c([h({type:Pt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],zp.prototype,"extent",void 0),c([h({type:["view","edit"],json:{write:!0}})],zp.prototype,"mode",void 0),c([h({type:String,json:{read:zG.read,write:zG.write}})],zp.prototype,"originPosition",void 0),c([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],zp.prototype,"tolerance",void 0),zp=fF=c([O("esri.rest.support.QuantizationParameters")],zp);const xae=zp;var mF;const UG=new Xe({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Ea=mF=class extends Q{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=B(e))}clone(){return new mF({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:B(this.statisticParameters)})}};c([h({type:Number,json:{write:!0}})],Ea.prototype,"maxPointCount",void 0),c([h({type:Number,json:{write:!0}})],Ea.prototype,"maxRecordCount",void 0),c([h({type:Number,json:{write:!0}})],Ea.prototype,"maxVertexCount",void 0),c([h({type:String,json:{write:!0}})],Ea.prototype,"onStatisticField",void 0),c([h({type:String,json:{write:!0}})],Ea.prototype,"outStatisticFieldName",void 0),c([h({type:String,json:{read:{source:"statisticType",reader:UG.read},write:{target:"statisticType",writer:UG.write}}})],Ea.prototype,"statisticType",void 0),c([h({type:Object})],Ea.prototype,"statisticParameters",void 0),c([ge("statisticParameters")],Ea.prototype,"writeStatisticParameters",null),Ea=mF=c([O("esri.rest.support.StatisticDefinition")],Ea);const $ae=Ea;var Gg;const uFe=new Xe({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),cFe=new Xe({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ze=Gg=class extends Q{static from(e){return R6(Gg,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const n in e){const i=e[n];Array.isArray(i)?r[n]=i.map(s=>s instanceof Date?s.getTime():s):i instanceof Date?r[n]=i.getTime():r[n]=i}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new Gg(B({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:C(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};ze.MAX_MAX_RECORD_COUNT_FACTOR=5,c([h({json:{write:!0}})],ze.prototype,"aggregateIds",void 0),c([h({type:Boolean,json:{write:!0}})],ze.prototype,"cacheHint",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],ze.prototype,"compactGeometryEnabled",void 0),c([h({json:{write:!0}})],ze.prototype,"datumTransformation",void 0),c([vt("datumTransformation")],ze.prototype,"castDatumTransformation",null),c([h({type:Boolean,json:{default:!1,write:!0}})],ze.prototype,"defaultSpatialReferenceEnabled",void 0),c([h({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],ze.prototype,"distance",void 0),c([h({type:Fa,json:{write:!0}})],ze.prototype,"dynamicDataSource",void 0),c([h({type:String,json:{write:!0}})],ze.prototype,"formatOf3DObjects",void 0),c([h({type:[Pse],json:{write:{enabled:!0,overridePolicy(){return{enabled:C(this.fullText)&&this.fullText.length>0}}}}})],ze.prototype,"fullText",void 0),c([h({type:String,json:{write:!0}})],ze.prototype,"gdbVersion",void 0),c([h({types:km,json:{read:as,write:!0}})],ze.prototype,"geometry",void 0),c([h({type:Number,json:{write:!0}})],ze.prototype,"geometryPrecision",void 0),c([h({type:[String],json:{write:!0}})],ze.prototype,"groupByFieldsForStatistics",void 0),c([h({type:String,json:{write:!0}})],ze.prototype,"having",void 0),c([h({type:Date})],ze.prototype,"historicMoment",void 0),c([ge("historicMoment")],ze.prototype,"writeHistoricMoment",null),c([h({type:Number,json:{write:!0}})],ze.prototype,"maxAllowableOffset",void 0),c([h({type:Number,cast:e=>e<1?1:e>Gg.MAX_MAX_RECORD_COUNT_FACTOR?Gg.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],ze.prototype,"maxRecordCountFactor",void 0),c([h({type:["xyFootprint"],json:{write:!0}})],ze.prototype,"multipatchOption",void 0),c([h({type:Number,json:{read:{source:"resultRecordCount"}}})],ze.prototype,"num",void 0),c([h({json:{write:!0}})],ze.prototype,"objectIds",void 0),c([h({type:[String],json:{write:!0}})],ze.prototype,"orderByFields",void 0),c([h({type:[String],json:{write:!0}})],ze.prototype,"outFields",void 0),c([h({type:Ge,json:{name:"outSR",write:!0}})],ze.prototype,"outSpatialReference",void 0),c([h({type:[$ae],json:{write:{enabled:!0,overridePolicy(){return{enabled:C(this.outStatistics)&&this.outStatistics.length>0}}}}})],ze.prototype,"outStatistics",void 0),c([h({json:{write:!0}})],ze.prototype,"parameterValues",void 0),c([ge("parameterValues")],ze.prototype,"writeParameterValues",null),c([h({type:Ve,json:{write:!0}})],ze.prototype,"pixelSize",void 0),c([h({type:xae,json:{write:!0}})],ze.prototype,"quantizationParameters",void 0),c([h({type:[Object],json:{write:!0}})],ze.prototype,"rangeValues",void 0),c([h({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],ze.prototype,"relationParameter",void 0),c([h({type:String,json:{write:!0}})],ze.prototype,"resultType",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],ze.prototype,"returnCentroid",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],ze.prototype,"returnDistinctValues",void 0),c([h({type:Boolean,json:{default:!0,write:!0}})],ze.prototype,"returnExceededLimitFeatures",void 0),c([h({type:Boolean,json:{write:!0}})],ze.prototype,"returnGeometry",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],ze.prototype,"returnQueryGeometry",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],ze.prototype,"returnM",void 0),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ze.prototype,"returnZ",void 0),c([h({type:Ge,json:{write:!0}})],ze.prototype,"sourceSpatialReference",void 0),c([Pe(uFe,{ignoreUnknown:!1,name:"spatialRel"})],ze.prototype,"spatialRelationship",void 0),c([h({type:Number,json:{read:{source:"resultOffset"}}})],ze.prototype,"start",void 0),c([ge("start"),ge("num")],ze.prototype,"writeStart",null),c([h({type:String,json:{write:!0}})],ze.prototype,"sqlFormat",void 0),c([h({type:String,json:{write:!0}})],ze.prototype,"text",void 0),c([h({type:cu,json:{write:!0}})],ze.prototype,"timeExtent",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],ze.prototype,"timeReferenceUnknownClient",void 0),c([Pe(cFe,{ignoreUnknown:!1}),h({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null&&this.distance>0}}}}})],ze.prototype,"units",void 0),c([h({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],ze.prototype,"where",void 0),c([ge("where")],ze.prototype,"writeWhere",null),ze=Gg=c([O("esri.rest.support.Query")],ze);const Zl=ze;async function NP(e,t,r){const n=await dFe(e,t,r);return n9.fromJSON(n)}async function dFe(e,t,r){const n=yv(e),i={...r},s=Zl.from(t),{data:o}=await nFe(n,s,s.sourceSpatialReference,i);return o}function fi(e,t){return e?t?4:3:t?3:2}const vv=oe.getLogger("esri.layers.graphics.featureConversionUtils"),Eae={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},hFe=(e,t,r,n,i,s)=>{e[r]=i,e[r+1]=s},BG=(e,t,r,n,i,s)=>{e[r]=i,e[r+1]=s,e[r+2]=t[n+2]},pFe=(e,t,r,n,i,s)=>{e[r]=i,e[r+1]=s,e[r+2]=t[n+3]},fFe=(e,t,r,n,i,s)=>{e[r]=i,e[r+1]=s,e[r+2]=t[n+2],e[r+3]=t[n+3]};function i9(e,t,r,n){if(e){if(r)return t&&n?fFe:BG;if(t&&n)return pFe}else if(t&&n)return BG;return hFe}function FP({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function DP({scale:e,translate:t},r){return Math.round((t[1]-r)/e[1])}function jP({scale:e,translate:t},r,n){return r*e[n]+t[n]}function K1t(e,t,r){return e?t?r?a9(e):s9(e):r?o9(e):QO(e):null}function QO(e){const t=e.coords;return{x:t[0],y:t[1]}}function Tae(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function s9(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function mFe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function o9(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function yFe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function a9(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function gFe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function vFe(e,t,r,n){let i=QO;r&&n?i=a9:r?i=s9:n&&(i=o9);for(const s of t){const{geometry:o,attributes:a}=s,l=C(o)?i(o):null;e.push({attributes:a,geometry:l})}return e}function l9(e,t){return e&&t?gFe:e?mFe:t?yFe:Tae}function Mae(e,t,r,n,i){const s=l9(r,n);for(const{geometry:o,attributes:a}of t){const l=C(o)?s(new el,o):null;e.push(new Dh(l,a,null,i?a[i]:void 0))}return e}function J1t(e,t,r=l9(t.z!=null,t.m!=null)){return r(e,t)}function bFe(e,t,r,n){for(const{geometry:i,attributes:s}of t)e.push({attributes:s,geometry:C(i)?Iae(i,r,n):null});return e}function Iae(e,t,r){if(G(e))return null;const n=fi(t,r),i=[];for(let s=0;s<e.coords.length;s+=n){const o=[];for(let a=0;a<n;a++)o.push(e.coords[s+a]);i.push(o)}return t?r?{points:i,hasZ:t,hasM:r}:{points:i,hasZ:t}:r?{points:i,hasM:r}:{points:i}}function Oae(e,t,r,n,i){const s=fi(r,n);for(const{geometry:o,attributes:a}of t){const l=C(o)?Cae(new el,o,s):null;e.push(new Dh(l,a,null,i?a[i]:void 0))}return e}function Cae(e,t,r=fi(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const n=e.coords;let i=0;for(const s of t.points)for(let o=0;o<r;o++)n[i++]=s[o];return e}function wFe(e,t,r,n){for(const{geometry:i,attributes:s}of t)e.push({attributes:s,geometry:C(i)?Aae(i,r,n):null});return e}function Aae(e,t,r){if(!e)return null;const n=fi(t,r),{coords:i,lengths:s}=e,o=[];let a=0;for(const l of s){const u=[];for(let d=0;d<l;d++){const p=[];for(let f=0;f<n;f++)p.push(i[a++]);u.push(p)}o.push(u)}return t?r?{paths:o,hasZ:t,hasM:r}:{paths:o,hasZ:t}:r?{paths:o,hasM:r}:{paths:o}}function Pae(e,t,r,n,i){const s=fi(r,n);for(const{geometry:o,attributes:a}of t){const l=C(o)?kae(new el,o,s):null;e.push(new Dh(l,a,null,i?a[i]:void 0))}return e}function kae(e,t,r=fi(t.hasZ,t.hasM)){const{lengths:n,coords:i}=e;let s=0;for(const o of t.paths){for(const a of o)for(let l=0;l<r;l++)i[s++]=a[l];n.push(o.length)}return e}function _Fe(e,t,r,n){for(const{geometry:i,attributes:s,centroid:o}of t){const a=C(i)?Rae(i,r,n):null;if(C(o)){const l=QO(o);e.push({attributes:s,centroid:l,geometry:a})}else e.push({attributes:s,geometry:a})}return e}function Rae(e,t,r){if(!e)return null;const n=fi(t,r),{coords:i,lengths:s}=e,o=[];let a=0;for(const l of s){const u=[];for(let d=0;d<l;d++){const p=[];for(let f=0;f<n;f++)p.push(i[a++]);u.push(p)}o.push(u)}return t?r?{rings:o,hasZ:t,hasM:r}:{rings:o,hasZ:t}:r?{rings:o,hasM:r}:{rings:o}}function Lae(e,t,r,n,i){for(const{geometry:s,centroid:o,attributes:a}of t){const l=C(s)?Nae(new el,s,r,n):null,u=i?a[i]:void 0;C(o)?e.push(new Dh(l,a,Tae(new el,o),u)):e.push(new Dh(l,a,null,u))}return e}function Nae(e,t,r=t.hasZ,n=t.hasM){return SFe(e,t.rings,r,n),e}function SFe(e,t,r,n){const i=fi(r,n),{lengths:s,coords:o}=e;let a=0;mc(e);for(const l of t){for(const u of l)for(let d=0;d<i;d++)o[a++]=u[d];s.push(l.length)}return e}const qg=[],_w=[];function Y1t(e,t,r,n,i){qg[0]=e;const[s]=Fae(_w,qg,t,r,n,i);return tl(qg),tl(_w),s}function Fae(e,t,r,n,i,s){if(tl(e),!r){for(const o of t){const a=s?o.attributes[s]:void 0;e.push(new Dh(null,o.attributes,null,a))}return e}switch(r){case"esriGeometryPoint":return Mae(e,t,n,i,s);case"esriGeometryMultipoint":return Oae(e,t,n,i,s);case"esriGeometryPolyline":return Pae(e,t,n,i,s);case"esriGeometryPolygon":return Lae(e,t,n,i,s);default:vv.error("convertToFeatureSet:unknown-geometry",new V(`Unable to parse unknown geometry type '${r}'`)),tl(e)}return e}function Z1t(e,t,r,n,i,s){const o=e.length;switch(r){case"esriGeometryPoint":Mae(e,t,n,i,s);break;case"esriGeometryMultipoint":Oae(e,t,n,i,s);break;case"esriGeometryPolyline":Pae(e,t,n,i,s);break;case"esriGeometryPolygon":Lae(e,t,n,i,s);break;default:vv.error("convertToFeatureSet:unknown-geometry",new V(`Unable to parse unknown geometry type '${r}'`))}for(let a=0;a<t.length;a++)e[a+o].geometryType=r,e[a+o].insertAfter=t[a].insertAfter,e[a+o].groupId=t[a].groupId;return e}function X1t(e,t,r,n){_w[0]=e,Dae(qg,_w,t,r,n);const i=qg[0];return tl(qg),tl(_w),i}function Q1t(e,t,r){if(G(e))return null;const n=new el;return"hasZ"in e&&t==null&&(t=e.hasZ),"hasM"in e&&r==null&&(r=e.hasM),n8(e)?l9(t??e.z!=null,r??e.m!=null)(n,e):Hf(e)?Nae(n,e,t,r):i8(e)?kae(n,e,fi(t,r)):r8(e)?Cae(n,e,fi(t,r)):void vv.error("convertFromGeometry:unknown-geometry",new V(`Unable to parse unknown geometry type '${e}'`))}function xFe(e,t,r,n){const i=e&&("coords"in e?e:e.geometry);if(G(i))return null;switch(t){case"esriGeometryPoint":{let s=QO;return r&&n?s=a9:r?s=s9:n&&(s=o9),s(i)}case"esriGeometryMultipoint":return Iae(i,r,n);case"esriGeometryPolyline":return Aae(i,r,n);case"esriGeometryPolygon":return Rae(i,r,n);default:return vv.error("convertToGeometry:unknown-geometry",new V(`Unable to parse unknown geometry type '${t}'`)),null}}function $Fe(e,t){for(const r of t)e.push({attributes:r.attributes});return e}function Dae(e,t,r,n,i){if(tl(e),G(r))return $Fe(e,t);switch(r){case"esriGeometryPoint":return vFe(e,t,n,i);case"esriGeometryMultipoint":return bFe(e,t,n,i);case"esriGeometryPolyline":return wFe(e,t,n,i);case"esriGeometryPolygon":return _Fe(e,t,n,i);default:vv.error("convertToFeatureSet:unknown-geometry",new V(`Unable to parse unknown geometry type '${r}'`))}return e}function ebt(e){const{objectIdFieldName:t,spatialReference:r,transform:n,fields:i,hasM:s,hasZ:o,features:a,geometryType:l,exceededTransferLimit:u,uniqueIdField:d,queryGeometry:p,queryGeometryType:f}=e,y={features:Dae([],a,l,o,s),fields:i,geometryType:l,objectIdFieldName:t,spatialReference:r,uniqueIdField:d,queryGeometry:xFe(p,f,!1,!1)};return n&&(y.transform=n),u&&(y.exceededTransferLimit=u),s&&(y.hasM=s),o&&(y.hasZ=o),y}function tbt(e,t){const r=new wae,{hasM:n,hasZ:i,features:s,objectIdFieldName:o,spatialReference:a,geometryType:l,exceededTransferLimit:u,transform:d,fields:p}=e;return p&&(r.fields=p),r.geometryType=l??null,r.objectIdFieldName=o??t??null,r.spatialReference=a??null,r.objectIdFieldName?(s&&Fae(r.features,s,l,i,n,r.objectIdFieldName),u&&(r.exceededTransferLimit=u),n&&(r.hasM=n),i&&(r.hasZ=i),d&&(r.transform=d),r):(vv.error(new V("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),r)}function rbt(e){const{transform:t,features:r,hasM:n,hasZ:i}=e;if(!t)return e;for(const s of r)C(s.geometry)&&qG(s.geometry,s.geometry,n,i,t),C(s.centroid)&&qG(s.centroid,s.centroid,n,i,t);return e.transform=null,e}function nbt(e,t){const{geometryType:r,features:n,hasM:i,hasZ:s}=t;if(!e)return t;for(let o=0;o<n.length;o++){const a=n[o],l=a.weakClone();l.geometry=new el,GG(l.geometry,a.geometry,i,s,r,e),a.centroid&&(l.centroid=new el,GG(l.centroid,a.centroid,i,s,"esriGeometryPoint",e)),n[o]=l}return t.transform=e,t}function GG(e,t,r,n,i,s,o=r,a=n){if(mc(e),G(t)||!t.coords.length)return null;const l=Eae[i],{coords:u,lengths:d}=t,p=fi(r,n),f=fi(r&&o,n&&a),y=i9(r,n,o,a);if(!d.length)return y(e.coords,u,0,0,FP(s,u[0]),DP(s,u[1])),mc(e,p,0),e;let v,g,b,w,S=0,_=0,x=_;for(const $ of d){if($<l)continue;let E=0;_=x,b=v=FP(s,u[S]),w=g=DP(s,u[S+1]),y(e.coords,u,_,S,b,w),E++,S+=p,_+=f;for(let T=1;T<$;T++,S+=p)b=FP(s,u[S]),w=DP(s,u[S+1]),b===v&&w===g||(y(e.coords,u,_,S,b-v,w-g),_+=f,E++,v=b,g=w);E>=l&&(e.lengths.push(E),x=_)}return tl(e.coords,x),e.coords.length?e:null}function ibt(e,t,r,n,i,s,o=r,a=n){if(mc(e),!t||!t.coords.length)return null;const l=Eae[i],{coords:u,lengths:d}=t,p=fi(r,n),f=fi(r&&o,n&&a),y=i9(r,n,o,a);if(!d.length)return y(e.coords,u,0,0,u[0],u[1]),mc(e,p,0),e;let v=0;const g=s*s;for(const b of d){if(b<l){v+=b*p;continue}const w=e.coords.length/f,S=v,_=v+(b-1)*p;y(e.coords,u,e.coords.length,S,u[S],u[S+1]),yF(e.coords,u,p,g,y,S,_),y(e.coords,u,e.coords.length,_,u[_],u[_+1]);const x=e.coords.length/f-w;x>=l?e.lengths.push(x):tl(e.coords,w*f),v+=b*p}return e.coords.length?e:null}function EFe(e,t,r,n){const i=e[t],s=e[t+1],o=e[r],a=e[r+1],l=e[n],u=e[n+1];let d=o,p=a,f=l-d,y=u-p;if(f!==0||y!==0){const v=((i-d)*f+(s-p)*y)/(f*f+y*y);v>1?(d=l,p=u):v>0&&(d+=f*v,p+=y*v)}return f=i-d,y=s-p,f*f+y*y}function yF(e,t,r,n,i,s,o){let a,l=n,u=0;for(let d=s+r;d<o;d+=r)a=EFe(t,d,s,o),a>l&&(u=d,l=a);l>n&&(u-s>r&&yF(e,t,r,n,i,s,u),i(e,t,e.length,u,t[u],t[u+1]),o-u>r&&yF(e,t,r,n,i,u,o))}function sbt(e,t,r,n){if(G(t)||!t.coords||!t.coords.length)return null;const i=fi(r,n);let s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;if(t&&t.coords){const u=t.coords;for(let d=0;d<u.length;d+=i){const p=u[d],f=u[d+1];s=Math.min(s,p),a=Math.max(a,p),o=Math.min(o,f),l=Math.max(l,f)}}return YL(e)?gAe(e,s,o,a,l):lAe(s,o,a,l,e),e}function qG(e,t,r,n,i){const{coords:s,lengths:o}=t,a=fi(r,n);if(!s.length)return e!==t&&mc(e),e;d6(i);const{originPosition:l,scale:u,translate:d}=i,p=MFe;p.originPosition=l;const f=p.scale;f[0]=u[0]??1,f[1]=-(u[1]??1),f[2]=u[2]??1,f[3]=u[3]??1;const y=p.translate;if(y[0]=d[0]??0,y[1]=d[1]??0,y[2]=d[2]??0,y[3]=d[3]??0,!o.length){for(let g=0;g<a;++g)e.coords[g]=jP(p,s[g],g);return e!==t&&mc(e,a,0),e}let v=0;for(let g=0;g<o.length;g++){const b=o[g];e.lengths[g]=b;for(let _=0;_<a;++_)e.coords[v+_]=jP(p,s[v+_],_);let w=e.coords[v],S=e.coords[v+1];v+=a;for(let _=1;_<b;_++,v+=a){w+=s[v]*f[0],S+=s[v+1]*f[1],e.coords[v]=w,e.coords[v+1]=S;for(let x=2;x<a;++x)e.coords[v+x]=jP(p,s[v+x],x)}}return e!==t&&mc(e,s.length,o.length),e}function obt(e,t,r,n,i,s){if(mc(e),e.lengths.push(...t.lengths),r===i&&n===s)for(let o=0;o<t.coords.length;o++)e.coords.push(t.coords[o]);else{const o=fi(r,n),a=i9(r,n,i,s),l=t.coords;for(let u=0;u<l.length;u+=o)a(e.coords,l,e.coords.length,u,l[u],l[u+1])}return e}function TFe(e,t,r,n){let i=0,s=e[n*t],o=e[n*(t+1)];for(let a=1;a<r;a++){const l=s+e[n*(t+a)],u=o+e[n*(t+a)+1],d=(l-s)*(u+o);s=l,o=u,i+=d}return .5*i}function abt(e,t){const{coords:r,lengths:n}=e;let i=0,s=0;for(let o=0;o<n.length;o++){const a=n[o];s+=TFe(r,i,a,t),i+=a}return Math.abs(s)}function lbt(e,t){if(G(e))return null;const r=e.clone(),n=e.coords,i=e.lengths;let s=0;for(let o=0;o<i.length;o++){const a=i[o];let l=n[t*s],u=n[t*s+1];for(let d=1;d<a;d++){const p=l+n[t*(s+d)],f=u+n[t*(s+d)+1];r.coords[t*(s+d)]=p,r.coords[t*(s+d)+1]=f,l=p,u=f}s+=a}return r}function mc(e,t=0,r=0){tl(e.lengths,r),tl(e.coords,t)}function tl(e,t=0){e.length!==t&&(e.length=t)}const MFe={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};var gF;let Or=gF=class extends Q{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new gF(B({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};c([h({type:Boolean,json:{write:!0}})],Or.prototype,"cacheHint",void 0),c([h({type:Fa,json:{write:!0}})],Or.prototype,"dynamicDataSource",void 0),c([h({type:String,json:{write:!0}})],Or.prototype,"gdbVersion",void 0),c([h({type:Number,json:{write:!0}})],Or.prototype,"geometryPrecision",void 0),c([h({type:Date})],Or.prototype,"historicMoment",void 0),c([ge("historicMoment")],Or.prototype,"_writeHistoricMoment",null),c([h({type:Number,json:{write:!0}})],Or.prototype,"maxAllowableOffset",void 0),c([h({type:[Number],json:{write:!0}})],Or.prototype,"objectIds",void 0),c([h({type:[String],json:{write:!0}})],Or.prototype,"orderByFields",void 0),c([h({type:[String],json:{write:!0}})],Or.prototype,"outFields",void 0),c([h({type:Ge,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Or.prototype,"outSpatialReference",void 0),c([h({json:{write:!0}})],Or.prototype,"relationshipId",void 0),c([h({type:Number,json:{read:{source:"resultOffset"}}})],Or.prototype,"start",void 0),c([ge("start"),ge("num")],Or.prototype,"writeStart",null),c([h({type:Number,json:{read:{source:"resultRecordCount"}}})],Or.prototype,"num",void 0),c([h({json:{write:!0}})],Or.prototype,"returnGeometry",void 0),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Or.prototype,"returnM",void 0),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Or.prototype,"returnZ",void 0),c([h({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Or.prototype,"where",void 0),Or=gF=c([O("esri.rest.support.RelationshipQuery")],Or),Or.from=qt(Or);const x0=Or,ubt=Object.freeze(Object.defineProperty({__proto__:null,default:x0},Symbol.toStringTag,{value:"Module"}));var vF;let Ly=vF=class extends Q{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new vF({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};c([h({type:[String],json:{write:!0}})],Ly.prototype,"groupByFields",void 0),c([h({type:Number,json:{write:!0}})],Ly.prototype,"topCount",void 0),c([h({type:[String],json:{write:!0}})],Ly.prototype,"orderByFields",void 0),Ly=vF=c([O("esri.rest.support.TopFilter")],Ly);const IFe=Ly;var bF;const WG=new Xe({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),HG=new Xe({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let cr=bF=class extends Q{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new bF(B({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};c([h({type:Boolean,json:{write:!0}})],cr.prototype,"cacheHint",void 0),c([h({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],cr.prototype,"distance",void 0),c([h({types:km,json:{read:as,write:!0}})],cr.prototype,"geometry",void 0),c([h({type:Number,json:{write:!0}})],cr.prototype,"geometryPrecision",void 0),c([h({type:Number,json:{write:!0}})],cr.prototype,"maxAllowableOffset",void 0),c([h({type:Number,json:{read:{source:"resultRecordCount"}}})],cr.prototype,"num",void 0),c([h({json:{write:!0}})],cr.prototype,"objectIds",void 0),c([h({type:[String],json:{write:!0}})],cr.prototype,"orderByFields",void 0),c([h({type:[String],json:{write:!0}})],cr.prototype,"outFields",void 0),c([h({type:Ge,json:{read:{source:"outSR"},write:{target:"outSR"}}})],cr.prototype,"outSpatialReference",void 0),c([h({type:String,json:{write:!0}})],cr.prototype,"resultType",void 0),c([h({json:{write:!0}})],cr.prototype,"returnGeometry",void 0),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],cr.prototype,"returnM",void 0),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],cr.prototype,"returnZ",void 0),c([h({type:Number,json:{read:{source:"resultOffset"}}})],cr.prototype,"start",void 0),c([ge("start"),ge("num")],cr.prototype,"writeStart",null),c([h({type:String,json:{read:{source:"spatialRel",reader:WG.read},write:{target:"spatialRel",writer:WG.write}}})],cr.prototype,"spatialRelationship",void 0),c([h({type:cu,json:{write:!0}})],cr.prototype,"timeExtent",void 0),c([h({type:IFe,json:{write:!0}})],cr.prototype,"topFilter",void 0),c([h({type:String,json:{read:HG.read,write:{writer:HG.write,overridePolicy(e){return{enabled:C(e)&&C(this.distance)&&this.distance>0}}}}})],cr.prototype,"units",void 0),c([h({type:String,json:{write:!0}})],cr.prototype,"where",void 0),cr=bF=c([O("esri.rest.support.TopFeaturesQuery")],cr),cr.from=qt(cr);const d$=cr,OFe="esri.widgets.Feature.support.relatedFeatureUtils",KG=oe.getLogger(OFe),JG=new Map;function rE(e){if(!nc(e))return null;const[t,r]=e.split("/").slice(1);return{layerId:t,fieldName:r}}function CFe(e,t){if(!t.relationships)return null;let r=null;const{relationships:n}=t;return n.some(i=>i.id===parseInt(e,10)&&(r=i,!0)),r}function AFe({originRelationship:e,relationships:t,layerId:r}){let n=null;return t&&t.some(i=>(`${i.relatedTableId}`===r&&i.id===(e==null?void 0:e.id)&&(n=i),!!n)),n}function PFe(e,t){const r=t.toLowerCase();for(const n in e)if(n.toLowerCase()===r)return e[n];return null}function kFe(e,t){const r=CFe(e,t);if(r)return{url:`${t.url}/${r.relatedTableId}`,sourceSpatialReference:t.spatialReference,relation:r,relatedFields:[],outStatistics:[]}}function RFe(e,t){if(!t||!e)return;const{features:r,statsFeatures:n}=e,i=r&&r.value;t.relatedFeatures=i?i.features:[];const s=n&&n.value;t.relatedStatsFeatures=s?s.features:[]}function LFe(e,t,r,n){var s;const i=new x0;return i.outFields=["*"],i.relationshipId=typeof t.id=="number"?t.id:parseInt(t.id,10),i.objectIds=[e.attributes[r.objectIdField]],((s=r.queryRelatedFeatures)==null?void 0:s.call(r,i,n))??Promise.resolve({})}function NFe(e,t,r){let n=0;const i=[];for(;n<t.length;)i.push(`${e} IN (${t.slice(n,r+n)})`),n+=r;return i.join(" OR ")}async function FFe(e,t,r,n){const i=r.layerId.toString(),{layerInfo:s,relation:o,relatedFields:a,outStatistics:l,url:u,sourceSpatialReference:d}=t;if(!s||!o)return null;const p=AFe({originRelationship:o,relationships:s.relationships,layerId:i});if(p!=null&&p.relationshipTableId&&p.keyFieldInRelationshipTable){const y=(await LFe(e,p,r,n))[e.attributes[r.objectIdField]];if(!y)return null;const v=y.features.map(g=>g.attributes[s.objectIdField]);if(l!=null&&l.length&&s.supportsStatistics){const g=new Zl;g.where=NFe(s.objectIdField,v,1e3),g.outFields=a,g.outStatistics=l,g.sourceSpatialReference=d;const b={features:Promise.resolve(y),statsFeatures:NP(u,g)};return Wn(b)}}const f=p==null?void 0:p.keyField;if(f){const y=u8(UFe(s.fields,f)),v=PFe(e.attributes,o.keyField),g=y?`${f}=${v}`:`${f}='${v}'`,b=NP(u,new Zl({where:g,outFields:t.relatedFields,sourceSpatialReference:d}),n),w=t.outStatistics&&t.outStatistics.length>0&&s.supportsStatistics?NP(u,new Zl({where:g,outFields:t.relatedFields,outStatistics:t.outStatistics,sourceSpatialReference:d}),n):null,S={features:b};return w&&(S.statsFeatures=w),Wn(S)}return null}function DFe(e,t){return Tt(e,{query:{f:"json"},signal:t&&t.signal})}function jFe({relatedInfos:e,layer:t},r){const n={};return e.forEach((i,s)=>{const{relation:o}=i;if(!o){const p=new V("relation-required","A relation is required on a layer to retrieve related records.");throw KG.error(p),p}const{relatedTableId:a}=o;if(typeof a!="number"){const p=new V("A related table ID is required on a layer to retrieve related records.");throw KG.error(p),p}const l=`${t.url}/${a}`,u=JG.get(l),d=u||DFe(l);u||JG.set(l,d),n[s]=d}),tte(Wn(n),r)}function VFe({graphic:e,relatedInfos:t,layer:r},n){const i={};return t.forEach((s,o)=>{s.layerInfo&&(i[o]=FFe(e,s,r,n))}),Wn(i)}function zFe({relatedInfo:e,fieldName:t,fieldInfo:r}){var n,i;if((n=e.relatedFields)==null||n.push(t),r.statisticType){const s=new $ae({statisticType:r.statisticType,onStatisticField:t,outStatisticFieldName:t});(i=e.outStatistics)==null||i.push(s)}}function UFe(e,t){if(e!=null){t=t.toLowerCase();for(const r of e)if(r&&r.name.toLowerCase()===t)return r}return null}const YG={chartAnimation:!0};let an=class extends Ie{constructor(t){super(t),this.abilities={...YG},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.isAggregate=!1,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(t){return{...YG,...t}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(t){this._setContentElementMedia(t)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(t){const{formattedMediaInfoCount:r}=this,n=(t+r)%r;this.activeMediaInfoIndex=n}_pageContentElementMedia(t){const{activeMediaInfoIndex:r}=this,n=r+t;this._setContentElementMedia(n)}_formatMediaInfos(){const{mediaInfos:t,layer:r}=this,n=this.attributes??{},i=this.formattedAttributes??{},s=this.expressionAttributes??{},o=this.fieldInfoMap??new Map;return(t==null?void 0:t.map(a=>{const l=a==null?void 0:a.clone();if(!l)return null;if(l.title=Lf({attributes:n,fieldInfoMap:o,globalAttributes:i,expressionAttributes:s,layer:r,text:l.title}),l.caption=Lf({attributes:n,fieldInfoMap:o,globalAttributes:i,expressionAttributes:s,layer:r,text:l.caption}),l.altText=Lf({attributes:n,fieldInfoMap:o,globalAttributes:i,expressionAttributes:s,layer:r,text:l.altText}),l.type==="image"){const{value:u}=l;return this._setImageValue({value:u,formattedAttributes:i,layer:r}),l.value.sourceURL?l:void 0}if(l.type==="pie-chart"||l.type==="line-chart"||l.type==="column-chart"||l.type==="bar-chart"){const{value:u}=l;return this._setChartValue({value:u,chartType:l.type,attributes:n,formattedAttributes:i,layer:r,expressionAttributes:s}),l}return null}).filter(C))??[]}_setImageValue(t){const r=this.fieldInfoMap??new Map,{value:n,formattedAttributes:i,layer:s}=t,{linkURL:o,sourceURL:a}=n;if(a){const l=HN(a,s);n.sourceURL=WN({formattedAttributes:i,template:l,fieldInfoMap:r})}if(o){const l=HN(o,s);n.linkURL=WN({formattedAttributes:i,template:l,fieldInfoMap:r})}}_setChartValue(t){const{value:r,attributes:n,formattedAttributes:i,chartType:s,layer:o,expressionAttributes:a}=t,{popupTemplate:l,relatedInfos:u}=this,{fields:d,normalizeField:p}=r,f=o;if(r.fields=I3e(d,f),p&&(r.normalizeField=A_(p,f)),!d.some(v=>!!(i[v]!=null||nc(v)&&(u!=null&&u.size))))return;const y=(l==null?void 0:l.fieldInfos)??[];d.forEach(v=>{if(nc(v))return void(r.series=[...r.series,...this._getRelatedChartInfos({fieldInfos:y,fieldName:v,formattedAttributes:i,chartType:s,value:r})]);const g=this._getChartOption({value:r,attributes:n,chartType:s,formattedAttributes:i,expressionAttributes:a,fieldName:v,fieldInfos:y});r.series.push(g)})}_getRelatedChartInfos(t){var y;const{fieldInfos:r,fieldName:n,formattedAttributes:i,chartType:s,value:o}=t,a=[],l=rE(n),u=l&&((y=this.relatedInfos)==null?void 0:y.get(l.layerId.toString()));if(!u)return a;const{relatedFeatures:d,relation:p}=u;if(!p||!d)return a;const{cardinality:f}=p;return d.forEach(v=>{const{attributes:g}=v;g&&Object.keys(g).forEach(b=>{b===l.fieldName&&a.push(this._getChartOption({value:o,attributes:g,formattedAttributes:i,fieldName:n,chartType:s,relatedFieldName:b,hasMultipleRelatedFeatures:(d==null?void 0:d.length)>1,fieldInfos:r}))})}),f==="one-to-many"||f==="many-to-many"?a:[a[0]]}_getTooltip({label:t,value:r,chartType:n}){return n==="pie-chart"?`${t}`:`${t}: ${r}`}_getChartOption(t){var E;const{value:r,attributes:n,formattedAttributes:i,expressionAttributes:s,fieldName:o,relatedFieldName:a,fieldInfos:l,chartType:u,hasMultipleRelatedFeatures:d}=t,p=this.layer,f=this.fieldInfoMap??new Map,{normalizeField:y,tooltipField:v}=r,g=y?nc(y)?n[rE(y).fieldName]:n[y]:null,b=U8(o)&&s&&s[o]!==void 0?s[o]:a&&n[a]!==void 0?n[a]:n[o]!==void 0?n[o]:i[o],w=new cie({fieldName:o,value:b===void 0?null:b&&g?b/g:b});if(nc(o)){const T=f.get(o.toLowerCase()),M=v&&f.get(v.toLowerCase()),A=(T==null?void 0:T.fieldName)??o,k=d&&v?rE(v).fieldName:(M==null?void 0:M.fieldName)??v,P=d&&k?n[k]:i[k]??(T==null?void 0:T.label)??(T==null?void 0:T.fieldName)??a,L=d&&a?n[a]:i[A];return w.tooltip=this._getTooltip({label:P,value:L,chartType:u}),w}const S=Voe(l,o),_=A_(o,p),x=v&&i[v]!==void 0?i[v]:Doe(S||new kS({fieldName:_}),(E=this.popupTemplate)==null?void 0:E.expressionInfos),$=i[_];return w.tooltip=this._getTooltip({label:x,value:$,chartType:u}),w}};c([h()],an.prototype,"abilities",void 0),c([vt("abilities")],an.prototype,"castAbilities",null),c([h()],an.prototype,"activeMediaInfoIndex",void 0),c([h({readOnly:!0})],an.prototype,"activeMediaInfo",null),c([h()],an.prototype,"attributes",void 0),c([h()],an.prototype,"description",void 0),c([h()],an.prototype,"fieldInfoMap",void 0),c([h()],an.prototype,"formattedAttributes",void 0),c([h()],an.prototype,"expressionAttributes",void 0),c([h({readOnly:!0})],an.prototype,"formattedMediaInfos",null),c([h()],an.prototype,"isAggregate",void 0),c([h()],an.prototype,"layer",void 0),c([h({readOnly:!0})],an.prototype,"formattedMediaInfoCount",null),c([h()],an.prototype,"mediaInfos",void 0),c([h()],an.prototype,"popupTemplate",void 0),c([h()],an.prototype,"relatedInfos",void 0),c([h()],an.prototype,"title",void 0),an=c([O("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],an);const Ff=an;var ZG=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],BFe=[].concat(ZG.slice(30,39),ZG.slice(28,30).reverse()),GFe=[{name:"default",colors:BFe},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}];const XG="en-us",u9=new Map([["ar",()=>Y(()=>import("./ar-bb1fe5ab.js"),["assets/ar-bb1fe5ab.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.a)],["bg-bg",()=>Y(()=>import("./bg_BG-184a2bfa.js"),["assets/bg_BG-184a2bfa.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.b)],["bs-ba",()=>Y(()=>import("./bs_BA-f32cc344.js"),["assets/bs_BA-f32cc344.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.b)],["ca-es",()=>Y(()=>import("./ca_ES-d17ee95b.js"),["assets/ca_ES-d17ee95b.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.c)],["cs-cz",()=>Y(()=>import("./cs_CZ-bcd1e782.js"),["assets/cs_CZ-bcd1e782.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.c)],["da-dk",()=>Y(()=>import("./da_DK-27b1b06e.js"),["assets/da_DK-27b1b06e.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.d)],["de-de",()=>Y(()=>import("./de_DE-c0a1d8dd.js"),["assets/de_DE-c0a1d8dd.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.d)],["de-ch",()=>Y(()=>import("./de_CH-be7b4255.js"),["assets/de_CH-be7b4255.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.d)],["el-gr",()=>Y(()=>import("./el_GR-05fb9ec0.js"),["assets/el_GR-05fb9ec0.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.e)],["en-us",()=>Y(()=>import("./en_US-170979d8.js"),["assets/en_US-170979d8.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.e)],["en-ca",()=>Y(()=>import("./en_CA-170979d8.js"),["assets/en_CA-170979d8.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.e)],["es-es",()=>Y(()=>import("./es_ES-d0b66640.js"),["assets/es_ES-d0b66640.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.e)],["et-ee",()=>Y(()=>import("./et_EE-56dd74d3.js"),["assets/et_EE-56dd74d3.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.e)],["fi-fi",()=>Y(()=>import("./fi_FI-91d58cb9.js"),["assets/fi_FI-91d58cb9.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.f)],["fr-fr",()=>Y(()=>import("./fr_FR-a11503e0.js"),["assets/fr_FR-a11503e0.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.f)],["he-il",()=>Y(()=>import("./he_IL-90db98c4.js"),["assets/he_IL-90db98c4.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.h)],["hr-hr",()=>Y(()=>import("./hr_HR-fac8bb29.js"),["assets/hr_HR-fac8bb29.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.h)],["hu-hu",()=>Y(()=>import("./hu_HU-e8803856.js"),["assets/hu_HU-e8803856.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.h)],["id-id",()=>Y(()=>import("./id_ID-86e57d06.js"),["assets/id_ID-86e57d06.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.i)],["it-it",()=>Y(()=>import("./it_IT-2d4485ba.js"),["assets/it_IT-2d4485ba.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.i)],["ja-jp",()=>Y(()=>import("./ja_JP-77c6c16d.js"),["assets/ja_JP-77c6c16d.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.j)],["ko-kr",()=>Y(()=>import("./ko_KR-e155b9ab.js"),["assets/ko_KR-e155b9ab.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.k)],["lt-lt",()=>Y(()=>import("./lt_LT-fde47ae9.js"),["assets/lt_LT-fde47ae9.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.l)],["lv-lv",()=>Y(()=>import("./lv_LV-359be050.js"),["assets/lv_LV-359be050.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.l)],["nb-no",()=>Y(()=>import("./nb_NO-30d57c1a.js"),["assets/nb_NO-30d57c1a.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.n)],["nl-nl",()=>Y(()=>import("./nl_NL-cb904b48.js"),["assets/nl_NL-cb904b48.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.n)],["pl-pl",()=>Y(()=>import("./pl_PL-58c54c9f.js"),["assets/pl_PL-58c54c9f.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.p)],["pt-br",()=>Y(()=>import("./pt_BR-d2e10248.js"),["assets/pt_BR-d2e10248.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.p)],["pt-pt",()=>Y(()=>import("./pt_PT-65a41842.js"),["assets/pt_PT-65a41842.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.p)],["ro-ro",()=>Y(()=>import("./ro_RO-15e90e9f.js"),["assets/ro_RO-15e90e9f.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.r)],["ru-ru",()=>Y(()=>import("./ru_RU-a74d21e5.js"),["assets/ru_RU-a74d21e5.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.r)],["sk-sk",()=>Y(()=>import("./sk_SK-a928dbd1.js"),["assets/sk_SK-a928dbd1.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.s)],["sl-sl",()=>Y(()=>import("./sl_SL-1a3c3078.js"),["assets/sl_SL-1a3c3078.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.s)],["sr-rs",()=>Y(()=>import("./sr_RS-0b18b911.js"),["assets/sr_RS-0b18b911.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.s)],["sv-se",()=>Y(()=>import("./sv_SE-ce7e3f84.js"),["assets/sv_SE-ce7e3f84.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.s)],["th-th",()=>Y(()=>import("./th_TH-1448f333.js"),["assets/th_TH-1448f333.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.t)],["tr-tr",()=>Y(()=>import("./tr_TR-dd92f630.js"),["assets/tr_TR-dd92f630.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.t)],["uk-ua",()=>Y(()=>import("./uk_UA-fe4434ed.js"),["assets/uk_UA-fe4434ed.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.u)],["vi-vn",()=>Y(()=>import("./vi_VN-41938633.js"),["assets/vi_VN-41938633.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.v)],["zh-cn",()=>Y(()=>import("./zh_Hans-524a1291.js"),["assets/zh_Hans-524a1291.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.z)],["zh-hk",()=>Y(()=>import("./zh_Hant-0e1f08e5.js"),["assets/zh_Hant-0e1f08e5.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.z)],["zh-tw",()=>Y(()=>import("./zh_Hant-0e1f08e5.js"),["assets/zh_Hant-0e1f08e5.js","assets/_commonjsHelpers-2f3e7994.js","assets/_commonjs-dynamic-modules-42bbacb3.js"]).then(e=>e.z)]]);function qFe(e){const t=e.split("-")[0].toLowerCase();let r=null;for(const n of u9.keys())if(n.startsWith(t)){r=n;break}return r}function WFe(e){return e?u9.has(e.toLowerCase())?e.toLowerCase():qFe(e)||XG:XG}let Zm=null,S1=null;async function HFe(e=Yo()){if(e=WFe(e),Zm&&e===S1)return Zm;Zm=Y(()=>import("./index-a1a574a3.js"),["assets/index-a1a574a3.js","assets/_commonjsHelpers-2f3e7994.js"]).then(t=>t.i),S1=e;try{const[t,r]=await Promise.all([Zm,u9.get(S1)()]);S1===e&&(t.am4core.options.defaultLocale=r.default),t.am4core.options.suppressWarnings=!0,t.am4core.options.autoDispose=!0}catch{return Zm=null,S1=null,null}return Zm}function KFe(e,t="default"){const r=GFe.find(n=>n.name===t);return r?r.colors.map(n=>e.color(n)):null}const Bi="esri-feature-media",Dr={base:Bi,mediaContainer:`${Bi}__container`,mediaItemContainer:`${Bi}__item-container`,mediaItem:`${Bi}__item`,mediaItemTitle:`${Bi}__item-title`,mediaItemCaption:`${Bi}__item-caption`,mediaPrevious:`${Bi}__previous`,mediaPreviousIconLTR:`${Bi}__previous-icon`,mediaPreviousIconRTL:`${Bi}__previous-icon--rtl`,mediaNext:`${Bi}__next`,mediaNextIconLTR:`${Bi}__next-icon`,mediaNextIconRTL:`${Bi}__next-icon--rtl`,mediaChart:`${Bi}__chart`,mediaButton:`${Bi}__button`,mediaIcon:`${Bi}__icon`,iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow"},VP=.05,zP=.95,UP=15,bu="color",ed="tooltip",x1="value",QG="default-line-value";let ys=class extends Yn{constructor(t,r){super(t,r),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.viewModel=new Ff,this.messages=null,this._getChartDependencies=async n=>{const i=await HFe(),{destroyed:s,viewModel:o}=this;if(s||!o||!n)return;const{activeMediaInfo:a}=o,l=await this._getRendererColors(i);this._renderChart({chartDiv:n,mediaInfo:a,chartsModule:i,colorMap:l})}}initialize(){this._featureElementInfo=new HO,this.addHandles([ue(()=>{var t,r;return[(t=this.viewModel)==null?void 0:t.activeMediaInfo,(r=this.viewModel)==null?void 0:r.activeMediaInfoIndex]},()=>this._setupMediaRefreshTimer(),mt),ue(()=>{var t,r;return[(t=this.viewModel)==null?void 0:t.description,(r=this.viewModel)==null?void 0:r.title]},()=>this._setupFeatureElementInfo(),mt)])}destroy(){var t;this._clearMediaRefreshTimer(),(t=this._featureElementInfo)==null||t.destroy()}get attributes(){return this.viewModel.attributes}set attributes(t){this.viewModel.attributes=t}get activeMediaInfoIndex(){return this.viewModel.activeMediaInfoIndex}set activeMediaInfoIndex(t){this.viewModel.activeMediaInfoIndex=t}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get fieldInfoMap(){return this.viewModel.fieldInfoMap}set fieldInfoMap(t){this.viewModel.fieldInfoMap=t}get layer(){return this.viewModel.layer}set layer(t){this.viewModel.layer=t}get mediaInfos(){return this.viewModel.mediaInfos}set mediaInfos(t){this.viewModel.mediaInfos=t}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(t){this.viewModel.popupTemplate=t}get relatedInfos(){return this.viewModel.relatedInfos}set relatedInfos(t){this.viewModel.relatedInfos=t}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}render(){var t;return N("div",{bind:this,class:Dr.base,onkeyup:this._handleMediaKeyup},(t=this._featureElementInfo)==null?void 0:t.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:t}=this.viewModel;return t?N("div",{key:"media-element-container",class:Dr.mediaContainer},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(t){const{_refreshIntervalInfo:r}=this,{activeMediaInfoIndex:n,formattedMediaInfoCount:i}=this.viewModel,{value:s,refreshInterval:o,altText:a,title:l,type:u}=t,{sourceURL:d,linkURL:p}=s,f=Foe(p??void 0)?"_blank":"_self",y=f==="_blank"?"noreferrer":"",v=o?r:null,g=v?v.timestamp:0,b=v?v.sourceURL:d,w=N("img",{alt:a||l,key:`media-${u}-${n}-${i}-${g}`,src:b??void 0});return(p?N("a",{title:l,href:p,rel:y,target:f},w):null)||w}renderChartMediaInfo(t){const{activeMediaInfoIndex:r,formattedMediaInfoCount:n}=this.viewModel;return N("div",{key:`media-${t.type}-${r}-${n}`,bind:this,class:Dr.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:t}=this.viewModel;return t?t.type==="image"?this.renderImageMediaInfo(t):t.type.includes("chart")?this.renderChartMediaInfo(t):null:null}renderMediaInfo(){const{activeMediaInfo:t}=this.viewModel;if(!t)return null;const r=t.title?N("div",{key:"media-title",class:Dr.mediaItemTitle,innerHTML:t.title}):null,n=t.caption?N("div",{key:"media-caption",class:Dr.mediaItemCaption,innerHTML:t.caption}):null;return N("div",{key:"media-container",class:Dr.mediaItemContainer},N("div",{key:"media-item-container",class:Dr.mediaItem},this.renderMediaInfoType()),r,n)}renderMediaPageButton(t){if(this.viewModel.formattedMediaInfoCount<2)return null;const r=t==="previous",n=r?this.messages.previous:this.messages.next,i=r?this.classes(Dr.mediaButton,Dr.mediaPrevious):this.classes(Dr.mediaButton,Dr.mediaNext),s=r?this.classes(Dr.mediaIcon,Dr.mediaPreviousIconLTR,Dr.iconLeftTriangleArrow):this.classes(Dr.mediaIcon,Dr.mediaNextIconLTR,Dr.iconRightTriangleArrow),o=r?this.classes(Dr.mediaIcon,Dr.mediaPreviousIconRTL,Dr.iconRightTriangleArrow):this.classes(Dr.mediaIcon,Dr.mediaNextIconRTL,Dr.iconLeftTriangleArrow),a=r?"media-previous":"media-next",l=r?this._previous:this._next;return N("button",{type:"button",key:a,title:n,"aria-label":n,tabIndex:0,class:i,bind:this,onclick:l},N("span",{"aria-hidden":"true",class:s}),N("span",{"aria-hidden":"true",class:o}))}_setupFeatureElementInfo(){var n;const{description:t,title:r}=this;(n=this._featureElementInfo)==null||n.set({description:t,title:r})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_getRenderer(){const{isAggregate:t,layer:r}=this.viewModel;return t&&(r!=null&&r.featureReduction)&&"renderer"in r.featureReduction?r.featureReduction.renderer:r==null?void 0:r.renderer}async _getRendererColors(t){const{am4core:r}=t,n=new Map,i=this._getRenderer(),s="default";if(!i)return n;const o=await SNe(i);return o.delete(s),Array.from(o.values()).every(a=>(a==null?void 0:a.length)===1)&&(n.set(QG,r.color({r:50,g:50,b:50,a:1})),Array.from(o.keys()).forEach(a=>{var l;a&&n.set(a,r.color((l=o.get(a))==null?void 0:l[0].toCss(!0)))})),n}_handleMediaKeyup(t){const r=Vl(t);r==="ArrowLeft"&&(t.stopPropagation(),this.viewModel.previous()),r==="ArrowRight"&&(t.stopPropagation(),this.viewModel.next())}_renderChart(t){const{abilities:r}=this.viewModel,{chartsModule:n,chartDiv:i,mediaInfo:s,colorMap:o}=t,{value:a,type:l}=s,{am4core:u}=n,d=KFe(u);function p(v){v instanceof u.ColorSet&&d&&(v.list=d)}iM()&&u.useTheme(n.am4themes_dark);const f=window.matchMedia("(prefers-reduced-motion: reduce)");r.chartAnimation&&!f.matches?u.useTheme(n.am4themes_animated):u.unuseTheme(n.am4themes_animated),u.useTheme(p);const y=l==="pie-chart"?this._createPieChart(t):this._createXYChart(t);i.setAttribute("aria-label",s.altText||s.title),y.data=a.series.map(v=>({[ed]:v.tooltip,[x1]:v.value,[bu]:o.get(v.fieldName)})).filter(v=>l!=="pie-chart"||v.value!=null&&v.value>0)}_customizeChartTooltip(t,r){t&&(t.label.wrap=!0,t.label.maxWidth=200,t.autoTextColor=!1,t.getFillFromObject=!1,t.label.fill=r.color("#ffffff"),t.background.fill=r.color({r:0,g:0,b:0,a:.7}))}_createPieChart(t){const{chartDiv:r,chartsModule:n}=t,{am4core:i,am4charts:s}=n,o=i.create(r,s.PieChart);o.rtl=Bl(this.container);const a=o.series.push(new s.PieSeries);return a.labels.template.disabled=!0,a.ticks.template.disabled=!0,a.dataFields.value=x1,a.dataFields.category=ed,this._customizeChartTooltip(a.tooltip,i),a.slices.template.propertyFields.fill=bu,a.slices.template.propertyFields.stroke=bu,o}_getMinSeriesValue(t){let r=0;return t.forEach(n=>r=Math.min(n.value,r)),r}_createColumnChart(t,r){const{chartsModule:n,mediaInfo:i}=r,{value:s}=i,{am4core:o,am4charts:a}=n,l=t.xAxes.push(new a.CategoryAxis);l.dataFields.category=ed,l.renderer.labels.template.disabled=!0;const u=l.tooltip;this._customizeChartTooltip(u,o),u.events.on("sizechanged",()=>{u.dy=-u.contentHeight});const d=t.yAxes.push(new a.ValueAxis),p=d.renderer.labels.template;d.renderer.minLabelPosition=VP,d.renderer.maxLabelPosition=zP,d.min=this._getMinSeriesValue(s.series),this._customizeChartTooltip(d.tooltip,o),p.wrap=!0;const f=t.series.push(new a.ColumnSeries);f.dataFields.valueY=x1,f.dataFields.categoryX=ed,f.columns.template.propertyFields.fill=bu,f.columns.template.propertyFields.stroke=bu,t.cursor=new a.XYCursor,s.series.length>UP&&(t.scrollbarX=new o.Scrollbar)}_createBarChart(t,r){const{chartsModule:n,mediaInfo:i}=r,{value:s}=i,{am4core:o,am4charts:a}=n,l=t.yAxes.push(new a.CategoryAxis);l.dataFields.category=ed,l.renderer.inversed=!0,l.renderer.labels.template.disabled=!0;const u=l.tooltip;this._customizeChartTooltip(u,o),u.events.on("sizechanged",()=>{u.dx=u.contentWidth});const d=t.xAxes.push(new a.ValueAxis),p=d.renderer.labels.template;d.renderer.minLabelPosition=VP,d.renderer.maxLabelPosition=zP,d.min=this._getMinSeriesValue(s.series),this._customizeChartTooltip(d.tooltip,o),p.wrap=!0;const f=t.series.push(new a.ColumnSeries);f.dataFields.valueX=x1,f.dataFields.categoryY=ed,f.columns.template.propertyFields.fill=bu,f.columns.template.propertyFields.stroke=bu,t.cursor=new a.XYCursor,s.series.length>UP&&(t.scrollbarY=new o.Scrollbar)}_createLineChart(t,r){const{chartsModule:n,mediaInfo:i,colorMap:s}=r,{value:o}=i,{am4core:a,am4charts:l}=n,u=t.xAxes.push(new l.CategoryAxis);u.dataFields.category=ed,u.renderer.labels.template.disabled=!0;const d=u.tooltip;this._customizeChartTooltip(d,a),d.events.on("sizechanged",()=>{d.dy=-d.contentHeight});const p=t.yAxes.push(new l.ValueAxis),f=p.renderer.labels.template;p.renderer.minLabelPosition=VP,p.renderer.maxLabelPosition=zP,p.min=this._getMinSeriesValue(o.series),this._customizeChartTooltip(p.tooltip,a),f.wrap=!0;const y=t.series.push(new l.LineSeries);y.dataFields.categoryX=ed,y.dataFields.valueY=x1,y.strokeWidth=1;const v=s.get(QG);v&&(y.stroke=v);const g=y.bullets.push(new l.CircleBullet);g.propertyFields.fill=bu,g.propertyFields.stroke=bu,t.cursor=new l.XYCursor,o.series.length>UP&&(t.scrollbarX=new a.Scrollbar)}_createXYChart(t){const{chartDiv:r,chartsModule:n,mediaInfo:i}=t,{type:s}=i,{am4core:o,am4charts:a}=n,l=o.create(r,a.XYChart);return l.rtl=Bl(this.container),s==="column-chart"&&this._createColumnChart(l,t),s==="bar-chart"&&this._createBarChart(l,t),s==="line-chart"&&this._createLineChart(l,t),l}_clearMediaRefreshTimer(){const{_refreshTimer:t}=this;t&&(clearTimeout(t),this._refreshTimer=null)}_updateMediaInfoTimestamp(t){const r=Date.now();this._refreshIntervalInfo={timestamp:r,sourceURL:t&&this._getImageSource(t,r)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:t}=this.viewModel;t&&t.type==="image"&&t.refreshInterval&&this._setRefreshTimeout(t)}_setRefreshTimeout(t){const{refreshInterval:r,value:n}=t;if(!r)return;const i=6e4*r;this._updateMediaInfoTimestamp(n.sourceURL);const s=setInterval(()=>{this._updateMediaInfoTimestamp(n.sourceURL)},i);this._refreshTimer=s}_getImageSource(t,r){const n=t.includes("?")?"&":"?",[i,s=""]=t.split("#");return`${i}${n}timestamp=${r}${s?"#":""}${s}`}};c([h()],ys.prototype,"attributes",null),c([h()],ys.prototype,"activeMediaInfoIndex",null),c([h()],ys.prototype,"description",null),c([h()],ys.prototype,"fieldInfoMap",null),c([h()],ys.prototype,"layer",null),c([h()],ys.prototype,"mediaInfos",null),c([h()],ys.prototype,"popupTemplate",null),c([h()],ys.prototype,"relatedInfos",null),c([h()],ys.prototype,"title",null),c([h({type:Ff})],ys.prototype,"viewModel",void 0),c([h(),On("esri/widgets/Feature/t9n/Feature")],ys.prototype,"messages",void 0),ys=c([O("esri.widgets.Feature.FeatureMedia")],ys);const jae=ys;var wF;let xb=wF=class extends Q{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new wF({minValue:this.minValue,maxValue:this.maxValue})}};c([h({type:Number,json:{write:!0}})],xb.prototype,"minValue",void 0),c([h({type:Number,json:{write:!0}})],xb.prototype,"maxValue",void 0),xb=wF=c([O("esri.renderer.support.AuthoringInfoClassBreakInfo")],xb);var _F;let Wd=_F=class extends Q{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new _F({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:B(this.classBreakInfos)})}};c([h({type:String,json:{write:!0}})],Wd.prototype,"field",void 0),c([h({type:String,json:{write:!0}})],Wd.prototype,"normalizationField",void 0),c([h({type:String,json:{write:!0}})],Wd.prototype,"label",void 0),c([h({type:[xb],json:{write:!0}})],Wd.prototype,"classBreakInfos",void 0),Wd=_F=c([O("esri.renderers.support.AuthoringInfoFieldInfo")],Wd);var SF;const h$=new Xe({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),p$=new Xe({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),eq={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},tq=["high-to-low","above-and-below","centered-on","extremes"],rq=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],nq=["seconds","minutes","hours","days","months","years"];let gs=SF=class extends Q{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new SF({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};c([h({types:eq,json:{write:!0}})],gs.prototype,"endTime",void 0),c([vt("endTime")],gs.prototype,"castEndTime",null),c([h({type:String,json:{write:!0}})],gs.prototype,"field",void 0),c([h({type:Number,json:{write:!0}})],gs.prototype,"maxSliderValue",void 0),c([h({type:Number,json:{write:!0}})],gs.prototype,"minSliderValue",void 0),c([h({types:eq,json:{write:!0}})],gs.prototype,"startTime",void 0),c([vt("startTime")],gs.prototype,"castStartTime",null),c([h({type:h$.apiValues,value:null,json:{type:h$.jsonValues,read:h$.read,write:h$.write}})],gs.prototype,"style",null),c([h({type:rq,value:null,json:{type:rq,origins:{"web-scene":{type:tq,write:{writer:(e,t)=>{tq.includes(e)&&(t.theme=e)}}}},write:!0}})],gs.prototype,"theme",null),c([h({type:p$.apiValues,json:{type:p$.jsonValues,read:p$.read,write:p$.write}})],gs.prototype,"type",void 0),c([h({type:nq,json:{type:nq,write:!0}})],gs.prototype,"units",void 0),gs=SF=c([O("esri.renderers.support.AuthoringInfoVisualVariable")],gs);const JFe=gs;let nE=class extends Q{constructor(t){super(t),this.type=null}};c([h({readOnly:!0,json:{read:!1,write:!0}})],nE.prototype,"type",void 0),nE=c([O("esri.rest.support.ColorRamp")],nE);const c9=nE;var xF;let Up=xF=class extends c9{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new xF({fromColor:B(this.fromColor),toColor:B(this.toColor),algorithm:this.algorithm})}};c([Pe({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Up.prototype,"algorithm",void 0),c([h({type:Be,json:{type:[Gt],write:!0}})],Up.prototype,"fromColor",void 0),c([h({type:Be,json:{type:[Gt],write:!0}})],Up.prototype,"toColor",void 0),c([h({type:["algorithmic"]})],Up.prototype,"type",void 0),Up=xF=c([O("esri.rest.support.AlgorithmicColorRamp")],Up);const d9=Up;var $F;let $b=$F=class extends c9{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new $F({colorRamps:B(this.colorRamps)})}};c([h({type:[d9],json:{write:!0}})],$b.prototype,"colorRamps",void 0),c([h({type:["multipart"]})],$b.prototype,"type",void 0),$b=$F=c([O("esri.rest.support.MultipartColorRamp")],$b);const Vae=$b,YFe={key:"type",base:c9,typeMap:{algorithmic:d9,multipart:Vae}};function ZFe(e){return e&&e.type?e.type==="algorithmic"?d9.fromJSON(e):e.type==="multipart"?Vae.fromJSON(e):null:null}var EF;const up=new Xe({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),f$=new Xe({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),iq=new Xe({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),sq=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],XFe=["high-to-low","above-and-below","above","below","90-10"],QFe=["flow-line","wave-front"],e4e=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let jr=EF=class extends Q{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?ZFe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new EF({classificationMethod:this.classificationMethod,colorRamp:B(this.colorRamp),fadeRatio:B(this.fadeRatio),fields:this.fields&&this.fields.slice(0),field1:B(this.field1),field2:B(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};c([h({type:up.apiValues,value:null,json:{type:up.jsonValues,read:up.read,write:up.write,origins:{"web-document":{default:"manual",type:up.jsonValues,read:up.read,write:up.write}}}})],jr.prototype,"classificationMethod",null),c([h({types:YFe,json:{write:!0}})],jr.prototype,"colorRamp",void 0),c([he("colorRamp")],jr.prototype,"readColorRamp",null),c([h({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],jr.prototype,"fadeRatio",void 0),c([h({type:[String],value:null,json:{write:!0}})],jr.prototype,"fields",null),c([h({type:Wd,value:null,json:{write:!0}})],jr.prototype,"field1",null),c([h({type:Wd,value:null,json:{write:!0}})],jr.prototype,"field2",null),c([h({type:QFe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],jr.prototype,"flowTheme",null),c([h({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],jr.prototype,"focus",null),c([h({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],jr.prototype,"isAutoGenerated",void 0),c([h({type:Number,value:null,json:{type:Gt,write:!0}})],jr.prototype,"numClasses",null),c([h({type:sq,json:{type:sq,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],jr.prototype,"lengthUnit",void 0),c([h({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],jr.prototype,"maxSliderValue",void 0),c([h({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],jr.prototype,"minSliderValue",void 0),c([h({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],jr.prototype,"statistics",null),c([h({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],jr.prototype,"standardDeviationInterval",null),c([h({type:f$.apiValues,value:null,json:{type:f$.jsonValues,read:f$.read,write:f$.write,origins:{"web-scene":{type:iq.jsonValues,write:{writer:iq.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],jr.prototype,"type",null),c([h({type:[JFe],json:{write:!0}})],jr.prototype,"visualVariables",void 0),c([h({type:e4e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],jr.prototype,"univariateSymbolStyle",null),c([h({type:XFe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],jr.prototype,"univariateTheme",null),jr=EF=c([O("esri.renderers.support.AuthoringInfo")],jr);const h9=jr,BP=new Xe({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Eb=class extends Q{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const r=new Set;return await this.collectRequiredFields(r,t),Array.from(r).sort()}getSymbol(t,r){}async getSymbolAsync(t,r){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};c([h({type:h9,json:{write:!0}})],Eb.prototype,"authoringInfo",void 0),c([h({type:BP.apiValues,readOnly:!0,json:{type:BP.jsonValues,read:!1,write:{writer:BP.write,ignoreOrigin:!0}}})],Eb.prototype,"type",void 0),Eb=c([O("esri.renderers.Renderer")],Eb);const Dc=Eb;function t4e(e){var t,r;return((r=(t=e.match(r4e))==null?void 0:t[1])==null?void 0:r.replace(/\\'/g,"'"))??null}const r4e=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var TF;let Wg=TF=class extends Q{constructor(){super(...arguments),this.title=null}clone(){return new TF({title:this.title})}};c([h({type:String,json:{write:!0}})],Wg.prototype,"title",void 0),Wg=TF=c([O("esri.renderers.support.LegendOptions")],Wg);var MF;let iE=MF=class extends Wg{constructor(){super(...arguments),this.showLegend=null}clone(){return new MF({title:this.title,showLegend:this.showLegend})}};c([h({type:Boolean,json:{write:!0}})],iE.prototype,"showLegend",void 0),iE=MF=c([O("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],iE);const zae=iE,GP=new Xe({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let Ta=class extends Q{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(oe.getLogger(this.declaredClass).error(".field: field must be a string value"),null):MS(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};c([h()],Ta.prototype,"index",void 0),c([h({type:GP.apiValues,readOnly:!0,json:{read:GP.read,write:GP.write}})],Ta.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],Ta.prototype,"field",void 0),c([vt("field")],Ta.prototype,"castField",null),c([h({type:String,json:{write:!0}})],Ta.prototype,"valueExpression",void 0),c([h({type:String,json:{write:!0}})],Ta.prototype,"valueExpressionTitle",void 0),c([h({readOnly:!0})],Ta.prototype,"arcadeRequired",null),c([h({type:zae,json:{write:!0}})],Ta.prototype,"legendOptions",void 0),Ta=c([O("esri.renderers.visualVariables.VisualVariable")],Ta);const qS=Ta;var IF;let Bp=IF=class extends qS{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new IF({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([h({readOnly:!0})],Bp.prototype,"cache",null),c([h({type:["color"],json:{type:["colorInfo"]}})],Bp.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],Bp.prototype,"normalizationField",void 0),c([h({type:[cLe],json:{write:!0}})],Bp.prototype,"stops",null),Bp=IF=c([O("esri.renderers.visualVariables.ColorVariable")],Bp);const Uae=Bp;var OF;let $d=OF=class extends Q{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return $_(t.transparency)}writeOpacity(e,t,r){t[r]=DO(e)}clone(){return new OF({label:this.label,opacity:this.opacity,value:this.value})}};c([h({type:String,json:{write:!0}})],$d.prototype,"label",void 0),c([h({type:Number,json:{type:Gt,write:{target:"transparency"}}})],$d.prototype,"opacity",void 0),c([he("opacity",["transparency"])],$d.prototype,"readOpacity",null),c([ge("opacity")],$d.prototype,"writeOpacity",null),c([h({type:Number,json:{write:!0}})],$d.prototype,"value",void 0),$d=OF=c([O("esri.renderers.visualVariables.support.OpacityStop")],$d);const n4e=$d;var CF;let Gp=CF=class extends qS{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new CF({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([h({readOnly:!0})],Gp.prototype,"cache",null),c([h({type:["opacity"],json:{type:["transparencyInfo"]}})],Gp.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],Gp.prototype,"normalizationField",void 0),c([h({type:[n4e],json:{write:!0}})],Gp.prototype,"stops",null),Gp=CF=c([O("esri.renderers.visualVariables.OpacityVariable")],Gp);const Bae=Gp;var AF;let Ru=AF=class extends qS{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,r,n){if(n&&n.messages){const i=`visualVariables[${this.index}]`;n.messages.push(new V("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:i+".valueExpressionTitle",context:n}))}}clone(){return new AF({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};c([h({readOnly:!0})],Ru.prototype,"cache",null),c([h({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Ru.prototype,"axis",void 0),c([h({type:["rotation"],json:{type:["rotationInfo"]}})],Ru.prototype,"type",void 0),c([h({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Ru.prototype,"rotationType",void 0),c([h({type:String,json:{write:!0}})],Ru.prototype,"valueExpressionTitle",void 0),c([ge("web-scene","valueExpressionTitle")],Ru.prototype,"writeValueExpressionTitleWebScene",null),Ru=AF=c([O("esri.renderers.visualVariables.RotationVariable")],Ru);const Gae=Ru;var PF;let Ny=PF=class extends Q{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new PF({label:this.label,size:this.size,value:this.value})}};c([h({type:String,json:{write:!0}})],Ny.prototype,"label",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],Ny.prototype,"size",void 0),c([h({type:Number,json:{write:!0}})],Ny.prototype,"value",void 0),Ny=PF=c([O("esri.renderers.visualVariables.support.SizeStop")],Ny);const Fy=Ny;var kF;let sE=kF=class extends zae{constructor(){super(...arguments),this.customValues=null}clone(){return new kF({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};c([h({type:[Number],json:{write:!0}})],sE.prototype,"customValues",void 0),sE=kF=c([O("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],sE);const i4e=sE;var yc,En;function ch(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function k_(e){return e!=null&&!isNaN(e)&&isFinite(e)}function qae(e){return e.valueExpression?yc.Expression:e.field&&typeof e.field=="string"?yc.Field:yc.Unknown}function s4e(e,t){const r=t||qae(e),n=e.valueUnit||"unknown";return r===yc.Unknown?En.Constant:e.stops?En.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?En.ClampedLinear:n==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?En.Proportional:En.Additive:En.Identity:En.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(yc||(yc={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(En||(En={}));function mbt(e){}function o4e(e){return()=>e}const p9={inches:Mo(1,"meters","inches"),feet:Mo(1,"meters","feet"),"us-feet":Mo(1,"meters","us-feet"),yards:Mo(1,"meters","yards"),miles:Mo(1,"meters","miles"),"nautical-miles":Mo(1,"meters","nautical-miles"),millimeters:Mo(1,"meters","millimeters"),centimeters:Mo(1,"meters","centimeters"),decimeters:Mo(1,"meters","decimeters"),meters:Mo(1,"meters","meters"),kilometers:Mo(1,"meters","kilometers"),"decimal-degrees":1/AMe(1,"meters",mr.radius)},jh=oe.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),oq=new Pn,oE=Math.PI,Wae=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Hae(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(v=>v.type==="color"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void jh.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const i=typeof t=="number",s=i?null:t,o=s&&s.attributes;let a=i?t:null;const l=n.field,{ipData:u,hasExpression:d}=n.cache;let p=n.cache.compiledFunc;if(!l&&!d){const v=n.stops;return v&&v[0]&&v[0].color}if(typeof a!="number")if(d){if(G(r)||G(r.arcade))return void jh.error("Use of arcade expressions requires an arcade context");const v={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},g=r.arcade.arcadeUtils,b=g.getViewInfo(v),w=g.createExecContext(s,b);if(!p){const S=g.createSyntaxTree(n.valueExpression);p=g.createFunction(S),n.cache.compiledFunc=p}a=g.executeFunction(p,w)}else o&&(a=o[l]);const f=n.normalizationField,y=o!=null&&f!=null?parseFloat(o[f]):void 0;if(a!=null&&(!f||i||!isNaN(y)&&y!==0)){isNaN(y)||i||(a/=y);const v=f9(a,u);if(v){const g=v[0],b=v[1],w=g===b?n.stops[g].color:Be.blendColors(n.stops[g].color,n.stops[b].color,v[2],C(r)?r.color:void 0);return new Be(w)}}}function Kae(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(v=>v.type==="opacity"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void jh.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const i=typeof t=="number",s=i?null:t,o=s&&s.attributes;let a=i?t:null;const l=n.field,{ipData:u,hasExpression:d}=n.cache;let p=n.cache.compiledFunc;if(!l&&!d){const v=n.stops;return v&&v[0]&&v[0].opacity}if(typeof a!="number")if(d){if(G(r)||G(r.arcade))return void jh.error("Use of arcade expressions requires an arcade context");const v={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},g=r.arcade.arcadeUtils,b=g.getViewInfo(v),w=g.createExecContext(s,b);if(!p){const S=g.createSyntaxTree(n.valueExpression);p=g.createFunction(S),n.cache.compiledFunc=p}a=g.executeFunction(p,w)}else o&&(a=o[l]);const f=n.normalizationField,y=o!=null&&f!=null?parseFloat(o[f]):void 0;if(a!=null&&(!f||i||!isNaN(y)&&y!==0)){isNaN(y)||i||(a/=y);const v=f9(a,u);if(v){const g=v[0],b=v[1];if(g===b)return n.stops[g].opacity;{const w=n.stops[g].opacity;return w+(n.stops[b].opacity-w)*v[2]}}}}function Jae(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(y=>y.type==="rotation"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void jh.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const i=n.axis||"heading",s=i==="heading"&&n.rotationType==="arithmetic"?90:0,o=i==="heading"&&n.rotationType==="arithmetic"?-1:1,a=typeof t=="number"?null:t,l=a&&a.attributes,u=n.field,{hasExpression:d}=n.cache;let p=n.cache.compiledFunc,f=0;if(!u&&!d)return f;if(d){if(G(r)||G(r.arcade))return void jh.error("Use of arcade expressions requires an arcade context");const y={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,g=v.getViewInfo(y),b=v.createExecContext(a,g);if(!p){const w=v.createSyntaxTree(n.valueExpression);p=v.createFunction(w),n.cache.compiledFunc=p}f=v.executeFunction(p,b)}else l&&(f=l[u]||0);return f=typeof f!="number"||isNaN(f)?null:s+o*f,f}function a4e(e,t,r){const n=typeof t=="number",i=n?null:t,s=i&&i.attributes;let o=n?t:null;const{isScaleDriven:a}=e.cache;let l=e.cache.compiledFunc;if(a){const d=C(r)?r.scale:void 0,p=C(r)?r.view:void 0;o=d==null||p==="3d"?l4e(e):d}else if(!n)switch(e.inputValueType){case yc.Expression:{if(G(r)||G(r.arcade))return void jh.error("Use of arcade expressions requires an arcade context");const d={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},p=r.arcade.arcadeUtils,f=p.getViewInfo(d),y=p.createExecContext(i,f);if(!l){const v=p.createSyntaxTree(e.valueExpression);l=p.createFunction(v),e.cache.compiledFunc=l}o=p.executeFunction(l,y);break}case yc.Field:s&&(o=s[e.field]);break;case yc.Unknown:o=null}if(!k_(o))return null;if(n||!e.normalizationField)return o;const u=s?parseFloat(s[e.normalizationField]):null;return k_(u)&&u!==0?o/u:null}function l4e(e){let t=null,r=null;const n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function eC(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(s=>s.type==="size"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void jh.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const i=Zae(a4e(n,t,r),n,t,r,n.cache.ipData);return i==null||isNaN(i)?0:i}function Os(e,t,r){return e==null?null:ch(e)?eC(e,t,r):k_(e)?e:null}function Yae(e,t,r){return k_(r)&&e>r?r:k_(t)&&e<t?t:e}function u4e(e,t,r,n){return e+((Os(t.minSize,r,n)||t.minDataValue)??0)}function c4e(e,t,r){const n=e.stops;let i=n&&n.length&&n[0].size;return i==null&&(i=e.minSize),Os(i,t,r)}function d4e(e,t,r,n){const i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=Os(t.minSize,r,n),o=Os(t.maxSize,r,n),a=C(n)?n.shape:void 0;if(e<=t.minDataValue)return s;if(e>=t.maxDataValue)return o;if(s==null||o==null)return null;if(t.scaleBy==="area"&&a){const l=a==="circle",u=l?oE*(s/2)**2:s*s,d=u+i*((l?oE*(o/2)**2:o*o)-u);return l?2*Math.sqrt(d/oE):Math.sqrt(d)}return s+i*(o-s)}function h4e(e,t,r,n){const i=C(n)?n.shape:void 0,s=e/t.minDataValue,o=Os(t.minSize,r,n),a=Os(t.maxSize,r,n);let l=null;return l=i==="circle"?2*Math.sqrt(s*(o/2)**2):i==="square"||i==="diamond"||i==="image"?Math.sqrt(s*o**2):s*o,Yae(l,o,a)}function p4e(e,t,r,n,i){var l,u,d;const[s,o,a]=f9(e,i);if(s===o)return Os((l=t.stops)==null?void 0:l[s].size,r,n);{const p=Os((u=t.stops)==null?void 0:u[s].size,r,n);return p+(Os((d=t.stops)==null?void 0:d[o].size,r,n)-p)*a}}function f4e(e,t,r,n){const i=(C(n)&&n.resolution?n.resolution:1)*p9[t.valueUnit],s=Os(t.minSize,r,n),o=Os(t.maxSize,r,n),{valueRepresentation:a}=t;let l=null;return l=a==="area"?2*Math.sqrt(e/oE)/i:a==="radius"||a==="distance"?2*e/i:e/i,Yae(l,s,o)}function Zae(e,t,r,n,i){switch(t.transformationType){case En.Additive:return u4e(e,t,r,n);case En.Constant:return c4e(t,r,n);case En.ClampedLinear:return d4e(e,t,r,n);case En.Proportional:return h4e(e,t,r,n);case En.Stops:return p4e(e,t,r,n,i);case En.RealWorldSize:return f4e(e,t,r,n);case En.Identity:return e;case En.Unknown:return null}}function m4e(e,t,r){const{isScaleDriven:n}=e.cache;if(!(n&&r==="3d"||t))return null;const i={scale:t,view:r};let s=Os(e.minSize,oq,i),o=Os(e.maxSize,oq,i);if(s!=null||o!=null){if(s>o){const a=o;o=s,s=a}return{minSize:s,maxSize:o}}}function y4e(e,t,r){if(!e.visualVariables)return;const n=[],i=[],s=[],o=[],a=[];for(const l of e.visualVariables)switch(l.type){case"color":i.push(l);break;case"opacity":s.push(l);break;case"rotation":a.push(l);break;case"size":o.push(l)}return i.forEach(l=>{const u=Hae(l,t,r);n.push({variable:l,value:u})}),s.forEach(l=>{const u=Kae(l,t,r);n.push({variable:l,value:u})}),a.forEach(l=>{const u=Jae(l,t,r);n.push({variable:l,value:u})}),o.forEach(l=>{const u=eC(l,t,r);n.push({variable:l,value:u})}),n.filter(l=>l.value!=null)}function f9(e,t){if(!t)return;let r=0,n=t.length-1;return t.some((i,s)=>e<i?(n=s,!0):(r=s,!1)),[r,n,(e-t[r])/(t[n]-t[r])]}function g4e(e,t,r){const n=["proportional","proportional","proportional"];for(const i of e){const s=i.useSymbolValue?"symbol-value":eC(i,t,r);switch(i.axis){case"width":n[0]=s;break;case"depth":n[1]=s;break;case"height":n[2]=s;break;case"width-and-depth":n[0]=s,n[1]=s;break;case"all":case void 0:case null:n[0]=s,n[1]=s,n[2]=s;break;default:i.axis}}return n}const m9=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:g4e,getColor:Hae,getOpacity:Kae,getRotationAngle:Jae,getSize:eC,getSizeForValue:Zae,getSizeFromNumberOrVariable:Os,getSizeRangeAtScale:m4e,getVisualVariableValues:y4e,viewScaleRE:Wae},Symbol.toStringTag,{value:"Module"}));var RF;const m$=new Xe({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),LF=new Xe({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function aq(e){if(e!=null)return typeof e=="string"||typeof e=="number"?xt(e):e.type==="size"?ch(e)?e:(delete(e={...e}).type,new Mt(e)):void 0}function lq(e,t,r){if(typeof e!="object")return e;const n=new Mt;return n.read(e,r),n}let Mt=RF=class extends qS{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&Wae.test(this.valueExpression)}}set expression(e){oe.getLogger(this.declaredClass).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),e==="view.scale"?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){ch(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),ch(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return qae(this)}set maxDataValue(e){e&&this.stops&&(oe.getLogger(this.declaredClass).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(oe.getLogger(this.declaredClass).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return aq(e)}readMaxSize(e,t,r){return lq(e,t,r)}set minDataValue(e){e&&this.stops&&(oe.getLogger(this.declaredClass).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(oe.getLogger(this.declaredClass).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return aq(e)}readMinSize(e,t,r){return lq(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(oe.getLogger(this.declaredClass).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return s4e(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,n){if(e==="$view.scale"){if(n&&n.messages){const i=this.index,s=typeof i=="string"?i:`visualVariables[${i}]`;n.messages.push(new V("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:s+".valueExpression",context:n}))}}else t[r]=e}readValueUnit(e){return e?LF.read(e):null}clone(){return new RF({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:ch(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:ch(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===En.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===En.Stops){const e=this.stops;if(!e)return this;const t=e.map(n=>n.size).reverse(),r=e.length;for(let n=0;n<r;n++)e[n].size=t[n];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([h({readOnly:!0})],Mt.prototype,"cache",null),c([h({type:m$.apiValues,json:{type:m$.jsonValues,origins:{"web-map":{read:!1}},read:m$.read,write:m$.write}})],Mt.prototype,"axis",void 0),c([h({type:String,value:null,json:{read:!1}})],Mt.prototype,"expression",null),c([h()],Mt.prototype,"index",null),c([h({type:String,readOnly:!0})],Mt.prototype,"inputValueType",null),c([h({type:i4e,json:{write:!0}})],Mt.prototype,"legendOptions",void 0),c([h({type:Number,value:null,json:{write:!0}})],Mt.prototype,"maxDataValue",null),c([h({type:Number,value:null,json:{write:!0}})],Mt.prototype,"maxSize",null),c([vt("maxSize")],Mt.prototype,"castMaxSize",null),c([he("maxSize")],Mt.prototype,"readMaxSize",null),c([h({type:Number,value:null,json:{write:!0}})],Mt.prototype,"minDataValue",null),c([h({type:Number,value:null,json:{write:!0}})],Mt.prototype,"minSize",null),c([vt("minSize")],Mt.prototype,"castMinSize",null),c([he("minSize")],Mt.prototype,"readMinSize",null),c([h({type:String,json:{write:!0}})],Mt.prototype,"normalizationField",void 0),c([h({readOnly:!0})],Mt.prototype,"arcadeRequired",null),c([h({type:String})],Mt.prototype,"scaleBy",void 0),c([h({type:[Fy],value:null,json:{write:!0}})],Mt.prototype,"stops",null),c([h({type:["outline"],json:{write:!0}})],Mt.prototype,"target",void 0),c([h({type:String,readOnly:!0})],Mt.prototype,"transformationType",null),c([h({type:["size"],json:{type:["sizeInfo"]}})],Mt.prototype,"type",void 0),c([h({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Mt.prototype,"useSymbolValue",void 0),c([h({type:String,json:{write:!0}})],Mt.prototype,"valueExpression",void 0),c([he("valueExpression",["valueExpression","expression"])],Mt.prototype,"readValueExpression",null),c([ge("web-scene","valueExpression")],Mt.prototype,"writeValueExpressionWebScene",null),c([h({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Mt.prototype,"valueRepresentation",void 0),c([h({type:LF.apiValues,json:{write:LF.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],Mt.prototype,"valueUnit",void 0),c([he("valueUnit")],Mt.prototype,"readValueUnit",null),Mt=RF=c([O("esri.renderers.visualVariables.SizeVariable")],Mt);const tC=Mt,v4e={color:Uae,size:tC,opacity:Bae,rotation:Gae},b4e=new Xe({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),w4e=/^\[([^\]]+)\]$/i;let aE=class extends Ie{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),(t=t&&t.filter(r=>!!r))&&t.length){for(const r of t)switch(r.type){case"color":this.colorVariables.push(r);break;case"opacity":this.opacityVariables.push(r);break;case"rotation":this.rotationVariables.push(r);break;case"size":this.sizeVariables.push(r)}this.sizeVariables.length&&this.sizeVariables.some(r=>!!r.target)&&t.sort((r,n)=>{let i=null;return i=r.target===n.target?0:r.target?1:-1,i});for(let r=0;r<t.length;r++)t[r].index=r;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,r,n){const{rotationExpression:i,rotationType:s}=r,o=i&&i.match(w4e),a=o&&o[1];if(a&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:s,field:a})),t)return t.map(l=>{const u=b4e.read(l.type),d=v4e[u];d||(oe.getLogger(this.declaredClass).warn(`Unknown variable type: ${u}`),n&&n.messages&&n.messages.push(new ta("visual-variable:unsupported",`visualVariable of type '${u}' is not supported`,{definition:l,context:n})));const p=new d;return p.read(l,n),p})}writeVariables(t,r){const n=[];for(const i of t){const s=i.toJSON(r);s&&n.push(s)}return n}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};c([h()],aE.prototype,"visualVariables",null),aE=c([O("esri.renderers.visualVariables.VisualVariableFactory")],aE);const _4e=aE,S4e={base:qS,key:"type",typeMap:{opacity:Bae,color:Uae,rotation:Gae,size:tC}},bv=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new _4e}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,n,i){return this._vvFactory.readVariables(r,n,i)}writeVisualVariables(r,n,i,s){n[i]=this._vvFactory.writeVariables(r,s)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const r of this.visualVariables)if(r.arcadeRequired)return!0;return!1}hasVisualVariables(r,n){return r?this.getVisualVariablesForType(r,n).length>0:this.getVisualVariablesForType("size",n).length>0||this.getVisualVariablesForType("color",n).length>0||this.getVisualVariablesForType("opacity",n).length>0||this.getVisualVariablesForType("rotation",n).length>0}getVisualVariablesForType(r,n){const i=this.visualVariables;return i?i.filter(s=>s.type===r&&(typeof n=="string"?s.target===n:n!==!1||!s.target)):[]}async collectVVRequiredFields(r,n){let i=[];this.visualVariables&&(i=i.concat(this.visualVariables));for(const s of i)s&&(s.field&&no(r,n,s.field),s.normalizationField&&no(r,n,s.normalizationField),s.valueExpression&&(x4e(s.valueExpression,r,n)||await ls(r,n,s.valueExpression)))}};return c([h({types:[S4e],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),c([he("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),c([ge("visualVariables")],t.prototype,"writeVisualVariables",null),t=c([O("esri.renderers.mixins.VisualVariablesMixin")],t),t};function x4e(e,t,r){const n=t4e(e);return!!C(n)&&(no(t,r,n),!0)}const $1={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function $4e(e,t=$1){var a,l;if(!e)return{symbol:null};const{retainId:r=$1.retainId,ignoreDrivers:n=$1.ignoreDrivers,hasLabelingContext:i=$1.hasLabelingContext,retainCIM:s=$1.retainCIM}=t;let o=null;if(_0(e)||e instanceof Nm)o=e.clone();else if(e.type==="cim"){const u=(l=(a=e.data)==null?void 0:a.symbol)==null?void 0:l.type;if(u!=="CIMPointSymbol")return{error:new V("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${u||"unknown"}' is unsupported in 3D`,{symbol:e})};o=s?e.clone():Mf.fromCIMSymbol(e)}else if(e instanceof ho)o=zO.fromSimpleLineSymbol(e);else if(e instanceof Jh)o=Mf.fromSimpleMarkerSymbol(e);else if(e instanceof DS)o=Mf.fromPictureMarkerSymbol(e);else if(e instanceof Nc)o=t.geometryType&&t.geometryType==="mesh"?UO.fromSimpleFillSymbol(e):jS.fromSimpleFillSymbol(e);else{if(!(e instanceof Lm))return{error:new V("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};o=i?VO.fromTextSymbol(e):Mf.fromTextSymbol(e)}if(r&&o&&o.type!=="cim"&&(o.id=e.id),n&&_0(o))for(let u=0;u<o.symbolLayers.length;++u)o.symbolLayers.getItemAt(u)._ignoreDrivers=!0;return{symbol:o}}function sM(e,t,r,n){const i=Xae(e,{},{context:n,isLabelSymbol:!1});C(i)&&(t[r]=i)}function uq(e,t,r,n){const i=Xae(e,{},{context:n,isLabelSymbol:!0});C(i)&&(t[r]=i)}function cq(e){return e instanceof mv||e instanceof Nm}function Xae(e,t,r){if(G(e))return null;const{context:n,isLabelSymbol:i}=r,s=n==null?void 0:n.origin,o=n==null?void 0:n.messages;if(s==="web-scene"&&!cq(e)){const a=$4e(e,{retainCIM:!0,hasLabelingContext:i});return C(a.symbol)?a.symbol.write(t,n):(o==null||o.push(new V("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:n,error:a.error})),null)}return(s==="web-map"||s==="portal-item"&&!Aoe(n==null?void 0:n.layer))&&cq(e)?(o==null||o.push(new V("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:n})),null):e.write(t,n)}function gbt(e,t){return QAe(e,null,t)}const wv={types:GO,json:{write:{writer:sM},origins:{"web-scene":{types:VB,write:{writer:sM},read:{reader:qh({types:VB})}}}}},Qae={types:{base:ks,key:"type",typeMap:{"simple-fill":Kf.typeMap["simple-fill"],"picture-fill":Kf.typeMap["picture-fill"],"polygon-3d":Kf.typeMap["polygon-3d"]}},json:{write:{writer:sM},origins:{"web-scene":{type:jS,write:{writer:sM}}}}},lE={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}};var NF;let Ed=NF=class extends Q{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new NF({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};c([h({type:String,json:{write:!0}})],Ed.prototype,"description",void 0),c([h({type:String,json:{write:!0}})],Ed.prototype,"label",void 0),c([h({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],Ed.prototype,"minValue",void 0),c([h({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],Ed.prototype,"maxValue",void 0),c([h(wv)],Ed.prototype,"symbol",void 0),Ed=NF=c([O("esri.renderers.support.ClassBreakInfo")],Ed);const oM=Ed;var FF;const ele="log",uE="percent-of-total",cE="field",y$=new Xe({esriNormalizeByLog:ele,esriNormalizeByPercentOfTotal:uE,esriNormalizeByField:cE}),E4e=qt(oM);let ln=FF=class extends bv(Dc){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let n=t.minValue;return e.map(i=>{const s=new oM;return s.read(i,r),s.minValue==null&&(s.minValue=n),s.maxValue==null&&(s.maxValue=s.minValue),n=s.maxValue,s})}writeClassBreakInfos(e,t,r,n){const i=e.map(s=>s.write({},n));this._areClassBreaksConsecutive()&&i.forEach(s=>delete s.classMinValue),t[r]=i}castField(e){return e==null?e:typeof e=="function"?(oe.getLogger(this.declaredClass).error(".field: field must be a string value"),null):MS(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&cE||r&&uE||null,t&&r&&oe.getLogger(this.declaredClass).warn("warning: both normalizationField and normalizationTotal are set!")):e!==cE&&e!==uE||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let n=null;n=typeof e=="number"?new oM({minValue:e,maxValue:t,symbol:Ase(r)}):E4e(B(e)),this.classBreakInfos.push(n),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let n=0;n<r;n++){const i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(n,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(G(t)||G(t.arcade))&&oe.getLogger(this.declaredClass).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&(G(t)||G(t.arcade))&&(r={...r,arcade:await Ec()});const n=this.getBreakIndex(e,r);return n!==-1?this.classBreakInfos[n]:null}getSymbol(e,t){if(this.valueExpression&&(G(t)||G(t.arcade)))return void oe.getLogger(this.declaredClass).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(G(t)||G(t.arcade))){const i=await Ec(),{arcadeUtils:s}=i;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),r={...r,arcade:i}}const n=this.getBreakIndex(e,r);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((n,i)=>n+i.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new FF({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:B(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:B(this.visualVariables),legendOptions:B(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),ls(e,t,this.valueExpression)];no(e,t,this.field),no(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:n,spatialReference:i,arcade:s}=h6(t,{}),{valueExpression:o}=this;let a=this._compiledValueExpression.valueExpression===o?this._compiledValueExpression.compiledFunction:null;const l=s.arcadeUtils;if(!a){const d=l.createSyntaxTree(o);a=l.createFunction(d),this._compiledValueExpression.compiledFunction=a}this._compiledValueExpression.valueExpression=o;const u=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:r,scale:n,spatialReference:i})));return this._getBreakIndexfromInfos(u)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,n=this.normalizationType;let i=parseFloat(r[t]);if(n){const s=this.normalizationTotal,o=parseFloat(this.normalizationField?r[this.normalizationField]:void 0);if(n===ele)i=Math.log(i)*Math.LOG10E;else if(n!==uE||s==null||isNaN(s)){if(n===cE&&!isNaN(o)){if(isNaN(i)||isNaN(o))return-1;i/=o}}else i=i/s*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]<=e&&(t?e<=n[1]:e<n[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};c([h(Qae)],ln.prototype,"backgroundFillSymbol",void 0),c([h({type:[oM]})],ln.prototype,"classBreakInfos",void 0),c([he("classBreakInfos")],ln.prototype,"readClassBreakInfos",null),c([ge("classBreakInfos")],ln.prototype,"writeClassBreakInfos",null),c([h({type:String,json:{write:!0}})],ln.prototype,"defaultLabel",void 0),c([h(wv)],ln.prototype,"defaultSymbol",void 0),c([h({type:String,json:{write:!0}})],ln.prototype,"field",void 0),c([vt("field")],ln.prototype,"castField",null),c([h({type:Boolean})],ln.prototype,"isMaxInclusive",void 0),c([h({type:Wg,json:{write:!0}})],ln.prototype,"legendOptions",void 0),c([h({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],ln.prototype,"minValue",null),c([h({type:String,json:{write:!0}})],ln.prototype,"normalizationField",void 0),c([h({type:Number,cast:e=>zo(e),json:{write:!0}})],ln.prototype,"normalizationTotal",void 0),c([h({type:y$.apiValues,value:null,json:{type:y$.jsonValues,read:y$.read,write:y$.write}})],ln.prototype,"normalizationType",null),c([Pe({classBreaks:"class-breaks"})],ln.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],ln.prototype,"valueExpression",void 0),c([h({type:String,json:{write:!0}})],ln.prototype,"valueExpressionTitle",void 0),ln=FF=c([O("esri.renderers.ClassBreaksRenderer")],ln);const tle=ln;let T4e=class{constructor(t,r){this._storage=new lae,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}put(t,r,n){this._storage.put(t,r,n,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}};const dq="esri.renderers.support.DictionaryLoader",M4e={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let y9=class{constructor(t,r,n){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new T4e(100),this._dictionaryPromise=null,this.url=t,this.config=r,this.fieldMap=n}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,r){let n;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r));try{n=await this._dictionaryPromise}catch(y){if(ia(y))return this._dictionaryPromise=null,null}const i={};if(this.fieldMap)for(const y of this._symbolFields){const v=this.fieldMap[y];if(v&&t.attributes[v]!=null){const g=""+t.attributes[v];i[y]=g}else i[y]=""}const s=n==null?void 0:n(i,r);if(!s||typeof s!="string")return null;const o=v6(s).toString(),a=this._symbolCache.get(o);if(a)return a.catch(()=>{this._symbolCache.pop(o)}),a;const l=s.split(";"),u=[],d=[];for(const y of l)if(y)if(y.includes("po:")){const v=y.substr(3).split("|");if(v.length===3){const g=v[0],b=v[1];let w=v[2];if(b==="DashTemplate")w=w.split(" ").map(S=>Number(S));else if(b==="Color"){const S=new Be(w).toRgba();w=[S[0],S[1],S[2],255*S[3]]}else w=Number(w);d.push({primitiveName:g,propertyName:b,value:w})}}else if(y.includes("|")){for(const v of y.split("|"))if(this._itemNames.has(v)){u.push(v);break}}else this._itemNames.has(y)&&u.push(y);const p=!C(t.geometry)||!t.geometry.hasZ&&t.geometry.type==="point",f=this._cimPartsToCIMSymbol(u,d,p,r);return this._symbolCache.put(o,f,1),f}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void oe.getLogger(dq).error("no valid URL!");const r=Tt(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:C(t)?t.signal:null}),[{data:n}]=await Promise.all([r,Ec()]);if(!n)throw this._dictionaryPromise=null,new V("esri.renderers.DictionaryRenderer","Bad dictionary data!");const i=n.expression,s=n.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+n.cimRefTemplateUrl,this._itemNames=new Set(n.itemsNames),this._symbolFields=s.symbol;const o={};if(this.config){const u=this.config;for(const d in u)o[d]=u[d]}if(s.configuration)for(const u of s.configuration)o.hasOwnProperty(u.name)||(o[u.name]=u.value);const a=[];if(C(t)&&t.fields&&this.fieldMap)for(const u of this._symbolFields){const d=this.fieldMap[u],p=t.fields.filter(f=>f.name===d);p.length>0&&a.push({...p[0],name:u})}const l=LIe(i,C(t)?t.spatialReference:null,a,o).then(u=>{const d={scale:0};return(p,f)=>{if(G(u))return null;const y=u.repurposeFeature({geometry:null,attributes:p});return d.scale=C(f)?f.scale??void 0:void 0,u.evaluate({$feature:y,$view:d})}}).catch(u=>(oe.getLogger(dq).error("Creating dictinoary expression failed:",u),null));return this._dictionaryPromise=l,l}async _cimPartsToCIMSymbol(t,r,n,i){const s=new Array(t.length);for(let l=0;l<t.length;l++)s[l]=this._getSymbolPart(t[l],i);const o=await Promise.all(s),a=this.fieldMap;if(a)for(const l of o)rle(l,a);return new RS({data:this._combineSymbolParts(o,r,n)})}async _getSymbolPart(t,r){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(s=>s.data);const n=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),i=Tt(n,{responseType:"json",query:{f:"json"},...r});this._ongoingRequests.set(t,i);try{return(await i).data}catch(s){throw this._ongoingRequests.delete(t),s}}_combineSymbolParts(t,r,n){if(!t||t.length===0)return null;const i={...t[0]};if(t.length>1){i.symbolLayers=[];for(const s of t){const o=s;i.symbolLayers.unshift(...o.symbolLayers)}}return n&&(i.callout=M4e),{type:"CIMSymbolReference",symbol:i,primitiveOverrides:r}}};function rle(e,t){if(!e)return;const r=e.symbolLayers;if(!r)return;let n=r.length;for(;n--;){const i=r[n];i&&i.enable!==!1&&i.type==="CIMVectorMarker"&&I4e(i,t)}}function I4e(e,t){const r=e.markerGraphics;if(r)for(const n of r){if(!n)continue;const i=n.symbol;if(i)switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":rle(i,t);break;case"CIMTextSymbol":i.fieldMap=t}}}const wbt=Object.freeze(Object.defineProperty({__proto__:null,DictionaryLoader:y9},Symbol.toStringTag,{value:"Module"}));var DF;let Ma=DF=class extends bv(Dc){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new y9(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,n){n!=null&&n.origin||super.writeVisualVariables(e,t,r,n)}clone(){return new DF({config:B(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:B(this.fieldMap),url:B(this.url),visualVariables:B(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await ls(e,t,this.scaleExpression);for(const r in this.fieldMap){const n=this.fieldMap[r];t.has(n)&&e.add(n)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};c([h({type:y9})],Ma.prototype,"_loader",null),c([h({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Ma.prototype,"config",void 0),c([h({type:Object,json:{write:!0}})],Ma.prototype,"fieldMap",void 0),c([h({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Ma.prototype,"scaleExpression",void 0),c([ge("scaleExpression")],Ma.prototype,"writeData",null),c([h({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Ma.prototype,"scaleExpressionTitle",void 0),c([h({type:String,json:{write:!0}})],Ma.prototype,"url",void 0),c([ge("visualVariables")],Ma.prototype,"writeVisualVariables",null),Ma=DF=c([O("esri.renderers.DictionaryRenderer")],Ma);const O4e=Ma;var jF;let Lu=jF=class extends Q{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(oe.getLogger(this.declaredClass).error(".field: field must be a string value"),null):MS(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new jF({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([h({type:Be,json:{type:[Number],write:!0}})],Lu.prototype,"color",void 0),c([h({type:String,json:{write:!0}})],Lu.prototype,"field",void 0),c([vt("field")],Lu.prototype,"castField",null),c([h({type:String,json:{write:!0}})],Lu.prototype,"label",void 0),c([h({type:String,json:{write:!0}})],Lu.prototype,"valueExpression",void 0),c([h({type:String,json:{write:!0}})],Lu.prototype,"valueExpressionTitle",void 0),Lu=jF=c([O("esri.renderers.support.AttributeColorInfo")],Lu);const nle=Lu;var VF;let dE=VF=class extends Q{constructor(){super(...arguments),this.unit=null}clone(){return new VF({unit:this.unit})}};c([h({type:String,json:{write:!0}})],dE.prototype,"unit",void 0),dE=VF=c([O("esri.renderers.support.DotDensityLegendOptions")],dE);const C4e=dE;var zF;let vs=zF=class extends bv(Dc){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Be([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new ho,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new Nc({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){var e;return((e=this.attributes)==null?void 0:e.reduce((t,r)=>t+r.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new zF({attributes:B(this.attributes),backgroundColor:B(this.backgroundColor),dotBlendingEnabled:B(this.dotBlendingEnabled),dotShape:B(this.dotShape),dotSize:B(this.dotSize),dotValue:B(this.dotValue),legendOptions:B(this.legendOptions),outline:B(this.outline),referenceScale:B(this.referenceScale),visualVariables:B(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){var t;return`${(t=this.attributes)==null?void 0:t.map(r=>r.field||r.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes??[])r.valueExpression&&await ls(e,t,r.valueExpression),r.field&&e.add(r.field)}};c([h({type:[nle],json:{write:!0}})],vs.prototype,"attributes",void 0),c([h({type:Be,json:{write:!0}})],vs.prototype,"backgroundColor",void 0),c([h({type:Boolean,json:{write:!0}})],vs.prototype,"dotBlendingEnabled",void 0),c([h({type:String,json:{write:!1}})],vs.prototype,"dotShape",void 0),c([h({type:Number,json:{write:!0}})],vs.prototype,"dotSize",void 0),c([h({type:C4e,json:{write:!0}})],vs.prototype,"legendOptions",void 0),c([h({type:ho,json:{default:null,write:!0}})],vs.prototype,"outline",void 0),c([h({type:Number,json:{write:!0}})],vs.prototype,"dotValue",void 0),c([h({type:Number,json:{write:!0}})],vs.prototype,"referenceScale",void 0),c([h({type:Number,json:{write:!0}})],vs.prototype,"seed",void 0),c([Pe({dotDensity:"dot-density"})],vs.prototype,"type",void 0),vs=zF=c([O("esri.renderers.DotDensityRenderer")],vs);const A4e=vs;let Dy=class extends ar(Q){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};c([h({type:String,json:{write:!0}})],Dy.prototype,"minLabel",void 0),c([h({type:String,json:{write:!0}})],Dy.prototype,"maxLabel",void 0),c([h({type:String,json:{write:!0}})],Dy.prototype,"title",void 0),Dy=c([O("esri.renderers.support.HeatmapLegendOptions")],Dy);function rC(){return[0,0,0,0]}function P4e(e){return[e[0],e[1],e[2],e[3]]}function _v(e,t,r,n){return[e,t,r,n]}function k4e(e){const t=rC(),r=Math.min(4,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function R4e(e,t){return new Float64Array(e,t,4)}function ile(){return rC()}function sle(){return _v(1,1,1,1)}function ole(){return _v(1,0,0,0)}function ale(){return _v(0,1,0,0)}function lle(){return _v(0,0,1,0)}function ule(){return _v(0,0,0,1)}const L4e=ile(),N4e=sle(),F4e=ole(),D4e=ale(),j4e=lle(),V4e=ule();Object.freeze(Object.defineProperty({__proto__:null,ONES:N4e,UNIT_W:V4e,UNIT_X:F4e,UNIT_Y:D4e,UNIT_Z:j4e,ZEROS:L4e,clone:P4e,create:rC,createView:R4e,fromArray:k4e,fromValues:_v,ones:sle,unitW:ule,unitX:ole,unitY:ale,unitZ:lle,zeros:ile},Symbol.toStringTag,{value:"Module"}));const g9=2.4;function z4e(e){return Tc(e*g9)}function U4e(e){return Jie(e)/g9}function B4e(e,t,r,n){let{color:i,ratio:s}=t,{color:o,ratio:a}=r;a===s&&(a===1?s-=1e-6:a+=1e-6);const l=Ps((n-s)/(a-s),0,1);Gie(e,i.toArray(),o.toArray(),l)}function Sbt(e){const r=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:a})=>a>=0&&a<=1).sort((a,l)=>a.ratio-l.ratio).map(({color:a,ratio:l})=>({color:a,ratio:Math.max(l,.001)})),e.length<1)return r;let n=e[0],i=e[0],s=1;const o=rC();for(let a=0;a<512;a++){const l=(a+.5)/512;for(;l>i.ratio&&s<e.length;)n=i,i=e[s++];B4e(o,n,i,l),r.set(o,4*a)}return r}function xbt(e,t,r,n){const{radius:i,fieldOffset:s,field:o}=t,a=Math.round(Jie(i)),l=new Float64Array(r*n);let u,d=Number.NEGATIVE_INFINITY;const p=W4e(o,s),f=new Set;for(const y of e){const v=y.getCursor();for(;v.next();){const g=v.getObjectId();if(f.has(g))continue;f.add(g);const b=v.readLegacyPointGeometry(),w=128;if(b.x<-w||b.x>=r+w||b.y<-w||b.y>n+w)continue;const S=+p(v),_=Math.max(0,Math.round(b.x)-a),x=Math.max(0,Math.round(b.y)-a),$=Math.min(n,Math.round(b.y)+a),E=Math.min(r,Math.round(b.x)+a);for(let T=x;T<$;T++)for(let M=_;M<E;M++){const A=T*r+M,k=q4e(b.x-M,b.y-T,a);u=l[A]+=k*S,u>d&&(d=u)}}}return{matrix:l.buffer,max:d}}function $bt(e,t,r,n,i,s){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);const o=e.getImageData(0,0,t,t);r&&n&&o.data.set(new Uint8ClampedArray(G4e(t,r,n,i,s))),e.putImageData(o,0,0)}function G4e(e,t,r,n,i){const s=new Uint32Array(e*e),o="buffer"in t?t:new Float64Array(t),a="buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer),l=a.length/(i-n);for(let u=0;u<o.length;u++){const d=o[u],p=Math.floor((d-n)*l);s[u]=a[Ps(p,0,a.length-1)]}return s.buffer}function q4e(e,t,r){const n=Math.sqrt(e**2+t**2)/r;return n>1?0:3/(Math.PI*r**2)*(1-n**2)**2}function Ebt(e,t){return typeof e=="function"?e:e?typeof t=="string"?r=>-1*+r[e]:r=>+r[e]+t:()=>1}function W4e(e,t){return e!=null?typeof t=="string"?r=>-1*+r.readAttribute(e):r=>+r.readAttribute(e)+t:r=>1}var UF;const cle="esri.renderers.HeatmapRenderer",H4e=oe.getLogger(cle);function hq(e){if(e!=null){const{maxDensity:t,minDensity:r,radius:n}=e;if(t!=null||r!=null||n!=null){const{blurRadius:i,maxPixelIntensity:s,minPixelIntensity:o,...a}=e;return a}}return e}let _n=UF=class extends Dc{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new bw({ratio:0,color:new Be("rgba(255, 140, 0, 0)")}),new bw({ratio:.75,color:new Be("rgba(255, 140, 0, 1)")}),new bw({ratio:.9,color:new Be("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(e){return hq(e)}get blurRadius(){return U4e(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",z4e(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(g9**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(e,t){this._warnedProps[e]||ji(this).getDefaultOrigin()==="user"&&(this._warnedProps[e]=!0,lv(()=>{P3(H4e,e,{replacement:`${String(t)} (suggested value: ${this._get(t)})`,version:"4.24"})}))}read(e,t){e=hq(e),super.read(e,t)}getSymbol(){return new Jh}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const r=this.field,n=this.valueExpression;r&&typeof r=="string"&&await no(e,t,r),n&&typeof n=="string"&&await ls(e,t,n)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new UF({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:B(this.colorStops),field:this.field,legendOptions:B(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([h({type:h9,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],_n.prototype,"authoringInfo",void 0),c([h({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],_n.prototype,"blurRadius",null),c([h({type:[bw],json:{write:!0}})],_n.prototype,"colorStops",void 0),c([h({type:String,json:{write:!0}})],_n.prototype,"field",void 0),c([h({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:r==null})},origins:{"web-scene":{write:!1}}}})],_n.prototype,"fieldOffset",void 0),c([h({type:Dy,json:{write:!0}})],_n.prototype,"legendOptions",void 0),c([h({type:Number,json:{write:!0}})],_n.prototype,"maxDensity",void 0),c([h({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],_n.prototype,"maxPixelIntensity",null),c([h({type:Number,json:{write:!0}})],_n.prototype,"minDensity",void 0),c([h({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],_n.prototype,"minPixelIntensity",null),c([h({type:Number,cast:xt,json:{write:!0}})],_n.prototype,"radius",void 0),c([h({type:Number,range:{min:0},json:{default:0,write:!0}})],_n.prototype,"referenceScale",void 0),c([Pe({heatmap:"heatmap"})],_n.prototype,"type",void 0),c([h({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],_n.prototype,"valueExpression",void 0),c([h({type:String})],_n.prototype,"valueExpressionTitle",void 0),c([h({readOnly:!0})],_n.prototype,"_pixelIntensityToDensity",null),_n=UF=c([O(cle)],_n);const dle=_n;let vf=class extends ar(Q){constructor(){super(...arguments),this.color=new Be([0,0,0,0]),this.label=null,this.threshold=0}};c([h({type:Be,json:{write:!0}})],vf.prototype,"color",void 0),c([h({type:String,json:{write:!0}})],vf.prototype,"label",void 0),c([h({type:Number,range:{min:0,max:1},json:{write:!0}})],vf.prototype,"threshold",void 0),vf=c([O("esri.renderers.support.OthersCategory")],vf);let hE=class extends ar(Q){constructor(){super(...arguments),this.title=null}};c([h({type:String,json:{write:!0}})],hE.prototype,"title",void 0),hE=c([O("esri.renderers.support.PieChartLegendOptions")],hE);let zs=class extends bv(ar(Dc)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Be([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new vf,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var t;return new Jh({size:this.size?this.size/2+(((t=this.outline)==null?void 0:t.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(C)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((t,r)=>t+r.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((t,r)=>t+JSON.stringify(r),"")}async collectRequiredFields(t,r){await this.collectVVRequiredFields(t,r);for(const n of this.attributes)n.valueExpression&&await ls(t,r,n.valueExpression),n.field&&t.add(n.field)}};c([h({type:[nle],json:{write:!0}})],zs.prototype,"attributes",void 0),c([h({type:Nc,json:{default:null,write:!0}})],zs.prototype,"backgroundFillSymbol",void 0),c([h({type:Be,json:{write:!0}})],zs.prototype,"defaultColor",void 0),c([h({type:String,json:{write:!0}})],zs.prototype,"defaultLabel",void 0),c([h({type:Number,range:{min:0,max:1},json:{write:!0}})],zs.prototype,"holePercentage",void 0),c([h({type:vf,json:{write:!0}})],zs.prototype,"othersCategory",void 0),c([h({type:hE,json:{write:!0}})],zs.prototype,"legendOptions",void 0),c([h({type:ho,json:{default:null,write:!0}})],zs.prototype,"outline",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],zs.prototype,"size",void 0),c([Pe({pieChart:"pie-chart"})],zs.prototype,"type",void 0),zs=c([O("esri.renderers.PieChartRenderer")],zs);const K4e=zs;var BF;let qp=BF=class extends bv(Dc){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new BF({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:B(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};c([h({type:String,json:{write:!0}})],qp.prototype,"description",void 0),c([h({type:String,json:{write:!0}})],qp.prototype,"label",void 0),c([h(wv)],qp.prototype,"symbol",void 0),c([Pe({simple:"simple"})],qp.prototype,"type",void 0),qp=BF=c([O("esri.renderers.SimpleRenderer")],qp);const $0=qp,J4e=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function GF(e){return e instanceof Ie}function pq(e){return e instanceof Fe?Object.keys(e.items):GF(e)?ji(e).keys():e?Object.keys(e):[]}function g$(e,t){return e instanceof Fe?e.items[t]:e[t]}function Y4e(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function Sw(e){return e?e.declaredClass:null}function hle(e,t){const r=e.diff;if(r&&typeof r=="function")return r(e,t);const n=pq(e),i=pq(t);if(n.length===0&&i.length===0)return;if(!n.length||!i.length||Y4e(e,t))return{type:"complete",oldValue:e,newValue:t};const s=i.filter(p=>!n.includes(p)),o=n.filter(p=>!i.includes(p)),a=n.filter(p=>i.includes(p)&&g$(e,p)!==g$(t,p)).concat(s,o).sort(),l=Sw(e);if(l&&J4e.includes(l)&&a.length)return{type:"complete",oldValue:e,newValue:t};let u;const d=GF(e)&&GF(t);for(const p of a){const f=g$(e,p),y=g$(t,p);let v;if((d||typeof f!="function"&&typeof y!="function")&&f!==y&&(f!=null||y!=null)){if(r&&r[p]&&typeof r[p]=="function")v=r[p](f,y);else if(f instanceof Date&&y instanceof Date){if(f.getTime()===y.getTime())continue;v={type:"complete",oldValue:f,newValue:y}}else v=typeof f=="object"&&typeof y=="object"&&Sw(f)===Sw(y)?hle(f,y):{type:"complete",oldValue:f,newValue:y};C(v)&&(C(u)?u.diff[p]=v:u={type:"partial",diff:{[p]:v}})}}return u}function Z4e(e,t){if(G(e))return!1;const r=t.split(".");let n=e;for(const i of r){if(n.type==="complete")return!0;if(n.type!=="partial")return!1;{const s=n.diff[i];if(!s)return!1;n=s}}return!0}function Obt(e,t){for(const r of t)if(Z4e(e,r))return!0;return!1}function X4e(e,t){if(!(typeof e=="function"||typeof t=="function"||G(e)&&G(t)))return G(e)||G(t)||typeof e=="object"&&typeof t=="object"&&Sw(e)!==Sw(t)?{type:"complete",oldValue:e,newValue:t}:hle(e,t)}let jy=class extends ar(Q){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};c([h(lE)],jy.prototype,"value",void 0),c([h(lE)],jy.prototype,"value2",void 0),c([h(lE)],jy.prototype,"value3",void 0),jy=c([O("esri.renderers.support.UniqueValue")],jy);const Hg=jy;let Td=class extends ar(Q){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const r=typeof(t=Array.isArray(t)?t:[t])[0];return r==="string"||r==="number"?t.map(n=>new Hg({value:n})):r==="object"?t[0]instanceof Hg?t:t.map(n=>new Hg(n)):null}};c([h({type:String,json:{write:!0}})],Td.prototype,"description",void 0),c([h({type:String,json:{write:!0}})],Td.prototype,"label",void 0),c([h(wv)],Td.prototype,"symbol",void 0),c([h({type:[Hg],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new Hg({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const r=[];for(const n of e){const i=[n.value,n.value2,n.value3].filter(C).map(s=>s.toString());r.push(i)}t.values=r}}}})],Td.prototype,"values",void 0),c([vt("values")],Td.prototype,"castValues",null),Td=c([O("esri.renderers.support.UniqueValueClass")],Td);const ple=Td;let Tb=class extends ar(Q){constructor(t){super(t),this.heading=null,this.classes=null}};c([h({type:String,json:{write:!0}})],Tb.prototype,"heading",void 0),c([h({type:[ple],json:{write:!0}})],Tb.prototype,"classes",void 0),Tb=c([O("esri.renderers.support.UniqueValueGroup")],Tb);const qF=Tb;var WF;let Wp=WF=class extends Q{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new WF({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};c([h({type:String,json:{write:!0}})],Wp.prototype,"description",void 0),c([h({type:String,json:{write:!0}})],Wp.prototype,"label",void 0),c([h(wv)],Wp.prototype,"symbol",void 0),c([h(lE)],Wp.prototype,"value",void 0),Wp=WF=c([O("esri.renderers.support.UniqueValueInfo")],Wp);const xw=Wp,Q4e=()=>!!Z("enable-feature:force-wosr"),kbt=()=>!!Z("enable-feature:SceneLayer-editing");let qP={};async function e5e(e,t){try{return{data:(await i5e(e,t)).data,baseUrl:hxe(e),styleUrl:e}}catch(r){return Nl(r),null}}function t5e(e,t,r){const n=C(t.portal)?t.portal:pi.getDefault();let i;const s=`${n.url} - ${n.user&&n.user.username} - ${e}`;return qP[s]||(qP[s]=r5e(e,n,r).then(o=>(i=o,o.fetchData())).then(o=>({data:o,baseUrl:i.itemUrl??"",styleName:e}))),qP[s]}function r5e(e,t,r){return t.load(r).then(()=>{const n=new ec({disableExtraQuery:!0,query:`owner:${fq} AND type:${mq} AND typekeywords:"${e}"`});return t.queryItems(n,r)}).then(({results:n})=>{var o;let i=null;const s=e.toLowerCase();if(n&&Array.isArray(n)){for(const a of n)if(((o=a.typeKeywords)==null?void 0:o.some(u=>u.toLowerCase()===s))&&a.type===mq&&a.owner===fq){i=a;break}}if(!i)throw new V("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return i.load(r)})}function n5e(e,t,r){return e&&C(e.styleUrl)?e5e(e.styleUrl,r):e&&C(e.styleName)?t5e(e.styleName,t,r):Promise.reject(new V("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function Rbt(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function Lbt(e,t){if(t==="cimRef")return e.cimRef;if(e.formatInfos&&!Q4e()){for(const r of e.formatInfos)if(r.type==="gltf")return r.href}return e.webRef}function i5e(e,t){const r={responseType:"json",query:{f:"json"},...t};return Tt(Xo(e),r)}const fq="esri_en",mq="Style",Nbt="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var Mb;const fle="esri.renderers.UniqueValueRenderer",td=oe.getLogger(fle),yq="uvInfos-watcher",gq="uvGroups-watcher",s5e=",",o5e=qt(xw);function a5e(e){const{field1:t,field2:r,field3:n,fieldDelimiter:i,uniqueValueInfos:s,valueExpression:o}=e,a=!(!t||!r);return[{classes:(s??[]).map(l=>{var w;const{symbol:u,label:d,value:p,description:f}=l,[y,v,g]=a?((w=p==null?void 0:p.toString())==null?void 0:w.split(i||""))||[]:[p],b=[];return(t||o)&&b.push(y),r&&b.push(v),n&&b.push(g),{symbol:u,label:d,values:[b],description:f}})}]}let wr=Mb=class extends bv(Dc){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let n=!1;const i={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let s=0;s<r.length;s++){const o=t.find(a=>a.value===r[s].value);o?X4e(o,r[s])?(i.changed.push({type:"complete",oldValue:o,newValue:r[s]}),n=!0):i.unchanged.push({oldValue:o,newValue:r[s]}):(i.added.push(r[s]),n=!0)}for(let s=0;s<t.length;s++)r.find(o=>o.value===t[s].value)||(i.removed.push(t[s]),n=!0);return n?i:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:MS(e)}writeField(e,t,r,n){typeof e=="string"?t[r]=e:n&&n.messages?n.messages.push(new V("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):td.error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,r){return r.portal||pi.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const n=pv(t.styleUrl,r);return Object.freeze({styleUrl:n})}}writeStyleOrigin(e,t,r,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=NS(e.styleUrl,n))}set uniqueValueGroups(e){this.styleOrigin?td.error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?td.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var n;if(this.styleOrigin)return void td.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?o5e(e):new xw({value:e,symbol:Ase(t)}),(n=this.uniqueValueInfos)==null||n.push(r),this._valueInfoMap[r.value]=r,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void td.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t){for(let r=0;r<t.length;r++)if(t[r].value===e+""){delete this._valueInfoMap[e],t.splice(r,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&(G(t)||G(t.arcade))&&(r={...r,arcade:await Ec()}),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&(G(t)||G(t.arcade)))return void td.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(G(r)||G(r.arcade))){const i=await Ec(),{arcadeUtils:s}=i;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),r={...r,arcade:i}}const n=this._getUniqueValueInfo(e,r);return n&&n.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){var n;const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=(n=this.uniqueValueInfos)==null?void 0:n.reduce((i,s)=>i+s.getMeshHash(),"");return`${e}.${t}.${r}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new Mb({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:B(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:B(this.visualVariables),legendOptions:B(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:B(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=B(this.uniqueValueInfos),r=B(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(B(this.styleOrigin))),Object.freeze(t),Object.freeze(r)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",r),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),ls(e,t,this.valueExpression)];no(e,t,this.field),no(e,t,this.field2),no(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return n5e(this.styleOrigin,{portal:this.portal}).then(e=>{var r;const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(n=>{const i=new Nm({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:n.name});this.defaultSymbol||n.name!==e.data.defaultItem||(this.defaultSymbol=i,this._isDefaultSymbolDerived=!0);const s=new xw({value:n.name,symbol:i});t.push(s),this._valueInfoMap[n.name]=s}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((r=this.uniqueValueInfos)!=null&&r.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",s5e)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[t.value+""]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(yq);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const r of e)t.push(ue(()=>({symbol:r.symbol,value:r.value,label:r.label,description:r.description}),(n,i)=>{n!==i&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,yq)}}_watchUniqueValueGroups(){this.removeHandles(gq);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const r of e){t.push(ue(()=>({classes:r.classes}),(n,i)=>{n!==i&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const n of r.classes??[])t.push(ue(()=>({symbol:n.symbol,values:n.values,label:n.label,description:n.description}),(i,s)=>{i!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,gq)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:r,field3:n,fieldDelimiter:i,uniqueValueGroups:s,valueExpression:o}=this;if(!t&&!o)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const a=!(!t||!r);for(const l of s)for(const u of l.classes??[]){const{symbol:d,label:p,values:f,description:y}=u;for(const v of f??[]){const{value:g,value2:b,value3:w}=v,S=[g];r&&S.push(b),n&&S.push(w);const _=a?S.join(i||""):S[0];e.push(new xw({symbol:d,label:p,value:_,description:y}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:r,valueExpression:n,fieldDelimiter:i,uniqueValueInfos:s}=this;if(!t&&!n||!s.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const o=!(!t||!r),a=s.map(u=>{var w;const{symbol:d,label:p,value:f,description:y}=u,[v,g,b]=o?((w=f==null?void 0:f.toString())==null?void 0:w.split(i||""))||[]:[f];return new ple({symbol:d,label:p,description:y,values:[new Hg({value:v,value2:g,value3:b})]})}),l=[new qF({classes:a})];e&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:n,spatialReference:i,arcade:s}=h6(t,{});let o=this._cache.compiledFunc;const a=s.arcadeUtils;if(!o){const u=a.createSyntaxTree(this.valueExpression);o=a.createFunction(u),this._cache.compiledFunc=o}const l=a.executeFunction(o,a.createExecContext(e,a.getViewInfo({viewingMode:r,scale:n,spatialReference:i})));return this._valueInfoMap[l+""]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let n;if(typeof t!="function"&&this.field2){const i=this.field2,s=this.field3,o=[];t&&o.push(r[t]),i&&o.push(r[i]),s&&o.push(r[s]),n=o.join(this.fieldDelimiter||"")}else typeof t=="function"?n=t(e):t&&(n=r[t]);return this._valueInfoMap[n+""]}static fromPortalStyle(e,t){const r=new Mb(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||pi.getDefault());const n=r.populateFromStyle();return n.catch(i=>{td.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",i)}),n}static fromStyleUrl(e,t){const r=new Mb(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const n=r.populateFromStyle();return n.catch(i=>{td.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",i)}),n}};c([h({readOnly:!0})],wr.prototype,"_cache",null),c([Pe({uniqueValue:"unique-value"})],wr.prototype,"type",void 0),c([h(Qae)],wr.prototype,"backgroundFillSymbol",void 0),c([h({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],wr.prototype,"field",null),c([vt("field")],wr.prototype,"castField",null),c([ge("field")],wr.prototype,"writeField",null),c([h({type:String,value:null,json:{write:!0}})],wr.prototype,"field2",null),c([h({type:String,value:null,json:{write:!0}})],wr.prototype,"field3",null),c([h({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],wr.prototype,"orderByClassesEnabled",void 0),c([h({type:String,value:null,json:{write:!0}})],wr.prototype,"valueExpression",null),c([h({type:String,json:{write:!0}})],wr.prototype,"valueExpressionTitle",void 0),c([h({type:Wg,json:{write:!0}})],wr.prototype,"legendOptions",void 0),c([h({type:String,json:{write:!0}})],wr.prototype,"defaultLabel",void 0),c([h(Bee({...wv},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],wr.prototype,"defaultSymbol",null),c([h({type:String,value:null,json:{write:!0}})],wr.prototype,"fieldDelimiter",null),c([h({type:pi,readOnly:!0})],wr.prototype,"portal",void 0),c([he("portal",["styleName"])],wr.prototype,"readPortal",null),c([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],wr.prototype,"styleOrigin",void 0),c([he("styleOrigin",["styleName","styleUrl"])],wr.prototype,"readStyleOrigin",null),c([ge("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],wr.prototype,"writeStyleOrigin",null),c([h({type:[qF],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,r)=>(t.uniqueValueGroups||a5e(t)).map(n=>qF.fromJSON(n,r))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],wr.prototype,"uniqueValueGroups",null),c([h({type:[xw],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],wr.prototype,"uniqueValueInfos",null),wr=Mb=c([O(fle)],wr);const WS=wr,nC={key:"type",base:Dc,typeMap:{heatmap:dle,simple:$0,"unique-value":WS,"class-breaks":tle,"dot-density":A4e,dictionary:O4e,"pie-chart":K4e},errorContext:"renderer"},l5e={key:"type",base:Dc,typeMap:{simple:$0,"unique-value":WS,"class-breaks":tle,heatmap:dle},errorContext:"renderer"};function Fbt(e,t){return R_(e,null,t)}const u5e=qh({types:nC});function R_(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r&&r.messages&&r.messages.push(new ta("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):u5e(e,t,r):null}let c5e=class mle{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(Q3),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new mle,n=this._originStores[ft.DEFAULTS];n&&n.forEach((i,s)=>{r.set(s,B(i),ft.DEFAULTS)});for(let i=ft.SERVICE;i<Q3;i++){const s=this._originStores[i];s&&s.forEach((o,a)=>{t&&t.has(a)||r.set(a,B(o),i)})}return r}get(t,r){const n=r===void 0?this._values:this._originStores[r];return n?n.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,n=ft.USER){let i=this._originStores[n];if(i||(i=new Map,this._originStores[n]=i),i.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const s=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,n),s!==r}return!1}delete(t,r=ft.USER){const n=this._originStores[r];if(!n)return;const i=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let s=r-1;s>=0;s--){const o=this._originStores[s];if(o&&o.has(t)){this._values.set(t,o.get(t)),this._propertyOriginMap.set(t,s);break}}}return i}has(t,r){const n=r===void 0?this._values:this._originStores[r];return!!n&&n.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const n=this._originStores[r],i=n&&n.get(t),s=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),s!==i}originOf(t){return this._propertyOriginMap.get(t)||ft.DEFAULTS}forEach(t){this._values.forEach(t)}};const yle=e=>{let t=class extends e{constructor(...r){super(...r);const n=ji(this),i=n.store,s=new c5e;n.store=s,mne(n,i,s)}read(r,n){gne(this,r,n)}getAtOrigin(r,n){const i=WP(this),s=sh(n);if(typeof r=="string")return i.get(r,s);const o={};return r.forEach(a=>{o[a]=i.get(a,s)}),o}originOf(r){return OT(this.originIdOf(r))}originIdOf(r){return WP(this).originOf(r)}revert(r,n){const i=WP(this),s=sh(n),o=ji(this);let a;a=typeof r=="string"?r==="*"?i.keys(s):[r]:r,a.forEach(l=>{o.invalidate(l),i.revert(l,s),o.commit(l)})}};return t=c([O("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function WP(e){return ji(e).store}let vq=class extends yle(Ie){};vq=c([O("esri.core.ReadOnlyMultiOriginJSONSupport")],vq);const d5e=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,n="user"){return HP(this).delete(r,sh(n))}write(r={},n){return bne(this,r=r||{},n),r}setAtOrigin(r,n,i){ji(this).setAtOrigin(r,n,sh(i))}removeOrigin(r){const n=HP(this),i=sh(r),s=n.keys(i);for(const o of s)n.originOf(o)===i&&n.set(o,n.get(o,i),ft.USER)}updateOrigin(r,n){const i=HP(this),s=sh(n),o=this.get(r);for(let a=s+1;a<Q3;++a)i.delete(r,a);i.set(r,o,s)}toJSON(r){return this.write({},r)}};return t=c([O("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function HP(e){return ji(e).store}const v9=e=>{let t=class extends d5e(yle(e)){constructor(...r){super(...r)}};return t=c([O("esri.core.MultiOriginJSONSupport")],t),t};let bq=class extends v9(Ie){};bq=c([O("esri.core.MultiOriginJSONSupport")],bq);async function h5e(e,t){const{WhereClause:r}=await Y(()=>import("./WhereClause-98560f78.js").then(n=>n.W),["assets/WhereClause-98560f78.js","assets/executionError-fb3f283a.js"]);return r.create(e,t)}function p5e(e,t){return C(e)?C(t)?`(${e}) AND (${t})`:e:t}var HF;let Hp=HF=class extends Q{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new HF({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([h({type:String,json:{write:!0}})],Hp.prototype,"expression",void 0),c([h({type:String,json:{write:!0}})],Hp.prototype,"name",void 0),c([h({type:["boolean","date","number","string"],json:{write:!0}})],Hp.prototype,"returnType",void 0),c([h({type:String,json:{write:!0}})],Hp.prototype,"title",void 0),Hp=HF=c([O("esri.form.ExpressionInfo")],Hp);const f5e=Hp;let Kp=class extends Q{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};c([h({type:String,json:{write:!0}})],Kp.prototype,"description",void 0),c([h({type:String,json:{write:!0}})],Kp.prototype,"label",void 0),c([h()],Kp.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],Kp.prototype,"visibilityExpression",void 0),Kp=c([O("esri.form.elements.Element")],Kp);const E0=Kp;var KF;let pE=KF=class extends Q{constructor(e){super(e),this.type=null}clone(){return new KF({type:this.type})}};c([h({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],pE.prototype,"type",void 0),pE=KF=c([O("esri.form.elements.inputs.AttachmentInput")],pE);const m5e=pE;var JF;let Jp=JF=class extends E0{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new JF({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};c([h({type:String,json:{write:!0}})],Jp.prototype,"attachmentKeyword",void 0),c([h({type:Boolean,json:{write:!0}})],Jp.prototype,"editable",void 0),c([h({type:m5e,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Jp.prototype,"input",void 0),c([h({type:["attachment"],json:{read:!1,write:!0}})],Jp.prototype,"type",void 0),Jp=JF=c([O("esri.form.elements.AttachmentElement")],Jp);const wq=Jp;let fE=class extends Q{constructor(t){super(t),this.type=null}};c([h()],fE.prototype,"type",void 0),fE=c([O("esri.form.elements.inputs.Input")],fE);const Sv=fE;let Ib=class extends Sv{constructor(t){super(t),this.maxLength=null,this.minLength=0}};c([h({type:Number,json:{write:!0}})],Ib.prototype,"maxLength",void 0),c([h({type:Number,json:{write:!0}})],Ib.prototype,"minLength",void 0),Ib=c([O("esri.form.elements.inputs.TextInput")],Ib);const b9=Ib;var YF;let mE=YF=class extends b9{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new YF({maxLength:this.maxLength,minLength:this.minLength})}};c([h({type:["barcode-scanner"],json:{read:!1,write:!0}})],mE.prototype,"type",void 0),mE=YF=c([O("esri.form.elements.inputs.BarcodeScannerInput")],mE);const y5e=mE;var ZF;let Vy=ZF=class extends Sv{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new ZF({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};c([h({type:String,json:{write:!0}})],Vy.prototype,"noValueOptionLabel",void 0),c([h({type:Boolean,json:{write:!0}})],Vy.prototype,"showNoValueOption",void 0),c([h({type:["combo-box"],json:{read:!1,write:!0}})],Vy.prototype,"type",void 0),Vy=ZF=c([O("esri.form.elements.inputs.ComboBoxInput")],Vy);const g5e=Vy;var XF;function _q(e){return e!=null?new Date(e):null}function Sq(e){return e?e.getTime():null}let Ia=XF=class extends Sv{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return _q(t.max)}writeMax(e,t){t.max=Sq(e)}readMin(e,t){return _q(t.min)}writeMin(e,t){t.min=Sq(e)}clone(){return new XF({includeTime:this.includeTime,max:this.max,min:this.min})}};c([h({type:Boolean,json:{write:!0}})],Ia.prototype,"includeTime",void 0),c([h({type:Date,json:{type:Number,write:!0}})],Ia.prototype,"max",void 0),c([he("max")],Ia.prototype,"readMax",null),c([ge("max")],Ia.prototype,"writeMax",null),c([h({type:Date,json:{type:Number,write:!0}})],Ia.prototype,"min",void 0),c([he("min")],Ia.prototype,"readMin",null),c([ge("min")],Ia.prototype,"writeMin",null),c([h({type:["datetime-picker"],json:{read:!1,write:!0}})],Ia.prototype,"type",void 0),Ia=XF=c([O("esri.form.elements.inputs.DateTimePickerInput")],Ia);const v5e=Ia;var QF;let zy=QF=class extends Sv{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new QF({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};c([h({type:String,json:{write:!0}})],zy.prototype,"noValueOptionLabel",void 0),c([h({type:Boolean,json:{write:!0}})],zy.prototype,"showNoValueOption",void 0),c([h({type:["radio-buttons"],json:{read:!1,write:!0}})],zy.prototype,"type",void 0),zy=QF=c([O("esri.form.elements.inputs.RadioButtonsInput")],zy);const b5e=zy;var e4;let Uy=e4=class extends Sv{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new e4({offValue:this.offValue,onValue:this.onValue})}};c([h({type:[String,Number],json:{write:!0}})],Uy.prototype,"offValue",void 0),c([h({type:[String,Number],json:{write:!0}})],Uy.prototype,"onValue",void 0),c([h({type:["switch"],json:{read:!1,write:!0}})],Uy.prototype,"type",void 0),Uy=e4=c([O("esri.form.elements.inputs.SwitchInput")],Uy);const w5e=Uy;var t4;let yE=t4=class extends b9{constructor(e){super(e),this.type="text-area"}clone(){return new t4({maxLength:this.maxLength,minLength:this.minLength})}};c([h({type:["text-area"],json:{read:!1,write:!0}})],yE.prototype,"type",void 0),yE=t4=c([O("esri.form.elements.inputs.TextAreaInput")],yE);const _5e=yE;var r4;let gE=r4=class extends b9{constructor(e){super(e),this.type="text-box"}clone(){return new r4({maxLength:this.maxLength,minLength:this.minLength})}};c([h({type:["text-box"],json:{read:!1,write:!0}})],gE.prototype,"type",void 0),gE=r4=c([O("esri.form.elements.inputs.TextBoxInput")],gE);const S5e=gE,x5e={base:Sv,key:"type",typeMap:{"barcode-scanner":y5e,"combo-box":g5e,"datetime-picker":v5e,"radio-buttons":b5e,switch:w5e,"text-area":_5e,"text-box":S5e}};var n4;const gle="esri.form.elements.FieldElement",xq=oe.getLogger(gle);let Ao=n4=class extends E0{constructor(e){super(e),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return P3(xq,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._get("editable")??!0}set editable(e){P3(xq,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",e)}clone(){return new n4({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};c([h({types:fae,json:{read:{reader:t9},write:!0}})],Ao.prototype,"domain",void 0),c([h({type:Boolean,json:{write:!0}})],Ao.prototype,"editable",null),c([h({type:String,json:{write:!0}})],Ao.prototype,"editableExpression",void 0),c([h({type:String,json:{write:!0}})],Ao.prototype,"fieldName",void 0),c([h({type:String,json:{write:!0}})],Ao.prototype,"hint",void 0),c([h({types:x5e,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Ao.prototype,"input",void 0),c([h({type:String,json:{write:!0}})],Ao.prototype,"requiredExpression",void 0),c([h({type:String,json:{read:!1,write:!0}})],Ao.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],Ao.prototype,"valueExpression",void 0),Ao=n4=c([O(gle)],Ao);const $q=Ao;var i4;let Nu=i4=class extends E0{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new i4({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:B(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};c([h({type:Number,json:{write:!0}})],Nu.prototype,"displayCount",void 0),c([h({type:["list"],json:{write:!0}})],Nu.prototype,"displayType",void 0),c([h({type:Boolean,json:{write:!0}})],Nu.prototype,"editable",void 0),c([h({type:[h8],json:{write:!0}})],Nu.prototype,"orderByFields",void 0),c([h({type:Number,json:{write:!0}})],Nu.prototype,"relationshipId",void 0),c([h({type:["relationship"],json:{read:!1,write:!0}})],Nu.prototype,"type",void 0),Nu=i4=c([O("esri.form.elements.RelationshipElement")],Nu);const Eq=Nu;function vle(e){return{typesWithGroup:{base:E0,key:"type",typeMap:{attachment:wq,field:$q,group:e,relationship:Eq}},typesWithoutGroup:{base:E0,key:"type",typeMap:{attachment:wq,field:$q,relationship:Eq}}}}function ble(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>n[i.type].fromJSON(i))}function wle(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>i.toJSON())}function _le(e,t,r=!0){return e?e.map(n=>tu(r?t.typesWithGroup:t.typesWithoutGroup,n)):null}var s4;let Al=s4=class extends E0{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return _le(e,KP,!1)}readElements(e,t){return ble(t.formElements,KP,!1)}writeElements(e,t){t.formElements=wle(e,KP,!1)}clone(){return new s4({description:this.description,elements:B(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};c([h({json:{write:!0}})],Al.prototype,"elements",void 0),c([vt("elements")],Al.prototype,"castElements",null),c([he("elements",["formElements"])],Al.prototype,"readElements",null),c([ge("elements")],Al.prototype,"writeElements",null),c([h({type:["collapsed","expanded"],json:{write:!0}})],Al.prototype,"initialState",void 0),c([h({type:String,json:{read:!1,write:!0}})],Al.prototype,"type",void 0),Al=s4=c([O("esri.form.elements.GroupElement")],Al);const KP=vle(Al),$5e=Al;var o4;const JP=vle($5e);let Oa=o4=class extends Q{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return _le(e,JP)}readElements(e,t){return ble(t.formElements,JP)}writeElements(e,t){t.formElements=wle(e,JP)}clone(){return new o4({description:this.description,expressionInfos:B(this.expressionInfos),elements:B(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};c([h({type:String,json:{write:!0}})],Oa.prototype,"description",void 0),c([h({json:{write:!0}})],Oa.prototype,"elements",void 0),c([vt("elements")],Oa.prototype,"castElements",null),c([he("elements",["formElements"])],Oa.prototype,"readElements",null),c([ge("elements")],Oa.prototype,"writeElements",null),c([h({type:[f5e],json:{write:!0}})],Oa.prototype,"expressionInfos",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],Oa.prototype,"preserveFieldValuesWhenHidden",void 0),c([h({type:String,json:{write:!0}})],Oa.prototype,"title",void 0),Oa=o4=c([O("esri.form.FormTemplate")],Oa);const E5e=Oa;async function T5e(e){const t="portalItem"in e?e:{portalItem:e},r=await Y(()=>import("./portalLayers-781f6ae3.js"),["assets/portalLayers-781f6ae3.js","assets/lazyLayerLoader-6fff588c.js","assets/layersLoader-42eab916.js","assets/fetchService-22b6ca72.js","assets/jsonContext-7de017ef.js"]);try{return await r.fromItem(t)}catch(n){const i=t&&t.portalItem,s=i&&i.id||"unset",o=i&&i.portal&&i.portal.url||yt.portalUrl;throw oe.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+s+"')",n),n}}let M5e=0,Sn=class extends au.EventedMixin(cv(Mc)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Pt(-180,-90,180,90,Ge.WGS84),this.id=Date.now().toString(16)+"-layer-"+M5e++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Ge.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=typeof t=="string"?{url:t}:t;return(await Y(()=>import("./arcgisLayers-f701912c.js"),["assets/arcgisLayers-f701912c.js","assets/fetchService-22b6ca72.js","assets/lazyLayerLoader-6fff588c.js"])).fromUrl(r)}static fromPortalItem(t){return T5e(t)}initialize(){this.when().catch(t=>{ia(t)||oe.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){if(this.parent){const t=this,r=this.parent;"layers"in r&&r.layers.includes(t)?r.layers.remove(t):"tables"in r&&r.tables.includes(t)?r.tables.remove(t):"baseLayers"in r&&r.baseLayers.includes(t)?r.baseLayers.remove(t):"baseLayers"in r&&r.referenceLayers.includes(t)&&r.referenceLayers.remove(t)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return Vi(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Tt(t,{query:{f:"json"},responseType:"json"})).data;throw new V("layer:no-attribution-data","Layer does not have attribution data")}};c([h({type:String})],Sn.prototype,"attributionDataUrl",void 0),c([h({type:Pt})],Sn.prototype,"fullExtent",void 0),c([h({readOnly:!0})],Sn.prototype,"hasAttributionData",null),c([h({type:String,clonable:!1})],Sn.prototype,"id",void 0),c([h({type:Boolean,nonNullable:!0})],Sn.prototype,"legendEnabled",void 0),c([h({type:["show","hide","hide-children"]})],Sn.prototype,"listMode",void 0),c([h({type:Number,range:{min:0,max:1},nonNullable:!0})],Sn.prototype,"opacity",void 0),c([h({clonable:!1})],Sn.prototype,"parent",void 0),c([h({readOnly:!0})],Sn.prototype,"parsedUrl",null),c([h({type:Boolean})],Sn.prototype,"popupEnabled",void 0),c([h({type:Boolean})],Sn.prototype,"attributionVisible",void 0),c([h({type:Ge})],Sn.prototype,"spatialReference",void 0),c([h({type:String})],Sn.prototype,"title",void 0),c([h({readOnly:!0,json:{read:!1}})],Sn.prototype,"type",void 0),c([h()],Sn.prototype,"url",void 0),c([h({type:Boolean,nonNullable:!0})],Sn.prototype,"visible",void 0),Sn=c([O("esri.layers.Layer")],Sn);const xm=Sn;function Tq(e,t,r){if(e.hasM==null||e.hasZ)for(const n of t)for(const i of n)i.length>2&&(i[2]*=r)}function I5e(e,t,r){if(!e&&!t||!r)return;const n=f0(r);Mq(e,r,n),Mq(t,r,n)}function Mq(e,t,r){if(e)for(const n of e)O5e(n.geometry,t,r)}function O5e(e,t,r){if(G(e)||!e.spatialReference||An(e.spatialReference,t))return;const n=f0(e.spatialReference)/r;if(n!==1){if("x"in e)e.z!=null&&(e.z*=n);else if("rings"in e)Tq(e,e.rings,n);else if("paths"in e)Tq(e,e.paths,n);else if("points"in e&&(e.hasM==null||e.hasZ))for(const i of e.points)i.length>2&&(i[2]*=n)}}let C5e=0;const Sle="esri.layers.graphics.sources.MemorySource",YP=oe.getLogger(Sle);let Hu=class extends Mc.LoadableMixin(TO(Dm(Fe))){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){const r=C(t)?t.signal:null;return this.addResolvingPromise(this._startWorker(r)),Promise.resolve(this)}destroy(){var t;(t=this._connection)==null||t.close(),this._connection=null}get _workerGeometryType(){var r;const t=(r=this.layer)==null?void 0:r.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,r={}){await this.load(r);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);dF(t,this.layer.spatialReference,n);const i=n9.fromJSON(n);if(!this._requiresClientGraphicMapping())return i;const s=this.layer.objectIdField;for(const o of i.features){const a=o.attributes[s],l=this._idToClientGraphic.get(a);l&&(o.geometry=l.geometry)}return i.geometryType=this.layer.geometryType,i}async queryFeaturesJSON(t,r={}){if(this._requiresClientGraphicMapping())throw new V("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(r);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);return dF(t,this.layer.spatialReference,n),n}queryFeatureCount(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,r))}queryObjectIds(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,r))}queryExtent(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,r)).then(n=>({count:n.count,extent:Pt.fromJSON(n.extent)}))}querySnapping(t,r={}){return this.load(r).then(()=>this._connection.invoke("querySnapping",t,r))}async _applyEdits(t){if(!this._connection)throw new V("feature-layer-source:edit-failure","Memory source not loaded");const r=this.layer.objectIdField;let n=null;const i=[],s=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const o=d=>"objectId"in d&&d.objectId!=null?d.objectId:"attributes"in d&&d.attributes[r]!=null?d.attributes[r]:null;if(t.addFeatures&&(n=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const d of t.deleteFeatures){const p=o(d);p!=null&&i.push(p)}const a=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures){for(const d of t.updateFeatures)if(s.push(this._serializeFeature(d)),a){const p=o(d);p!=null&&a.set(p,d)}}I5e(n?n.features:null,s,this.layer.spatialReference);const{fullExtent:l,featureEditResults:u}=await this._connection.invoke("applyEdits",{adds:n?n.features:[],updates:s,deletes:i});return this.fullExtent=l,n&&n.finish(u.uidToObjectId),this._updateClientGraphicIds(a,u),this._createEditsResult(u)}async _prepareClientMapping(t,r){if(this._layerOrSourceGeometryType!=="mesh"||G(t))return;const n=[];for(const{geometry:i}of t)!C(i)||i.type!=="mesh"||i.hasExtent||i.loaded||n.push(i.load({signal:r}));n.length&&await Promise.all(n)}_updateClientGraphicIds(t,r){if(this._idToClientGraphic){if(t)for(const n of r.updateResults){if(!n.success)continue;const i=t.get(n.objectId);i!=null&&this._addIdToClientGraphic(i)}for(const n of r.deleteResults)n.success&&this._idToClientGraphic.delete(n.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const r=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:r?new V("feature-layer-source:edit-failure",r.description,{code:r.code}):null}}_prepareAddFeatures(t){const r=new Map,n=new Array(t.length);let i=null;for(let o=0;o<t.length;o++){const a=t[o],l=this._serializeFeature(a);!i&&C(a.geometry)&&(i=a.geometry.type),n[o]=l,r.set(`${l.uid}`,a)}const s=this;return{features:n,inferredGeometryType:i,finish(o){const a=s.sourceJSON.objectIdField;for(const l in o){const u=o[l],d=r.get(l);d&&(d.attributes||(d.attributes={}),u===-1?delete d.attributes[a]:d.attributes[a]=u,s._addIdToClientGraphic(d))}}}}_addIdToClientGraphic(t){if(!this._idToClientGraphic)return;const r=this.sourceJSON.objectIdField,n=t.attributes&&t.attributes[r];n!=null&&this._idToClientGraphic.set(n,t)}get _layerOrSourceGeometryType(){var t,r;return((t=this.layer)==null?void 0:t.geometryType)??((r=this.sourceJSON)==null?void 0:r.geometryType)}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:r}=t,n=this._geometryForSerialization(t),i=(C5e++).toString();return n?{uid:i,geometry:n.toJSON(),attributes:r}:{uid:i,attributes:r}}_geometryForSerialization(t){const{geometry:r}=t;return G(r)?null:this._geometryRequiresClientGraphicMapping(r)?r.extent?ra.fromExtent(r.extent):null:r}async _startWorker(t){this._connection=await Nke("MemorySourceWorker",{strategy:Z("feature-layers-workers")?"dedicated":"local",signal:t});const{fields:r,spatialReference:n,objectIdField:i,hasM:s,hasZ:o,timeInfo:a}=this.layer,l=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const u=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",y=>{YP.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),y.preventDefault()}));const d={features:u.features,fields:r&&r.map(y=>y.toJSON()),geometryType:EB.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&s,hasZ:this._layerOrSourceGeometryType==="mesh"||o,objectIdField:i,spatialReference:l?null:n&&n.toJSON(),timeInfo:a?a.toJSON():null},p=await this._connection.invoke("load",d,{signal:t});for(const y of p.warnings)YP.warn(y.message,{layer:this.layer,warning:y});p.featureErrors.length&&YP.warn(`Encountered ${p.featureErrors.length} validation errors while loading features`,p.featureErrors);const f=p.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(u.inferredGeometryType)&&(f.geometryType=EB.toJSON(u.inferredGeometryType)),this.sourceJSON=f,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),u.finish(p.assignedObjectIds)}};c([s8({Type:Pn,ensureType:qt(Pn)})],Hu.prototype,"itemType",void 0),c([h()],Hu.prototype,"type",void 0),c([h({constructOnly:!0})],Hu.prototype,"layer",void 0),c([h({readOnly:!0})],Hu.prototype,"_workerGeometryType",null),c([h()],Hu.prototype,"sourceJSON",void 0),Hu=c([O(Sle)],Hu);function A5e(e){return"portalItem"in e}const P5e=e=>{let t=class extends e{get apiKey(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):A5e(this)?(r=this.portalItem)==null?void 0:r.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return c([h({type:String})],t.prototype,"apiKey",null),t=c([O("esri.layers.mixins.APIKeyMixin")],t),t},xle={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},$le=Object.values(xle),Ele=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${$le.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),k5e=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${$le.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),R5e=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function qbt(e){return!!Ele.test(e)}function xv(e){if(G(e))return null;const t=Vi(e),r=t.path.match(Ele)||t.path.match(k5e);if(!r)return null;const[,n,i,s,o]=r,a=i.indexOf("/");return{title:w9(a!==-1?i.slice(a+1):i),serverType:xle[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:n}}}function L5e(e){const t=Vi(e).path.match(R5e);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function w9(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function N5e(e,t){const r=[];if(e){const n=xv(e);C(n)&&n.title&&r.push(n.title)}if(t){const n=w9(t);r.push(n)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function Tle(e){if(!e)return!1;const t=".arcgis.com/",r="//services",n="//tiles",i="//features",s=(e=e.toLowerCase()).includes(t),o=e.includes(r)||e.includes(n)||e.includes(i);return s&&o}function F5e(e,t){return e&&dte(hte(e,t))}function D5e(e){let{url:t}=e;if(!t)return{url:t};t=hte(t,e.logger);const r=Vi(t),n=xv(r.path);let i;if(C(n))n.sublayer!=null&&e.layer.layerId==null&&(i=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const s=L5e(r.path);C(s)&&(t=s.serviceUrl,i=s.sublayerId)}return{url:dte(t),layerId:i}}function j5e(e,t,r,n,i){bm(t,n,"url",i),n.url&&e.layerId!=null&&(n.url=lm(n.url,r,e.layerId.toString()))}function Wbt(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return r&&(n||i||s)}const V5e=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=xv(this.url);if(C(r)&&r.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",F5e(r,oe.getLogger(this.declaredClass)))}};return c([h()],t.prototype,"title",null),c([h({type:String})],t.prototype,"url",null),t=c([O("esri.layers.mixins.ArcGISService")],t),t},Iq={read:{reader:Q8},write:{allowNull:!0,writer:e9}},iC=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return c([h({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),c([h({json:{read:!1,write:!1,origins:{"web-map":Iq,"portal-item":Iq}}})],t.prototype,"effect",void 0),t=c([O("esri.layers.mixins.BlendLayer")],t),t},z5e=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return c([h({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=c([O("esri.layers.mixins.CustomParametersMixin")],t),t},U5e=new au.EventEmitter,Mle="esri.layers.mixins.EditBusLayer",Ile=Symbol(Mle);function Hbt(e){return e!=null&&typeof e=="object"&&Ile in e}const B5e=e=>{var t;let r=class extends e{constructor(...n){super(...n),this[t]=!0,this.when().then(()=>{this.own([U5e.on("edits",i=>{var d,p,f;const s="layer"in i?i.layer:null,o="layer"in i?(d=i.layer)==null?void 0:d.url:i.serviceUrl,a="layer"in i?(p=i.layer)==null?void 0:p.layerId:i.layerId,l=i.event;if(s===this||o!==this.url)return;if(a!=null&&this.layerId!=null&&a===this.layerId)return void this.emit("edits",B(l));const u=(f=l.editedFeatures)==null?void 0:f.find(({layerId:y})=>y===this.layerId);if(u){const{adds:y,updates:v,deletes:g}=u.editedFeatures,b={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:y?y.map(({attributes:w})=>({objectId:this.objectIdField&&w[this.objectIdField],globalId:this.globalIdField&&w[this.globalIdField]})):[],deletedFeatures:g?g.map(({attributes:w})=>({objectId:this.objectIdField&&w[this.objectIdField],globalId:this.globalIdField&&w[this.globalIdField]})):[],updatedFeatures:v?v.map(({current:{attributes:w}})=>({objectId:this.objectIdField&&w[this.objectIdField],globalId:this.globalIdField&&w[this.globalIdField]})):[],editedFeatures:B(l.editedFeatures),exceededTransferLimit:!1};this.emit("edits",b)}})])},()=>{})}};return t=Ile,r=c([O(Mle)],r),r};var a4;const ZP=new Xe({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),XP=new Xe({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let _l=a4=class extends Q{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:n,timeExtent:i,objectIds:s,units:o,distance:a}=this;return new Zl({geometry:B(r),objectIds:B(s),spatialRelationship:n,timeExtent:B(i),where:t,units:o,distance:a,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:n,objectIds:i,units:s,distance:o}=this;return new a4({geometry:B(t),objectIds:B(i),spatialRelationship:r,timeExtent:B(n),where:e,units:s,distance:o})}};c([h({type:String,json:{write:!0}})],_l.prototype,"where",void 0),c([h({types:km,json:{write:!0}})],_l.prototype,"geometry",void 0),c([h({type:ZP.apiValues,json:{name:"spatialRel",read:{reader:ZP.read},write:{allowNull:!1,writer:ZP.write,overridePolicy(){return{enabled:C(this.geometry)}}}}})],_l.prototype,"spatialRelationship",void 0),c([h({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],_l.prototype,"distance",void 0),c([h({type:[Number],json:{write:!0}})],_l.prototype,"objectIds",void 0),c([h({type:XP.apiValues,json:{read:XP.read,write:{writer:XP.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],_l.prototype,"units",void 0),c([h({type:cu,json:{write:!0}})],_l.prototype,"timeExtent",void 0),_l=a4=c([O("esri.layers.support.FeatureFilter")],_l);const G5e=_l;var l4;const Oq={read:{reader:Q8},write:{writer:e9,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},Cq={read:{reader:Q8},write:{writer:e9,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},Aq={name:"showExcludedLabels",default:!0};let Yp=l4=class extends Q{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var n,i;const r=super.write(e,t);if(t!=null&&t.origin){if(r.filter){const s=Object.keys(r.filter);if(s.length>1||s[0]!=="where")return(n=t.messages)==null||n.push(new V("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return(i=t.messages)==null||i.push(new V("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new l4({filter:C(this.filter)?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};c([h({type:G5e,json:{write:{allowNull:!0,writer(e,t,r,n){const i=e==null?void 0:e.write({},n);i&&Object.keys(i).length!==0?Di(r,i,t):Di(r,null,t)}}}})],Yp.prototype,"filter",void 0),c([h({json:{write:!0,origins:{"web-map":Oq,"portal-item":Oq}}})],Yp.prototype,"includedEffect",void 0),c([h({json:{write:!0,origins:{"web-map":Cq,"portal-item":Cq}}})],Yp.prototype,"excludedEffect",void 0),c([h({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":Aq,"portal-item":Aq}}})],Yp.prototype,"excludedLabelsVisible",void 0),Yp=l4=c([O("esri.layers.support.FeatureEffect")],Yp);const q5e=Yp,Pq={write:{allowNull:!0}},W5e=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return c([h({type:q5e,json:{origins:{"web-map":Pq,"portal-item":Pq}}})],t.prototype,"featureEffect",void 0),t=c([O("esri.layers.mixins.FeatureEffectLayer")],t),t};var Ob;const aM=mi()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),Ole=aM.jsonValues.slice();eSe(Ole,"orthometric");const $w=mi()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Ca=Ob=class extends Q{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return aM.write(e,t,r)}readHeightModel(e,t,r){return aM.read(e)||(r&&r.messages&&r.messages.push(H5e(e,{context:r})),null)}readHeightUnit(e,t,r){return $w.read(e)||(r&&r.messages&&r.messages.push(kq(e,{context:r})),null)}readHeightUnitService(e,t,r){return Mne(e)||$w.read(e)||(r&&r.messages&&r.messages.push(kq(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Ob({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=PMe(t);return new Ob({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Ob;return t.read(e,{origin:"web-scene"}),t}};function kq(e,t){return new ta("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function H5e(e,t){return new ta("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}c([h({type:aM.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Ole,default:"ellipsoidal"}}}})],Ca.prototype,"heightModel",void 0),c([ge("web-scene","heightModel")],Ca.prototype,"writeHeightModel",null),c([he(["web-scene","service"],"heightModel")],Ca.prototype,"readHeightModel",null),c([h({type:$w.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:$w.jsonValues,write:$w.write}}}})],Ca.prototype,"heightUnit",void 0),c([he("web-scene","heightUnit")],Ca.prototype,"readHeightUnit",null),c([he("service","heightUnit")],Ca.prototype,"readHeightUnitService",null),c([h({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Ca.prototype,"vertCRS",void 0),c([he("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Ca.prototype,"readVertCRS",null),Ca=Ob=c([O("esri.geometry.HeightModelInfo")],Ca);const sC=Ca;function K5e(e){if(!e)return e;const{start:t,end:r}=e;return new cu({start:C(t)?Jf(t,-t.getTimezoneOffset(),"minutes"):t,end:C(r)?Jf(r,-r.getTimezoneOffset(),"minutes"):r})}function J5e(e){if(!e)return e;const{start:t,end:r}=e;return new cu({start:C(t)?Jf(t,t.getTimezoneOffset(),"minutes"):t,end:C(r)?Jf(r,r.getTimezoneOffset(),"minutes"):r})}var u4;let Cb=u4=class extends Q{constructor(e){super(e)}async collectRequiredFields(e,t){return ls(e,t,this.expression)}clone(){return new u4({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};c([h({type:String,json:{write:!0}})],Cb.prototype,"expression",void 0),c([h({type:String,json:{write:!0}})],Cb.prototype,"title",void 0),Cb=u4=c([O("esri.layers.support.FeatureExpressionInfo")],Cb);const Rq=Cb;function Kbt(e){return 1/(p9[e]||1)}function Y5e(){const e=Object.keys(p9);return e.sort(),e}const Z5e=Y5e();var c4;const v$=mi()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),Lq=new Xe({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Fu=c4=class extends Q{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,r,n){t[r]=e.write({},n),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):C(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new c4({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&Y_e(this.featureExpressionInfo,e.featureExpressionInfo)}};c([h({type:Rq,json:{write:!0}})],Fu.prototype,"featureExpressionInfo",void 0),c([he("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Fu.prototype,"readFeatureExpressionInfo",null),c([ge("featureExpressionInfo",{featureExpressionInfo:{type:Rq},"featureExpression.value":{type:[0]}})],Fu.prototype,"writeFeatureExpressionInfo",null),c([h({type:v$.apiValues,nonNullable:!0,json:{type:v$.jsonValues,read:v$.read,write:{writer:v$.write,isRequired:!0}}})],Fu.prototype,"mode",null),c([h({type:Number,json:{write:!0}})],Fu.prototype,"offset",void 0),c([h({type:Z5e,json:{type:String,read:Lq.read,write:Lq.write}})],Fu.prototype,"unit",null),Fu=c4=c([O("esri.layers.support.ElevationInfo")],Fu);const Cle=Fu,X5e={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},_9={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},S9={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:!0}},Q5e={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:bm}}},eDe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},tDe={value:null,type:Cle,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function Jbt(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const Ale={write:!0,read:!0},d4={type:Number,json:{origins:{"web-document":Ale,"portal-item":{write:!0}}}},rDe={...d4,json:{...d4.json,origins:{"web-document":{...Ale,write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?$_(t.layerDefinition.drawingInfo.transparency):void 0:$_(t.drawingInfo.transparency)}}},Ybt={type:cu,readOnly:!0,get(){var a,l;if(!((a=this.layer)!=null&&a.timeInfo))return null;const{datesInUnknownTimezone:e,timeOffset:t,useViewTime:r}=this.layer,n=(l=this.view)==null?void 0:l.timeExtent;let i=this.layer.timeExtent;e&&(i=J5e(i));let s=r?n&&i?n.intersection(i):n||i:i;if(!s||s.isEmpty||s.isAllTime)return s;t&&(s=s.offset(-t.value,t.unit)),e&&(s=K5e(s));const o=this._get("timeExtent");return s.equals(o)?o:s}},Zbt={type:Pt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=Pt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=Ge.fromJSON(t.spatialReference)),r}}}},read:!1}},nDe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},iDe={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},sDe={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},Ple={json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}},Nq=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Chihuahua"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class jm extends Error{}class oDe extends jm{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class aDe extends jm{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class lDe extends jm{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Ab extends jm{}class kle extends jm{constructor(t){super(`Invalid unit ${t}`)}}class Uo extends jm{}class rd extends jm{constructor(){super("Zone is an abstract class")}}const _e="numeric",rl="short",so="long",lM={year:_e,month:_e,day:_e},Rle={year:_e,month:rl,day:_e},uDe={year:_e,month:rl,day:_e,weekday:rl},Lle={year:_e,month:so,day:_e},Nle={year:_e,month:so,day:_e,weekday:so},Fle={hour:_e,minute:_e},Dle={hour:_e,minute:_e,second:_e},jle={hour:_e,minute:_e,second:_e,timeZoneName:rl},Vle={hour:_e,minute:_e,second:_e,timeZoneName:so},zle={hour:_e,minute:_e,hourCycle:"h23"},Ule={hour:_e,minute:_e,second:_e,hourCycle:"h23"},Ble={hour:_e,minute:_e,second:_e,hourCycle:"h23",timeZoneName:rl},Gle={hour:_e,minute:_e,second:_e,hourCycle:"h23",timeZoneName:so},qle={year:_e,month:_e,day:_e,hour:_e,minute:_e},Wle={year:_e,month:_e,day:_e,hour:_e,minute:_e,second:_e},Hle={year:_e,month:rl,day:_e,hour:_e,minute:_e},Kle={year:_e,month:rl,day:_e,hour:_e,minute:_e,second:_e},cDe={year:_e,month:rl,day:_e,weekday:rl,hour:_e,minute:_e},Jle={year:_e,month:so,day:_e,hour:_e,minute:_e,timeZoneName:rl},Yle={year:_e,month:so,day:_e,hour:_e,minute:_e,second:_e,timeZoneName:rl},Zle={year:_e,month:so,day:_e,weekday:so,hour:_e,minute:_e,timeZoneName:so},Xle={year:_e,month:so,day:_e,weekday:so,hour:_e,minute:_e,second:_e,timeZoneName:so};class HS{get type(){throw new rd}get name(){throw new rd}get ianaName(){return this.name}get isUniversal(){throw new rd}offsetName(t,r){throw new rd}formatOffset(t,r){throw new rd}offset(t){throw new rd}equals(t){throw new rd}get isValid(){throw new rd}}let QP=null;class oC extends HS{static get instance(){return QP===null&&(QP=new oC),QP}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return eue(t,r,n)}formatOffset(t,r){return Tw(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let vE={};function dDe(e){return vE[e]||(vE[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),vE[e]}const hDe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function pDe(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,o,a,l,u,d]=n;return[o,i,s,a,l,u,d]}function fDe(e,t){const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const{type:s,value:o}=r[i],a=hDe[s];s==="era"?n[a]=o:Et(a)||(n[a]=parseInt(o,10))}return n}let b$={};class Ic extends HS{static create(t){return b$[t]||(b$[t]=new Ic(t)),b$[t]}static resetCache(){b$={},vE={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Ic.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return eue(t,r,n,this.name)}formatOffset(t,r){return Tw(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const n=dDe(this.name);let[i,s,o,a,l,u,d]=n.formatToParts?fDe(n,r):pDe(n,r);a==="BC"&&(i=-Math.abs(i)+1);const f=E9({year:i,month:s,day:o,hour:l===24?0:l,minute:u,second:d,millisecond:0});let y=+r;const v=y%1e3;return y-=v>=0?v:1e3+v,(f-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let Fq={};function mDe(e,t={}){const r=JSON.stringify([e,t]);let n=Fq[r];return n||(n=new Intl.ListFormat(e,t),Fq[r]=n),n}let h4={};function p4(e,t={}){const r=JSON.stringify([e,t]);let n=h4[r];return n||(n=new Intl.DateTimeFormat(e,t),h4[r]=n),n}let f4={};function yDe(e,t={}){const r=JSON.stringify([e,t]);let n=f4[r];return n||(n=new Intl.NumberFormat(e,t),f4[r]=n),n}let m4={};function gDe(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let s=m4[i];return s||(s=new Intl.RelativeTimeFormat(e,t),m4[i]=s),s}let Pb=null;function vDe(){return Pb||(Pb=new Intl.DateTimeFormat().resolvedOptions().locale,Pb)}function bDe(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let n,i;try{n=p4(e).resolvedOptions(),i=e}catch{const l=e.substring(0,r);n=p4(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:o}=n;return[i,s,o]}}function wDe(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function _De(e){const t=[];for(let r=1;r<=12;r++){const n=ut.utc(2016,r,1);t.push(e(n))}return t}function SDe(e){const t=[];for(let r=1;r<=7;r++){const n=ut.utc(2016,11,13+r);t.push(e(n))}return t}function w$(e,t,r,n,i){const s=e.listingMode(r);return s==="error"?null:s==="en"?n(t):i(t)}function xDe(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class $De{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...o}=n;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=yDe(t,a)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):$9(t,3);return dn(r,this.padTo)}}}class EDe{constructor(t,r,n){this.opts=n;let i;if(t.zone.isUniversal){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&Ic.create(a).valid?(i=a,this.dt=t):(i="UTC",n.timeZoneName?this.dt=t:this.dt=t.offset===0?t:ut.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,i=t.zone.name);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=p4(r,s)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class TDe{constructor(t,r,n){this.opts={style:"long",...n},!r&&Qle()&&(this.rtf=gDe(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):BDe(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}class xr{static fromOpts(t){return xr.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,r,n,i=!1){const s=t||cn.defaultLocale,o=s||(i?"en-US":vDe()),a=r||cn.defaultNumberingSystem,l=n||cn.defaultOutputCalendar;return new xr(o,a,l,s)}static resetCache(){Pb=null,h4={},f4={},m4={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:n}={}){return xr.create(t,r,n)}constructor(t,r,n,i){const[s,o,a]=bDe(t);this.locale=s,this.numberingSystem=r||o||null,this.outputCalendar=n||a||null,this.intl=wDe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=xDe(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:xr.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1,n=!0){return w$(this,t,n,nue,()=>{const i=r?{month:t,day:"numeric"}:{month:t},s=r?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=_De(o=>this.extract(o,i,"month"))),this.monthsCache[s][t]})}weekdays(t,r=!1,n=!0){return w$(this,t,n,oue,()=>{const i=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=r?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=SDe(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[s][t]})}meridiems(t=!0){return w$(this,void 0,t,()=>aue,()=>{if(!this.meridiemCache){const r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ut.utc(2016,11,13,9),ut.utc(2016,11,13,19)].map(n=>this.extract(n,r,"dayperiod"))}return this.meridiemCache})}eras(t,r=!0){return w$(this,t,r,lue,()=>{const n={era:t};return this.eraCache[t]||(this.eraCache[t]=[ut.utc(-40,1,1),ut.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[t]})}extract(t,r,n){const i=this.dtFormatter(t,r),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===n);return o?o.value:null}numberFormatter(t={}){return new $De(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new EDe(t,this.intl,r)}relFormatter(t={}){return new TDe(this.intl,this.isEnglish(),t)}listFormatter(t={}){return mDe(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let ek=null;class Li extends HS{static get utcInstance(){return ek===null&&(ek=new Li(0)),ek}static instance(t){return t===0?Li.utcInstance:new Li(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Li(lC(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Tw(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Tw(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return Tw(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class MDe extends HS{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Qd(e,t){if(Et(e)||e===null)return t;if(e instanceof HS)return e;if(IDe(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?oC.instance:r==="utc"||r==="gmt"?Li.utcInstance:Li.parseSpecifier(r)||Ic.create(e)}else return Yf(e)?Li.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new MDe(e)}let Dq=()=>Date.now(),jq="system",Vq=null,zq=null,Uq=null,Bq=60,Gq;class cn{static get now(){return Dq}static set now(t){Dq=t}static set defaultZone(t){jq=t}static get defaultZone(){return Qd(jq,oC.instance)}static get defaultLocale(){return Vq}static set defaultLocale(t){Vq=t}static get defaultNumberingSystem(){return zq}static set defaultNumberingSystem(t){zq=t}static get defaultOutputCalendar(){return Uq}static set defaultOutputCalendar(t){Uq=t}static get twoDigitCutoffYear(){return Bq}static set twoDigitCutoffYear(t){Bq=t%100}static get throwOnInvalid(){return Gq}static set throwOnInvalid(t){Gq=t}static resetCaches(){xr.resetCache(),Ic.resetCache()}}function Et(e){return typeof e>"u"}function Yf(e){return typeof e=="number"}function aC(e){return typeof e=="number"&&e%1===0}function IDe(e){return typeof e=="string"}function ODe(e){return Object.prototype.toString.call(e)==="[object Date]"}function Qle(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function CDe(e){return Array.isArray(e)?e:[e]}function qq(e,t,r){if(e.length!==0)return e.reduce((n,i)=>{const s=[t(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function ADe(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function T0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ic(e,t,r){return aC(e)&&e>=t&&e<=r}function PDe(e,t){return e-t*Math.floor(e/t)}function dn(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function Hd(e){if(!(Et(e)||e===null||e===""))return parseInt(e,10)}function cp(e){if(!(Et(e)||e===null||e===""))return parseFloat(e)}function x9(e){if(!(Et(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function $9(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function KS(e){return e%4===0&&(e%100!==0||e%400===0)}function Ew(e){return KS(e)?366:365}function uM(e,t){const r=PDe(t-1,12)+1,n=e+(t-r)/12;return r===2?KS(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function E9(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function cM(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return t===4||n===3?53:52}function y4(e){return e>99?e:e>cn.twoDigitCutoffYear?1900+e:2e3+e}function eue(e,t,r,n=null){const i=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(r,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function lC(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function tue(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Uo(`Invalid unit value ${e}`);return t}function dM(e,t){const r={};for(const n in e)if(T0(e,n)){const i=e[n];if(i==null)continue;r[t(n)]=tue(i)}return r}function Tw(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${dn(r,2)}:${dn(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${dn(r,2)}${dn(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function uC(e){return ADe(e,["hour","minute","second","millisecond"])}const kDe=["January","February","March","April","May","June","July","August","September","October","November","December"],rue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],RDe=["J","F","M","A","M","J","J","A","S","O","N","D"];function nue(e){switch(e){case"narrow":return[...RDe];case"short":return[...rue];case"long":return[...kDe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const iue=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],sue=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],LDe=["M","T","W","T","F","S","S"];function oue(e){switch(e){case"narrow":return[...LDe];case"short":return[...sue];case"long":return[...iue];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const aue=["AM","PM"],NDe=["Before Christ","Anno Domini"],FDe=["BC","AD"],DDe=["B","A"];function lue(e){switch(e){case"narrow":return[...DDe];case"short":return[...FDe];case"long":return[...NDe];default:return null}}function jDe(e){return aue[e.hour<12?0:1]}function VDe(e,t){return oue(t)[e.weekday-1]}function zDe(e,t){return nue(t)[e.month-1]}function UDe(e,t){return lue(t)[e.year<0?0:1]}function BDe(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&s){const p=e==="days";switch(t){case 1:return p?"tomorrow":`next ${i[e][0]}`;case-1:return p?"yesterday":`last ${i[e][0]}`;case 0:return p?"today":`this ${i[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,u=i[e],d=n?l?u[1]:u[2]||u[1]:l?i[e][0]:e;return o?`${a} ${d} ago`:`in ${a} ${d}`}function Wq(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const GDe={D:lM,DD:Rle,DDD:Lle,DDDD:Nle,t:Fle,tt:Dle,ttt:jle,tttt:Vle,T:zle,TT:Ule,TTT:Ble,TTTT:Gle,f:qle,ff:Hle,fff:Jle,ffff:Zle,F:Wle,FF:Kle,FFF:Yle,FFFF:Xle};class Ri{static create(t,r={}){return new Ri(t,r)}static parseFormat(t){let r=null,n="",i=!1;const s=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(n.length>0&&s.push({literal:i,val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&s.push({literal:!1,val:n}),n=a,r=a)}return n.length>0&&s.push({literal:i,val:n}),s}static macroTokenToFormatOpts(t){return GDe[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}formatDateTime(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).format()}formatDateTimeParts(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).formatToParts()}formatInterval(t,r={}){return this.loc.dtFormatter(t.start,{...this.opts,...r}).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return dn(t,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,v)=>this.loc.extract(t,y,v),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>n?jDe(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,v)=>n?zDe(t,y):s(v?{month:y}:{month:y,day:"numeric"},"month"),u=(y,v)=>n?VDe(t,y):s(v?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),d=y=>{const v=Ri.macroTokenToFormatOpts(y);return v?this.formatWithSystemDefault(t,v):y},p=y=>n?UDe(t,y):s({era:y},"era"),f=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(t.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(t.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(t.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return d(y)}};return Wq(Ri.parseFormat(r),f)}formatDurationFromString(t,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>u=>{const d=n(u);return d?this.num(l.get(d),u.length):u},s=Ri.parseFormat(r),o=s.reduce((l,{literal:u,val:d})=>u?l:l.concat(d),[]),a=t.shiftTo(...o.map(n).filter(l=>l));return Wq(s,i(a))}}class Ba{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const uue=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function $v(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function Ev(...e){return t=>e.reduce(([r,n,i],s)=>{const[o,a,l]=s(t,i);return[{...r,...o},a||n,l]},[{},null,1]).slice(0,2)}function Tv(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const i=r.exec(e);if(i)return n(i)}return[null,null]}function cue(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=Hd(t[r+i]);return[n,null,r+i]}}const due=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,qDe=`(?:${due.source}?(?:\\[(${uue.source})\\])?)?`,T9=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,hue=RegExp(`${T9.source}${qDe}`),M9=RegExp(`(?:T${hue.source})?`),WDe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,HDe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,KDe=/(\d{4})-?(\d{3})/,JDe=cue("weekYear","weekNumber","weekDay"),YDe=cue("year","ordinal"),ZDe=/(\d{4})-(\d\d)-(\d\d)/,pue=RegExp(`${T9.source} ?(?:${due.source}|(${uue.source}))?`),XDe=RegExp(`(?: ${pue.source})?`);function Kg(e,t,r){const n=e[t];return Et(n)?r:Hd(n)}function QDe(e,t){return[{year:Kg(e,t),month:Kg(e,t+1,1),day:Kg(e,t+2,1)},null,t+3]}function Mv(e,t){return[{hours:Kg(e,t,0),minutes:Kg(e,t+1,0),seconds:Kg(e,t+2,0),milliseconds:x9(e[t+3])},null,t+4]}function JS(e,t){const r=!e[t]&&!e[t+1],n=lC(e[t+1],e[t+2]),i=r?null:Li.instance(n);return[{},i,t+3]}function YS(e,t){const r=e[t]?Ic.create(e[t]):null;return[{},r,t+1]}const eje=RegExp(`^T?${T9.source}$`),tje=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function rje(e){const[t,r,n,i,s,o,a,l,u]=e,d=t[0]==="-",p=l&&l[0]==="-",f=(y,v=!1)=>y!==void 0&&(v||y&&d)?-y:y;return[{years:f(cp(r)),months:f(cp(n)),weeks:f(cp(i)),days:f(cp(s)),hours:f(cp(o)),minutes:f(cp(a)),seconds:f(cp(l),l==="-0"),milliseconds:f(x9(u),p)}]}const nje={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function I9(e,t,r,n,i,s,o){const a={year:t.length===2?y4(Hd(t)):Hd(t),month:rue.indexOf(r)+1,day:Hd(n),hour:Hd(i),minute:Hd(s)};return o&&(a.second=Hd(o)),e&&(a.weekday=e.length>3?iue.indexOf(e)+1:sue.indexOf(e)+1),a}const ije=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function sje(e){const[,t,r,n,i,s,o,a,l,u,d,p]=e,f=I9(t,i,n,r,s,o,a);let y;return l?y=nje[l]:u?y=0:y=lC(d,p),[f,new Li(y)]}function oje(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const aje=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,lje=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,uje=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Hq(e){const[,t,r,n,i,s,o,a]=e;return[I9(t,i,n,r,s,o,a),Li.utcInstance]}function cje(e){const[,t,r,n,i,s,o,a]=e;return[I9(t,a,r,n,i,s,o),Li.utcInstance]}const dje=$v(WDe,M9),hje=$v(HDe,M9),pje=$v(KDe,M9),fje=$v(hue),fue=Ev(QDe,Mv,JS,YS),mje=Ev(JDe,Mv,JS,YS),yje=Ev(YDe,Mv,JS,YS),gje=Ev(Mv,JS,YS);function vje(e){return Tv(e,[dje,fue],[hje,mje],[pje,yje],[fje,gje])}function bje(e){return Tv(oje(e),[ije,sje])}function wje(e){return Tv(e,[aje,Hq],[lje,Hq],[uje,cje])}function _je(e){return Tv(e,[tje,rje])}const Sje=Ev(Mv);function xje(e){return Tv(e,[eje,Sje])}const $je=$v(ZDe,XDe),Eje=$v(pue),Tje=Ev(Mv,JS,YS);function Mje(e){return Tv(e,[$je,fue],[Eje,Tje])}const Ije="Invalid Duration",mue={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Oje={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...mue},wo=146097/400,Xm=146097/4800,Cje={years:{quarters:4,months:12,weeks:wo/7,days:wo,hours:wo*24,minutes:wo*24*60,seconds:wo*24*60*60,milliseconds:wo*24*60*60*1e3},quarters:{months:3,weeks:wo/28,days:wo/4,hours:wo*24/4,minutes:wo*24*60/4,seconds:wo*24*60*60/4,milliseconds:wo*24*60*60*1e3/4},months:{weeks:Xm/7,days:Xm,hours:Xm*24,minutes:Xm*24*60,seconds:Xm*24*60*60,milliseconds:Xm*24*60*60*1e3},...mue},Zp=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Aje=Zp.slice(0).reverse();function nd(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new It(n)}function Pje(e){return e<0?Math.floor(e):Math.ceil(e)}function yue(e,t,r,n,i){const s=e[i][r],o=t[r]/s,a=Math.sign(o)===Math.sign(n[i]),l=!a&&n[i]!==0&&Math.abs(o)<=1?Pje(o):Math.trunc(o);n[i]+=l,t[r]-=l*s}function kje(e,t){Aje.reduce((r,n)=>Et(t[n])?r:(r&&yue(e,t,r,t,n),n),null)}function Rje(e){const t={};for(const[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}class It{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let n=r?Cje:Oje;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||xr.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return It.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new Uo(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new It({values:dM(t,It.normalizeUnit),loc:xr.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(Yf(t))return It.fromMillis(t);if(It.isDuration(t))return t;if(typeof t=="object")return It.fromObject(t);throw new Uo(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=_je(t);return n?It.fromObject(n,r):It.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=xje(t);return n?It.fromObject(n,r):It.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new Uo("need to specify a reason the Duration is invalid");const n=t instanceof Ba?t:new Ba(t,r);if(cn.throwOnInvalid)throw new lDe(n);return new It({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new kle(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Ri.create(this.loc,n).formatDurationFromString(this,t):Ije}toHuman(t={}){const r=Zp.map(n=>{const i=this.values[n];return Et(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=$9(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();if(r<0||r>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const n=this.shiftTo("hours","minutes","seconds","milliseconds");let i=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(i+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||n.milliseconds!==0)&&(i+=".SSS"));let s=n.toFormat(i);return t.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=It.fromDurationLike(t),n={};for(const i of Zp)(T0(r.values,i)||T0(this.values,i))&&(n[i]=r.get(i)+this.get(i));return nd(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=It.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=tue(t(this.values[n],n));return nd(this,{values:r},!0)}get(t){return this[It.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...dM(t,It.normalizeUnit)};return nd(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:n};return nd(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return kje(this.matrix,t),nd(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=Rje(this.normalize().shiftToAll().toObject());return nd(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>It.normalizeUnit(o));const r={},n={},i=this.toObject();let s;for(const o of Zp)if(t.indexOf(o)>=0){s=o;let a=0;for(const u in n)a+=this.matrix[u][o]*n[u],n[u]=0;Yf(i[o])&&(a+=i[o]);const l=Math.trunc(a);r[o]=l,n[o]=(a*1e3-l*1e3)/1e3;for(const u in i)Zp.indexOf(u)>Zp.indexOf(o)&&yue(this.matrix,i,u,r,o)}else Yf(i[o])&&(n[o]=i[o]);for(const o in n)n[o]!==0&&(r[s]+=o===s?n[o]:n[o]/this.matrix[s][o]);return nd(this,{values:r},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return nd(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of Zp)if(!r(this.values[n],t.values[n]))return!1;return!0}}const Qm="Invalid Interval";function Lje(e,t){return!e||!e.isValid?Zr.invalid("missing or invalid start"):!t||!t.isValid?Zr.invalid("missing or invalid end"):t<e?Zr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Zr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new Uo("need to specify a reason the Interval is invalid");const n=t instanceof Ba?t:new Ba(t,r);if(cn.throwOnInvalid)throw new aDe(n);return new Zr({invalid:n})}static fromDateTimes(t,r){const n=M1(t),i=M1(r),s=Lje(n,i);return s??new Zr({start:n,end:i})}static after(t,r){const n=It.fromDurationLike(r),i=M1(t);return Zr.fromDateTimes(i,i.plus(n))}static before(t,r){const n=It.fromDurationLike(r),i=M1(t);return Zr.fromDateTimes(i.minus(n),i)}static fromISO(t,r){const[n,i]=(t||"").split("/",2);if(n&&i){let s,o;try{s=ut.fromISO(n,r),o=s.isValid}catch{o=!1}let a,l;try{a=ut.fromISO(i,r),l=a.isValid}catch{l=!1}if(o&&l)return Zr.fromDateTimes(s,a);if(o){const u=It.fromISO(i,r);if(u.isValid)return Zr.after(s,u)}else if(l){const u=It.fromISO(n,r);if(u.isValid)return Zr.before(a,u)}}return Zr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const r=this.start.startOf(t),n=this.end.startOf(t);return Math.floor(n.diff(r,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?Zr.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(M1).filter(o=>this.contains(o)).sort(),n=[];let{s:i}=this,s=0;for(;i<this.e;){const o=r[s]||this.e,a=+o>+this.e?this.e:o;n.push(Zr.fromDateTimes(i,a)),i=a,s+=1}return n}splitBy(t){const r=It.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const o=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*i));s=+a>+this.e?this.e:a,o.push(Zr.fromDateTimes(n,s)),n=s,i+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:Zr.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return Zr.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const i=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,u)=>l.time-u.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(Zr.fromDateTimes(r,l.time)),r=null);return Zr.merge(i)}difference(...t){return Zr.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Qm}toLocaleString(t=lM,r={}){return this.isValid?Ri.create(this.s.loc.clone(r),t).formatInterval(this):Qm}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Qm}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Qm}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Qm}toFormat(t,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:Qm}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):It.invalid(this.invalidReason)}mapEndpoints(t){return Zr.fromDateTimes(t(this.s),t(this.e))}}class _${static hasDST(t=cn.defaultZone){const r=ut.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return Ic.isValidZone(t)}static normalizeZone(t){return Qd(t,cn.defaultZone)}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||xr.create(r,n,s)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||xr.create(r,n,s)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||xr.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||xr.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return xr.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return xr.create(r,null,"gregory").eras(t)}static features(){return{relative:Qle()}}}function Kq(e,t){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(It.fromMillis(n).as("days"))}function Nje(e,t,r){const n=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const d=Kq(l,u);return(d-d%7)/7}],["days",Kq]],i={},s=e;let o,a;for(const[l,u]of n)r.indexOf(l)>=0&&(o=l,i[l]=u(e,t),a=s.plus(i),a>t?(i[l]--,e=s.plus(i)):e=a);return[e,i,a,o]}function Fje(e,t,r,n){let[i,s,o,a]=Nje(e,t,r);const l=t-i,u=r.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);u.length===0&&(o<t&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+l/(o-i)));const d=It.fromObject(s,n);return u.length>0?It.fromMillis(l,n).shiftTo(...u).plus(d):d}const O9={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Jq={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Dje=O9.hanidec.replace(/[\[|\]]/g,"").split("");function jje(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search(O9.hanidec)!==-1)t+=Dje.indexOf(e[r]);else for(const i in Jq){const[s,o]=Jq[i];n>=s&&n<=o&&(t+=n-s)}}return parseInt(t,10)}else return t}function ha({numberingSystem:e},t=""){return new RegExp(`${O9[e||"latn"]}${t}`)}const Vje="missing Intl.DateTimeFormat.formatToParts support";function Dt(e,t=r=>r){return{regex:e,deser:([r])=>t(jje(r))}}const zje=String.fromCharCode(160),gue=`[ ${zje}]`,vue=new RegExp(gue,"g");function Uje(e){return e.replace(/\./g,"\\.?").replace(vue,gue)}function Yq(e){return e.replace(/\./g,"").replace(vue," ").toLowerCase()}function pa(e,t){return e===null?null:{regex:RegExp(e.map(Uje).join("|")),deser:([r])=>e.findIndex(n=>Yq(r)===Yq(n))+t}}function Zq(e,t){return{regex:e,deser:([,r,n])=>lC(r,n),groups:t}}function tk(e){return{regex:e,deser:([t])=>t}}function Bje(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Gje(e,t){const r=ha(t),n=ha(t,"{2}"),i=ha(t,"{3}"),s=ha(t,"{4}"),o=ha(t,"{6}"),a=ha(t,"{1,2}"),l=ha(t,"{1,3}"),u=ha(t,"{1,6}"),d=ha(t,"{1,9}"),p=ha(t,"{2,4}"),f=ha(t,"{4,6}"),y=b=>({regex:RegExp(Bje(b.val)),deser:([w])=>w,literal:!0}),g=(b=>{if(e.literal)return y(b);switch(b.val){case"G":return pa(t.eras("short",!1),0);case"GG":return pa(t.eras("long",!1),0);case"y":return Dt(u);case"yy":return Dt(p,y4);case"yyyy":return Dt(s);case"yyyyy":return Dt(f);case"yyyyyy":return Dt(o);case"M":return Dt(a);case"MM":return Dt(n);case"MMM":return pa(t.months("short",!0,!1),1);case"MMMM":return pa(t.months("long",!0,!1),1);case"L":return Dt(a);case"LL":return Dt(n);case"LLL":return pa(t.months("short",!1,!1),1);case"LLLL":return pa(t.months("long",!1,!1),1);case"d":return Dt(a);case"dd":return Dt(n);case"o":return Dt(l);case"ooo":return Dt(i);case"HH":return Dt(n);case"H":return Dt(a);case"hh":return Dt(n);case"h":return Dt(a);case"mm":return Dt(n);case"m":return Dt(a);case"q":return Dt(a);case"qq":return Dt(n);case"s":return Dt(a);case"ss":return Dt(n);case"S":return Dt(l);case"SSS":return Dt(i);case"u":return tk(d);case"uu":return tk(a);case"uuu":return Dt(r);case"a":return pa(t.meridiems(),0);case"kkkk":return Dt(s);case"kk":return Dt(p,y4);case"W":return Dt(a);case"WW":return Dt(n);case"E":case"c":return Dt(r);case"EEE":return pa(t.weekdays("short",!1,!1),1);case"EEEE":return pa(t.weekdays("long",!1,!1),1);case"ccc":return pa(t.weekdays("short",!0,!1),1);case"cccc":return pa(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Zq(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return Zq(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return tk(/[a-z_+-/]{1,256}?/i);default:return y(b)}})(e)||{invalidReason:Vje};return g.token=e,g}const qje={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Wje(e,t){const{type:r,value:n}=e;if(r==="literal")return{literal:!0,val:n};const i=t[r];let s=qje[r];if(typeof s=="object"&&(s=s[i]),s)return{literal:!1,val:s}}function Hje(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function Kje(e,t,r){const n=e.match(t);if(n){const i={};let s=1;for(const o in r)if(T0(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(s,s+l))),s+=l}return[n,i]}else return[n,{}]}function Jje(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return Et(e.z)||(r=Ic.create(e.z)),Et(e.Z)||(r||(r=new Li(e.Z)),n=e.Z),Et(e.q)||(e.M=(e.q-1)*3+1),Et(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Et(e.u)||(e.S=x9(e.u)),[Object.keys(e).reduce((s,o)=>{const a=t(o);return a&&(s[a]=e[o]),s},{}),r,n]}let rk=null;function Yje(){return rk||(rk=ut.fromMillis(1555555555555)),rk}function Zje(e,t){if(e.literal)return e;const r=Ri.macroTokenToFormatOpts(e.val),n=_ue(r,t);return n==null||n.includes(void 0)?e:n}function bue(e,t){return Array.prototype.concat(...e.map(r=>Zje(r,t)))}function wue(e,t,r){const n=bue(Ri.parseFormat(r),e),i=n.map(o=>Gje(o,e)),s=i.find(o=>o.invalidReason);if(s)return{input:t,tokens:n,invalidReason:s.invalidReason};{const[o,a]=Hje(i),l=RegExp(o,"i"),[u,d]=Kje(t,l,a),[p,f,y]=d?Jje(d):[null,null,void 0];if(T0(d,"a")&&T0(d,"H"))throw new Ab("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:l,rawMatches:u,matches:d,result:p,zone:f,specificOffset:y}}}function Xje(e,t,r){const{result:n,zone:i,specificOffset:s,invalidReason:o}=wue(e,t,r);return[n,i,s,o]}function _ue(e,t){return e?Ri.create(t,e).formatDateTimeParts(Yje()).map(i=>Wje(i,e)):null}const Sue=[0,31,59,90,120,151,181,212,243,273,304,334],xue=[0,31,60,91,121,152,182,213,244,274,305,335];function qo(e,t){return new Ba("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function $ue(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function Eue(e,t,r){return r+(KS(e)?xue:Sue)[t-1]}function Tue(e,t){const r=KS(e)?xue:Sue,n=r.findIndex(s=>s<t),i=t-r[n];return{month:n+1,day:i}}function g4(e){const{year:t,month:r,day:n}=e,i=Eue(t,r,n),s=$ue(t,r,n);let o=Math.floor((i-s+10)/7),a;return o<1?(a=t-1,o=cM(a)):o>cM(t)?(a=t+1,o=1):a=t,{weekYear:a,weekNumber:o,weekday:s,...uC(e)}}function Xq(e){const{weekYear:t,weekNumber:r,weekday:n}=e,i=$ue(t,1,4),s=Ew(t);let o=r*7+n-i-3,a;o<1?(a=t-1,o+=Ew(a)):o>s?(a=t+1,o-=Ew(t)):a=t;const{month:l,day:u}=Tue(a,o);return{year:a,month:l,day:u,...uC(e)}}function nk(e){const{year:t,month:r,day:n}=e,i=Eue(t,r,n);return{year:t,ordinal:i,...uC(e)}}function Qq(e){const{year:t,ordinal:r}=e,{month:n,day:i}=Tue(t,r);return{year:t,month:n,day:i,...uC(e)}}function Qje(e){const t=aC(e.weekYear),r=ic(e.weekNumber,1,cM(e.weekYear)),n=ic(e.weekday,1,7);return t?r?n?!1:qo("weekday",e.weekday):qo("week",e.week):qo("weekYear",e.weekYear)}function e6e(e){const t=aC(e.year),r=ic(e.ordinal,1,Ew(e.year));return t?r?!1:qo("ordinal",e.ordinal):qo("year",e.year)}function Mue(e){const t=aC(e.year),r=ic(e.month,1,12),n=ic(e.day,1,uM(e.year,e.month));return t?r?n?!1:qo("day",e.day):qo("month",e.month):qo("year",e.year)}function Iue(e){const{hour:t,minute:r,second:n,millisecond:i}=e,s=ic(t,0,23)||t===24&&r===0&&n===0&&i===0,o=ic(r,0,59),a=ic(n,0,59),l=ic(i,0,999);return s?o?a?l?!1:qo("millisecond",i):qo("second",n):qo("minute",r):qo("hour",t)}const ik="Invalid DateTime",eW=864e13;function S$(e){return new Ba("unsupported zone",`the zone "${e.name}" is not supported`)}function sk(e){return e.weekData===null&&(e.weekData=g4(e.c)),e.weekData}function E1(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new ut({...r,...t,old:r})}function Oue(e,t,r){let n=e-t*60*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=(i-t)*60*1e3;const s=r.offset(n);return i===s?[n,i]:[e-Math.min(i,s)*60*1e3,Math.max(i,s)]}function tW(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function bE(e,t,r){return Oue(E9(e),t,r)}function rW(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:n,month:i,day:Math.min(e.c.day,uM(n,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=It.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=E9(s);let[l,u]=Oue(a,r,e.zone);return o!==0&&(l+=o,u=e.zone.offset(l)),{ts:l,o:u}}function T1(e,t,r,n,i,s){const{setZone:o,zone:a}=r;if(e&&Object.keys(e).length!==0){const l=t||a,u=ut.fromObject(e,{...r,zone:l,specificOffset:s});return o?u:u.setZone(a)}else return ut.invalid(new Ba("unparsable",`the input "${i}" can't be parsed as ${n}`))}function x$(e,t,r=!0){return e.isValid?Ri.create(xr.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function ok(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=dn(e.c.year,r?6:4),t?(n+="-",n+=dn(e.c.month),n+="-",n+=dn(e.c.day)):(n+=dn(e.c.month),n+=dn(e.c.day)),n}function nW(e,t,r,n,i,s){let o=dn(e.c.hour);return t?(o+=":",o+=dn(e.c.minute),(e.c.second!==0||!r)&&(o+=":")):o+=dn(e.c.minute),(e.c.second!==0||!r)&&(o+=dn(e.c.second),(e.c.millisecond!==0||!n)&&(o+=".",o+=dn(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!s?o+="Z":e.o<0?(o+="-",o+=dn(Math.trunc(-e.o/60)),o+=":",o+=dn(Math.trunc(-e.o%60))):(o+="+",o+=dn(Math.trunc(e.o/60)),o+=":",o+=dn(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const Cue={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},t6e={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},r6e={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Aue=["year","month","day","hour","minute","second","millisecond"],n6e=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],i6e=["year","ordinal","hour","minute","second","millisecond"];function iW(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new kle(e);return t}function sW(e,t){const r=Qd(t.zone,cn.defaultZone),n=xr.fromObject(t),i=cn.now();let s,o;if(Et(e.year))s=i;else{for(const u of Aue)Et(e[u])&&(e[u]=Cue[u]);const a=Mue(e)||Iue(e);if(a)return ut.invalid(a);const l=r.offset(i);[s,o]=bE(e,l,r)}return new ut({ts:s,zone:r,loc:n,o})}function oW(e,t,r){const n=Et(r.round)?!0:r.round,i=(o,a)=>(o=$9(o,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(o,a)),s=o=>r.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(r.unit)return i(s(r.unit),r.unit);for(const o of r.units){const a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(e>t?-0:0,r.units[r.units.length-1])}function aW(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class ut{constructor(t){const r=t.zone||cn.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new Ba("invalid input"):null)||(r.isValid?null:S$(r));this.ts=Et(t.ts)?cn.now():t.ts;let i=null,s=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[i,s]=[t.old.c,t.old.o];else{const a=r.offset(this.ts);i=tW(this.ts,a),n=Number.isNaN(i.year)?new Ba("invalid input"):null,i=n?null:i,s=n?null:a}this._zone=r,this.loc=t.loc||xr.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new ut({})}static local(){const[t,r]=aW(arguments),[n,i,s,o,a,l,u]=r;return sW({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:u},t)}static utc(){const[t,r]=aW(arguments),[n,i,s,o,a,l,u]=r;return t.zone=Li.utcInstance,sW({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:u},t)}static fromJSDate(t,r={}){const n=ODe(t)?t.valueOf():NaN;if(Number.isNaN(n))return ut.invalid("invalid input");const i=Qd(r.zone,cn.defaultZone);return i.isValid?new ut({ts:n,zone:i,loc:xr.fromObject(r)}):ut.invalid(S$(i))}static fromMillis(t,r={}){if(Yf(t))return t<-eW||t>eW?ut.invalid("Timestamp out of range"):new ut({ts:t,zone:Qd(r.zone,cn.defaultZone),loc:xr.fromObject(r)});throw new Uo(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Yf(t))return new ut({ts:t*1e3,zone:Qd(r.zone,cn.defaultZone),loc:xr.fromObject(r)});throw new Uo("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=Qd(r.zone,cn.defaultZone);if(!n.isValid)return ut.invalid(S$(n));const i=cn.now(),s=Et(r.specificOffset)?n.offset(i):r.specificOffset,o=dM(t,iW),a=!Et(o.ordinal),l=!Et(o.year),u=!Et(o.month)||!Et(o.day),d=l||u,p=o.weekYear||o.weekNumber,f=xr.fromObject(r);if((d||a)&&p)throw new Ab("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new Ab("Can't mix ordinal dates with month/day");const y=p||o.weekday&&!d;let v,g,b=tW(i,s);y?(v=n6e,g=t6e,b=g4(b)):a?(v=i6e,g=r6e,b=nk(b)):(v=Aue,g=Cue);let w=!1;for(const M of v){const A=o[M];Et(A)?w?o[M]=g[M]:o[M]=b[M]:w=!0}const S=y?Qje(o):a?e6e(o):Mue(o),_=S||Iue(o);if(_)return ut.invalid(_);const x=y?Xq(o):a?Qq(o):o,[$,E]=bE(x,s,n),T=new ut({ts:$,zone:n,o:E,loc:f});return o.weekday&&d&&t.weekday!==T.weekday?ut.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${T.toISO()}`):T}static fromISO(t,r={}){const[n,i]=vje(t);return T1(n,i,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,i]=bje(t);return T1(n,i,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,i]=wje(t);return T1(n,i,r,"HTTP",r)}static fromFormat(t,r,n={}){if(Et(t)||Et(r))throw new Uo("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,o=xr.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,l,u,d]=Xje(o,t,r);return d?ut.invalid(d):T1(a,l,n,`format ${r}`,t,u)}static fromString(t,r,n={}){return ut.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,i]=Mje(t);return T1(n,i,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new Uo("need to specify a reason the DateTime is invalid");const n=t instanceof Ba?t:new Ba(t,r);if(cn.throwOnInvalid)throw new oDe(n);return new ut({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const n=_ue(t,xr.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(t,r={}){return bue(Ri.parseFormat(t),xr.fromObject(r)).map(i=>i.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?sk(this).weekYear:NaN}get weekNumber(){return this.isValid?sk(this).weekNumber:NaN}get weekday(){return this.isValid?sk(this).weekday:NaN}get ordinal(){return this.isValid?nk(this.c).ordinal:NaN}get monthShort(){return this.isValid?_$.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?_$.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?_$.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?_$.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return KS(this.year)}get daysInMonth(){return uM(this.year,this.month)}get daysInYear(){return this.isValid?Ew(this.year):NaN}get weeksInWeekYear(){return this.isValid?cM(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:i}=Ri.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(t=0,r={}){return this.setZone(Li.instance(t),r)}toLocal(){return this.setZone(cn.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=Qd(t,cn.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(r||n){const s=t.offset(this.ts),o=this.toObject();[i]=bE(o,s,t)}return E1(this,{ts:i,zone:t})}else return ut.invalid(S$(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return E1(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=dM(t,iW),n=!Et(r.weekYear)||!Et(r.weekNumber)||!Et(r.weekday),i=!Et(r.ordinal),s=!Et(r.year),o=!Et(r.month)||!Et(r.day),a=s||o,l=r.weekYear||r.weekNumber;if((a||i)&&l)throw new Ab("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new Ab("Can't mix ordinal dates with month/day");let u;n?u=Xq({...g4(this.c),...r}):Et(r.ordinal)?(u={...this.toObject(),...r},Et(r.day)&&(u.day=Math.min(uM(u.year,u.month),u.day))):u=Qq({...nk(this.c),...r});const[d,p]=bE(u,this.o,this.zone);return E1(this,{ts:d,o:p})}plus(t){if(!this.isValid)return this;const r=It.fromDurationLike(t);return E1(this,rW(this,r))}minus(t){if(!this.isValid)return this;const r=It.fromDurationLike(t).negate();return E1(this,rW(this,r))}startOf(t){if(!this.isValid)return this;const r={},n=It.normalizeUnit(t);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){const i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,r={}){return this.isValid?Ri.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):ik}toLocaleString(t=lM,r={}){return this.isValid?Ri.create(this.loc.clone(r),t).formatDateTime(this):ik}toLocaleParts(t={}){return this.isValid?Ri.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=ok(this,o);return a+="T",a+=nW(this,o,r,n,i,s),a}toISODate({format:t="extended"}={}){return this.isValid?ok(this,t==="extended"):null}toISOWeekDate(){return x$(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+nW(this,o==="extended",r,t,n,s):null}toRFC2822(){return x$(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return x$(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ok(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||t)&&(n&&(i+=" "),r?i+="z":t&&(i+="ZZ")),x$(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():ik}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return It.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=CDe(r).map(It.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,u=Fje(a,l,s,i);return o?u.negate():u}diffNow(t="milliseconds",r={}){return this.diff(ut.now(),t,r)}until(t){return this.isValid?Zr.fromDateTimes(this,t):this}hasSame(t,r){if(!this.isValid)return!1;const n=t.valueOf(),i=this.setZone(t.zone,{keepLocalTime:!0});return i.startOf(r)<=n&&n<=i.endOf(r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||ut.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(i=t.unit,s=void 0),oW(r,this.plus(n),{...t,numeric:"always",units:i,unit:s})}toRelativeCalendar(t={}){return this.isValid?oW(t.base||ut.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(ut.isDateTime))throw new Uo("min requires all arguments be DateTimes");return qq(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(ut.isDateTime))throw new Uo("max requires all arguments be DateTimes");return qq(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:i=null,numberingSystem:s=null}=n,o=xr.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return wue(o,t,r)}static fromStringExplain(t,r,n={}){return ut.fromFormatExplain(t,r,n)}static get DATE_SHORT(){return lM}static get DATE_MED(){return Rle}static get DATE_MED_WITH_WEEKDAY(){return uDe}static get DATE_FULL(){return Lle}static get DATE_HUGE(){return Nle}static get TIME_SIMPLE(){return Fle}static get TIME_WITH_SECONDS(){return Dle}static get TIME_WITH_SHORT_OFFSET(){return jle}static get TIME_WITH_LONG_OFFSET(){return Vle}static get TIME_24_SIMPLE(){return zle}static get TIME_24_WITH_SECONDS(){return Ule}static get TIME_24_WITH_SHORT_OFFSET(){return Ble}static get TIME_24_WITH_LONG_OFFSET(){return Gle}static get DATETIME_SHORT(){return qle}static get DATETIME_SHORT_WITH_SECONDS(){return Wle}static get DATETIME_MED(){return Hle}static get DATETIME_MED_WITH_SECONDS(){return Kle}static get DATETIME_MED_WITH_WEEKDAY(){return cDe}static get DATETIME_FULL(){return Jle}static get DATETIME_FULL_WITH_SECONDS(){return Yle}static get DATETIME_HUGE(){return Zle}static get DATETIME_HUGE_WITH_SECONDS(){return Xle}}function M1(e){if(ut.isDateTime(e))return e;if(e&&e.valueOf&&Yf(e.valueOf()))return ut.fromJSDate(e);if(e&&typeof e=="object")return ut.fromObject(e);throw new Uo(`Unknown datetime argument: ${e}, of type ${typeof e}`)}function s6e(e,t="system"){if(!e||!Nq.has(e.timeZone))return t;const r=Nq.get(e.timeZone);return a6e(e.timeZone)||e.respectsDaylightSaving?r:o6e(r)}function o6e(e){const t=ut.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${Li.instance(-r).formatOffset(0,"narrow")}`}function a6e(e){return e.startsWith("UTC")}let Md=class extends ar(Q){constructor(t){super(t),this.legacy=null,this.timeZone="system"}readLegacy(t,r){const{timeZone:n,respectsDaylightSaving:i}=r;return{timeZone:n,respectsDaylightSaving:i}}readTimeZone(t,r){return"timeZoneIANA"in r?r.timeZoneIANA:s6e(r)}writeTimeZone(t,r){r.timeZoneIANA=t}equals(t){return!(G(t)||G(this.timeZone)||G(t.timeZone))&&this.timeZone===t.timeZone}};c([h()],Md.prototype,"legacy",void 0),c([he("legacy",["timeZone"])],Md.prototype,"readLegacy",null),c([h({type:String,nonNullable:!0})],Md.prototype,"timeZone",void 0),c([he("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],Md.prototype,"readTimeZone",null),c([ge("timeZone")],Md.prototype,"writeTimeZone",null),Md=c([O("esri.time.TimeReference")],Md);const M0=Md;let Du=class extends ar(Q){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.dateFieldsTimeReference=null}};c([h()],Du.prototype,"creatorField",void 0),c([h()],Du.prototype,"creationDateField",void 0),c([h()],Du.prototype,"editorField",void 0),c([h()],Du.prototype,"editDateField",void 0),c([h()],Du.prototype,"realm",void 0),c([h({type:M0})],Du.prototype,"dateFieldsTimeReference",void 0),Du=c([O("esri.layers.support.EditFieldsInfo")],Du);const l6e=Du;let Pl=class extends ar(Q){constructor(t){super(t)}};c([h({constructOnly:!0,json:{write:!0}})],Pl.prototype,"name",void 0),c([h({constructOnly:!0,json:{write:!0}})],Pl.prototype,"fields",void 0),c([h({constructOnly:!0,json:{write:!0}})],Pl.prototype,"isAscending",void 0),c([h({constructOnly:!0,json:{write:!0}})],Pl.prototype,"indexType",void 0),c([h({constructOnly:!0,json:{write:!0}})],Pl.prototype,"isUnique",void 0),c([h({constructOnly:!0,json:{write:!0}})],Pl.prototype,"description",void 0),Pl=c([O("esri.layers.support.FeatureIndex")],Pl);const v4=new Xe({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function u6e(e,t,r,n){const i=await Zh(e);if(await C9(e,t,n),!i.addAttachment)throw new V(n,"Layer source does not support addAttachment capability");return i.addAttachment(t,r)}function C9(e,t,r){const{attributes:n}=t,{objectIdField:i}=e;return e.get("capabilities.data.supportsAttachment")?t?n?i&&n[i]?Promise.resolve():Promise.reject(new V(r,`feature is missing the identifying attribute ${i}`)):Promise.reject(new V(r,"'attributes' are required on a feature to query attachments")):Promise.reject(new V(r,"A feature is required to add/delete/update attachments")):Promise.reject(new V(r,"this layer doesn't support attachments"))}async function c6e(e,t,r,n,i){const s=await Zh(e);if(await C9(e,t,i),!s.updateAttachment)throw new V(i,"Layer source does not support updateAttachment capability");return s.updateAttachment(t,r,n)}async function d6e(e,t,r){const n=await Y(()=>import("./editingSupport-1acd97f2.js"),["assets/editingSupport-1acd97f2.js","assets/assetEditingSupport-2cebf928.js"]),i=await e.load();return n.applyEdits(i,i.source,t,r)}async function h6e(e,t,r,n){const i=await Zh(e);if(await C9(e,t,n),!i.deleteAttachments)throw new V(n,"Layer source does not support deleteAttachments capability");return i.deleteAttachments(t,r)}async function p6e(e,t,r){const n=(await e.load({signal:t==null?void 0:t.signal})).source;if(!n.fetchRecomputedExtents)throw new V(r,"Layer source does not support fetchUpdates capability");return n.fetchRecomputedExtents(t)}async function f6e(e,t,r,n){var y,v;t=GN.from(t),await e.load();const i=e.source,s=e.capabilities;if(!((y=s==null?void 0:s.data)!=null&&y.supportsAttachment))throw new V(n,"this layer doesn't support attachments");const{attachmentTypes:o,objectIds:a,globalIds:l,num:u,size:d,start:p,where:f}=t;if(!((v=s==null?void 0:s.operations)!=null&&v.supportsQueryAttachments)&&((o==null?void 0:o.length)>0||(l==null?void 0:l.length)>0||(d==null?void 0:d.length)>0||u||p||f))throw new V(n,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(a!=null&&a.length||l!=null&&l.length||f))throw new V(n,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!i.queryAttachments)throw new V(n,"Layer source does not support queryAttachments capability",t);return i.queryAttachments(t)}async function m6e(e,t,r,n){const i=await Zh(e);if(!i.queryObjectIds)throw new V(n,"Layer source does not support queryObjectIds capability");return i.queryObjectIds(Zl.from(t)??e.createQuery(),r)}async function y6e(e,t,r,n){const i=await Zh(e);if(!i.queryFeatureCount)throw new V(n,"Layer source does not support queryFeatureCount capability");return i.queryFeatureCount(Zl.from(t)??e.createQuery(),r)}async function g6e(e,t,r,n){const i=await Zh(e);if(!i.queryExtent)throw new V(n,"Layer source does not support queryExtent capability");return i.queryExtent(Zl.from(t)??e.createQuery(),r)}async function v6e(e,t,r,n){const i=await Zh(e);if(!i.queryRelatedFeatures)throw new V(n,"Layer source does not support queryRelatedFeatures capability");return i.queryRelatedFeatures(x0.from(t),r)}async function b6e(e,t,r,n){const i=await Zh(e);if(!i.queryRelatedFeaturesCount)throw new V(n,"Layer source does not support queryRelatedFeaturesCount capability");return i.queryRelatedFeaturesCount(x0.from(t),r)}async function w6e(e){const t=e.source;if(t!=null&&t.refresh)try{const{dataChanged:r,updates:n}=await t.refresh();if(C(n)&&(e.sourceJSON={...e.sourceJSON,...n},e.read(n,{origin:"service",url:e.parsedUrl})),r)return!0}catch{}if(e.definitionExpression)try{return(await h5e(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function _6e(e){const t=new Zl,r=e.get("capabilities.data"),n=e.get("capabilities.query");t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,n&&(t.compactGeometryEnabled=n.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=n.supportsDefaultSpatialReference),r&&(r.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),r.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:i,timeExtent:s}=e;return t.timeExtent=i!=null&&s!=null?s.offset(-i.value,i.unit):s||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function Pue(e){const{globalIdField:t,fields:r}=e;if(t)return t;if(r){for(const n of r)if(n.type==="esriFieldTypeGlobalID")return n.name}}function kue(e){const{objectIdField:t,fields:r}=e;if(t)return t;if(r){for(const n of r)if(n.type==="esriFieldTypeOID")return n.name}}function S6e(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}async function Zh(e){return(await e.load()).source}async function x6e(e,t){if(!Ct||Ct.findCredential(e))return;let r;try{const n=await Poe(e,t);n&&(r=await Ct.checkSignInStatus(`${n}/sharing`))}catch{}if(r)try{const n=C(t)?t.signal:null;await Ct.getCredential(e,{signal:n})}catch{}}async function $6e(e,t){var i;const r=(i=e.parsedUrl)==null?void 0:i.path;if(!r)return;const n=e.editFieldsInfo;(e.userHasUpdateItemPrivileges||e.userHasFullEditingPrivileges&&e.capabilities.operations.supportsEditing||n!=null&&n.creatorField||n!=null&&n.editorField)&&await x6e(r,t)}function E6e(e){var t;return!((t=e.sourceJSON)!=null&&t.isMultiServicesView)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}let By=class extends ar(Q){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};c([h({type:String,json:{read:{source:"shapeAreaFieldName"}}})],By.prototype,"shapeAreaField",void 0),c([h({type:String,json:{read:{source:"shapeLengthFieldName"}}})],By.prototype,"shapeLengthField",void 0),c([h({type:String,json:{read:e=>jMe.read(e)||VMe.read(e)}})],By.prototype,"units",void 0),By=c([O("esri.layers.support.GeometryFieldsInfo")],By);const T6e=By;var b4;let Gy=b4=class extends Q{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new Fe}clone(){return new b4({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};c([h({type:String,json:{write:!0}})],Gy.prototype,"floorField",void 0),c([h({json:{read:!1,write:!1}})],Gy.prototype,"viewAllMode",void 0),c([h({json:{read:!1,write:!1}})],Gy.prototype,"viewAllLevelIds",void 0),Gy=b4=c([O("esri.layers.support.LayerFloorInfo")],Gy);const M6e=Gy,lW=new Xe({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),uW=new Xe({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Po=class extends ar(Q){constructor(t){super(t),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};c([h({json:{read:lW.read,write:lW.write}})],Po.prototype,"cardinality",void 0),c([h({json:{read:!0,write:!0}})],Po.prototype,"composite",void 0),c([h({json:{read:!0,write:!0}})],Po.prototype,"id",void 0),c([h({json:{read:!0,write:!0}})],Po.prototype,"keyField",void 0),c([h({json:{read:!0,write:!0}})],Po.prototype,"keyFieldInRelationshipTable",void 0),c([h({json:{read:!0,write:!0}})],Po.prototype,"name",void 0),c([h({json:{read:!0,write:!0}})],Po.prototype,"relatedTableId",void 0),c([h({json:{read:!0,write:!0}})],Po.prototype,"relationshipTableId",void 0),c([h({json:{read:uW.read,write:uW.write}})],Po.prototype,"role",void 0),Po=c([O("esri.layers.support.Relationship")],Po);const I6e=Po,O6e={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function qe(e,t,r){return!!(e&&e.hasOwnProperty(t)?e[t]:r)}function $$(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}function C6e(e){var r;const t=(r=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:r.map(n=>n.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function ZS(e,t){var n;const r=(n=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:n.map(i=>i.toLowerCase());return!!(r!=null&&r.includes(t.toLowerCase()))}function Rue(e,t){return{analytics:A6e(e),attachment:P6e(e),data:k6e(e),metadata:R6e(e),operations:L6e(e.capabilities,e,t),query:N6e(e,t),queryRelated:F6e(e),queryTopFeatures:D6e(e),editing:j6e(e)}}function A6e(e){return{supportsCacheHint:ZS(e.advancedQueryCapabilities,"queryAnalytics")}}function P6e(e){const t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:ZS(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:qe(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(n=>{const i=O6e[n.name];i&&(r[i]=!!n.isEnabled)}),r}function k6e(e){return{isVersioned:qe(e,"isDataVersioned",!1),supportsAttachment:qe(e,"hasAttachments",!1),supportsM:qe(e,"hasM",!1),supportsZ:qe(e,"hasZ",!1)}}function R6e(e){return{supportsAdvancedFieldProperties:qe(e,"supportsFieldDescriptionProperty",!1)}}function L6e(e,t,r){const n=e?e.toLowerCase().split(",").map(f=>f.trim()):[],i=r?xv(r):null,s=n.includes(C(i)&&i.serverType==="MapServer"?"data":"query"),o=n.includes("editing")&&!t.datesInUnknownTimezone;let a=o&&n.includes("create"),l=o&&n.includes("delete"),u=o&&n.includes("update");const d=n.includes("changetracking"),p=t.advancedQueryCapabilities;return o&&!(a||l||u)&&(a=l=u=!0),{supportsCalculate:qe(t,"supportsCalculate",!1),supportsTruncate:qe(t,"supportsTruncate",!1),supportsValidateSql:qe(t,"supportsValidateSql",!1),supportsAdd:a,supportsDelete:l,supportsEditing:o,supportsChangeTracking:d,supportsQuery:s,supportsQueryAnalytics:qe(p,"supportsQueryAnalytic",!1),supportsQueryAttachments:qe(p,"supportsQueryAttachments",!1),supportsQueryTopFeatures:qe(p,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:qe(t,"supportsAttachmentsResizing",!1),supportsSync:n.includes("sync"),supportsUpdate:u,supportsExceedsLimitStatistics:qe(t,"supportsExceedsLimitStatistics",!1)}}function N6e(e,t){const r=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,s=e.currentVersion,o=t==null?void 0:t.includes("MapServer"),a=!o||s>=Z("mapserver-pbf-version-support"),l=Tle(t),u=new Set((e.supportedQueryFormats??"").split(",").map(d=>d.toLowerCase().trim()));return{supportsStatistics:qe(r,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:qe(r,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:qe(r,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:C6e(r),supportsCentroid:qe(r,"supportsReturningGeometryCentroid",!1),supportsDistance:qe(r,"supportsQueryWithDistance",!1),supportsDistinct:qe(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:qe(r,"supportsReturningQueryExtent",!1),supportsGeometryProperties:qe(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:qe(r,"supportsHavingClause",!1),supportsOrderBy:qe(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:qe(r,"supportsPagination",!1),supportsQuantization:qe(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:qe(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:qe(e,"supportsReturningQueryGeometry",!1),supportsResultType:qe(r,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:qe(r,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:qe(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:qe(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:qe(r,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:qe(n,"allowOthersToQuery",!0),supportsHistoricMoment:qe(i,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:a&&u.has("pbf"),supportsDisjointSpatialRelationship:qe(r,"supportsDisjointSpatialRel",!1),supportsCacheHint:qe(r,"supportsQueryWithCacheHint",!1)||ZS(r,"query"),supportsDefaultSpatialReference:qe(r,"supportsDefaultSR",!1),supportsCompactGeometry:l,supportsFullTextSearch:qe(r,"supportsFullTextSearch",!1),maxRecordCountFactor:$$(e,"maxRecordCountFactor",void 0),maxRecordCount:$$(e,"maxRecordCount",void 0),standardMaxRecordCount:$$(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:$$(e,"tileMaxRecordCount",void 0)}}function F6e(e){const t=e.advancedQueryCapabilities,r=qe(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:qe(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:ZS(t,"queryRelated")}}function D6e(e){return{supportsCacheHint:ZS(e.advancedQueryCapabilities,"queryTopFilter")}}function j6e(e){const t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:qe(e,"allowGeometryUpdates",!0),supportsGlobalId:qe(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:qe(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:qe(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:qe(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:qe(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:qe(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:qe(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:qe(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:qe(t,"allowOthersToUpdate",!0)}}const V6e=e=>{let t=class extends e{constructor(){super(...arguments),this.capabilities=null,this.copyright=null,this.dateFieldsTimeReference=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.isTable=!1,this.layerId=void 0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.preferredTimeReference=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.spatialReference=Ge.WGS84,this.subtypeField=null,this.trackIdField=null,this.indexes=new(Fe.ofType(Pl)),this.version=void 0}readCapabilitiesFromService(r,n){return Rue(n,this.url)}get effectiveCapabilities(){var o;const r=this.capabilities;if(!r)return null;const n=B(r),{operations:i,editing:s}=n;return(o=this.sourceJSON)!=null&&o.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(i.supportsQuery=!0),n):this.userHasUpdateItemPrivileges?(i.supportsAdd=i.supportsDelete=i.supportsEditing=i.supportsQuery=i.supportsUpdate=s.supportsDeleteByOthers=s.supportsGeometryUpdate=s.supportsUpdateByOthers=!0,n):(this.userHasFullEditingPrivileges&&i.supportsEditing&&(i.supportsAdd=i.supportsDelete=i.supportsUpdate=s.supportsGeometryUpdate=!0),n)}readEditingInfo(r,n){const{editingInfo:i}=n;return i?{lastEditDate:i.lastEditDate!=null?new Date(i.lastEditDate):null}:null}readIsTableFromService(r,n){return n.type==="Table"}readMinScale(r,n){return n.effectiveMinScale||r||0}readMaxScale(r,n){return n.effectiveMaxScale||r||0}readGlobalIdFieldFromService(r,n){return Pue(n)}readObjectIdFieldFromService(r,n){return kue(n)}readServiceDefinitionExpression(r,n){return n.definitionQuery||n.definitionExpression}set url(r){const n=D5e({layer:this,url:r,nonStandardUrlAllowed:!0,logger:oe.getLogger(this.declaredClass)});this._set("url",n.url),n.layerId!=null&&this._set("layerId",n.layerId)}writeUrl(r,n,i,s){j5e(this,r,null,n,s)}readVersion(r,n){return S6e(n)}};return c([h({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),c([he("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),c([h({readOnly:!0})],t.prototype,"effectiveCapabilities",null),c([h({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),c([h({type:M0})],t.prototype,"dateFieldsTimeReference",void 0),c([h({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),c([h({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),c([h({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),c([h({readOnly:!0,type:l6e})],t.prototype,"editFieldsInfo",void 0),c([h({readOnly:!0})],t.prototype,"editingInfo",void 0),c([he("editingInfo")],t.prototype,"readEditingInfo",null),c([h((()=>{const r=B(tDe),n=r.json.origins;return n["web-map"]={read:!1,write:!1},n["portal-item"]={read:!1,write:!1},r})())],t.prototype,"elevationInfo",void 0),c([h({type:M6e,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],t.prototype,"floorInfo",void 0),c([h({type:Pt,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),c([h()],t.prototype,"gdbVersion",void 0),c([h({readOnly:!0,type:T6e,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),c([h({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:v4.read}}}})],t.prototype,"geometryType",void 0),c([h({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),c([h({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),c([h({readOnly:!0,type:sC})],t.prototype,"heightModelInfo",void 0),c([h({type:Date})],t.prototype,"historicMoment",void 0),c([h({readOnly:!0})],t.prototype,"isTable",void 0),c([he("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),c([h({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),c([h(iDe)],t.prototype,"minScale",void 0),c([he("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),c([h(sDe)],t.prototype,"maxScale",void 0),c([he("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),c([h({type:String})],t.prototype,"globalIdField",void 0),c([he("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),c([h({type:String})],t.prototype,"objectIdField",void 0),c([he("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),c([h({type:M0})],t.prototype,"preferredTimeReference",void 0),c([h({type:[I6e],readOnly:!0})],t.prototype,"relationships",void 0),c([h()],t.prototype,"sourceJSON",void 0),c([h({type:Boolean})],t.prototype,"returnM",void 0),c([h({type:Boolean})],t.prototype,"returnZ",void 0),c([h({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),c([he("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),c([h({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),c([h({type:Ge,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),c([h({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),c([h({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),c([h({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),c([h({type:Fe.ofType(Pl),readOnly:!0})],t.prototype,"indexes",void 0),c([h(Q5e)],t.prototype,"url",null),c([ge("url")],t.prototype,"writeUrl",null),c([h({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),c([he("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=c([O("esri.layers.mixins.FeatureLayerBase")],t),t};let qy=class extends ar(Q){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};c([h({type:String,json:{write:!0}})],qy.prototype,"expression",void 0),c([h({type:String,json:{write:!0}})],qy.prototype,"title",void 0),c([h({type:String,json:{write:!0}})],qy.prototype,"returnType",void 0),qy=c([O("esri.layers.support.ExpressionInfo")],qy);const A9=qy;var w4;let ju=w4=class extends Q{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new w4({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:B(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};c([h({type:Boolean,json:{write:!0}})],ju.prototype,"isAutoGenerated",void 0),c([h({type:String,json:{write:!0}})],ju.prototype,"name",void 0),c([h({type:String,json:{write:!0}})],ju.prototype,"alias",void 0),c([h({type:String,json:{write:!0}})],ju.prototype,"onStatisticField",void 0),c([h({type:A9,json:{write:!0}})],ju.prototype,"onStatisticExpression",void 0),c([h({type:String,json:{write:!0}})],ju.prototype,"statisticType",void 0),ju=w4=c([O("esri.layers.support.AggregateField")],ju);const $m=ju;let xh=class extends Q{constructor(){super(...arguments),this.type=null}};c([h({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],xh.prototype,"type",void 0),xh=c([O("esri.layers.support.FeatureReduction")],xh);const P9="__begin__",k9="__end__",z6e=new RegExp(P9,"ig"),U6e=new RegExp(k9,"ig"),cW=new RegExp("^"+P9,"i"),dW=new RegExp(k9+"$","i"),hM='"',B6e=hM+" + ",G6e=" + "+hM;function q6e(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}function W6e(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function R9(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=q6e(e.labelExpression),t.type="conventional"),t}function H6e(e){const t=R9(e);if(!t)return null;switch(t.type){case"conventional":return _4(t.expression);case"arcade":return t.expression}return null}function K6e(e){const t=R9(e);if(!t)return null;switch(t.type){case"conventional":return Y6e(t.expression);case"arcade":return Lue(t.expression)}return null}function _4(e){let t;return e?(t=Za(e,r=>P9+'$feature["'+r+'"]'+k9),t=cW.test(t)?t.replace(cW,""):hM+t,t=dW.test(t)?t.replace(dW,""):t+hM,t=t.replace(z6e,B6e).replace(U6e,G6e)):t='""',t}const J6e=/^\s*\{([^}]+)\}\s*$/i;function Y6e(e){const t=e==null?void 0:e.match(J6e);return t&&t[1].trim()||null}const Z6e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,X6e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,Q6e=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function Lue(e){if(!e)return null;let t=Z6e.exec(e)||X6e.exec(e);return t?t[1]||t[3]:(t=Q6e.exec(e),t?t[2]:null)}var S4;let Id=S4=class extends Q{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?_4(t.value):e}writeExpression(e,t,r){this.value!=null&&(e=_4(this.value)),e!=null&&(t[r]=e)}clone(){return new S4({expression:this.expression,title:this.title,value:this.value})}};c([h({type:String,json:{write:{writerEnsuresNonNull:!0}}})],Id.prototype,"expression",void 0),c([he("expression",["expression","value"])],Id.prototype,"readExpression",null),c([ge("expression")],Id.prototype,"writeExpression",null),c([h({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Id.prototype,"title",void 0),c([h({json:{read:!1,write:!1}})],Id.prototype,"value",void 0),Id=S4=c([O("esri.layers.support.LabelExpressionInfo")],Id);const Nue=Id,Fue=[252,146,31,255],e8e={type:"esriSMS",style:"esriSMSCircle",size:6,color:Fue,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},t8e={type:"esriSLS",style:"esriSLSSolid",width:.75,color:Fue},r8e={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},n8e={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},i8e={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},s8e={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},o8e={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},swt=Jh.fromJSON(e8e),owt=ho.fromJSON(t8e),awt=Nc.fromJSON(r8e),a8e=Lm.fromJSON(n8e),lwt=Jh.fromJSON(i8e),uwt=ho.fromJSON(s8e),cwt=Nc.fromJSON(o8e);var x4;const E$=new Xe({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function T$(e,t,r){return{enabled:!Aoe(r==null?void 0:r.layer)}}function Due(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function l8e(e){return(e==null?void 0:e.type)==="map-image"}function jue(e){var t,r;return!!l8e(e)&&!!((r=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&r.supportsArcadeExpressionForLabeling)}function u8e(e){return Due(e)||jue(e==null?void 0:e.layer)}let Wr=x4=class extends Q{static evaluateWhere(e,t){const r=(n,i,s)=>{switch(i){case"=":return n==s;case"<>":return n!=s;case">":return n>s;case">=":return n>=s;case"<":return n<s;case"<=":return n<=s}return!1};try{if(e==null)return!0;const n=e.split(" ");if(n.length===3)return r(t[n[0]],n[1],n[2]);if(n.length===7){const i=r(t[n[0]],n[1],n[2]),s=n[3],o=r(t[n[4]],n[5],n[6]);switch(s){case"AND":return i&&o;case"OR":return i||o}}return!1}catch{console.log("Error.: can't parse = "+e)}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=a8e,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=W6e(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const n=Lue(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}}e!=null&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,n){if(e==null&&this.labelExpression!=null&&Due(n))e=new Nue({expression:this.getLabelExpressionArcade()});else if(!e)return;const i=e.toJSON(n);i.expression&&(t[r]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return R9(this)}getLabelExpressionArcade(){return H6e(this)}getLabelExpressionSingleField(){return K6e(this)}hash(){return JSON.stringify(this)}clone(){return new x4({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:B(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:B(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};c([h({type:String,json:{write:!0}})],Wr.prototype,"name",void 0),c([h({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:T$}}}}})],Wr.prototype,"allowOverrun",void 0),c([h({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:T$}}}}})],Wr.prototype,"deconflictionStrategy",void 0),c([h({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&(r==null?void 0:r.origin)==="service"&&jue(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],Wr.prototype,"labelExpression",void 0),c([he("labelExpression")],Wr.prototype,"readLabelExpression",null),c([ge("labelExpression")],Wr.prototype,"writeLabelExpression",null),c([h({type:Nue,json:{write:{overridePolicy:(e,t,r)=>u8e(r)?{allowNull:!0}:{enabled:!1}}}})],Wr.prototype,"labelExpressionInfo",void 0),c([ge("labelExpressionInfo")],Wr.prototype,"writeLabelExpressionInfo",null),c([h({type:E$.apiValues,json:{type:E$.jsonValues,read:E$.read,write:E$.write}})],Wr.prototype,"labelPlacement",void 0),c([h({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Wr.prototype,"labelPosition",void 0),c([h({type:Number})],Wr.prototype,"maxScale",void 0),c([ge("maxScale")],Wr.prototype,"writeMaxScale",null),c([h({type:Number})],Wr.prototype,"minScale",void 0),c([ge("minScale")],Wr.prototype,"writeMinScale",null),c([h({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:T$}}}}})],Wr.prototype,"repeatLabel",void 0),c([h({type:Number,cast:xt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:T$}}}}})],Wr.prototype,"repeatLabelDistance",void 0),c([h({types:ePe,json:{origins:{"web-scene":{types:tPe,write:uq,default:null}},write:uq,default:null}})],Wr.prototype,"symbol",void 0),c([h({type:Boolean,json:{write:!0}})],Wr.prototype,"useCodedValues",void 0),c([h({type:String,json:{write:!0}})],Wr.prototype,"where",void 0),Wr=x4=c([O("esri.layers.support.LabelClass")],Wr);const cC=Wr;var $4;const ak=qh({types:GO}),c8e="esri.layers.support.FeatureReductionBinning";let Ji=$4=class extends xh{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}writeFields(e,t,r){const n=e.filter(i=>i.statisticType!=="avg_angle").map(i=>i.toJSON());Di(r,n,t)}readRenderer(e,t,r){var i;const n=(i=t.drawingInfo)==null?void 0:i.renderer;return n?R_(n,t,r)??void 0:t.defaultSymbol?t.types&&t.types.length?new WS({defaultSymbol:ak(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map(s=>({id:s.id,symbol:ak(s.symbol,s,r)}))}):new $0({symbol:ak(t.defaultSymbol,t,r)}):null}clone(){return new $4({fields:B(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:B(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:B(this.popupTemplate),renderer:B(this.renderer)})}};c([Pe({binning:"binning"})],Ji.prototype,"type",void 0),c([Pe({geohash:"geohash"})],Ji.prototype,"binType",void 0),c([h({type:Number,range:{min:1,max:9},json:{write:!0}})],Ji.prototype,"fixedBinLevel",void 0),c([h({type:[cC],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Ji.prototype,"labelingInfo",void 0),c([h(S9)],Ji.prototype,"labelsVisible",void 0),c([h({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Ji.prototype,"maxScale",void 0),c([h(_9)],Ji.prototype,"popupEnabled",void 0),c([h({type:Rm,json:{name:"popupInfo",write:!0}})],Ji.prototype,"popupTemplate",void 0),c([h({type:[$m],json:{write:!0}})],Ji.prototype,"fields",void 0),c([ge("fields")],Ji.prototype,"writeFields",null),c([h({types:nC,json:{write:{target:"drawingInfo.renderer"}}})],Ji.prototype,"renderer",void 0),c([he("renderer",["drawingInfo.renderer"])],Ji.prototype,"readRenderer",null),Ji=$4=c([O(c8e)],Ji);const Vue=Ji;var E4;const lk=qh({types:GO}),d8e="esri.layers.support.FeatureReductionCluster";function hW(e){var t;return e.type==="simple"&&!((t=e.visualVariables)!=null&&t.length)}let un=E4=class extends Q{constructor(e){super(e),this.type="cluster",this.clusterRadius=xt("80px"),this.clusterMinSize=xt("12px"),this.clusterMaxSize=xt("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}readRenderer(e,t,r){var i,s;const n=(i=t.drawingInfo)==null?void 0:i.renderer;return(s=n==null?void 0:n.authoringInfo)!=null&&s.isAutoGenerated?null:n?hW(n)?null:R_(n,t,r)??void 0:t.defaultSymbol?t.types&&t.types.length?new WS({defaultSymbol:lk(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map(o=>({id:o.id,symbol:lk(o.symbol,o,r)}))}):new $0({symbol:lk(t.defaultSymbol,t,r)}):null}readSymbol(e,t,r){var i,s,o;const n=(i=t.drawingInfo)==null?void 0:i.renderer;return(s=n==null?void 0:n.authoringInfo)!=null&&s.isAutoGenerated?null:n&&hW(n)?(o=R_(n,t,r))==null?void 0:o.symbol:null}writeSymbol(e,t,r,n){var s,o;const i=(o=(s=this.renderer)==null?void 0:s.authoringInfo)==null?void 0:o.isAutoGenerated;if(!this.renderer||i){const a=new $0({symbol:e});t.drawingInfo={renderer:a.write({},n)}}}writeFields(e,t,r){const n=e.filter(i=>i.statisticType!=="avg_angle").map(i=>i.toJSON());Di(r,n,t)}readFields(e,t,r){return e.filter(n=>!n.isAutoGenerated).map(n=>$m.fromJSON(n))}clone(){return new E4({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:B(this.labelingInfo),labelsVisible:this.labelsVisible,fields:B(this.fields),maxScale:this.maxScale,renderer:B(this.renderer),symbol:B(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:B(this.popupTemplate)})}};c([h({type:["cluster"],readOnly:!0,json:{write:!0}})],un.prototype,"type",void 0),c([h({type:Number,cast:e=>e==="auto"?e:xt(e),json:{write:!0}})],un.prototype,"clusterRadius",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],un.prototype,"clusterMinSize",void 0),c([h({type:Number,cast:xt,json:{write:!0}})],un.prototype,"clusterMaxSize",void 0),c([h({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],un.prototype,"maxScale",void 0),c([h(_9)],un.prototype,"popupEnabled",void 0),c([h({type:Rm,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],un.prototype,"popupTemplate",void 0),c([h({types:nC,json:{write:{target:"drawingInfo.renderer"}}})],un.prototype,"renderer",void 0),c([he("renderer",["drawingInfo.renderer"])],un.prototype,"readRenderer",null),c([h({types:XAe})],un.prototype,"symbol",void 0),c([he("symbol",["drawingInfo.renderer"])],un.prototype,"readSymbol",null),c([ge("symbol")],un.prototype,"writeSymbol",null),c([h({type:[cC],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],un.prototype,"labelingInfo",void 0),c([h(S9)],un.prototype,"labelsVisible",void 0),c([h({type:[$m],json:{write:!0}})],un.prototype,"fields",void 0),c([ge("fields")],un.prototype,"writeFields",null),c([he("fields")],un.prototype,"readFields",null),un=E4=c([O(d8e)],un);const zue=un;var T4;let wE=T4=class extends xh{constructor(e){super(e),this.type="selection"}clone(){return new T4}};c([h({type:["selection"]})],wE.prototype,"type",void 0),wE=T4=c([O("esri.layers.support.FeatureReductionSelection")],wE);const pW=wE,fW={key:"type",base:xh,typeMap:{cluster:zue,binning:Vue}},h8e={types:{key:"type",base:xh,typeMap:{selection:pW,cluster:zue,binning:Vue}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:fW},"portal-item":{types:fW},"web-scene":{types:{key:"type",base:xh,typeMap:{selection:pW}}}}}},ey={Base64:0,Hex:1,String:2,Raw:3},Jg=8,Uue=(1<<Jg)-1;function dh(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function p8e(e){const t=[];for(let r=0,n=e.length*Jg;r<n;r+=Jg)t[r>>5]|=(e.charCodeAt(r/Jg)&Uue)<<r%32;return t}function f8e(e){const t=[];for(let r=0,n=32*e.length;r<n;r+=Jg)t.push(String.fromCharCode(e[r>>5]>>>r%32&Uue));return t.join("")}function m8e(e){const t="0123456789abcdef",r=[];for(let n=0,i=4*e.length;n<i;n++)r.push(t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15));return r.join("")}function y8e(e){const t="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[];for(let i=0,s=4*e.length;i<s;i+=3){const o=(e[i>>2]>>i%4*8&255)<<16|(e[i+1>>2]>>(i+1)%4*8&255)<<8|e[i+2>>2]>>(i+2)%4*8&255;for(let a=0;a<4;a++)8*i+6*a>32*e.length?n.push(t):n.push(r.charAt(o>>6*(3-a)&63))}return n.join("")}function g8e(e,t){return e<<t|e>>>32-t}function dC(e,t,r,n,i,s){return dh(g8e(dh(dh(t,e),dh(n,s)),i),r)}function bi(e,t,r,n,i,s,o){return dC(t&r|~t&n,e,t,i,s,o)}function wi(e,t,r,n,i,s,o){return dC(t&n|r&~n,e,t,i,s,o)}function _i(e,t,r,n,i,s,o){return dC(t^r^n,e,t,i,s,o)}function Si(e,t,r,n,i,s,o){return dC(r^(t|~n),e,t,i,s,o)}function v8e(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let r=1732584193,n=-271733879,i=-1732584194,s=271733878;for(let o=0;o<e.length;o+=16){const a=r,l=n,u=i,d=s;r=bi(r,n,i,s,e[o+0],7,-680876936),s=bi(s,r,n,i,e[o+1],12,-389564586),i=bi(i,s,r,n,e[o+2],17,606105819),n=bi(n,i,s,r,e[o+3],22,-1044525330),r=bi(r,n,i,s,e[o+4],7,-176418897),s=bi(s,r,n,i,e[o+5],12,1200080426),i=bi(i,s,r,n,e[o+6],17,-1473231341),n=bi(n,i,s,r,e[o+7],22,-45705983),r=bi(r,n,i,s,e[o+8],7,1770035416),s=bi(s,r,n,i,e[o+9],12,-1958414417),i=bi(i,s,r,n,e[o+10],17,-42063),n=bi(n,i,s,r,e[o+11],22,-1990404162),r=bi(r,n,i,s,e[o+12],7,1804603682),s=bi(s,r,n,i,e[o+13],12,-40341101),i=bi(i,s,r,n,e[o+14],17,-1502002290),n=bi(n,i,s,r,e[o+15],22,1236535329),r=wi(r,n,i,s,e[o+1],5,-165796510),s=wi(s,r,n,i,e[o+6],9,-1069501632),i=wi(i,s,r,n,e[o+11],14,643717713),n=wi(n,i,s,r,e[o+0],20,-373897302),r=wi(r,n,i,s,e[o+5],5,-701558691),s=wi(s,r,n,i,e[o+10],9,38016083),i=wi(i,s,r,n,e[o+15],14,-660478335),n=wi(n,i,s,r,e[o+4],20,-405537848),r=wi(r,n,i,s,e[o+9],5,568446438),s=wi(s,r,n,i,e[o+14],9,-1019803690),i=wi(i,s,r,n,e[o+3],14,-187363961),n=wi(n,i,s,r,e[o+8],20,1163531501),r=wi(r,n,i,s,e[o+13],5,-1444681467),s=wi(s,r,n,i,e[o+2],9,-51403784),i=wi(i,s,r,n,e[o+7],14,1735328473),n=wi(n,i,s,r,e[o+12],20,-1926607734),r=_i(r,n,i,s,e[o+5],4,-378558),s=_i(s,r,n,i,e[o+8],11,-2022574463),i=_i(i,s,r,n,e[o+11],16,1839030562),n=_i(n,i,s,r,e[o+14],23,-35309556),r=_i(r,n,i,s,e[o+1],4,-1530992060),s=_i(s,r,n,i,e[o+4],11,1272893353),i=_i(i,s,r,n,e[o+7],16,-155497632),n=_i(n,i,s,r,e[o+10],23,-1094730640),r=_i(r,n,i,s,e[o+13],4,681279174),s=_i(s,r,n,i,e[o+0],11,-358537222),i=_i(i,s,r,n,e[o+3],16,-722521979),n=_i(n,i,s,r,e[o+6],23,76029189),r=_i(r,n,i,s,e[o+9],4,-640364487),s=_i(s,r,n,i,e[o+12],11,-421815835),i=_i(i,s,r,n,e[o+15],16,530742520),n=_i(n,i,s,r,e[o+2],23,-995338651),r=Si(r,n,i,s,e[o+0],6,-198630844),s=Si(s,r,n,i,e[o+7],10,1126891415),i=Si(i,s,r,n,e[o+14],15,-1416354905),n=Si(n,i,s,r,e[o+5],21,-57434055),r=Si(r,n,i,s,e[o+12],6,1700485571),s=Si(s,r,n,i,e[o+3],10,-1894986606),i=Si(i,s,r,n,e[o+10],15,-1051523),n=Si(n,i,s,r,e[o+1],21,-2054922799),r=Si(r,n,i,s,e[o+8],6,1873313359),s=Si(s,r,n,i,e[o+15],10,-30611744),i=Si(i,s,r,n,e[o+6],15,-1560198380),n=Si(n,i,s,r,e[o+13],21,1309151649),r=Si(r,n,i,s,e[o+4],6,-145523070),s=Si(s,r,n,i,e[o+11],10,-1120210379),i=Si(i,s,r,n,e[o+2],15,718787259),n=Si(n,i,s,r,e[o+9],21,-343485551),r=dh(r,a),n=dh(n,l),i=dh(i,u),s=dh(s,d)}return[r,n,i,s]}function Bue(e,t=ey.Hex){const r=t||ey.Base64,n=v8e(p8e(e),e.length*Jg);switch(r){case ey.Raw:return n;case ey.Hex:return m8e(n);case ey.String:return f8e(n);case ey.Base64:return y8e(n)}}var M4;let kb=M4=class extends tC{writeLevels(e,t,r){for(const n in e){const i=this.levels[n];return void(t.stops=i)}}clone(){return new M4({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:ch(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:ch(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:B(this.levels)})}};c([h()],kb.prototype,"levels",void 0),c([ge("levels")],kb.prototype,"writeLevels",null),kb=M4=c([O("esri.views.2d.engine.LevelDependentSizeVariable")],kb);const b8e=oe.getLogger("esri.views.2d.layers.support.clusterUtils");Z.add("esri-cluster-arcade-enabled",!0);const w8e=Z("esri-cluster-arcade-enabled"),_8e=(e,t,r,n,i)=>{const s=t.clone();if(!x8e(s))return s;if(s.authoringInfo||(s.authoringInfo=new h9),s.authoringInfo.isAutoGenerated=!0,"visualVariables"in s){const o=(s.visualVariables||[]).filter(l=>l.valueExpression!=="$view.scale"),a=Gue(o);o.forEach(l=>{l.type==="rotation"?l.field?l.field=dp(e,l.field,"avg_angle","number"):l.valueExpression&&(l.field=I1(e,l.valueExpression,"avg_angle","number"),l.valueExpression=null):l.normalizationField?(l.field=dp(e,l.field,"avg_norm","number",l.normalizationField),l.normalizationField=null):l.field?l.field=dp(e,l.field,"avg","number"):l.valueExpression&&(l.field=I1(e,l.valueExpression,"avg","number"),l.valueExpression=null)}),G(a)&&!S8e(o)&&i&&(o.push(que(r,n)),s.dynamicClusterSize=!0),s.visualVariables=o}switch(s.type){case"simple":break;case"pie-chart":for(const o of s.attributes)o.field?o.field=dp(e,o.field,"sum","number"):o.valueExpression&&(o.field=I1(e,o.valueExpression,"sum","number"),o.valueExpression=null);break;case"unique-value":s.field?s.field=dp(e,s.field,"mode","string"):s.valueExpression&&(s.field=I1(e,s.valueExpression,"mode","string"),s.valueExpression=null);break;case"class-breaks":s.normalizationField?(s.field=dp(e,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=dp(e,s.field,"avg","number"):s.valueExpression&&(s.field=I1(e,s.valueExpression,"avg","number"),s.valueExpression=null)}return s},Gue=e=>{for(const t of e)if(t.type==="size")return t;return null};function dwt(e,t,r){const n=e.clone();let i=!1;if("visualVariables"in n){const s=(n.visualVariables||[]).filter(a=>a.valueExpression!=="$view.scale"),o=Gue(s);G(o)&&(n.visualVariables||(n.visualVariables=[]),n.visualVariables.push(que(t,r)),n.dynamicClusterSize=!0,i=!0)}return{renderer:n,didInject:i}}const S8e=e=>{for(const t of e)if(t.field==="cluster_count")return!0;return!1},que=(e,t)=>{const r=[new Fy({value:0,size:0}),new Fy({value:1})];if(G(t))return new tC({field:"cluster_count",stops:[...r,new Fy({value:2,size:0})]});const n=Object.keys(t).reduce((i,s)=>({...i,[s]:[...r,new Fy({value:Math.max(2,t[s].minValue),size:e.clusterMinSize}),new Fy({value:Math.max(3,t[s].maxValue),size:e.clusterMaxSize})]}),{});return new kb({field:"cluster_count",levels:n})},x8e=e=>{const t=r=>b8e.error(new V("Unsupported-renderer",r,{renderer:e}));switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const r=e.normalizationType;if(r!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${r}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!w8e){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(r=>!(!("valueExpression"in r)||!r.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function $8e(e,t,r){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const n=r,i="field",s=t.toLowerCase()+",norm:"+i+","+n.toLowerCase();return"cluster_avg_"+Bue(s)}}}function I1(e,t,r,n){const i=Bue(t),s=r==="mode"?`cluster_type_${i}`:r==="sum"?`cluster_sum_${i}`:`cluster_avg_${i}`;return e.some(o=>o.name===s)||e.push(new $m({name:s,isAutoGenerated:!0,onStatisticExpression:new A9({expression:t,returnType:n}),statisticType:r})),s}function dp(e,t,r,n,i){if(t==="cluster_count"||e.some(o=>o.name===t))return t;const s=$8e(r,t,i);return e.some(o=>o.name===s)||(r==="avg_norm"?e.push(new $m({name:s,isAutoGenerated:!0,onStatisticExpression:new A9({expression:`$feature.${t} / $feature.${i}`,returnType:n}),statisticType:"avg"})):e.push(new $m({name:s,isAutoGenerated:!0,onStatisticField:t,statisticType:r}))),s}const E8e=e=>{let t=class extends e{constructor(...r){super(...r),this.own(this.watch("renderer",()=>{if(this.featureReduction){const n=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",n)}},!0))}set featureReduction(r){const n=this._normalizeFeatureReduction(r);this._set("featureReduction",n)}set renderer(r){}_normalizeFeatureReduction(r){var a;if((r==null?void 0:r.type)!=="cluster")return r;const n=r.clone(),i=[new $m({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],s=(n.fields??[]).filter(l=>!l.isAutoGenerated);if(r.renderer&&!((a=r.renderer.authoringInfo)!=null&&a.isAutoGenerated))return n.fields=[...i,...s],n;if(r.symbol)return n.fields=[...i,...s],n.renderer=null,n;if(!this.renderer)return r;const o=_8e(i,this.renderer,r,null,!1);return n.fields=[...i,...s],n.renderer=o,n}};return c([h(h8e)],t.prototype,"featureReduction",null),t=c([O("esri.layers.mixins.FeatureReductionLayer")],t),t},T8e={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0}},Wue=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(r,n,i,s){(s&&s.layerContainerType==="ground"||r&&hMe(this,i,{},s))&&(n[i]=r)}writeOperationalLayerType(r,n,i,s){!r||s&&s.layerContainerType==="tables"||(n.layerType=r)}writeTitle(r,n){n.title=r??"Layer"}read(r,n){n&&(n.layer=this),uMe(this,r,i=>super.read(r,i),n)}write(r,n){var o,a;if(n!=null&&n.origin){const l=`${n.origin}/${n.layerContainerType||"operational-layers"}`,u=T8e[l];let d=u&&u[this.operationalLayerType];if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&l==="web-scene/operational-layers"&&(d=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&l==="web-map/operational-layers"&&(d=!1),!d)return(o=n.messages)==null||o.push(new V("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${l}'`,{layer:this})),null}const i=super.write(r,{...n,layer:this}),s=!!n&&!!n.messages&&!!n.messages.filter(l=>l instanceof V&&l.name==="web-document-write:property-required").length;return wO(i==null?void 0:i.url)?((a=n==null?void 0:n.messages)==null||a.push(new V("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:i}beforeSave(){}};return c([h({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),c([h(Ple)],t.prototype,"listMode",void 0),c([ge("listMode")],t.prototype,"writeListMode",null),c([h({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),c([ge("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),c([h(d4)],t.prototype,"opacity",void 0),c([h({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),c([ge("title"),ge(["web-scene"],"title")],t.prototype,"writeTitle",null),c([h({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=c([O("esri.layers.mixins.OperationalLayer")],t),t};var I4;const uk=new Xe({asc:"ascending",desc:"descending"});let Wy=I4=class extends Q{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new I4({field:this.field,valueExpression:this.valueExpression,order:this.order})}};c([h({type:String,json:{write:!0}})],Wy.prototype,"field",void 0),c([h({type:String,json:{write:!0}})],Wy.prototype,"valueExpression",void 0),c([h({type:uk.apiValues,json:{read:uk.read,write:uk.write}})],Wy.prototype,"order",void 0),Wy=I4=c([O("esri.layers.support.OrderByInfo")],Wy);const Hue=Wy;function M8e(e,t,r){if(!e)return null;const n=e.find(s=>!!s.field);if(!n)return null;const i=new Hue;return i.read(n,r),[i]}function I8e(e,t,r,n){const i=e.find(s=>!!s.field);i&&Di(r,[i.toJSON()],t)}const O8e=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return c([h({type:[Hue],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:M8e},write:{target:"layerDefinition.orderBy",writer:I8e}}})],t.prototype,"orderBy",void 0),t=c([O("esri.layers.mixins.OrderedLayer")],t),t};let Od=class extends Ie{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t&&t.portalItem&&t.path?{...t,path:this._normalizePath(t.path,t.portalItem)}:t}set path(t){C(t)&&ro(t)?oe.getLogger(this.declaredClass).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return this._normalizePath(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",r){const n=this.url;if(G(n))throw new V("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:t,query:{token:this.portalItem.apiKey},signal:Lee(r,"signal")})}async update(t,r){return(await Y(()=>import("./resourceUtils-c59a6556.js"),[])).addOrUpdateResource(this,"update",t,r)}hasPath(){return C(this.path)}_normalizePath(t,r){return G(t)?t:(t=t.replace(/^\/+/,""),C(r)&&ro(t)&&(t=T6(t,r.itemUrl)),t==null?void 0:t.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};c([h()],Od.prototype,"portalItem",void 0),c([h({type:String,value:null})],Od.prototype,"path",null),c([vt("path")],Od.prototype,"_castPath",null),c([h({type:String,readOnly:!0})],Od.prototype,"url",null),c([h({type:String,readOnly:!0})],Od.prototype,"itemRelativeUrl",null),Od=c([O("esri.portal.PortalItemResource")],Od);const C8e=Od;let Rb=class extends Ie{constructor(t){super(t),this.created=null,this.rating=null}};c([h()],Rb.prototype,"created",void 0),c([h()],Rb.prototype,"rating",void 0),Rb=c([O("esri.portal.PortalRating")],Rb);const ck=Rb;var Xp;const A8e=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),P8e=new Set(["KML","GeoJson","CSV"]);let Qe=Xp=class extends PS(Mc){static from(e){return R6(Xp,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"&&this.portal&&this.portal.isPortal?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geocoding Service"?r="Locator":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e&&e.toLowerCase().includes("add in")?r=e.replace(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?r="Instant App":e==="Insights Page"&&(r="Insights Report"),r}readExtent(e){return e&&e.length?new Pt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[],r="esri/images/portal/",n="16";let i,s=!1,o=!1,a=!1,l=!1,u=!1,d=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(s=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(o=t.includes("Table"),a=t.includes("Route Layer"),l=t.includes("Markup"),u=t.includes("Spatiotemporal"),d=t.includes("UtilityNetwork"),i=u&&o?"spatiotemporaltable":o?"table":a?"routelayer":l?"markup":u?"spatiotemporal":s?"featureshosted":d?"utilitynetwork":"features"):i=e==="map service"||e==="wms"||e==="wmts"?s||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages":e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="video service"?"mediaservice":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="geoprocessing service"?t.includes("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":e==="geodata service"?"geodataservice":"layers"):i=e==="web map"||e==="cityengine web scene"?"maps":e==="web scene"?t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?"instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?"apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?"mapsgray":e==="service definition"||e==="csv"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="360 vr experience"||e==="netcdf"||e==="administrative report"?"datafiles":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?"appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?"addindesktop":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="form"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="image"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?"datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?"toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?"layersgray":e==="scene package"?"scenepackage":e==="mobile scene package"?"mobilescenepackage":e==="tile package"||e==="compact tile package"?"tilepackage":e==="task file"?"taskfile":e==="report template"?"report-template":e==="statistical data collection"?"statisticaldatacollection":e==="insights workbook"?"workbook":e==="insights model"?"insightsmodel":e==="insights page"?"insightspage":e==="insights theme"?"insightstheme":e==="hub initiative"?"hubinitiative":e==="hubpage"?"hubpage":e==="hub event"?"hubevent":e==="hub site application"?"hubsite":e==="hub project"?"hubproject":e==="relational database connection"?"relationaldatabaseconnection":e==="big data file share"?"datastorecollection":e==="image collection"?"imagecollection":e==="style"?"style":e==="desktop style"?"desktopstyle":e==="dashboard"?"dashboard":e==="raster function template"?"rasterprocessingtemplate":e==="vector tile package"?"vectortilepackage":e==="ortho mapping project"?"orthomappingproject":e==="ortho mapping template"?"orthomappingtemplate":e==="solution"?"solutions":e==="geopackage"?"geopackage":e==="deep learning package"?"deeplearningpackage":e==="real time analytic"?"realtimeanalytics":e==="big data analytic"?"bigdataanalytics":e==="feed"?"feed":e==="excalibur imagery project"?"excaliburimageryproject":e==="notebook"?"notebook":e==="storymap"?"storymap":e==="survey123 add in"?"survey123addin":e==="mission"?"mission":e==="mission report"?"missionreport":e==="quickcapture project"?"quickcaptureproject":e==="pro report"?"proreport":e==="pro report template"?"proreporttemplate":e==="urban model"?"urbanmodel":e==="web experience"?"experiencebuilder":e==="web experience template"?"webexperiencetemplate":e==="experience builder widget"?"experiencebuilderwidget":e==="experience builder widget package"?"experiencebuilderwidgetpackage":e==="workflow"?"workflow":e==="insights script"?"insightsscript":e==="kernel gateway connection"?"kernelgatewayconnection":e==="hub initiative template"?"hubinitiativetemplate":e==="storymap theme"?"storymaptheme":e==="knowledge graph"?"knowledgegraph":e==="native application"?"nativeapp":e==="native application installer"?"nativeappinstaller":e==="link chart"?"linkchart":e==="investigation"?"investigation":e==="ogcfeatureserver"?"features":e==="pro project"?"proproject":e==="insights workbook package"?"insightsworkbookpackage":e==="apache parquet"?"apacheparquet":e==="notebook code snippets"||e==="notebook code snippet library"?"notebookcodesnippets":e==="suitability model"?"suitabilitymodel":e==="esri classifier definition"?"classifierdefinition":e==="esri classification schema"?"classificationschema":e==="insights data engineering workbook"?"dataengineeringworkbook":e==="insights data engineering model"?"dataengineeringmodel":e==="deep learning studio project"?"deeplearningproject":e==="discussion"?"discussion":e==="allsource project"?"allsourceproject":e==="api key"?"apikey":"maps",i?$t(r+i+n+".png"):null}get isLayer(){return this.type!=null&&A8e.has(this.type)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var r;const e=this.itemUrl,t=this.thumbnail;return e&&t?((r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=pi.getDefault()),r=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:C(e)?e.signal:null,query:{token:this.apiKey}}):{}).then(n=>{this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof ck&&(e=e.rating),e==null||isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new ck({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:B(this.applicationProxies),avgRating:this.avgRating,categories:B(this.categories),created:B(this.created),culture:this.culture,description:this.description,extent:B(this.extent),groupCategories:B(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:B(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:B(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:B(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:B(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new Xp({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const r of["tags","typeKeywords","categories"])e[r]&&(e[r]=e[r].join(", "));const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}async deleteRating(){await Js(this.portal).request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return Js(this.portal).request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await Js(this.portal).request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new ck(t)):null}fetchRelatedItems(e,t){return Js(this.portal).requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Xp)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return Js(this.portal).request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>Js(this.portal).signIn()).then(()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const n in r.query)r.query[n]===null&&(r.query[n]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new V("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new V("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await Js(t).signIn();const{copyResources:n,folder:i,tags:s,title:o}=e||{},a={method:"post",query:{copyPrivateResources:n==="all",folder:typeof i=="string"?i:i==null?void 0:i.id,includeResources:!!n,tags:s==null?void 0:s.join(","),title:o}},{itemId:l}=await t.request(`${r}/copy`,a);return new Xp({id:l,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,r=e.filename,n={method:"post"};if(typeof t=="string")Am(t)?n.query={data:t}:n.query={url:Bo(t)},C(r)&&(n.query.filename=r);else{const i=new FormData;C(r)?i.append("file",t,r):i.append("file",t),n.body=i}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new V("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await Y(()=>import("./resourceUtils-c59a6556.js"),[])).fetchResources(this,e,t)}async addResource(e,t,r){const n=await Y(()=>import("./resourceUtils-c59a6556.js"),[]);return e.portalItem=this,n.addOrUpdateResource(e,"add",t,r)}async removeResource(e,t){const r=await Y(()=>import("./resourceUtils-c59a6556.js"),[]);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new V("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r.removeResource(this,e,t)}async removeAllResources(e){return(await Y(()=>import("./resourceUtils-c59a6556.js"),[])).removeAllResources(this,e)}resourceFromPath(e){return new C8e({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:B(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:B(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:B(this.typeKeywords),url:this.url};return Dee(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Xp({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};c([h({type:["private","shared","org","public"]})],Qe.prototype,"access",void 0),c([h()],Qe.prototype,"accessInformation",void 0),c([h({type:String})],Qe.prototype,"apiKey",void 0),c([h({json:{read:{source:"appProxies"}}})],Qe.prototype,"applicationProxies",void 0),c([h()],Qe.prototype,"avgRating",void 0),c([h()],Qe.prototype,"categories",void 0),c([h({type:Date})],Qe.prototype,"created",void 0),c([h()],Qe.prototype,"culture",void 0),c([h()],Qe.prototype,"description",void 0),c([h({readOnly:!0})],Qe.prototype,"displayName",null),c([h({type:Pt})],Qe.prototype,"extent",void 0),c([he("extent")],Qe.prototype,"readExtent",null),c([h()],Qe.prototype,"groupCategories",void 0),c([h({readOnly:!0})],Qe.prototype,"iconUrl",null),c([h()],Qe.prototype,"id",void 0),c([h({readOnly:!0})],Qe.prototype,"isLayer",null),c([h({type:Boolean,readOnly:!0})],Qe.prototype,"isOrgItem",void 0),c([h()],Qe.prototype,"itemControl",void 0),c([h({readOnly:!0})],Qe.prototype,"itemPageUrl",null),c([h({readOnly:!0})],Qe.prototype,"itemUrl",null),c([h()],Qe.prototype,"licenseInfo",void 0),c([h({type:Date})],Qe.prototype,"modified",void 0),c([h()],Qe.prototype,"name",void 0),c([h()],Qe.prototype,"numComments",void 0),c([h()],Qe.prototype,"numRatings",void 0),c([h()],Qe.prototype,"numViews",void 0),c([h()],Qe.prototype,"owner",void 0),c([h()],Qe.prototype,"ownerFolder",void 0),c([h({type:pi})],Qe.prototype,"portal",void 0),c([h()],Qe.prototype,"screenshots",void 0),c([h()],Qe.prototype,"size",void 0),c([h()],Qe.prototype,"snippet",void 0),c([h()],Qe.prototype,"sourceJSON",void 0),c([h({type:String})],Qe.prototype,"sourceUrl",void 0),c([h({type:String})],Qe.prototype,"spatialReference",void 0),c([h()],Qe.prototype,"tags",void 0),c([h()],Qe.prototype,"thumbnail",void 0),c([h({readOnly:!0})],Qe.prototype,"thumbnailUrl",null),c([h()],Qe.prototype,"title",void 0),c([h()],Qe.prototype,"type",void 0),c([h()],Qe.prototype,"typeKeywords",void 0),c([h({type:String,json:{read(e,t){var r;if(P8e.has(t.type)){const n=(r=this.portal)==null?void 0:r.restUrl;e||(e=n&&this.id?`${n}/content/items/${this.id}/data`:null)}return e}}})],Qe.prototype,"url",void 0),c([h({readOnly:!0})],Qe.prototype,"userItemUrl",null),Qe=Xp=c([O("esri.portal.PortalItem")],Qe);const Mw=Qe,Kue=Object.freeze(Object.defineProperty({__proto__:null,default:Mw},Symbol.toStringTag,{value:"Module"}));async function k8e(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return mg(e);const r=Ge.WGS84;return await RRe(t,r),Fm(e,r)}function fwt(e,t){if(!R8e(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function R8e(e,t){var r;return!!((r=e.typeKeywords)!=null&&r.includes(t))}function mwt(e,t){const r=e.typeKeywords;if(r){const n=r.indexOf(t);n>-1&&r.splice(n,1)}}async function ywt(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return k8e(r)}const gwt={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"};function mW(e){var l;const{portal:t,isOrgItem:r,itemControl:n}=e,i=(l=t.user)==null?void 0:l.privileges;let s=!i||i.includes("features:user:edit"),o=!!r&&!!(i!=null&&i.includes("features:user:fullEdit"));const a=n==="update"||n==="admin";return a?o=s=!0:o&&(s=!0),{features:{edit:s,fullEdit:o},content:{updateItem:a}}}const Jue=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=Ur(this.portalItem)}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,n,i){if(n.itemId)return new Mw({id:n.itemId,portal:i&&i.portal})}writePortalItem(r,n){r&&r.id&&(n.itemId=r.id)}async loadFromPortal(r,n){if(this.portalItem&&this.portalItem.id)try{const i=await Y(()=>import("./layersLoader-42eab916.js"),["assets/layersLoader-42eab916.js","assets/fetchService-22b6ca72.js","assets/jsonContext-7de017ef.js"]);return Qr(n),await i.load({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData,layerModuleTypeMap:r.layerModuleTypeMap},n)}catch(i){throw ia(i)||oe.getLogger(this.declaredClass).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${i}`),i}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(n=>(Nl(n),!0)))}async _setUserPrivileges(r,n){if(!yt.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(n);if(this.url)try{const{features:{edit:i,fullEdit:s},content:{updateItem:o}}=await this._fetchUserPrivileges(r,n);this._set("userHasEditingPrivileges",i),this._set("userHasFullEditingPrivileges",s),this._set("userHasUpdateItemPrivileges",o)}catch(i){Nl(i)}}async _fetchUserPrivileges(r,n){let i=this.portalItem;if(!r||!i||!i.loaded||i.sourceUrl)return this._fetchFallbackUserPrivileges(n);const s=r===i.id;if(s&&i.portal.user)return mW(i);let o,a;if(s)o=i.portal.url;else try{o=await Poe(this.url,n)}catch(p){Nl(p)}if(!o||!txe(o,i.portal.url))return this._fetchFallbackUserPrivileges(n);try{const p=C(n)?n.signal:null;a=await(Ct==null?void 0:Ct.getCredential(`${o}/sharing`,{prompt:!1,signal:p}))}catch(p){Nl(p)}const l=!0,u=!1,d=!1;if(!a)return{features:{edit:l,fullEdit:u},content:{updateItem:d}};try{if(s?await i.reload():(i=new Mw({id:r,portal:{url:o}}),await i.load(n)),i.portal.user)return mW(i)}catch(p){Nl(p)}return{features:{edit:l,fullEdit:u},content:{updateItem:d}}}async _fetchFallbackUserPrivileges(r){let n=!0;try{n=await this._fetchUserHasEditingPrivileges(r)}catch(i){Nl(i)}return{features:{edit:n,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(r){const n=this.url?Ct==null?void 0:Ct.findCredential(this.url):null;if(!n)return!0;const i=M$.credential===n?M$.user:await this._fetchEditingUser(r);return M$.credential=n,M$.user=i,G(i)||i.privileges==null||i.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var d,p;const n=(p=(d=this.portalItem)==null?void 0:d.portal)==null?void 0:p.user;if(n)return n;const i=Ct.findServerInfo(this.url??"");if(!(i!=null&&i.owningSystemUrl))return null;const s=`${i.owningSystemUrl}/sharing/rest`,o=pi.getDefault();if(o&&o.loaded&&Xo(o.restUrl)===Xo(s))return o.user;const a=`${s}/community/self`,l=C(r)?r.signal:null,u=await JO(Tt(a,{authMode:"no-prompt",query:{f:"json"},signal:l}));return u.ok?$8.fromJSON(u.value.data):null}read(r,n){n&&(n.layer=this),super.read(r,n)}write(r,n){const i=n&&n.portal,s=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||pi.getDefault());return i&&s&&!lte(s.restUrl,i.restUrl)?(n.messages&&n.messages.push(new V("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...n,layer:this})}};return c([h({type:Mw})],t.prototype,"portalItem",null),c([he("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),c([ge("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),c([h({clonable:!1})],t.prototype,"resourceReferences",void 0),c([h({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),c([h({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),c([h({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=c([O("esri.layers.mixins.PortalLayer")],t),t},M$={credential:null,user:null};let Lb=class extends Ie{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};c([h()],Lb.prototype,"updating",void 0),c([h()],Lb.prototype,"status",void 0),Lb=c([O("esri.layers.support.PublishingInfo")],Lb);const L8e=Lb,Yue="esri.layers.mixins.PublishableLayer",N8e=Symbol(Yue),F8e=e=>{var t;let r=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const n=this._get("publishingInfo");if(n)return n;const i=new L8e;return this._checkPublishingStatus(i),i}_checkPublishingStatus(n){let o=0;const a=async u=>{let d;n.updating=!0;try{d=await this.fetchPublishingStatus()}catch{d="unavailable"}d!=="published"&&d!=="unavailable"||(n.status==="publishing"&&this.refresh(),l.remove()),n.status=d,n.updating=!1,l.removed||(o=setTimeout(a,u,u+125))},l={removed:!1,remove(){this.removed=!0,clearTimeout(o)}};this.when().catch(()=>l.remove()),a(250),this.own(l)}};return t=N8e,c([h({readOnly:!0,clonable:!1})],r.prototype,"publishingInfo",null),r=c([O(Yue)],r),r},L_=new Fe,Iw=new WeakMap;function D8e(e){Zue(e)&&L_.push(e)}function j8e(e){Zue(e)&&L_.includes(e)&&L_.remove(e)}function Zue(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function Xue(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:Xue(t,e%t):0}let dk=0,I$=0;function V8e(){const e=Date.now();for(const t of L_)t.refreshInterval&&e-(Iw.get(t)??0)+5>=6e4*t.refreshInterval&&(Iw.set(t,e),t.refresh(e))}Nte(()=>{const e=Date.now();let t=0;for(const r of L_)t=Xue(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?Iw.get(r)||Iw.set(r,e):Iw.delete(r);if(t!==I$){if(I$=t,clearInterval(dk),I$===0)return void(dk=0);dk=setInterval(V8e,I$)}});const L9=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=rte(()=>this.hasDataChanged()),this.when().then(()=>{D8e(this)},()=>{})}destroy(){j8e(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){Lg(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:n})},n=>{oe.getLogger(this.declaredClass).error(n),this.emit("refresh",{dataChanged:!1,error:n})})}async hasDataChanged(){return!0}};return c([h({type:Number,cast:r=>r>=.1?r:r<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),c([h({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),c([h()],t.prototype,"refreshParameters",null),t=c([O("esri.layers.mixins.RefreshableLayer")],t),t},hC=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&z8e(r,n.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===r.minScale&&i.maxScale===r.maxScale?i:r}};return c([h({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),c([h({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),c([h({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=c([O("esri.layers.mixins.ScaleRangeLayer")],t),t};function z8e(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const Que=mi()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let Nb=class extends ar(Q){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return aFe(this.value,this.unit,"milliseconds")}};c([Pe(Que,{nonNullable:!0})],Nb.prototype,"unit",void 0),c([h({type:Number,json:{write:!0},nonNullable:!0})],Nb.prototype,"value",void 0),Nb=c([O("esri.TimeInterval")],Nb);const pM=Nb;function yW(e,t){return pM.fromJSON({value:e,unit:t})}let Oi=class extends ar(Q){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(t,r){if(!r.timeExtent||!Array.isArray(r.timeExtent)||r.timeExtent.length!==2)return null;const n=new Date(r.timeExtent[0]),i=new Date(r.timeExtent[1]);return new cu({start:n,end:i})}writeFullTimeExtent(t,r){t&&C(t.start)&&C(t.end)?r.timeExtent=[t.start.getTime(),t.end.getTime()]:r.timeExtent=null}readInterval(t,r){return r.timeInterval&&r.timeIntervalUnits?yW(r.timeInterval,r.timeIntervalUnits):r.defaultTimeInterval&&r.defaultTimeIntervalUnits?yW(r.defaultTimeInterval,r.defaultTimeIntervalUnits):null}writeInterval(t,r){r.timeInterval=(t==null?void 0:t.toJSON().value)??null,r.timeIntervalUnits=(t==null?void 0:t.toJSON().unit)??null}};c([h({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],Oi.prototype,"cumulative",void 0),c([h({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],Oi.prototype,"endField",void 0),c([h({type:cu,json:{write:{enabled:!0,allowNull:!0}}})],Oi.prototype,"fullTimeExtent",void 0),c([he("fullTimeExtent",["timeExtent"])],Oi.prototype,"readFullTimeExtent",null),c([ge("fullTimeExtent")],Oi.prototype,"writeFullTimeExtent",null),c([h({type:Boolean,json:{write:!0}})],Oi.prototype,"hasLiveData",void 0),c([h({type:pM,json:{write:{enabled:!0,allowNull:!0}}})],Oi.prototype,"interval",void 0),c([he("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Oi.prototype,"readInterval",null),c([ge("interval")],Oi.prototype,"writeInterval",null),c([h({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],Oi.prototype,"startField",void 0),c([h({type:M0,json:{write:{enabled:!0,allowNull:!0}}})],Oi.prototype,"timeReference",void 0),c([h({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Oi.prototype,"trackIdField",void 0),c([h({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],Oi.prototype,"useTime",void 0),Oi=c([O("esri.layers.support.TimeInfo")],Oi);const ece=Oi,U8e=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,n){const i=n.timeInfo.exportOptions;if(!i)return null;const s=i.timeOffset,o=Que.fromJSON(i.timeOffsetUnits);return s&&o?new pM({value:s,unit:o}):null}set timeInfo(r){tie(r,this.fieldsIndex),this._set("timeInfo",r)}};return c([h({type:cu,json:{write:!1}})],t.prototype,"timeExtent",void 0),c([h({type:pM})],t.prototype,"timeOffset",void 0),c([he("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),c([h({value:null,type:ece,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),c([h({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=c([O("esri.layers.mixins.TemporalLayer")],t),t},gW=new Xe({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Cd=class extends ar(Q){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};c([h({json:{write:!0}})],Cd.prototype,"name",void 0),c([h({json:{write:!0}})],Cd.prototype,"description",void 0),c([h({json:{read:gW.read,write:gW.write}})],Cd.prototype,"drawingTool",void 0),c([h({json:{write:!0}})],Cd.prototype,"prototype",void 0),c([h({json:{write:!0}})],Cd.prototype,"thumbnail",void 0),Cd=c([O("esri.layers.support.FeatureTemplate")],Cd);const N9=Cd;let Vu=class extends ar(Q){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const r={};for(const n of Object.keys(t))r[n]=t9(t[n]);return r}writeDomains(t,r){var i;const n={};for(const s of Object.keys(t))t[s]&&(n[s]=(i=t[s])==null?void 0:i.toJSON());r.domains=n}};c([h({json:{write:!0}})],Vu.prototype,"id",void 0),c([h({json:{write:!0}})],Vu.prototype,"name",void 0),c([h({json:{write:!0}})],Vu.prototype,"domains",void 0),c([he("domains")],Vu.prototype,"readDomains",null),c([ge("domains")],Vu.prototype,"writeDomains",null),c([h({type:[N9],json:{write:!0}})],Vu.prototype,"templates",void 0),Vu=c([O("esri.layers.support.FeatureType")],Vu);const tce=Vu;function B8e(e){return e.type==="date"||e.type==="esriFieldTypeDate"}function vW(e){return e.type==="oid"||e.type==="esriFieldTypeOID"}function bW(e){return e.type==="global-id"||e.type==="esriFieldTypeGlobalID"}let G8e=class{constructor(t=[]){if(this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;this.fields=t;const r=[];for(const n of t){const i=n==null?void 0:n.name,s=_W(n==null?void 0:n.name);if(i&&s){const o=wW(i);this._fieldsMap.set(i,n),this._fieldsMap.set(o,n),this._normalizedFieldsMap.set(s,n),r.push(o),B8e(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):u8(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),vW(n)||bW(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}r.sort(),this.uid=r.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)vW(t)||bW(t)||t.nullable||YIe(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}has(t){return this.get(t)!=null}get(t){if(!t)return;let r=this._fieldsMap.get(t);return r||(r=this._fieldsMap.get(wW(t))??this._normalizedFieldsMap.get(_W(t)),r&&this._fieldsMap.set(t,r),r)}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const r=this.get(t);if(r)return r.name??void 0}};function wW(e){return e.trim().toLowerCase()}function _W(e){var t;return((t=zIe(e))==null?void 0:t.toLowerCase())??""}function q8e(){return{fields:{type:[r9],value:null},fieldsIndex:{readOnly:!0,get(){return new G8e(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var t;const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const r of e)((t=this.fieldsIndex)==null?void 0:t.has(r))||oe.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${r} found in outFields`,{layer:this,outFields:e});return rie(this.fieldsIndex,e)}}}}const hk=oe.getLogger("esri.layers.support.labelingInfo"),W8e=/\[([^\[\]]+)\]/gi;function SW(e,t,r){return e?e.map(n=>{const i=new cC;if(i.read(n,r),i.labelExpression){const s=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;i.labelExpression=i.labelExpression.replace(W8e,(o,a)=>`[${H8e(a,s)}]`)}return i}):null}function H8e(e,t){if(!t)return e;const r=e.toLowerCase();for(let n=0;n<t.length;n++){const i=t[n].name;if(i.toLowerCase()===r)return i}return e}const K8e={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function $wt(e,t){const r=B(e);return r.some(n=>J8e(n,t))?[]:r}function J8e(e,t){const r=e.labelPlacement,n=K8e[t];if(!e.symbol)return hk.warn("No ILabelClass symbol specified."),!0;if(!n)return hk.error(new V("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),!0;if(!n.includes(r)){const i=n[0];r&&hk.warn(`Found invalid label placement type ${r} for ${t}. Defaulting to ${i}`),e.labelPlacement=i}return!1}const Aa=[];function Y8e(e,t){if(Tle(e.url??""))return!0;const{wkid:r}=t;for(const n of Aa){if((e.version??0)>=n[0])return!0;if(typeof n[1]=="function"&&(n[1]=n[1]()),n[1].has(r))return!1}return!0}Aa.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102901;t<=102955;t++)e.add(t);return e}]),Aa.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),Aa.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),Aa.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),Aa.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]),Aa.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),Aa.push([10.61,()=>new Set([102497])]),Aa.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]),Aa.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3]);for(let t=8013;t<=8032;t++)e.add(t);for(let t=9053;t<=9057;t++)e.add(t);for(let t=104017;t<=104018;t++)e.add(t);for(let t=104971;t<=104974;t++)e.add(t);return e}]),Aa.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let t=4087;t<=4088;t++)e.add(t);for(let t=5896;t<=5899;t++)e.add(t);for(let t=7005;t<=7007;t++)e.add(t);for(let t=7057;t<=7070;t++)e.add(t);for(let t=7073;t<=7082;t++)e.add(t);for(let t=7109;t<=7128;t++)e.add(t);for(let t=7844;t<=7859;t++)e.add(t);return e}]);async function Z8e(e,t,r){const n=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(n&&n.type==="unique-value"&&n.styleOrigin){const i=await JO(n.populateFromStyle());if(Qr(r),i.ok===!1){const s=i.error;t&&t.messages&&t.messages.push(new ta("renderer:style-reference",`Failed to create unique value renderer from style reference: ${s.message}`,{error:s,context:t})),e.clear("renderer",t==null?void 0:t.origin)}}}const X8e=["oid","global-id"],Q8e=["oid","global-id","guid"];function e9e({displayField:e,editFieldsInfo:t,fields:r,objectIdField:n,title:i},s){if(!r)return null;const o=o9e({editFieldsInfo:t,fields:r,objectIdField:n},s);if(!o.length)return null;const a=u9e({titleBase:i,fields:r,displayField:e}),l=l9e();return new Rm({title:a,content:l,fieldInfos:o})}const t9e=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],r9e=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:n})=>n?n.has(e.name):!rce(e.name,t)&&(!r||e.name!==r)&&!X8e.includes(e.type)&&!t9e.some(i=>i.test(e.name));function n9e(e,t){const r=e;return t&&(e=e.filter(n=>!t.includes(n.type))),e===r&&(e=e.slice()),e.sort(i9e),e}function i9e(e,t){return e.type==="oid"?-1:t.type==="oid"?1:xW(e)?-1:xW(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function rce(e,t){if(!e||!t)return!1;const{creationDateField:r,creatorField:n,editDateField:i,editorField:s}=t;return[r&&r.toLowerCase(),n&&n.toLowerCase(),i&&i.toLowerCase(),s&&s.toLowerCase()].includes(e.toLowerCase())}function s9e(e,t){return e.editable&&!Q8e.includes(e.type)&&!rce(e.name,t)}function o9e({editFieldsInfo:e,fields:t,objectIdField:r},n){return n9e(t??[],(n==null?void 0:n.ignoreFieldTypes)||c9e).map(i=>new kS({fieldName:i.name,isEditable:s9e(i,e),label:i.alias,format:a9e(i),visible:r9e(i,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:n==null?void 0:n.visibleFieldNames})}))}function a9e(e){switch(e.type){case"small-integer":case"integer":case"single":return new yg({digitSeparator:!0,places:0});case"double":return new yg({digitSeparator:!0,places:2});case"date":return new yg({dateFormat:"long-month-day-year"});default:return e.type==="string"&&lie(e.name)?new yg({digitSeparator:!0,places:0}):null}}function l9e(){return[new b0,new __]}function u9e(e){const t=GIe(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r??""}function xW(e){return(e.name&&e.name.toLowerCase())==="name"?!0:(e.alias&&e.alias.toLowerCase())==="name"}const c9e=["geometry","blob","raster","guid","xml"],Gi="FeatureLayer",nce="esri.layers.FeatureLayer",d9e=oe.getLogger(nce);function O$(e,t){return new V("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function $W(e){return e&&e instanceof Fe}const pk=q8e();function fk(e,t,r){const n=!!(r!=null&&r.writeLayerSchema);return{enabled:n,ignoreOrigin:n}}let Me=class extends V6e(E8e(W5e(F8e(B5e(iC(O8e(U8e(hC(L9(V5e(Wue(Jue(v9(z5e(P5e(ar(xm))))))))))))))))){constructor(...e){super(...e),this._handles=new zi,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=Ge.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0}destroy(){var e;(e=this.source)==null||e.destroy(),this._handles=Ur(this._handles)}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){var n;const t=C(e)?e.signal:null;if((n=this.portalItem)!=null&&n.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then(i=>this.initLayerProperties(i))),Promise.resolve(this);const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(Nl).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const i=await this._fetchFirstLayerId(t);i!=null&&(this.layerId=i)}if(!this.url&&!this._hasMemorySource())throw new V("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(t))}).then(()=>this._setUserPrivileges(this.serviceItemId,e)).then(()=>$6e(this,e));return this.addResolvingPromise(r),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,Rue(t,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){var e;return!(this.loaded&&!((e=this.capabilities)!=null&&e.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,n){this._writeEditingEnabled(e,t,!0,n)}get effectiveEditingEnabled(){return E6e(this)}readIsTable(e,t){return(t=(t==null?void 0:t.layerDefinition)??t).type==="Table"||!t.geometryType}writeIsTable(e,t,r,n){n!=null&&n.writeLayerSchema&&Di(r,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return Pue(t.layerDefinition||t)}readObjectIdField(e,t){return kue(t.layerDefinition||t)}get parsedUrl(){const e=Vi(this.url);return e!=null&&(this.dynamicDataSource!=null?e.path=lm(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=lm(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){MB(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,r){var i;const n=(i=(t=t.layerDefinition||t).drawingInfo)==null?void 0:i.renderer;if(n){const s=R_(n,t,r)??void 0;return s||d9e.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),s}if(t.defaultSymbol)return t.types&&t.types.length?new WS({defaultSymbol:mk(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map(s=>({id:s.id,symbol:mk(s.symbol,s,r)}))}):new $0({symbol:mk(t.defaultSymbol,t,r)})}set source(e){const t=this._get("source");t!==e&&($W(t)&&this._resetMemorySource(t),$W(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof Fe?new Hu({layer:this,items:e}):e:null}readSource(e,t){const r=n9.fromJSON(t.featureSet);return new Hu({layer:this,items:(r==null?void 0:r.features)??[]})}readTemplates(e,t){const r=t.editFieldsInfo,n=r&&r.creatorField,i=r&&r.editorField;return e=e&&e.map(s=>N9.fromJSON(s)),this._fixTemplates(e,n),this._fixTemplates(e,i),e}readTitle(e,t){var i;const r=((i=t.layerDefinition)==null?void 0:i.name)??t.name,n=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){const s=this.portalItem&&this.portalItem.title;if(this.sublayerTitleMode==="item-title")return this.url?N5e(this.url,r):r;let o=r;if(!o&&this.url){const a=xv(this.url);C(a)&&(o=a.title)}return o?(this.sublayerTitleMode==="item-title-and-service-name"&&s&&s!==o&&(o=s+" - "+o),w9(o)):void 0}if(this.sublayerTitleMode==="item-title"&&n)return n}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const n=t.fields.find(i=>i.name.toLowerCase()===r);n&&(r=n.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,n=r&&r.creatorField,i=r&&r.editorField;return e&&e.map(s=>(s=tce.fromJSON(s),this._fixTemplates(s.templates,n),this._fixTemplates(s.templates,i),s))}readVisible(e,t){return t.layerDefinition&&t.layerDefinition.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}async addAttachment(e,t){return u6e(this,e,t,Gi)}async updateAttachment(e,t,r){return c6e(this,e,t,r,Gi)}async applyEdits(e,t){return d6e(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return e9e(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await tte(Y(()=>import("./FeatureLayerSource-00cf3b6e.js"),["assets/FeatureLayerSource-00cf3b6e.js","assets/assetEditingSupport-2cebf928.js","assets/clientSideDefaults-54953f63.js","assets/QueryEngineCapabilities-42e44ded.js","assets/QueryTask-d63cf1c7.js","assets/executeForIds-89e7963e.js"]),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=_6e(this);e.dynamicDataSource=this.dynamicDataSource;const t=C(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null,r=p5e(this.definitionExpression,t);return e.where=r||"1=1",e}async deleteAttachments(e,t){return h6e(this,e,t,Gi)}async fetchRecomputedExtents(e){return p6e(this,e,Gi)}getFeatureType(e){const{typeIdField:t,types:r}=this;if(!t||!e)return null;const n=e.attributes?e.attributes[t]:void 0;if(n==null)return null;let i=null;return r==null||r.some(s=>{const{id:o}=s;return o!=null&&(o.toString()===n.toString()&&(i=s),!!i)}),i}getFieldDomain(e,t){const r=t&&t.feature,n=this.getFeatureType(r);if(n){const i=n.domains&&n.domains[e];if(i&&i.type!=="inherited")return i}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}async queryAttachments(e,t){return f6e(this,e,t,Gi)}async queryFeatures(e,t){const r=await this.load(),n=await r.source.queryFeatures(Zl.from(e)??r.createQuery(),t);if(n!=null&&n.features)for(const i of n.features)i.layer=i.sourceLayer=r;return n}async queryObjectIds(e,t){return m6e(this,e,t,Gi)}async queryFeatureCount(e,t){return y6e(this,e,t,Gi)}async queryExtent(e,t){return g6e(this,e,t,Gi)}async queryRelatedFeatures(e,t){return v6e(this,e,t,Gi)}async queryRelatedFeaturesCount(e,t){return b6e(this,e,t,Gi)}async queryTopFeatures(e,t){var s;const{source:r,capabilities:n}=await this.load();if(!r.queryTopFeatures||!((s=n==null?void 0:n.query)!=null&&s.supportsTopFeaturesQuery))throw new V(Gi,"Layer source does not support queryTopFeatures capability");const i=await r.queryTopFeatures(d$.from(e),t);if(i!=null&&i.features)for(const o of i.features)o.layer=o.sourceLayer=this;return i}async queryTopObjectIds(e,t){const{source:r,capabilities:n}=await this.load();if(!r.queryTopObjectIds||!(n!=null&&n.query.supportsTopFeaturesQuery))throw new V(Gi,"Layer source does not support queryTopObjectIds capability");return r.queryTopObjectIds(d$.from(e),t)}async queryTopFeaturesExtent(e,t){var i;const{source:r,capabilities:n}=await this.load();if(!r.queryTopExtents||!((i=n==null?void 0:n.query)!=null&&i.supportsTopFeaturesQuery))throw new V(Gi,"Layer source does not support queryTopExtents capability");return r.queryTopExtents(d$.from(e),t)}async queryTopFeatureCount(e,t){var i;const{source:r,capabilities:n}=await this.load();if(!r.queryTopCount||!((i=n==null?void 0:n.query)!=null&&i.supportsTopFeaturesQuery))throw new V(Gi,"Layer source does not support queryFeatureCount capability");return r.queryTopCount(d$.from(e),t)}read(e,t){const r=e.featureCollection;if(r){const n=r.layers;n&&n.length===1&&(super.read(n[0],t),r.showLegend!=null&&super.read({showLegend:r.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){t={...t,origin:(t==null?void 0:t.origin)??void 0,writeLayerSchema:(t==null?void 0:t.writeLayerSchema)??this._hasMemorySource()};const{origin:r,layerContainerType:n,messages:i}=t;if(this.dynamicDataSource)return i==null||i.push(O$(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(r==="web-scene"||r==="web-map"&&n!=="tables")return i==null||i.push(O$(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return i==null||i.push(O$(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&r==="web-map"&&n==="tables")return i==null||i.push(O$(this,"using a non-table source cannot be written to tables in web maps")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new V(Gi,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){var t;return!!this.loaded&&(((t=this.source)==null?void 0:t.type)==="memory"||Y8e(this,e))}async save(e){return(await Y(()=>import("./featureLayerUtils-f80d656b.js"),["assets/featureLayerUtils-f80d656b.js","assets/originUtils-1469eeaf.js","assets/multiOriginJSONSupportUtils-c978f4c3.js","assets/fetchService-22b6ca72.js","assets/jsonContext-7de017ef.js"])).save(this,e)}async saveAs(e,t){return(await Y(()=>import("./featureLayerUtils-f80d656b.js"),["assets/featureLayerUtils-f80d656b.js","assets/originUtils-1469eeaf.js","assets/multiOriginJSONSupportUtils-c978f4c3.js","assets/fetchService-22b6ca72.js","assets/jsonContext-7de017ef.js"])).saveAs(this,e,t)}_readEditingEnabled(e,t,r){var i;let n=(i=e.layerDefinition)==null?void 0:i.capabilities;return n?this._hasEditingCapability(n):(n=e.capabilities,t&&(r==null?void 0:r.origin)==="web-map"&&!this._hasMemorySource()&&n?this._hasEditingCapability(n):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,r,n){var i,s;if(!e){const o=(s=(i=this.capabilities)==null?void 0:i.operations)!=null&&s.supportsSync?"Query,Sync":"Query";Di("layerDefinition.capabilities",o,t),r&&!(n!=null&&n.writeLayerSchema)&&(t.capabilities=o)}}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return Tt(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t=>{const r=t.data;if(r)return Array.isArray(r.layers)&&r.layers.length>0?r.layers[0].id:Array.isArray(r.tables)&&r.tables.length>0?r.tables[0].id:void 0})}async initLayerProperties(e){var t;return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:(t=this.portalItem)==null?void 0:t.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),MB(this.renderer,this.fieldsIndex),tie(this.timeInfo,this.fieldsIndex),Z8e(this,{origin:"service"})}async hasDataChanged(){return w6e(this)}async fetchPublishingStatus(){const e=this.source;return e!=null&&e.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){var t,r;const e=((t=this.parsedUrl)==null?void 0:t.path)??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||(r=this.fields)!=null&&r.some(n=>n.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(r=>{const n=r.prototype&&r.prototype.attributes;n&&t&&delete n[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new V("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new V("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this._handles.add([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}};c([he("service","capabilities")],Me.prototype,"readCapabilities",null),c([h({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Me.prototype,"charts",void 0),c([h({readOnly:!0})],Me.prototype,"createQueryVersion",null),c([h({json:{read:{source:"layerDefinition.copyrightText"}}})],Me.prototype,"copyright",void 0),c([h({json:{read:{source:"layerDefinition.displayField"}}})],Me.prototype,"displayField",void 0),c([h({types:Kf,readOnly:!0})],Me.prototype,"defaultSymbol",void 0),c([h({type:Fa})],Me.prototype,"dynamicDataSource",void 0),c([h({type:Boolean})],Me.prototype,"editingEnabled",null),c([he(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Me.prototype,"readEditingEnabled",null),c([he("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Me.prototype,"readEditingEnabledFromWebMap",null),c([ge(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Me.prototype,"writeEditingEnabled",null),c([ge("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Me.prototype,"writeEditingEnabledToWebMap",null),c([h({readOnly:!0})],Me.prototype,"effectiveEditingEnabled",null),c([h({...pk.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:fk}}}}})],Me.prototype,"fields",void 0),c([h(pk.fieldsIndex)],Me.prototype,"fieldsIndex",void 0),c([h({type:E5e,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Me.prototype,"formTemplate",void 0),c([h({json:{read:{source:"layerDefinition.extent"}}})],Me.prototype,"fullExtent",void 0),c([h({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:fk,writer(e,t,r){const n=e?v4.toJSON(e):null;n&&Di(r,n,t)}}}},read:{source:"layerDefinition.geometryType",reader:v4.read}}})],Me.prototype,"geometryType",void 0),c([h({json:{read:{source:"layerDefinition.hasM"}}})],Me.prototype,"hasM",void 0),c([h({json:{read:{source:"layerDefinition.hasZ"}}})],Me.prototype,"hasZ",void 0),c([h(nDe)],Me.prototype,"id",void 0),c([h({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Me.prototype,"infoFor3D",void 0),c([h({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Me.prototype,"isTable",void 0),c([he("service","isTable",["type","geometryType"]),he("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Me.prototype,"readIsTable",null),c([ge("web-map","isTable")],Me.prototype,"writeIsTable",null),c([h(S9)],Me.prototype,"labelsVisible",void 0),c([h({type:[cC],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:SW},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:SW},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],Me.prototype,"labelingInfo",void 0),c([h((()=>{const e=B(rDe);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,r,n){Di(n,DO(t),r)}}},e})())],Me.prototype,"opacity",void 0),c([h(eDe)],Me.prototype,"legendEnabled",void 0),c([h({type:["show","hide"],json:(()=>{const e=B(Ple.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],Me.prototype,"listMode",void 0),c([he("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],Me.prototype,"readGlobalIdField",null),c([h({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:fk}}}}})],Me.prototype,"objectIdField",void 0),c([he("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],Me.prototype,"readObjectIdField",null),c([h({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],Me.prototype,"operationalLayerType",void 0),c([h(pk.outFields)],Me.prototype,"outFields",void 0),c([h({readOnly:!0})],Me.prototype,"parsedUrl",null),c([h({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Me.prototype,"path",void 0),c([h(_9)],Me.prototype,"popupEnabled",void 0),c([h({type:Rm,json:{name:"popupInfo",write:!0}})],Me.prototype,"popupTemplate",void 0),c([h({readOnly:!0})],Me.prototype,"defaultPopupTemplate",null),c([h({types:nC,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:l5e,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}})],Me.prototype,"renderer",null),c([he("service","renderer",["drawingInfo.renderer","defaultSymbol"]),he("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Me.prototype,"readRenderer",null),c([h((()=>{const e=B(X5e);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],Me.prototype,"screenSizePerspectiveEnabled",void 0),c([h({clonable:!1})],Me.prototype,"source",null),c([vt("source")],Me.prototype,"castSource",null),c([he("portal-item","source",["featureSet"]),he("web-map","source",["featureSet"])],Me.prototype,"readSource",null),c([h({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],Me.prototype,"spatialReference",void 0),c([h({type:Number})],Me.prototype,"subtypeCode",void 0),c([h({type:[N9]})],Me.prototype,"templates",void 0),c([he("templates",["editFieldsInfo","creatorField","editorField","templates"])],Me.prototype,"readTemplates",null),c([h({type:ece})],Me.prototype,"timeInfo",void 0),c([h()],Me.prototype,"title",void 0),c([he("service","title",["name"]),he("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Me.prototype,"readTitle",null),c([he("web-map","title",["layerDefinition.name","title"])],Me.prototype,"readTitleFromWebMap",null),c([h({type:String})],Me.prototype,"sublayerTitleMode",void 0),c([h({json:{read:!1}})],Me.prototype,"type",void 0),c([h({type:String})],Me.prototype,"typeIdField",void 0),c([he("service","typeIdField"),he("typeIdField",["layerDefinition.typeIdField"])],Me.prototype,"readTypeIdField",null),c([h({type:[tce]})],Me.prototype,"types",void 0),c([he("service","types",["types"]),he("types",["layerDefinition.types"])],Me.prototype,"readTypes",null),c([h({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],Me.prototype,"visible",void 0),c([he("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Me.prototype,"readVisible",null),Me=c([O(nce)],Me);const mk=qh({types:GO}),ice=Me,Ewt=Object.freeze(Object.defineProperty({__proto__:null,default:ice},Symbol.toStringTag,{value:"Module"})),h9e=["$datastore","$map","$layer","$aggregatedfeatures"],p9e="esri.widgets.Feature.support.arcadeFeatureUtils",f9e=oe.getLogger(p9e);function m9e(e){return typeof e=="string"?US(G8(e)):Array.isArray(e)?y9e(e):(e==null?void 0:e.declaredClass)==="esri.arcade.Dictionary"?g9e(e):e}function y9e(e){return`<ul class="esri-widget__list">${e.map(t=>`<li>${typeof t=="string"?US(G8(t)):t}</li>`).join("")}</ul>`}function g9e(e){return`<table class="esri-widget__table">${e.keys().map(t=>{const r=e.field(t);return`<tr><th>${t}</th><td>${typeof r=="string"?US(G8(r)):r}</td></tr>`}).join("")}</table>`}function v9e({aggregatedFeatures:e,arcadeUtils:t,featureSetVars:r,context:n,viewInfo:i,map:s,graphic:o,interceptor:a}){r.forEach(l=>{const u=l.toLowerCase(),d=i.sr,p={map:s,spatialReference:d,interceptor:a};if(u==="$map"&&(n.vars[u]=t.convertMapToFeatureSetCollection(p)),u==="$layer"&&(n.vars[u]=t.convertFeatureLayerToFeatureSet({layer:o.sourceLayer,spatialReference:d,interceptor:a})),u==="$datastore"&&(n.vars[u]=t.convertServiceUrlToWorkspace({url:o.sourceLayer.url,spatialReference:d,interceptor:a})),u==="$aggregatedfeatures"){const f=o.layer,{fields:y,objectIdField:v,geometryType:g,spatialReference:b,displayField:w}=f,S=new ice({fields:y,objectIdField:v,geometryType:g,spatialReference:b,displayField:w,...f.type==="feature"?{templates:f.templates,typeIdField:f.typeIdField,types:f.types}:null,source:e});n.vars[u]=t.convertFeatureLayerToFeatureSet({layer:S,spatialReference:b,interceptor:a})}})}function sce(){return Y(()=>import("./arcadeUtils-41136c5a.js").then(e=>e.ax),["assets/arcadeUtils-41136c5a.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/number-be4bed68.js"])}function b9e(e){return"createQuery"in e&&"queryFeatures"in e}async function w9e({graphic:e,view:t}){const{isAggregate:r,layer:n}=e;if(!r||!n||(t==null?void 0:t.type)!=="2d")return[];const i=await t.whenLayerView(n);if(!b9e(i))return[];const s=i.createQuery(),o=e.getObjectId();s.aggregateIds=o!=null?[o]:[];const{features:a}=await i.queryFeatures(s);return a}async function oce({expressionInfo:e,arcadeUtils:t,interceptor:r,spatialReference:n,map:i,graphic:s,view:o}){if(!e||!e.expression)return null;const a=t.createSyntaxTree(e.expression),l=h9e.filter(y=>t.hasVariable(a,y)),[u]=await Promise.all([w9e({graphic:s,view:o}),t.loadScriptDependencies(a,!0,l)]),d=t.getViewInfo({spatialReference:n}),p=t.createExecContext(s,d);p.interceptor=r,p.useAsync=!0,v9e({aggregatedFeatures:u,arcadeUtils:t,featureSetVars:l,context:p,viewInfo:d,map:i,graphic:s,interceptor:r});const f=t.createFunction(a,p);return t.executeAsyncFunction(f,p).catch(y=>f9e.error("arcade-execution-error",{error:y,graphic:s,expressionInfo:e}))}async function _9e({expressionInfos:e,spatialReference:t,graphic:r,interceptor:n,map:i,view:s}){if(!e||!e.length)return{};const o=await sce(),a={};for(const d of e)a[`expression/${d.name}`]=oce({expressionInfo:d,arcadeUtils:o,interceptor:n,spatialReference:t,map:i,graphic:r,view:s});const l=await Wn(a),u={};for(const d in l)u[d]=m9e(l[d].value);return u}const S9e=1;let Us=class extends Dm(Ie){constructor(t){super(t),this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:r}=this;r&&r.abort(),this._abortController=null},this._createVM=()=>{var i,s;const r=(i=this.contentElement)==null?void 0:i.type;(s=this.contentElementViewModel)==null||s.destroy();const n=r==="fields"?new KO:r==="media"?new Ff:r==="text"?new nM:null;this._set("contentElementViewModel",n)},this._compile=async()=>{this._cancelQuery();const r=new AbortController;this._abortController=r,await this._compileExpression(),this._abortController===r&&(this._abortController=null)},this._compileThrottled=Bg(this._compile,S9e,this),this._compileExpression=async()=>{const{expressionInfo:r,graphic:n,interceptor:i,spatialReference:s,map:o,view:a,_abortController:l}=this;if(!(r&&n&&s&&o))return void this._set("contentElement",null);const u=await sce();if(l!==this._abortController)return;const d=await oce({arcadeUtils:u,expressionInfo:r,graphic:n,interceptor:i,map:o,spatialReference:s,view:a});if(!d||d.declaredClass!=="esri.arcade.Dictionary")return void this._set("contentElement",null);const p=await d.castAsJsonAsync(l==null?void 0:l.signal),f=p==null?void 0:p.type,y=f==="media"?x_.fromJSON(p):f==="text"?w0.fromJSON(p):f==="fields"?b0.fromJSON(p):null;this._set("contentElement",y)},this.handles.add([ue(()=>[this.expressionInfo,this.graphic,this.map,this.spatialReference,this.view],()=>this._compileThrottled(),mt),ue(()=>[this.contentElement],()=>this._createVM(),mt)])}destroy(){var t;this._cancelQuery(),(t=this.contentElementViewModel)==null||t.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var t;return((t=this.view)==null?void 0:t.spatialReference)??null}set spatialReference(t){this._override("spatialReference",t)}get state(){const{_abortController:t,contentElement:r,contentElementViewModel:n}=this;return t?"loading":r||n?"ready":"disabled"}get map(){var t;return((t=this.view)==null?void 0:t.map)??null}set map(t){this._override("map",t)}};c([h()],Us.prototype,"_abortController",void 0),c([h({type:uie})],Us.prototype,"expressionInfo",void 0),c([h({type:Pn})],Us.prototype,"graphic",void 0),c([h({readOnly:!0})],Us.prototype,"contentElement",void 0),c([h({readOnly:!0})],Us.prototype,"contentElementViewModel",void 0),c([h()],Us.prototype,"interceptor",void 0),c([h()],Us.prototype,"spatialReference",null),c([h({readOnly:!0})],Us.prototype,"state",null),c([h()],Us.prototype,"map",null),c([h()],Us.prototype,"view",void 0),Us=c([O("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],Us);const F9=Us,C$={iconLoading:"esri-icon-loading-indicator esri-rotating",base:"esri-feature-expression",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"};let _E=class extends Yn{constructor(t,r){super(t,r),this._contentWidget=null,this.viewModel=new F9}initialize(){this.addHandles(ue(()=>{var t;return(t=this.viewModel)==null?void 0:t.contentElementViewModel},()=>this._setupExpressionWidget(),mt))}destroy(){this._destroyContentWidget()}renderLoading(){return N("div",{key:"loading-container",class:C$.loadingSpinnerContainer},N("span",{class:this.classes(C$.iconLoading,C$.spinner)}))}render(){var r;const{state:t}=this.viewModel;return N("div",{class:C$.base},t==="loading"?this.renderLoading():t==="disabled"?null:(r=this._contentWidget)==null?void 0:r.render())}_destroyContentWidget(){const{_contentWidget:t}=this;t&&(t.viewModel=null,t.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:t,contentElement:r}=this.viewModel,n=r==null?void 0:r.type;this._destroyContentWidget();const i=t?n==="fields"?new Hoe({viewModel:t}):n==="media"?new jae({viewModel:t}):n==="text"?new X2({viewModel:t}):null:null;this._contentWidget=i,this.scheduleRender()}};c([h({type:F9})],_E.prototype,"viewModel",void 0),_E=c([O("esri.widgets.Feature.FeatureExpression")],_E);const x9e=_E,yk=100;let Kt=class extends ar(cv(Dm(Ie))){constructor(t){super(t),this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.featuresPerPage=10,this.description=null,this.graphic=null,this.layer=null,this.map=null,this.orderByFields=null,this.featureCount=0,this.relationshipId=null,this.showAllEnabled=!1,this.title=null,this._cancelQuery=()=>{const{_queryAbortController:r}=this;r&&r.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:r}=this;r&&r.abort(),this._queryFeatureCountAbortController=null},this._cancelQueryPage=()=>{const{_queryPageAbortController:r}=this;r&&r.abort(),this._queryPageAbortController=null},this._queryController=async()=>{this._cancelQuery();const r=new AbortController;this._queryAbortController=r,await Lg(this._query()),this._queryAbortController===r&&(this._queryAbortController=null)},this._queryFeatureCountController=async()=>{this._cancelQueryFeatureCount();const r=new AbortController;this._queryFeatureCountAbortController=r,await Lg(this._queryFeatureCount()),this._queryFeatureCountAbortController===r&&(this._queryFeatureCountAbortController=null)},this._queryPageController=async()=>{const r=new AbortController;this._queryPageAbortController=r,await Lg(this._queryPage()),this._queryPageAbortController===r&&(this._queryPageAbortController=null)},this._queryThrottled=Bg(this._queryController,yk,this),this._queryFeatureCountThrottled=Bg(this._queryFeatureCountController,yk,this),this._queryPageThrottled=Bg(this._queryPageController,yk,this),this._query=async()=>{const{_queryAbortController:r,relatedFeatures:n}=this;this._destroyRelatedFeatureViewModels(),this.featurePage=1,n.removeAll(),n.addMany(this._sliceFeatures(await this._queryRelatedFeatures({signal:r==null?void 0:r.signal})))},this.handles.add([ue(()=>[this.displayCount,this.graphic,this.layer,this.map,this.orderByFieldsFixedCasing,this.relationshipId,this.featuresPerPage,this.showAllEnabled,this.canQuery,this.featureCount],()=>this._queryThrottled(),mt),ue(()=>[this.featurePage,this.showAllEnabled],()=>this._queryPageThrottled()),ue(()=>[this.layer,this.relationshipId,this.objectId,this.canQuery],()=>this._queryFeatureCountThrottled())])}destroy(){this._destroyRelatedFeatureViewModels(),this.relatedFeatures.removeAll(),this._cancelQuery(),this._cancelQueryFeatureCount(),this._cancelQueryPage()}set featurePage(t){const{featuresPerPage:r,featureCount:n}=this,i=1,s=Math.ceil(n/r)||1;this._set("featurePage",Math.min(Math.max(t,i),s))}get featurePage(){return this._get("featurePage")}get orderByFieldsFixedCasing(){const{orderByFields:t,relatedLayer:r}=this;return t&&(r!=null&&r.loaded)?t.map(n=>{const i=n.clone(),s=A_(n.field,r);return i.field=s,i}):t??[]}get supportsCacheHint(){var t,r,n;return!!((n=(r=(t=this.layer)==null?void 0:t.capabilities)==null?void 0:r.queryRelated)!=null&&n.supportsCacheHint)}get canQuery(){var r,n;const t=(n=(r=this.layer)==null?void 0:r.capabilities)==null?void 0:n.queryRelated;return!!(this.relatedLayer&&this.relationship&&typeof this.relationshipId=="number"&&typeof this.objectId=="number"&&(t!=null&&t.supportsCount)&&(t!=null&&t.supportsPagination))}get itemDescriptionFieldName(){var t,r;return((r=(t=this.orderByFieldsFixedCasing)==null?void 0:t[0])==null?void 0:r.field)||null}set displayCount(t){this._set("displayCount",Math.min(Math.max(t,0),10))}get displayCount(){return this._get("displayCount")}get objectId(){var t,r;return(this.objectIdField&&((r=(t=this.graphic)==null?void 0:t.attributes)==null?void 0:r[this.objectIdField]))??null}get objectIdField(){var t;return((t=this.layer)==null?void 0:t.objectIdField)||null}get relatedFeatures(){return this._get("relatedFeatures")||new Fe}get relatedLayer(){const{layer:t,map:r,relationship:n}=this;return t!=null&&t.loaded&&r&&n?H3e(r,t,n)??null:null}get relationship(){var n;const{relationshipId:t,layer:r}=this;return typeof t=="number"?((n=r==null?void 0:r.relationships)==null?void 0:n.find(({id:i})=>i===t))??null:null}get relatedFeatureViewModels(){return this._get("relatedFeatureViewModels")||new Fe}get state(){const{_queryAbortController:t,_queryFeatureCountAbortController:r,_queryPageAbortController:n,canQuery:i}=this;return r?"loading":t||n?"querying":i?"ready":"disabled"}_destroyRelatedFeatureViewModels(){var t;(t=this.relatedFeatureViewModels)==null||t.forEach(r=>!r.destroyed&&r.destroy()),this.relatedFeatureViewModels.removeAll()}async _queryFeatureCount(){const{layer:t,relatedLayer:r,relationshipId:n,objectId:i,_queryFeatureCountAbortController:s,canQuery:o,supportsCacheHint:a}=this;if(await(t==null?void 0:t.load()),await(r==null?void 0:r.load()),!o||!t||!r)return void this._set("featureCount",0);const l=r.createQuery(),u=new x0({cacheHint:a,relationshipId:n,returnGeometry:!1,objectIds:[i],where:sU(l.where,void 0)}),d=await t.queryRelatedFeaturesCount(u,{signal:s==null?void 0:s.signal});this._set("featureCount",d[i]||0)}_sliceFeatures(t){const{showAllEnabled:r,displayCount:n}=this;return r?t:n?t.slice(0,n):[]}async _queryPage(){const{relatedFeatures:t,featurePage:r,showAllEnabled:n,_queryPageAbortController:i}=this;!n||r<2||t.addMany(await this._queryRelatedFeatures({signal:i==null?void 0:i.signal}))}async _queryRelatedFeatures(t){var E;const{orderByFieldsFixedCasing:r,showAllEnabled:n,featuresPerPage:i,displayCount:s,layer:o,relationshipId:a,featurePage:l,featureCount:u,relatedLayer:d,supportsCacheHint:p}=this,{canQuery:f,objectId:y}=this;if(!f||!o||!d)return[];const v=n?((l-1)*i+u)%u:0,g=n?i:s,b=d.objectIdField,w=[...r==null?void 0:r.map(T=>T.field),b].filter(C),S=r==null?void 0:r.map(T=>`${T.field} ${T.order}`),_=d.createQuery(),x=new x0({orderByFields:S,start:v,num:g,outFields:w,cacheHint:p,relationshipId:a,returnGeometry:!1,objectIds:[y],where:sU(_.where,void 0)}),$=((E=(await o.queryRelatedFeatures(x,{signal:t==null?void 0:t.signal}))[y])==null?void 0:E.features)||[];return $.forEach(T=>{T.sourceLayer=d,T.layer=d}),$}};c([h()],Kt.prototype,"_queryAbortController",void 0),c([h()],Kt.prototype,"_queryPageAbortController",void 0),c([h()],Kt.prototype,"_queryFeatureCountAbortController",void 0),c([h({value:1})],Kt.prototype,"featurePage",null),c([h()],Kt.prototype,"featuresPerPage",void 0),c([h({readOnly:!0})],Kt.prototype,"orderByFieldsFixedCasing",null),c([h({readOnly:!0})],Kt.prototype,"supportsCacheHint",null),c([h({readOnly:!0})],Kt.prototype,"canQuery",null),c([h()],Kt.prototype,"description",void 0),c([h({readOnly:!0})],Kt.prototype,"itemDescriptionFieldName",null),c([h({value:3})],Kt.prototype,"displayCount",null),c([h({type:Pn})],Kt.prototype,"graphic",void 0),c([h()],Kt.prototype,"layer",void 0),c([h()],Kt.prototype,"map",void 0),c([h({readOnly:!0})],Kt.prototype,"objectId",null),c([h({readOnly:!0})],Kt.prototype,"objectIdField",null),c([h()],Kt.prototype,"orderByFields",void 0),c([h({readOnly:!0})],Kt.prototype,"relatedFeatures",null),c([h({readOnly:!0})],Kt.prototype,"relatedLayer",null),c([h({readOnly:!0})],Kt.prototype,"relationship",null),c([h()],Kt.prototype,"featureCount",void 0),c([h({readOnly:!0})],Kt.prototype,"relatedFeatureViewModels",null),c([h()],Kt.prototype,"relationshipId",void 0),c([h()],Kt.prototype,"showAllEnabled",void 0),c([h()],Kt.prototype,"state",null),c([h()],Kt.prototype,"title",void 0),Kt=c([O("esri.widgets.Feature.FeatureRelationship.FeatureRelationshipViewModel")],Kt);const D9=Kt,Fb="esri-feature",gk=`${Fb}-relationship`,wu={base:gk,esriWidget:"esri-widget",listContainer:`${gk}__list`,listContainerQuerying:`${gk}__list--querying`,featureObserver:`${Fb}__feature-observer`,stickySpinnerContainer:`${Fb}__sticky-loading-container`,loadingSpinnerContainer:`${Fb}__loading-container`,spinner:`${Fb}__loading-spinner`,iconLoading:"esri-icon-loading-indicator esri-rotating"},EW={title:!0,description:!0};let Yi=class extends Yn{constructor(t,r){super(t,r),this._featureElementInfo=null,this._relatedFeatureIntersectionObserverNode=null,this._relatedFeatureIntersectionObserver=new IntersectionObserver(([n])=>{n!=null&&n.isIntersecting&&this._increaseFeaturePage()},{root:window.document}),this.headingLevel=2,this.viewModel=new D9,this.messages=null,this.messagesCommon=null,this.visibleElements={...EW},this._increaseFeaturePage=()=>{const{state:n,showAllEnabled:i,relatedFeatures:s,featuresPerPage:o,featurePage:a}=this.viewModel;n==="ready"&&i&&s.length>=o*a&&this.viewModel.featurePage++}}initialize(){this._featureElementInfo=new HO,this.addHandles([ue(()=>[this.viewModel.description,this.viewModel.title,this.headingLevel],()=>this._setupFeatureElementInfo(),mt),ue(()=>[this.viewModel.state,this.viewModel.showAllEnabled,this._relatedFeatureIntersectionObserverNode],()=>this._handleRelatedFeatureObserverChange()),As(()=>this.viewModel.relatedFeatureViewModels,"change",()=>this._setupRelatedFeatureViewModels())])}loadDependencies(){return Promise.all([Y(()=>import("./calcite-list-cb6bb3f9.js"),["assets/calcite-list-cb6bb3f9.js","assets/interactive-573cbe88.js","assets/observers-4f67f1fb.js","assets/utils3-1ce076c1.js","assets/loadable-25ad9e4e.js","assets/debounce-31e0cfcc.js","assets/t9n-bd783738.js","assets/icon-1d21489b.js","assets/loader-504af311.js","assets/guid-9426053f.js","assets/scrim-d6e89ffd.js"]),Y(()=>import("./calcite-list-item-5a4e11fb.js"),["assets/calcite-list-item-5a4e11fb.js","assets/interactive-573cbe88.js","assets/utils3-1ce076c1.js","assets/loadable-25ad9e4e.js","assets/icon-1d21489b.js","assets/observers-4f67f1fb.js"]),Y(()=>import("./calcite-icon-6fe809d8.js"),["assets/calcite-icon-6fe809d8.js","assets/icon-1d21489b.js","assets/observers-4f67f1fb.js"]),Y(()=>import("./calcite-notice-0fdede9b.js"),["assets/calcite-notice-0fdede9b.js","assets/observers-4f67f1fb.js","assets/loadable-25ad9e4e.js","assets/t9n-bd783738.js","assets/icon-1d21489b.js"])])}destroy(){this._unobserveRelatedFeatureObserver(),this._featureElementInfo=Ur(this._featureElementInfo)}get displayShowAllButton(){const{showAllEnabled:t,featureCount:r,displayCount:n}=this.viewModel;return!t&&!!r&&(r>n||n===0)}get displayListItems(){return this.displayShowAllButton||this.viewModel.relatedFeatureViewModels.length>0}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get featureCountDescription(){const{messages:t}=this,{featureCount:r}=this.viewModel;return No(r===1?t==null?void 0:t.numberRecord:t==null?void 0:t.numberRecords,{number:r})}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}castVisibleElements(t){return{...EW,...t}}renderStickyLoading(){return this.viewModel.state==="querying"?N("div",{key:"sticky-loader",class:wu.stickySpinnerContainer},this.renderLoadingIcon()):null}renderLoadingIcon(){return N("span",{class:this.classes(wu.iconLoading,wu.spinner)})}renderLoading(){return N("div",{key:"loading-container",class:wu.loadingSpinnerContainer},this.renderLoadingIcon())}renderShowAllIconNode(){return N("calcite-icon",{scale:"s",icon:"list",slot:"content-end"})}renderChevronIconNode(){const t=Bl(this.container)?"chevron-left":"chevron-right";return N("calcite-icon",{scale:"s",icon:t,slot:"content-end"})}renderRelatedFeature(t){var s,o;const{itemDescriptionFieldName:r}=this.viewModel,n=t.title;t.description=r&&((s=t.formattedAttributes)==null?void 0:s.global[r]);const i=t.state==="loading";return N("calcite-list-item",{key:t.uid,label:i?`${(o=this.messagesCommon)==null?void 0:o.loading}…`:n,description:i?"…":t.description??"",onCalciteListItemSelect:()=>this.emit("select-record",{featureViewModel:t})},this.renderChevronIconNode())}renderShowAllListItem(){var t;return this.displayShowAllButton?N("calcite-list-item",{key:"show-all-item",label:(t=this.messages)==null?void 0:t.showAll,description:this.featureCountDescription,onCalciteListItemSelect:()=>this.emit("show-all-records")},this.renderShowAllIconNode()):null}renderNoRelatedFeaturesMessage(){var t;return N("calcite-notice",{key:"no-related-features-message",icon:"information",open:!0,kind:"brand",scale:"s",width:"full"},N("div",{slot:"message"},(t=this.messages)==null?void 0:t.noRelatedFeatures))}renderFeatureObserver(){return N("div",{key:"feature-observer",class:wu.featureObserver,bind:this,afterCreate:this._relatedFeatureIntersectionObserverCreated})}renderList(){const{relatedFeatureViewModels:t}=this.viewModel;return N("calcite-list",null,t.toArray().map(r=>this.renderRelatedFeature(r)),this.renderShowAllListItem())}renderRelatedFeatures(){const{displayListItems:t}=this,{state:r}=this.viewModel;return N("div",{key:"list-container",class:this.classes(wu.listContainer,{[wu.listContainerQuerying]:r==="querying"})},t?this.renderList():r==="ready"?this.renderNoRelatedFeaturesMessage():null,this.renderStickyLoading(),this.renderFeatureObserver())}renderRelationshipNotFound(){var t;return N("calcite-notice",{key:"relationship-not-found",icon:"exclamation-mark-triangle",open:!0,kind:"danger",scale:"s",width:"full"},N("div",{slot:"message"},(t=this.messages)==null?void 0:t.relationshipNotFound))}render(){var r;const{state:t}=this.viewModel;return N("div",{class:this.classes(wu.base,wu.esriWidget)},(r=this._featureElementInfo)==null?void 0:r.render(),t==="loading"?this.renderLoading():t==="disabled"?this.renderRelationshipNotFound():this.renderRelatedFeatures())}_setupRelatedFeatureViewModels(){const{relatedFeatureViewModels:t}=this.viewModel,r="related-feature-viewmodels";this.removeHandles(r),t==null||t.forEach(n=>{this.addHandles(ue(()=>[n.title,n.state],()=>this.scheduleRender(),mt),r)}),this.scheduleRender()}_setupFeatureElementInfo(){var s;const{headingLevel:t,visibleElements:r}=this,n=r.description&&this.description,i=r.title&&this.title;(s=this._featureElementInfo)==null||s.set({description:n,title:i,headingLevel:t})}async _handleRelatedFeatureObserverChange(){this._unobserveRelatedFeatureObserver();const{state:t,showAllEnabled:r}=this.viewModel;await ES(0),this._relatedFeatureIntersectionObserverNode&&t==="ready"&&r&&this._relatedFeatureIntersectionObserver.observe(this._relatedFeatureIntersectionObserverNode)}_relatedFeatureIntersectionObserverCreated(t){this._relatedFeatureIntersectionObserverNode=t}_unobserveRelatedFeatureObserver(){this._relatedFeatureIntersectionObserverNode&&this._relatedFeatureIntersectionObserver.unobserve(this._relatedFeatureIntersectionObserverNode)}};c([h()],Yi.prototype,"_relatedFeatureIntersectionObserverNode",void 0),c([h({readOnly:!0})],Yi.prototype,"displayShowAllButton",null),c([h({readOnly:!0})],Yi.prototype,"displayListItems",null),c([h()],Yi.prototype,"description",null),c([h({readOnly:!0})],Yi.prototype,"featureCountDescription",null),c([h()],Yi.prototype,"headingLevel",void 0),c([h()],Yi.prototype,"title",null),c([h({type:D9})],Yi.prototype,"viewModel",void 0),c([h(),On("esri/widgets/Feature/t9n/Feature")],Yi.prototype,"messages",void 0),c([h(),On("esri/t9n/common")],Yi.prototype,"messagesCommon",void 0),c([h()],Yi.prototype,"visibleElements",void 0),c([vt("visibleElements")],Yi.prototype,"castVisibleElements",null),Yi=c([O("esri.widgets.Feature.FeatureRelationship")],Yi);const TW=Yi;let $9e=class{constructor(t,r){this.preLayerQueryCallback=t,this.preRequestCallback=r,this.preLayerQueryCallback||(this.preLayerQueryCallback=n=>{}),this.preRequestCallback||(this.preLayerQueryCallback=n=>{})}};var Db;const E9e=1,MW="content-view-models",IW="relationship-view-models",OW={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0,relationshipContent:!0};let dr=Db=class extends cv(Ie){constructor(e){super(e),this._handles=new zi,this._error=null,this._featureAbortController=null,this._graphicChangedThrottled=Bg(this._graphicChanged,E9e,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...OW},this.content=null,this.contentViewModels=[],this.description=null,this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=t=>{const{abilities:r}=this;return t.type==="attachments"&&!!r.attachmentsContent||t.type==="custom"&&!!r.customContent||t.type==="fields"&&!!r.fieldsContent||t.type==="media"&&!!r.mediaContent||t.type==="text"&&!!r.textContent||t.type==="expression"&&!!r.expressionContent||t.type==="relationship"&&!!r.relationshipContent},this._handles.add(ue(()=>[this.graphic,this._effectivePopupTemplate,this.abilities],()=>this._graphicChangedThrottled(),mt))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return C(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return V3e(yG(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return Noe(this.graphic)}castAbilities(e){return{...OW,...e}}get isTable(){var e;return((e=this._sourceLayer)==null?void 0:e.isTable)||!1}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(e){this._set("graphic",e?e.clone():null)}get spatialReference(){var e;return((e=this.view)==null?void 0:e.spatialReference)??null}set spatialReference(e){this._override("spatialReference",e)}get map(){var e;return((e=this.view)==null?void 0:e.map)||null}set map(e){this._override("map",e)}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(e,t){const r=this.contentViewModels[e];r instanceof Ff&&r.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof Ff&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof Ff&&t.previous()}async updateGeometry(){var o,a;const{graphic:e,spatialReference:t,_sourceLayer:r}=this;await(r==null?void 0:r.load());const n=r==null?void 0:r.objectIdField;if(!n||!e||!r)return;const i=(o=e==null?void 0:e.attributes)==null?void 0:o[n];if(i==null)return;const s=[i];if(!e.geometry){const l=(a=await Uoe({layer:r,graphic:e,outFields:[],objectIds:s,returnGeometry:!0,spatialReference:t}))==null?void 0:a.geometry;l&&(e.geometry=l)}}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}async _graphicChanged(){this._cancelFeatureQuery(),this._error=null,this._clear();const{graphic:e}=this;if(!e)return;const t=new AbortController;this._featureAbortController=t;try{await this._queryFeature({signal:t.signal})}catch(r){ia(r)||(this._error=r,oe.getLogger(this.declaredClass).error("error","The popupTemplate could not be displayed for this feature.",{error:r,graphic:e,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===t&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:e}=this;e&&e.abort(),this._featureAbortController=null}_compileContentElement(e,t){return e.type==="attachments"?this._compileAttachments(e,t):e.type==="custom"?this._compileCustom(e,t):e.type==="fields"?this._compileFields(e,t):e.type==="media"?this._compileMedia(e,t):e.type==="text"?this._compileText(e,t):e.type==="expression"?this._compileExpression(e,t):e.type==="relationship"?this._compileRelationship(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map((t,r)=>this._compileContentElement(t,r)).filter(C):typeof e=="string"?this._compileText(new w0({text:e}),0).text:e}_destroyContentViewModels(){var e,t;(e=this._handles)==null||e.remove(IW),(t=this._handles)==null||t.remove(MW),this.contentViewModels.forEach(r=>r&&!r.destroyed&&r.destroy()),this._set("contentViewModels",[])}_matchesFeature(e,t){var i;const r=(i=e==null?void 0:e.graphic)==null?void 0:i.getObjectId(),n=t==null?void 0:t.getObjectId();return C(r)&&C(n)&&r===n}_setRelatedFeaturesViewModels({relatedFeatureViewModels:e,relatedFeatures:t,map:r}){const{view:n,spatialReference:i}=this;t==null||t.filter(Boolean).forEach(s=>{e.find(o=>this._matchesFeature(o,s))||e.add(new Db({abilities:{relationshipContent:!1},map:r,view:n,spatialReference:i,graphic:s}))}),e.forEach(s=>{(t==null?void 0:t.find(a=>this._matchesFeature(s,a)))||e.remove(s)})}_setExpressionContentVM(e,t){const r=this.formattedAttributes,{contentElement:n,contentElementViewModel:i}=e,s=n==null?void 0:n.type;i&&s&&(s==="fields"&&(this._createFieldsFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:r}),i.set(this._createFieldsVMParams(n,t))),s==="media"&&(this._createMediaFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:r}),i.set(this._createMediaVMParams(n,t))),s==="text"&&i.set(this._createTextVMParams(n)))}_compileRelationship(e,t){const{displayCount:r,orderByFields:n,relationshipId:i,title:s,description:o}=e,{_sourceLayer:a,graphic:l,map:u}=this,d=new D9({displayCount:r,graphic:l,orderByFields:n,relationshipId:i,layer:a,map:u,...this._compileTitleAndDesc({title:s,description:o})});return this.contentViewModels[t]=d,this._handles.add(As(()=>d.relatedFeatures,"change",()=>this._setRelatedFeaturesViewModels(d)),IW),e}_compileExpression(e,t){const{expressionInfo:r}=e,{graphic:n,map:i,spatialReference:s,view:o}=this,a=new F9({expressionInfo:r,graphic:n,interceptor:Db.interceptor,map:i,spatialReference:s,view:o});return this.contentViewModels[t]=a,this._handles.add(ue(()=>a.contentElementViewModel,()=>this._setExpressionContentVM(a,t),mt),MW),e}_compileAttachments(e,t){const{graphic:r}=this,{description:n,title:i}=e;return this.contentViewModels[t]=new W8({graphic:r,...this._compileTitleAndDesc({title:i,description:n})}),e}_compileCustom(e,t){const{graphic:r}=this,{creator:n,destroyer:i}=e;return this.contentViewModels[t]=new nM({graphic:r,creator:n,destroyer:i}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:r,_sourceLayer:n,graphic:i,formattedAttributes:s}=this,o=i==null?void 0:i.attributes,a=this._expressionAttributes,l=s.global;return{title:Lf({attributes:o,fieldInfoMap:r,globalAttributes:l,expressionAttributes:a,layer:n,text:e}),description:Lf({attributes:o,fieldInfoMap:r,globalAttributes:l,expressionAttributes:a,layer:n,text:t})}}_createFieldsVMParams(e,t){var u;const r=this._effectivePopupTemplate,n=this.formattedAttributes,i={...n==null?void 0:n.global,...n==null?void 0:n.content[t]},s=(u=(e==null?void 0:e.fieldInfos)||(r==null?void 0:r.fieldInfos))==null?void 0:u.filter(({fieldName:d})=>U8(d)||nc(d)||i.hasOwnProperty(d)),o=r==null?void 0:r.expressionInfos,{description:a,title:l}=e;return{attributes:i,expressionInfos:o,fieldInfos:s,...this._compileTitleAndDesc({title:l,description:a})}}_compileFields(e,t){const r=e.clone(),n=new KO(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=n,r.fieldInfos=n.formattedFieldInfos.slice(0),r}_createMediaVMParams(e,t){const{abilities:r,graphic:n,_fieldInfoMap:i,_effectivePopupTemplate:s,relatedInfos:o,_sourceLayer:a,_expressionAttributes:l}=this,u=this.formattedAttributes,d=(n==null?void 0:n.attributes)??{},{description:p,mediaInfos:f,title:y}=e;return{abilities:{chartAnimation:r.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:d,isAggregate:n==null?void 0:n.isAggregate,layer:a,fieldInfoMap:i,formattedAttributes:{...u==null?void 0:u.global,...u==null?void 0:u.content[t]},expressionAttributes:l,mediaInfos:f,popupTemplate:s,relatedInfos:o,...this._compileTitleAndDesc({title:y,description:p})}}_compileMedia(e,t){const r=e.clone(),n=new Ff(this._createMediaVMParams(e,t));return r.mediaInfos=n.formattedMediaInfos.slice(0),this.contentViewModels[t]=n,r}_createTextVMParams(e){var s;const{graphic:t,_fieldInfoMap:r,_sourceLayer:n,_expressionAttributes:i}=this;if(e&&e.text){const o=(t==null?void 0:t.attributes)??{},a=((s=this.formattedAttributes)==null?void 0:s.global)??{};e.text=Lf({attributes:o,fieldInfoMap:r,globalAttributes:a,expressionAttributes:i,layer:n,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const r=e.clone();return this.contentViewModels[t]=new nM(this._createTextVMParams(r)),r}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:r}=this;if(!e)return;const{lastEditInfoEnabled:n}=e,i=t==null?void 0:t.editFieldsInfo;return n&&i?j3e(i,r==null?void 0:r.attributes):void 0}_compileTitle(e){var a;const{_fieldInfoMap:t,_sourceLayer:r,graphic:n,_expressionAttributes:i}=this,s=(n==null?void 0:n.attributes)??{},o=((a=this.formattedAttributes)==null?void 0:a.global)??{};return Lf({attributes:s,fieldInfoMap:t,globalAttributes:o,expressionAttributes:i,layer:r,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this;if(!t)return null;const r=e==null?void 0:e.title;return tM(r,{graphic:t})}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this;if(!t)return null;const r=e==null?void 0:e.content;return tM(r,{graphic:t})}async _queryFeature(e){const{_featureAbortController:t,_sourceLayer:r,graphic:n,_effectivePopupTemplate:i}=this,s=this.map,o=this.view,a=this.spatialReference;if(t!==this._featureAbortController||!n)return;await U3e({graphic:n,popupTemplate:i,layer:r,spatialReference:a},e);const{content:{value:l},title:{value:u}}=await Wn({content:this._getContent(),title:this._getTitle()}),{expressionAttributes:{value:d}}=await Wn({checkForRelatedFeatures:this._checkForRelatedFeatures(e),expressionAttributes:_9e({expressionInfos:i==null?void 0:i.expressionInfos,spatialReference:a,graphic:n,map:s,interceptor:Db.interceptor,view:o})});t===this._featureAbortController&&n&&(this._expressionAttributes=d,this._graphicExpressionAttributes={...n.attributes,...d},this._set("formattedAttributes",this._createFormattedAttributes(l)),this._set("title",this._compileTitle(u)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(l)||null))}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){const{_effectivePopupTemplate:n,graphic:i,relatedInfos:s,_sourceLayer:o,_fieldInfoMap:a,_graphicExpressionAttributes:l}=this;r.content[t]=TP({fieldInfos:n==null?void 0:n.fieldInfos,graphic:i,attributes:{...l,...e.attributes},layer:o,fieldInfoMap:a,relatedInfos:s})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){if(e.fieldInfos){const{graphic:n,relatedInfos:i,_sourceLayer:s,_fieldInfoMap:o,_graphicExpressionAttributes:a}=this;r.content[t]=TP({fieldInfos:e.fieldInfos,graphic:n,attributes:{...a,...e.attributes},layer:s,fieldInfoMap:o,relatedInfos:i})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:r,relatedInfos:n,_sourceLayer:i,_fieldInfoMap:s,_graphicExpressionAttributes:o}=this,a=t==null?void 0:t.fieldInfos,l={global:TP({fieldInfos:a,graphic:r,attributes:o,layer:i,fieldInfoMap:s,relatedInfos:n}),content:[]};return Array.isArray(e)&&e.forEach((u,d)=>{u.type==="fields"&&this._createFieldsFormattedAttributes({contentElement:u,contentElementIndex:d,formattedAttributes:l}),u.type==="media"&&this._createMediaFormattedAttributes({contentElement:u,contentElementIndex:d,formattedAttributes:l})}),l}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:r}=this;return this._queryRelatedInfos(t,yG(r),e)}async _queryRelatedInfos(e,t,r){const{relatedInfos:n,_sourceLayer:i}=this;n.clear();const s=C(i==null?void 0:i.associatedLayer)?await(i==null?void 0:i.associatedLayer.load(r)):i;if(!s||!e)return;const o=t.filter(u=>u&&nc(u.fieldName));if(!o||!o.length)return;t.forEach(u=>this._configureRelatedInfo(u,s));const a=await jFe({relatedInfos:n,layer:s},r);Object.keys(a).forEach(u=>{var f;const d=n.get(u.toString()),p=(f=a[u])==null?void 0:f.value;d&&p&&(d.layerInfo=p.data)});const l=await VFe({graphic:e,relatedInfos:n,layer:s},r);Object.keys(l).forEach(u=>{var d;RFe((d=l[u])==null?void 0:d.value,n.get(u.toString()))})}_configureRelatedInfo(e,t){const{relatedInfos:r}=this,n=rE(e.fieldName);if(!n)return;const{layerId:i,fieldName:s}=n;if(!i)return;const o=r.get(i.toString())||kFe(i,t);o&&(zFe({relatedInfo:o,fieldName:s,fieldInfo:e}),this.relatedInfos.set(i,o))}};dr.interceptor=new $9e(q3e,W3e),c([h()],dr.prototype,"_error",void 0),c([h()],dr.prototype,"_featureAbortController",void 0),c([h({readOnly:!0})],dr.prototype,"_effectivePopupTemplate",null),c([h({readOnly:!0})],dr.prototype,"_fieldInfoMap",null),c([h({readOnly:!0})],dr.prototype,"_sourceLayer",null),c([h()],dr.prototype,"abilities",void 0),c([vt("abilities")],dr.prototype,"castAbilities",null),c([h({readOnly:!0})],dr.prototype,"content",void 0),c([h({readOnly:!0})],dr.prototype,"contentViewModels",void 0),c([h()],dr.prototype,"description",void 0),c([h({type:Boolean})],dr.prototype,"defaultPopupTemplateEnabled",void 0),c([h({readOnly:!0})],dr.prototype,"isTable",null),c([h({readOnly:!0})],dr.prototype,"state",null),c([h({readOnly:!0})],dr.prototype,"formattedAttributes",void 0),c([h({type:Pn,value:null})],dr.prototype,"graphic",null),c([h({readOnly:!0})],dr.prototype,"lastEditInfo",void 0),c([h({readOnly:!0})],dr.prototype,"relatedInfos",void 0),c([h()],dr.prototype,"spatialReference",null),c([h({readOnly:!0})],dr.prototype,"title",void 0),c([h()],dr.prototype,"map",null),c([h({readOnly:!0})],dr.prototype,"waitingForContent",null),c([h()],dr.prototype,"view",void 0),dr=Db=c([O("esri.widgets.FeatureViewModel")],dr);const j9=dr,ri="esri-feature",Cr={iconText:"esri-icon-font-fallback-text",iconLoading:"esri-icon-loading-indicator esri-rotating",esriTable:"esri-widget__table",esriWidget:"esri-widget",base:ri,container:`${ri}__size-container`,title:`${ri}__title`,main:`${ri}__main-container`,btn:`${ri}__button`,icon:`${ri}__icon`,content:`${ri}__content`,contentNode:`${ri}__content-node`,contentElement:`${ri}__content-element`,text:`${ri}__text`,lastEditedInfo:`${ri}__last-edited-info`,fields:`${ri}__fields`,fieldHeader:`${ri}__field-header`,fieldData:`${ri}__field-data`,fieldDataDate:`${ri}__field-data--date`,loadingSpinnerContainer:`${ri}__loading-container`,spinner:`${ri}__loading-spinner`},ace=e=>{let t=class extends e{constructor(){super(...arguments),this.renderNodeContent=r=>Woe(r)&&!r.destroyed?N("div",{class:Cr.contentNode,key:r},r.render()):r instanceof HTMLElement?N("div",{class:Cr.contentNode,key:r,bind:r,afterCreate:this._attachToNode}):iLe(r)?N("div",{class:Cr.contentNode,key:r,bind:r.domNode,afterCreate:this._attachToNode}):null}_attachToNode(r){const n=this;r.appendChild(n)}};return t=c([O("esri.widgets.Feature.ContentMixin")],t),t};var O4;const CW={title:!0,content:!0,lastEditedInfo:!0},AW="relationship-handles";let xn=O4=class extends ace(Yn){constructor(e,t){super(e,t),this._contentWidgets=[],this.flowItems=null,this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.visibleElements={...CW},this.viewModel=new j9}initialize(){this.addHandles(ue(()=>{var e;return(e=this.viewModel)==null?void 0:e.contentViewModels},()=>this._setupContentWidgets(),mt))}loadDependencies(){return Y(()=>import("./calcite-notice-0fdede9b.js"),["assets/calcite-notice-0fdede9b.js","assets/observers-4f67f1fb.js","assets/loadable-25ad9e4e.js","assets/t9n-bd783738.js","assets/icon-1d21489b.js"])}destroy(){this._destroyContentWidgets()}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(e){this.viewModel.defaultPopupTemplateEnabled=e}get isTable(){return this.viewModel.isTable}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get spatialReference(){return this.viewModel.spatialReference}set spatialReference(e){this.viewModel.spatialReference=e}get title(){return this.viewModel.title}castVisibleElements(e){return{...CW,...e}}get map(){return this.viewModel.map}set map(e){this.viewModel.map=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const{state:e}=this.viewModel,t=N("div",{class:Cr.container,key:"container"},this.renderTitle(),e==="error"?this.renderError():e==="loading"?this.renderLoading():this.renderContentContainer());return N("div",{class:this.classes(Cr.base,Cr.esriWidget)},t)}setActiveMedia(e,t){return this.viewModel.setActiveMedia(e,t)}nextMedia(e){return this.viewModel.nextMedia(e)}previousMedia(e){return this.viewModel.previousMedia(e)}renderError(){const{messagesCommon:e,messages:t,visibleElements:r}=this;return N("calcite-notice",{open:!0,kind:"danger",icon:"exclamation-mark-circle",scale:"s"},r.title?N("div",{key:"error-title",slot:"title"},e.errorMessage):null,N("div",{key:"error-message",slot:"message"},t.loadingError))}renderLoading(){return N("div",{key:"loading-container",class:Cr.loadingSpinnerContainer},N("span",{class:this.classes(Cr.iconLoading,Cr.spinner)}))}renderContentContainer(){const{visibleElements:e}=this;return e.content?N("div",{class:Cr.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:e,title:t}=this;return e.title?N(H8,{level:this.headingLevel,class:Cr.title,innerHTML:t}):null}renderContent(){const e=this.viewModel.content,t="content";if(!e)return null;if(Array.isArray(e))return e.length?N("div",{class:Cr.contentNode,key:`${t}-content-elements`},e.map(this.renderContentElement,this)):null;if(typeof e=="string"){const r=this._contentWidgets[0];return!r||r.destroyed?null:N("div",{class:Cr.contentNode,key:`${t}-content`},r.render())}return this.renderNodeContent(e)}renderContentElement(e,t){var n;const{visibleElements:r}=this;if(typeof r.content!="boolean"&&!((n=r.content)!=null&&n[e.type]))return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(t);case"text":return this.renderText(e,t);case"expression":return this.renderExpression(t);case"relationship":return this.renderRelationship(t);default:return null}}renderAttachments(e){const t=this._contentWidgets[e];if(!t||t.destroyed)return null;const{state:r,attachmentInfos:n}=t.viewModel;return r==="loading"||n.length>0?N("div",{key:this._buildKey("attachments-element",e),class:this.classes(Cr.contentElement)},t.render()):null}renderRelationship(e){const t=this._contentWidgets[e];return t&&!t.destroyed&&this.flowItems?N("div",{key:this._buildKey("relationship-element",e),class:Cr.contentElement},t.render()):null}renderExpression(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:N("div",{key:this._buildKey("expression-element",e),class:Cr.contentElement},t.render())}renderCustom(e,t){const{creator:r}=e,n=this._contentWidgets[t];return!n||n.destroyed?null:r?N("div",{key:this._buildKey("custom-element",t),class:Cr.contentElement},n.render()):null}renderFields(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:N("div",{key:this._buildKey("fields-element",e),class:Cr.contentElement},t.render())}renderMedia(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:N("div",{key:this._buildKey("media-element",e),class:Cr.contentElement},t.render())}renderLastEditInfo(){const{visibleElements:e,messages:t}=this,{lastEditInfo:r}=this.viewModel;if(!r||!e.lastEditedInfo)return null;const{date:n,user:i}=r,s=r.type==="edit"?i?t.lastEditedByUser:t.lastEdited:i?t.lastCreatedByUser:t.lastCreated,o=No(s,{date:n,user:i});return N("div",{key:"edit-info-element",class:this.classes(Cr.lastEditedInfo,Cr.contentElement)},o)}renderText(e,t){const r=e.text,n=this._contentWidgets[t];return!n||n.destroyed?null:r?N("div",{key:this._buildKey("text-element",t),class:this.classes(Cr.contentElement,Cr.text)},n.render()):null}_buildKey(e,...t){return`${e}__${this.get("viewModel.graphic.uid")||"0"}-${t.join("-")}`}_destroyContentWidget(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}_destroyContentWidgets(){this.removeHandles(AW),this._contentWidgets.forEach(e=>this._destroyContentWidget(e)),this._contentWidgets=[]}_addFeatureRelationshipHandles(e){const{flowItems:t,visibleElements:r}=this;this.addHandles([As(()=>e,"select-record",({featureViewModel:n})=>{t&&(n.abilities={relationshipContent:!0},t.push(new O4({flowItems:t,viewModel:n,visibleElements:r})))}),As(()=>e,"show-all-records",()=>{if(!t)return;const{viewModel:n}=e;n.showAllEnabled=!0;const i=new TW({visibleElements:{title:!1,description:!1},viewModel:n});this._addFeatureRelationshipHandles(i),t.push(i)})],AW)}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:e,visibleElements:t}=this,r=this.get("viewModel.content"),{contentViewModels:n}=this.viewModel;if(Array.isArray(r))r.forEach((i,s)=>{if(i.type==="attachments"&&(this._contentWidgets[s]=new Q3e({displayType:i.displayType,headingLevel:t.title?e+1:e,viewModel:n[s]})),i.type==="fields"&&(this._contentWidgets[s]=new Hoe({viewModel:n[s]})),i.type==="media"&&(this._contentWidgets[s]=new jae({viewModel:n[s]})),i.type==="text"&&(this._contentWidgets[s]=new X2({viewModel:n[s]})),i.type==="custom"&&(this._contentWidgets[s]=new X2({viewModel:n[s]})),i.type==="expression"&&(this._contentWidgets[s]=new x9e({viewModel:n[s]})),i.type==="relationship"){const o=new TW({viewModel:n[s]});this._addFeatureRelationshipHandles(o),this._contentWidgets[s]=o}},this);else{const i=n[0];i&&!i.destroyed&&(this._contentWidgets[0]=new X2({viewModel:i}))}this.scheduleRender()}};c([h()],xn.prototype,"graphic",null),c([h()],xn.prototype,"defaultPopupTemplateEnabled",null),c([h()],xn.prototype,"flowItems",void 0),c([h()],xn.prototype,"headingLevel",void 0),c([h({readOnly:!0})],xn.prototype,"isTable",null),c([h()],xn.prototype,"label",null),c([h(),On("esri/widgets/Feature/t9n/Feature")],xn.prototype,"messages",void 0),c([h(),On("esri/t9n/common")],xn.prototype,"messagesCommon",void 0),c([h(),On("esri/widgets/support/t9n/uriUtils")],xn.prototype,"messagesURIUtils",void 0),c([h()],xn.prototype,"spatialReference",null),c([h({readOnly:!0})],xn.prototype,"title",null),c([h()],xn.prototype,"visibleElements",void 0),c([vt("visibleElements")],xn.prototype,"castVisibleElements",null),c([h()],xn.prototype,"map",null),c([h()],xn.prototype,"view",null),c([h({type:j9})],xn.prototype,"viewModel",void 0),xn=O4=c([O("esri.widgets.Feature")],xn);const T9e=xn;var lce;const SE=Symbol("anchorHandles");let Qp=class extends au.EventedAccessor{constructor(t){super(t),this[lce]=new zi,this.location=null,this.screenLocationEnabled=!1,this.view=null,this[SE].add([Ni(()=>nh(this.screenLocationEnabled?this.view:null,r=>[r.size,r.type==="3d"?r.camera:r.viewpoint]),()=>this.notifyChange("screenLocation")),ue(()=>this.screenLocation,(r,n)=>{C(r)&&C(n)&&this.emit("view-change")})])}destroy(){this.view=null,this[SE]=Ur(this[SE])}get screenLocation(){var i;const{location:t,view:r,screenLocationEnabled:n}=this;return n&&C(t)&&C(r)&&r.ready?(i=r.toScreen)==null?void 0:i.call(r,t):null}};lce=SE,c([h()],Qp.prototype,"location",void 0),c([h()],Qp.prototype,"screenLocation",null),c([h()],Qp.prototype,"screenLocationEnabled",void 0),c([h()],Qp.prototype,"view",void 0),Qp=c([O("esri.widgets.support.AnchorElementViewModel")],Qp);const uce=Qp,M9e="esri.widgets.CompassViewModel";let xE=class extends uce{constructor(t){super(t),this.visible=!1}};c([h()],xE.prototype,"visible",void 0),xE=c([O(M9e)],xE);const cce=xE,vk="esri-spinner",bk={base:vk,spinnerStart:`${vk}--start`,spinnerFinish:`${vk}--finish`};let ef=class extends Yn{constructor(t,r){super(t,r),this._animationDelay=500,this._animationPromise=null,this.viewModel=new cce}initialize(){this.addHandles(ue(()=>this.visible,t=>this._visibleChange(t)))}destroy(){this._animationPromise=null}get location(){return this.viewModel.location}set location(t){this.viewModel.location=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get visible(){return this.viewModel.visible}set visible(t){this.viewModel.visible=t}show(t){const{location:r,promise:n}=t??{};r&&(this.viewModel.location=r),this.visible=!0;const i=()=>this.hide();n&&n.catch(()=>{}).then(i)}hide(){this.visible=!1}render(){const{visible:t}=this,{screenLocation:r}=this.viewModel,n=!!r,i=t&&n,s=!t&&n,o={[bk.spinnerStart]:i,[bk.spinnerFinish]:s},a=this._getPositionStyles();return N("div",{class:this.classes(bk.base,o),styles:a})}_visibleChange(t){if(t)return void(this.viewModel.screenLocationEnabled=!0);const r=ES(this._animationDelay);this._animationPromise=r,r.catch(()=>{}).then(()=>{this._animationPromise===r&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:t,view:r}=this.viewModel;if(G(r)||G(t))return{};const{padding:n}=r;return{left:t.x-n.left+"px",top:t.y-n.top+"px"}}};c([h()],ef.prototype,"location",null),c([h()],ef.prototype,"view",null),c([h({type:cce})],ef.prototype,"viewModel",void 0),c([h()],ef.prototype,"visible",null),ef=c([O("esri.widgets.Spinner")],ef);const I9e=ef,pC={iconZoom:"esri-icon-zoom-in-magnifying-glass",iconTrash:"esri-icon-trash",iconBrowseClusteredFeatures:"esri-icon-table"},Df=new dv({id:"zoom-to-feature",title:"{messages.zoom}",className:pC.iconZoom}),PW=new dv({id:"remove-selected-feature",title:"{messages.remove}",className:pC.iconTrash}),wg=new dv({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:pC.iconZoom}),_g=new dv({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:pC.iconBrowseClusteredFeatures}),O9e="esri.widgets.Popup.PopupViewModel",fM=oe.getLogger(O9e),C9e=e=>{const{event:t,view:r}=e,{action:n}=t,i=r&&r.popup;if(!n)return Promise.reject(new V("trigger-action:missing-arguments","Event has no action"));if(!i)return Promise.reject(new V("trigger-action:missing-arguments","view.popup is missing"));const{disabled:s,id:o}=n;if(!o)return Promise.reject(new V("trigger-action:invalid-action","action.id is missing"));if(s)return Promise.reject(new V("trigger-action:invalid-action","Action is disabled"));if(o===Df.id)return P9e(i.viewModel).catch(k3);if(o===wg.id)return k9e(i.viewModel);if(o===_g.id)return i.featureMenuOpen=!i.featureMenuOpen,i.viewModel.browseClusterEnabled=!i.viewModel.browseClusterEnabled,Promise.resolve();if(i.viewModel.browseClusterEnabled=!1,o===PW.id){i.close();const{selectedFeature:a}=i;if(!a)return Promise.reject(new V(`trigger-action:${PW.id}`,"selectedFeature is required",{selectedFeature:a}));const{sourceLayer:l}=a;return l?l.remove(a):r.graphics.remove(a),Promise.resolve()}return Promise.resolve()};function dce(e){const{selectedFeature:t,location:r,view:n}=e;return n?n.type==="3d"?t??r??null:e.get("selectedFeature.geometry")||r:null}function bf(e){var t,r;return!!e&&e.isAggregate&&((r=(t=e.sourceLayer)==null?void 0:t.featureReduction)==null?void 0:r.type)==="cluster"}async function A9e(e,t){if((t==null?void 0:t.type)!=="3d"||!e||e.declaredClass!=="esri.Graphic")return!0;const r=t.getViewForGraphic(e);if(r&&"whenGraphicBounds"in r){let n;try{n=await r.whenGraphicBounds(e,{useViewElevation:!0})}catch{}return!n||!n.boundingBox||n.boundingBox[0]===n.boundingBox[3]&&n.boundingBox[1]===n.boundingBox[4]&&n.boundingBox[2]===n.boundingBox[5]}return!0}async function P9e(e){var d;const{location:t,selectedFeature:r,view:n,zoomFactor:i}=e,s=dce(e);if(!n||!s){const p=new V("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:s,view:n});throw fM.error(p),p}const o=n.scale/i,a=(d=e.selectedFeature)==null?void 0:d.geometry,l=a??t,u=C(l)&&l.type==="point"&&await A9e(r,n);Df.active=!0,Df.disabled=!0;try{await e.zoomTo({target:{target:s,scale:u?o:void 0}})}catch{const f=new V("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:r});fM.error(f)}finally{Df.active=!1,Df.disabled=!1,e.zoomToLocation=null,u&&(e.location=l)}}async function k9e(e){const{selectedFeature:t,view:r}=e;if((r==null?void 0:r.type)!=="2d"){const o=new V("zoomToCluster:invalid-view","View must be 2d MapView.",{view:r});throw fM.error(o),o}if(!t||!bf(t)){const o=new V("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t});throw fM.error(o),o}const[n,i]=await V9(r,t);wg.active=!0,wg.disabled=!0;const{extent:s}=await n.queryExtent(i);await e.zoomTo({target:s}),wg.active=!1,wg.disabled=!1}async function R9e(e){const{view:t,selectedFeature:r}=e;if(!t||!r)return;const[n,i]=await V9(t,r),{extent:s}=await n.queryExtent(i);e.selectedClusterBoundaryFeature.geometry=s,t.graphics.add(e.selectedClusterBoundaryFeature)}async function L9e(e){var o;const{selectedFeature:t,view:r}=e;if(!r||!t)return;const[n,i]=await V9(r,t);_g.active=!0,_g.disabled=!0;const{features:s}=await n.queryFeatures(i);_g.active=!1,_g.disabled=!1,(o=r.popup)==null||o.open({features:[t].concat(s),featureMenuOpen:!0})}async function V9(e,t){const r=await e.whenLayerView(t.sourceLayer),n=r.createQuery(),i=t.getObjectId();return n.aggregateIds=i!=null?[i]:[],[r,n]}function N9e(e){const t=e.features.filter(r=>bf(r));t.length&&(e.features=t)}function hce(e){var t;if(G(e))return null;switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":case"polyline":return(t=e.extent)==null?void 0:t.center;default:return null}}const Le="esri-popup",O1=`${Le}__header`,hp=`${Le}--is-docked`,ie={calciteThemeLight:"calcite-mode-light",calciteThemeDark:"calcite-mode-dark",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow",iconDockToTop:"esri-icon-maximize",iconDockToBottom:"esri-icon-dock-bottom",iconDockToLeft:"esri-icon-dock-left",iconDockToRight:"esri-icon-dock-right",iconClose:"esri-icon-close",iconUndock:"esri-icon-minimize",iconCheckMark:"esri-icon-check-mark",iconLoading:"esri-icon-loading-indicator",iconDefaultAction:"esri-icon-default-action",iconActionsMenu:"esri-icon-handle-horizontal",rotating:"esri-rotating",base:Le,widget:"esri-widget",main:`${Le}__main-container`,loadingContainer:`${Le}__loading-container`,isCollapsible:`${Le}--is-collapsible`,isCollapsed:`${Le}--is-collapsed`,shadow:`${Le}--shadow`,isDocked:hp,isDockedTopLeft:`${hp}-top-left`,isDockedTopCenter:`${hp}-top-center`,isDockedTopRight:`${hp}-top-right`,isDockedBottomLeft:`${hp}-bottom-left`,isDockedBottomCenter:`${hp}-bottom-center`,isDockedBottomRight:`${hp}-bottom-right`,alignTopCenter:`${Le}--aligned-top-center`,alignBottomCenter:`${Le}--aligned-bottom-center`,alignTopLeft:`${Le}--aligned-top-left`,alignBottomLeft:`${Le}--aligned-bottom-left`,alignTopRight:`${Le}--aligned-top-right`,alignBottomRight:`${Le}--aligned-bottom-right`,isFeatureMenuOpen:`${Le}--feature-menu-open`,isActionsMenuOpen:`${Le}--actions-menu-open`,hasFeatureUpdated:`${Le}--feature-updated`,header:O1,headerButtons:`${O1}-buttons`,headerContainer:`${O1}-container`,headerContainerButton:`${O1}-container--button`,headerTitle:`${O1}-title`,content:`${Le}__content`,contentHasFlows:"esri-content--has-flows",contentFlowItem:"esri-content__flow-item",footer:`${Le}__footer`,footerHasPagination:`${Le}__footer--has-pagination`,footerHasActions:`${Le}__footer--has-actions`,footerHasActionsMenu:`${Le}__footer--has-actions-menu`,button:`${Le}__button`,buttonDisabled:`${Le}__button--disabled`,buttonDock:`${Le}__button--dock`,icon:`${Le}__icon`,iconDock:`${Le}__icon--dock-icon`,inlineActionsContainer:`${Le}__inline-actions-container`,actionsMenuButton:`${Le}__actions-menu-button`,actions:`${Le}__actions`,action:`${Le}__action`,actionImage:`${Le}__action-image`,actionText:`${Le}__action-text`,actionToggle:`${Le}__action-toggle`,actionToggleOn:`${Le}__action-toggle--on`,actionExit:`${Le}__action--exit`,actionSelectFeature:`${Le}__action--select-feature`,pointer:`${Le}__pointer`,pointerDirection:`${Le}__pointer-direction`,navigation:`${Le}__navigation`,paginationPrevious:`${Le}__pagination-previous`,paginationNext:`${Le}__pagination-next`,paginationPreviousIconLTR:`${Le}__pagination-previous-icon`,paginationPreviousIconRTL:`${Le}__pagination-previous-icon--rtl`,paginationNextIconLTR:`${Le}__pagination-next-icon`,paginationNextIconRTL:`${Le}__pagination-next-icon--rtl`,featureMenu:`${Le}__feature-menu`,featureMenuList:`${Le}__feature-menu-list`,featureMenuItem:`${Le}__feature-menu-item`,featureMenuViewport:`${Le}__feature-menu-viewport`,featureMenuHeader:`${Le}__feature-menu-header`,featureMenuNote:`${Le}__feature-menu-note`,featureMenuSelected:`${Le}__feature-menu-item--selected`,featureMenuButton:`${Le}__feature-menu-button`,featureMenuTitle:`${Le}__feature-menu-title`,featureMenuObserver:`${Le}__feature-menu-observer`,featureMenuLoader:`${Le}__feature-menu-loader`,collapseButton:`${Le}__collapse-button`,collapseIcon:`${Le}__collapse-icon`},F9e="OBJECTID";var Em;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(Em||(Em={}));function pce(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function D9e(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function j9e(e,t,r,n,i,s){const o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=s,o}function V9e(e,t){return new Float32Array(e,t,6)}function fce(e,t,r,n){const i=t[n],s=t[n+1];e[n]=r[0]*i+r[2]*s+r[4],e[n+1]=r[1]*i+r[3]*s+r[5]}function z9e(e,t,r,n=0,i=0,s=2){const o=i||t.length/s;for(let a=n;a<o;a++)fce(e,t,r,a*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:D9e,create:pce,createView:V9e,fromValues:j9e,transform:fce,transformMany:z9e},Symbol.toStringTag,{value:"Module"}));function U9e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function B9e(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function G9e(e,t,r,n,i,s,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e}function z9(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5];let l=r*s-n*i;return l?(l=1/l,e[0]=s*l,e[1]=-n*l,e[2]=-i*l,e[3]=r*l,e[4]=(i*a-s*o)*l,e[5]=(n*o-r*a)*l,e):null}function q9e(e){return e[0]*e[3]-e[1]*e[2]}function mce(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=r[0],d=r[1],p=r[2],f=r[3],y=r[4],v=r[5];return e[0]=n*u+s*d,e[1]=i*u+o*d,e[2]=n*p+s*f,e[3]=i*p+o*f,e[4]=n*y+s*v+a,e[5]=i*y+o*v+l,e}function fC(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=Math.sin(r),d=Math.cos(r);return e[0]=n*d+s*u,e[1]=i*d+o*u,e[2]=n*-u+s*d,e[3]=i*-u+o*d,e[4]=a,e[5]=l,e}function U9(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=r[0],d=r[1];return e[0]=n*u,e[1]=i*u,e[2]=s*d,e[3]=o*d,e[4]=a,e[5]=l,e}function N_(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e[4]=n*u+s*d+a,e[5]=i*u+o*d+l,e}function yce(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function gce(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function B9(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function W9e(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function H9e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function K9e(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function vce(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function J9e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function Y9e(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function Z9e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function X9e(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=t[0],u=t[1],d=t[2],p=t[3],f=t[4],y=t[5],v=sa();return Math.abs(r-l)<=v*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-u)<=v*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-d)<=v*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-p)<=v*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(o-f)<=v*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-y)<=v*Math.max(1,Math.abs(a),Math.abs(y))}const Q9e=mce,eVe=vce;Object.freeze(Object.defineProperty({__proto__:null,add:K9e,copy:U9e,determinant:q9e,equals:X9e,exactEquals:Z9e,frob:H9e,fromRotation:yce,fromScaling:gce,fromTranslation:B9,identity:B9e,invert:z9,mul:Q9e,multiply:mce,multiplyScalar:J9e,multiplyScalarAndAdd:Y9e,rotate:fC,scale:U9,set:G9e,str:W9e,sub:eVe,subtract:vce,translate:N_},Symbol.toStringTag,{value:"Module"}));const kW=Z("android");Z("chrome")||kW&&kW>=4;iL();Em.size;Em.maxSize;Em.maxOutlineSize;Em.lineWidth;Em.tallSymbolWidth;function bce(e){return e&&"opacity"in e?e.opacity*bce(e.parent):1}async function tVe(e,t){if(!e)return;const r=e.sourceLayer,n=(C(t)&&t.useSourceLayer?r:e.layer)??r,i=bce(n);if(C(e.symbol)&&(!C(t)||t.ignoreGraphicSymbol!==!0)){const b=e.symbol.type==="web-style"?await hNe(e.symbol,{...t,cache:C(t)?t.webStyleCache:null}):e.symbol.clone();return kP(b,null,i),b}const s=(C(t)?t.renderer:null)??(n&&"renderer"in n?n.renderer:null);let o=s&&"getSymbolAsync"in s?await s.getSymbolAsync(e,t):null;if(!o)return;if(o=o.type==="web-style"?await o.fetchSymbol({...t,cache:C(t)?t.webStyleCache:null}):o.clone(),!(s&&"visualVariables"in s&&s.visualVariables&&s.visualVariables.length))return kP(o,null,i),o;if("arcadeRequiredForVisualVariables"in s&&s.arcadeRequiredForVisualVariables&&(G(t)||G(t.arcade))){const b={...t};b.arcade=await Ec(),t=b}const a=await Y(()=>Promise.resolve().then(()=>m9),void 0),l=[],u=[],d=[],p=[];for(const b of s.visualVariables)switch(b.type){case"color":l.push(b);break;case"opacity":u.push(b);break;case"rotation":p.push(b);break;case"size":b.target||d.push(b)}const f=!!l.length&&l[l.length-1],y=f?a.getColor(f,e,t):null,v=!!u.length&&u[u.length-1];let g=v?a.getOpacity(v,e,t):null;if(i!=null&&(g=g!=null?g*i:i),kP(o,y,g),d.length){const b=a.getAllSizes(d,e,t);await cNe(o,b)}for(const b of p)dNe(o,a.getRotationAngle(b,e,t),b.axis);return o}let rVe=class{constructor(t,r){this._owner=r,this._properties={},this._afterDispatchHandle=null;for(const n in t){const i=t[n],s=new _te(i,void 0,void 0,2,2);this._properties[n]={pool:s,acquired:[]}}this._afterDispatchHandle=d$e(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const r=this._properties[t];for(const n of r.acquired)AU(n)||r.pool.release(n);r.pool.destroy(),r.pool=null,r.acquired=null}this._properties=null,this._owner=null}get(t){const r=this._owner._get(t),n=this._properties[t];let i=n.pool.acquire();for(n.acquired.push(i);i===r;)n.acquired.push(i),i=n.pool.acquire();return i}_release(){for(const t in this._properties){const r=this._properties[t];let n=0;for(const i of r.acquired)AU(i)?r.acquired[n++]=i:r.pool.release(i);r.acquired.length=n}}};const nVe=Z("mac")?"Meta":"Ctrl",mC={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let e=48;e<58;e++)mC[e]=String.fromCharCode(e);for(let e=1;e<25;e++)mC[111+e]=`F${e}`;for(let e=65;e<91;e++)mC[e]=[String.fromCharCode(e+32),String.fromCharCode(e)];function iVe(e){if(e.key!==void 0)return Vl(e);const t=mC[e.keyCode];return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function sVe(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}let oVe=class{constructor(t,r=[]){this.eventType=t,this.keyModifiers=r}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const r=t.modifiers;for(const n of this.keyModifiers)if(!r.has(n))return!1;return!0}};const RW=oe.getLogger("esri.views.input.InputHandler");let kn=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const r=this._incoming[t];for(const n of r)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager?RW.error("This InputHandler has already been registered with an InputManager"):(t.setEventCallback(r=>this._handleEvent(r)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,r,n){let i;typeof r=="function"?(n=r,i=[]):i=r||[];const s=typeof t=="string"?new oVe(t,i):t,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},a=d=>{const p=this._incoming[d.match.eventType];if(p){const f=p.indexOf(d);p.splice(f,1),o(),this._manager&&this._manager.updateDependencies()}},l=new aVe(s,n,{onPause:a,onRemove:a,onResume:d=>{const p=this._incoming[d.match.eventType];p&&!p.includes(d)&&(p.push(d),o(),this._manager&&this._manager.updateDependencies())}});let u=this._incoming[s.eventType];return u||(u=[],this._incoming[s.eventType]=u),u.push(l),o(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const r=new lVe(t,{onEmit:(n,i,s,o)=>{var a;(a=this._manager)==null||a.emit(n.eventType,i,s,o)},onRemove:n=>{var i;delete this._outgoing[n.eventType],(i=this._manager)==null||i.updateDependencies()}});return this._outgoing[t]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}startCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!0)}stopCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):RW.error("This InputHandler is not registered with an InputManager")}_handleEvent(t){var n;const r=this._incoming[t.type];if(r){for(const i of r)if(i.match.matches(t)&&((n=i.callback)==null||n.call(i,t),t.shouldStopPropagation()))break}}},aVe=class{constructor(t,r,n){this.match=t,this._callback=r,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},lVe=class{constructor(t,r){this.eventType=t,this._removed=!1,this._handler=r}emit(t,r,n){this._removed||this._handler.onEmit(this,t,r,n)}remove(){this._removed=!0,this._handler.onRemove(this)}},uVe=class extends kn{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",r=>{this._update(r.data)})}_update(t){const r=t.native.pointerType==="touch"?"touch":"mouse",{x:n,y:i}=t;r===this._value&&this._x===n&&this._y===i||(this._value=r,this._x=n,this._y=i,this._onChange(r,n,i))}},mM=class{constructor(t){this._observable=new o8,this._value=t}get(){return et(this._observable),this._value}set(t){t!==this._value&&(this._value=t,this._observable.notify())}},cVe=class extends kn{get multiTouchActive(){return this._multiTouchActive.get()}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=new mM(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.set(this._activeTouchPointerIds.size>1)}},Sl=class extends Ie{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=nVe,this._latestPointerType="mouse",this._propertiesPool=new rVe({latestPointerLocation:pVe},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const r of t)this.uninstallHandlers(r);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}installHandlers(t,r,n=$h.INTERNAL){if(this._nameToGroup[t])return void oe.getLogger(this.declaredClass).error("There is already an InputHandler group registered under the name `"+t+"`");if(r.length===0)return void oe.getLogger(this.declaredClass).error("Can't register a group of zero handlers");const i={name:t,handlers:r.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=i;for(let s=i.handlers.length-1;s>=0;s--){const o=i.handlers[s];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(a,l,u,d,p)=>{this._emitInputEvent(o.priorityIndex+1,a,l,u,p,d)},setPointerCapture:(a,l)=>{this._setPointerCapture(i,o,a,l)},setEventCallback:a=>{o.eventCallback=a},setUninstallCallback:a=>{o.uninstallCallback=a},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const r=this._nameToGroup[t];r?(r.handlers.forEach(n=>{var i;n.removed=!0,(i=n.uninstallCallback)==null||i.call(n)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):oe.getLogger(this.declaredClass).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,r=new Set;this._handlersPriority=[];for(let n=this._handlers.length-1;n>=0;n--){const i=this._handlers[n];i.priorityIndex=n,this._handlersPriority.push(i)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){const i=this._handlersPriority[n];i.priorityIndex=n;let s=i.handler.hasSideEffects;if(!s){for(const o of i.handler.outgoingEventTypes)if(t.has(o)){s=!0;break}}if(s)for(const o of i.handler.incomingEventMatches){t.add(o.eventType);for(const a of o.keyModifiers)sVe(a)||r.add(a)}i.active=s}this._sourceEvents=t,this._keyModifiers=r,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,r,n){this._latestPointerType=t;const i=this._get("latestPointerLocation");if(G(i)||i.x!==r||i.y!==n){const s=this._propertiesPool.get("latestPointerLocation");s.x=r,s.y=n,this._set("latestPointerLocation",s)}}_onEventReceived(t,r){if(t==="pointer-capture-lost"){const s=r;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(t,r);const n=this.test.timestamp!=null?this.test.timestamp:r.native?r.native.timestamp:void 0,i=r.native?r.native.cancelable:void 0;this._emitInputEventFromSource(t,r,n,i)}_updateKeyModifiers(t,r){if(!r)return;let n=!1;const i=()=>{if(!n){const a=new Set;this._activeKeyModifiers.forEach(l=>{a.add(l)}),this._activeKeyModifiers=a,n=!0}},s=(a,l)=>{l&&!this._activeKeyModifiers.has(a)?(i(),this._activeKeyModifiers.add(a)):!l&&this._activeKeyModifiers.has(a)&&(i(),this._activeKeyModifiers.delete(a))};if(t==="key-down"||t==="key-up"){const a=r.key;this._keyModifiers.has(a)&&s(a,t==="key-down")}const o=r.native;s("Alt",!(!o||!o.altKey)),s("Ctrl",!(!o||!o.ctrlKey)),s("Shift",!(!o||!o.shiftKey)),s("Meta",!(!o||!o.metaKey)),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new uVe((t,r,n)=>this._setLatestPointer(t,r,n)),this._multiTouchHandler=new cVe,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],$h.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,$h.INTERNAL)}_setPointerCapture(t,r,n,i){const s=t.name+"-"+r.priorityIndex,o=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,o),i?(o.add(s),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):o.has(s)&&(o.delete(s),o.size===0&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,r,n,i){this._emitInputEvent(0,t,r,n,i)}_emitInputEvent(t,r,n,i,s,o){const a=i!==void 0?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),l=s!==void 0&&s,u={event:new dVe(r,n,a,o||this._activeKeyModifiers,l),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(u):this._doNewPropagation(u)}_doNewPropagation(t){this._currentPropagation={events:new KT,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var r,n;const t=Js(this._currentPropagation);for(;t.events.length>0;){const{event:i,priorityIndex:s}=t.events.pop(),o=i.data&&i.data.eventId;if(!(o!=null&&this._stoppedPropagationEventIds.has(o)))for(t.currentHandler=this._handlersPriority[s];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!i.shouldStopPropagation()&&((n=(r=t.currentHandler).eventCallback)==null||n.call(r,i)),i.shouldStopPropagation()){o!=null&&this._stoppedPropagationEventIds.add(o);break}if(i.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:i,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}_pausePropagation(t){const r=new KT;r.push(t);const n=this._currentPropagation;if(n){for(;n.events.length;)r.push(n.events.pop());n.events=r,n.currentHandler=null}}_compareHandlerPriority(t,r){if(t.handler.hasSideEffects!==r.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==r.groupPriority)return t.groupPriority>r.groupPriority?-1:1;for(const n of t.handler.incomingEventMatches)for(const i of r.handler.incomingEventMatches){if(n.eventType!==i.eventType)continue;const s=n.keyModifiers.filter(o=>i.keyModifiers.includes(o));if(s.length===n.keyModifiers.length!=(s.length===i.keyModifiers.length))return n.keyModifiers.length>i.keyModifiers.length?-1:1}return t.priorityIndex>r.priorityIndex?-1:1}_sortHandlersPriority(t){const r=[];for(const n of t){let i=0;for(;i<r.length&&this._compareHandlerPriority(n,r[i])>=0;)i++;r.splice(i,0,n)}return r}get debug(){const t=r=>{const n=this._setPointerCapture;this._setPointerCapture=()=>{},r(),this._setPointerCapture=n};return{injectEvent:(r,n)=>{t(()=>{this._onEventReceived(r,n)})},disablePointerCapture:t}}};c([h({readOnly:!0})],Sl.prototype,"hasPendingInputs",null),c([h({constructOnly:!0})],Sl.prototype,"eventSource",void 0),c([h({constructOnly:!0})],Sl.prototype,"recognizers",void 0),c([h()],Sl.prototype,"_latestPointerType",void 0),c([h()],Sl.prototype,"latestPointerType",null),c([h()],Sl.prototype,"multiTouchActive",null),c([h({readOnly:!0})],Sl.prototype,"latestPointerLocation",void 0),Sl=c([O("esri.views.input.InputManager")],Sl);let dVe=class{constructor(t,r,n,i,s){this.type=t,this.data=r,this.timestamp=n,this.modifiers=i,this.cancelable=s,this._propagationState=Kd.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Kd.STOPPED}shouldStopPropagation(){return(this._propagationState&Kd.STOPPED)!=0}async(t){this._propagationState|=Kd.PAUSED;const r=(n,i)=>{this._propagationState&=~Kd.PAUSED;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),i)throw n;return n};return(typeof t=="function"?t():t).then(n=>r(n,!1),n=>r(n,!0))}shouldPausePropagation(t){return!!(this._propagationState&Kd.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var Kd;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Kd||(Kd={}));const $h={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let hVe=class{};const pVe=hVe,Ow=Fe.ofType({key:"type",defaultKeyValue:"button",base:NO,typeMap:{button:dv,toggle:bie}}),fVe=()=>[Df.clone()],mVe=()=>[wg.clone(),_g.clone()];let pt=class extends P8(uce){get isLoadingFeature(){return this.featureViewModels.some(t=>t.waitingForContent)}constructor(t){super(t),this._handles=new zi,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._highlightSelectedFeaturePromise=null,this._highlightActiveFeaturePromise=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new Ow,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new Pn({symbol:new Nc({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}initialize(){this._handles.add([ue(()=>[this.autoOpenEnabled,this.view],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),ue(()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view],()=>this._highlightSelectedFeature()),ue(()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view],()=>this._highlightActiveFeature()),ue(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.animation)==null?void 0:r.state},t=>this._animationStateChange(t)),ue(()=>this.location,t=>this._locationChange(t)),ue(()=>this.selectedFeature,t=>this._selectedFeatureChange(t)),ue(()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage],()=>this._selectedFeatureIndexChange()),ue(()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels],()=>this._setGraphicOnFeatureViewModels()),ue(()=>this.featureViewModels,()=>this._featureViewModelsChange()),this.on("trigger-action",t=>C9e({event:t,view:this.view})),Ni(()=>!this.waitingForResult,()=>this._waitingForResultChange(),h0),ue(()=>{var t,r;return[this.features,(t=this.view)==null?void 0:t.map,(r=this.view)==null?void 0:r.spatialReference]},()=>this._updateFeatureVMs()),ue(()=>{var t;return(t=this.view)==null?void 0:t.scale},()=>this._viewScaleChange()),Ni(()=>!this.visible,()=>this.browseClusterEnabled=!1),ue(()=>this.browseClusterEnabled,t=>t?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const t=this._get("allActions")||new Ow;t.removeAll();const{actions:r,defaultActions:n,defaultPopupTemplateEnabled:i,includeDefaultActions:s,selectedFeature:o}=this,a=s?n.concat(r):r,l=o&&(typeof o.getEffectivePopupTemplate=="function"&&o.getEffectivePopupTemplate(i)||o.popupTemplate),u=l&&l.actions,d=l&&l.overwriteActions?u:u?u.concat(a):a;return d&&d.filter(Boolean).forEach(p=>t.add(p)),t}get defaultActions(){const t=this._get("defaultActions")||new Ow;return t.removeAll(),t.addMany(bf(this.selectedFeature)?mVe():fVe()),t}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(t){const r=t||[];this._set("features",r);const{pendingPromisesCount:n,promiseCount:i,selectedFeatureIndex:s}=this,o=i&&r.length;o&&n&&s===-1?this.selectedFeatureIndex=0:o&&s!==-1||(this.selectedFeatureIndex=r.length?0:-1)}get location(){return this._get("location")||null}set location(t){var i,s,o;let r=t;const n=(s=(i=this.view)==null?void 0:i.spatialReference)==null?void 0:s.isWebMercator;t&&((o=t==null?void 0:t.spatialReference)!=null&&o.isWGS84)&&n&&(r=fc(t)),this._set("location",r)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||this.featureCount!==0)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(t){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(t)||!t.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",t),(t=t.slice(0)).forEach(r=>{this._pendingPromises.add(r);const n=s=>{this._pendingPromises.has(r)&&this._updateFeatures(s),this._updatePendingPromises(r)},i=()=>this._updatePendingPromises(r);r.then(n,i)}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:t,selectedFeatureIndex:r}=this;return r===-1?null:t[r]||null}get selectedFeatureIndex(){const t=this._get("selectedFeatureIndex");return typeof t=="number"?t:-1}set selectedFeatureIndex(t){const{featureCount:r}=this;t=isNaN(t)||t<-1||!r?-1:(t+r)%r,this.activeFeature=null,this._set("selectedFeatureIndex",t)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:t}=this,r=dce(this);return r&&t?this.callGoTo({target:{target:r,scale:t.scale}}):Promise.reject(new V("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:r,view:t}))}zoomTo(t){return this.callGoTo(t)}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(t,r){const{view:n}=this;if(!n||!t)throw new V("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:t,view:n});return n.fetchPopupFeatures(t,{event:r&&r.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:r&&r.signal})}open(t){const r={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...t,visible:!0},{fetchFeatures:n}=r;delete r.fetchFeatures,n&&this._setFetchFeaturesPromises(r.location);const i=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const s of i)delete r[s];this.set(r)}triggerAction(t){const r=this.allActions.getItemAt(t);r&&!r.disabled&&this.emit("trigger-action",{action:r})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){N9e(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){const{view:t,selectedFeature:r}=this;(t==null?void 0:t.type)==="2d"?bf(r)?(await R9e(this),await L9e(this)):oe.getLogger(this.declaredClass).warn("enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.",r):oe.getLogger(this.declaredClass).warn("enableClusterBrowsing:invalid-view: View must be 2d MapView.",r)}_animationStateChange(t){this.zoomToLocation||(Df.disabled=t==="waiting-for-target")}_clearBrowsedClusterGraphics(){var r;const t=(r=this.view)==null?void 0:r.graphics;t&&(t.remove(this.selectedClusterBoundaryFeature),this._selectedClusterFeature&&t.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(bf(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.features=this.selectedFeature?[this.selectedFeature]:[])}_locationChange(t){const{selectedFeature:r,updateLocationEnabled:n}=this;n&&t&&(!r||r.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:t,featureCount:r,featurePage:n,featuresPerPage:i,featureViewModels:s}=this;if(n===null)return;const o=((n-1)*i+r)%r,a=o+i;s.slice(o,a).forEach((l,u)=>{l&&!l.graphic&&(l.graphic=t[o+u])})}async _selectedFeatureChange(t){const{location:r,updateLocationEnabled:n,view:i}=this;if(t&&i){if(this.browseClusterEnabled)return this._selectedClusterFeature&&(i.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),bf(t)?void 0:(t.symbol=await tVe(t),this._selectedClusterFeature=t,void i.graphics.add(this._selectedClusterFeature));!n&&r||!t.geometry?n&&!t.geometry&&this.centerAtLocation().then(()=>{var o;const s=(o=i.center)==null?void 0:o.clone();s&&(this.location=s)}):this.location=hce(t.geometry)}}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(t){return this._fetchFeaturesWithController(this._getScreenPoint(t||this.location)).then(r=>{const{clientOnlyGraphics:n,promisesPerLayerView:i}=r,s=Promise.resolve(n),o=i.map(a=>a.promise);this.promises=[s,...o]})}_destroyFeatureVMs(){this.featureViewModels.forEach(t=>t&&!t.destroyed&&t.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:t,features:r,featureViewModels:n}=this;if(bf(t)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!r||!r.length)return;const i=n.slice(0),s=[];r.forEach((o,a)=>{var u,d;if(!o)return;let l=null;if(i.some((p,f)=>(p&&p.graphic===o&&(l=p,i.splice(f,1)),!!l)),l)s[a]=l;else{const p=new j9({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:(u=this.view)==null?void 0:u.spatialReference,graphic:o===t?o:null,map:(d=this.view)==null?void 0:d.map,view:this.view});s[a]=p}}),i.forEach(o=>o&&!o.destroyed&&o.destroy()),this._set("featureViewModels",s)}_getScreenPoint(t){const{view:r}=this;return r&&t&&typeof r.toScreen=="function"?r.toScreen(t):null}_autoOpenEnabledChange(){const t="auto-fetch-features",{_handles:r,autoOpenEnabled:n}=this;if(r.remove(t),n&&this.view){const i=this.view.on("click",s=>{s.pointerType==="mouse"&&s.button!==0||this._fetchFeaturesAndOpen(s)},$h.WIDGET);r.add(i,t)}}_cancelFetchingFeatures(){const t=this._fetchFeaturesController;t&&t.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(t,r){this._cancelFetchingFeatures();const n=new AbortController,{signal:i}=n;this._fetchFeaturesController=n,this.notifyChange("waitingForResult");const s=this.fetchFeatures(t,{signal:i,event:r});return s.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),s}_fetchFeaturesAndOpen(t){const{screenPoint:r,mapPoint:n}=t,{view:i}=this;this._fetchFeaturesWithController(r,t).then(s=>{var d;const{clientOnlyGraphics:o,promisesPerLayerView:a,location:l}=s,u=[Promise.resolve(o),...a.map(p=>p.promise)];return(d=i==null?void 0:i.popup)==null||d.open({location:l||n,promises:u}),s})}_updatePendingPromises(t){t&&this._pendingPromises.has(t)&&(this._pendingPromises.delete(t),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}async _getLayerView(t,r){return await t.when(),t.whenLayerView(r)}_getHighlightLayer(t){const{layer:r,sourceLayer:n}=t;return n&&"layer"in n&&n.layer?n.layer:(n==null?void 0:n.type)==="map-notes"||(n==null?void 0:n.type)==="subtype-group"?n:r}_getHighlightTarget(t,r){const n=r.type==="imagery"?void 0:"objectIdField"in r?r.objectIdField||F9e:null,i=t.attributes;return i&&n&&i[n]||t}async _highlightActiveFeature(){const t="highlight-active-feature";this._handles.remove(t);const{highlightEnabled:r,view:n,activeFeature:i,visible:s}=this;if(!(i&&n&&r&&s))return;const o=this._getHighlightLayer(i);if(!(o&&o instanceof xm))return;const a=this._getLayerView(n,o);this._highlightActiveFeaturePromise=a;const l=await a;if(!(l&&TN(l)&&this._highlightActiveFeaturePromise===a&&this.activeFeature&&this.highlightEnabled))return;const u=l.highlight(this._getHighlightTarget(i,o));this._handles.add(u,t)}async _highlightSelectedFeature(){const t="highlight-selected-feature";this._handles.remove(t);const{selectedFeature:r,highlightEnabled:n,view:i,visible:s}=this;if(!(r&&i&&n&&s))return;const o=this._getHighlightLayer(r);if(!(o&&o instanceof xm))return;const a=this._getLayerView(i,o);this._highlightSelectedFeaturePromise=a;const l=await a;if(!(l&&TN(l)&&this._highlightSelectedFeaturePromise===a&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const u=l.highlight(this._getHighlightTarget(r,o));this._handles.add(u,t)}_updateFeatures(t){const{features:r}=this;if(!t||!t.length)return;if(!r.length)return void(this.features=t);const n=t.filter(i=>!r.includes(i));this.features=r.concat(n)}};c([h()],pt.prototype,"featurePage",void 0),c([h()],pt.prototype,"isLoadingFeature",null),c([h({type:Ow})],pt.prototype,"actions",void 0),c([h({readOnly:!0})],pt.prototype,"active",null),c([h()],pt.prototype,"activeFeature",void 0),c([h({readOnly:!0})],pt.prototype,"allActions",null),c([h({type:Boolean})],pt.prototype,"defaultPopupTemplateEnabled",void 0),c([h()],pt.prototype,"autoCloseEnabled",void 0),c([h()],pt.prototype,"autoOpenEnabled",void 0),c([h()],pt.prototype,"browseClusterEnabled",void 0),c([h()],pt.prototype,"content",void 0),c([h({type:Ow,readOnly:!0})],pt.prototype,"defaultActions",null),c([h({readOnly:!0})],pt.prototype,"featureCount",null),c([h()],pt.prototype,"features",null),c([h()],pt.prototype,"featuresPerPage",void 0),c([h()],pt.prototype,"featureViewModelAbilities",void 0),c([h({readOnly:!0})],pt.prototype,"featureViewModels",void 0),c([h()],pt.prototype,"highlightEnabled",void 0),c([h()],pt.prototype,"includeDefaultActions",void 0),c([h({type:Ve})],pt.prototype,"location",null),c([h({readOnly:!0})],pt.prototype,"pendingPromisesCount",null),c([h({readOnly:!0})],pt.prototype,"selectedClusterBoundaryFeature",void 0),c([h({readOnly:!0})],pt.prototype,"waitingForResult",null),c([h({readOnly:!0})],pt.prototype,"promiseCount",null),c([h()],pt.prototype,"promises",null),c([h({value:null,readOnly:!0})],pt.prototype,"selectedFeature",null),c([h({value:-1})],pt.prototype,"selectedFeatureIndex",null),c([h({readOnly:!0})],pt.prototype,"selectedFeatureViewModel",null),c([h({readOnly:!0})],pt.prototype,"state",null),c([h()],pt.prototype,"title",void 0),c([h()],pt.prototype,"updateLocationEnabled",void 0),c([h()],pt.prototype,"view",void 0),c([h()],pt.prototype,"visible",void 0),c([h()],pt.prototype,"zoomFactor",void 0),c([h()],pt.prototype,"zoomToLocation",void 0),c([h()],pt.prototype,"centerAtLocation",null),pt=c([O("esri.widgets.Popup.PopupViewModel")],pt);const wce=pt,LW="selected-index",yVe=0,NW="popup-spinner",FW={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},DW="esri-popup";function _u(e,t){return t===void 0?`${DW}__${e}`:`${DW}__${e}-${t}`}const jW={closeButton:!0,featureNavigation:!0};let Re=class extends ace(Yn){constructor(t,r){super(t,r),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new zi,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverNode=null,this._featureMenuViewportNode=null,this._rootFlowItemNode=null,this._featureMenuIntersectionObserverCallback=([n])=>{n!=null&&n.isIntersecting&&this.viewModel.featurePage!=null&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=Bg(()=>this._displaySpinner(),yVe),this._exitRelatedRecordsActions=new WeakMap,this._featureSelectionActions=new WeakMap,this._flowItems=new Fe,this.alignment="auto",this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureMenuOpen=!1,this.headingLevel=2,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.spinnerEnabled=!0,this.viewModel=new wce,this.visibleElements={...jW},this._handleOpenRelatedFeature=n=>{this._openRelatedFeature(n)},this._addSelectedFeatureIndexHandle(),this.addHandles([ue(()=>{var n;return(n=this.viewModel)==null?void 0:n.screenLocation},()=>this._positionContainer()),ue(()=>{var n;return[(n=this.viewModel)==null?void 0:n.active,this.dockEnabled]},()=>this._toggleScreenLocationEnabled()),ue(()=>{var n;return(n=this.viewModel)==null?void 0:n.screenLocation},(n,i)=>{!!n!=!!i&&this.reposition()}),ue(()=>{var n,i,s,o,a,l;return[(i=(n=this.viewModel)==null?void 0:n.view)==null?void 0:i.padding,(o=(s=this.viewModel)==null?void 0:s.view)==null?void 0:o.size,(a=this.viewModel)==null?void 0:a.active,(l=this.viewModel)==null?void 0:l.location,this.alignment]},()=>this.reposition()),ue(()=>this.spinnerEnabled,n=>this._spinnerEnabledChange(n)),ue(()=>{var n,i;return(i=(n=this.viewModel)==null?void 0:n.view)==null?void 0:i.size},(n,i)=>this._updateDockEnabledForViewSize(n,i)),ue(()=>{var n;return(n=this.viewModel)==null?void 0:n.view},(n,i)=>this._viewChange(n,i)),ue(()=>{var n,i;return(i=(n=this.viewModel)==null?void 0:n.view)==null?void 0:i.ready},(n,i)=>this._viewReadyChange(n??!1,i??!1)),ue(()=>{var n,i;return[(n=this.viewModel)==null?void 0:n.waitingForResult,(i=this.viewModel)==null?void 0:i.location]},()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),ue(()=>this.selectedFeatureWidget,()=>this._destroyFlowItemWidgets()),ue(()=>{var n,i,s,o;return[(i=(n=this.selectedFeatureWidget)==null?void 0:n.viewModel)==null?void 0:i.title,(o=(s=this.selectedFeatureWidget)==null?void 0:s.viewModel)==null?void 0:o.state]},()=>this._setTitleFromFeatureWidget()),ue(()=>{var n,i,s,o;return[(i=(n=this.selectedFeatureWidget)==null?void 0:n.viewModel)==null?void 0:i.content,(o=(s=this.selectedFeatureWidget)==null?void 0:s.viewModel)==null?void 0:o.state]},()=>this._setContentFromFeatureWidget()),Ni(()=>!this.collapsed,()=>{var n,i;((i=(n=this.viewModel)==null?void 0:n.view)==null?void 0:i.widthBreakpoint)==="xsmall"&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),As(()=>{var n;return(n=this.viewModel)==null?void 0:n.allActions},"change",()=>this._watchActions()),ue(()=>{var n;return(n=this.viewModel)==null?void 0:n.allActions},()=>this._watchActions(),mt),ue(()=>{var n;return(n=this.viewModel)==null?void 0:n.featureViewModels},()=>this._featureMenuViewportScrollTop()),As(()=>this._flowItems,"change",()=>{this.notifyChange("_activeFlowItemWidget"),this.scheduleRender()}),ue(()=>{var n,i,s,o;return[(i=(n=this._activeFlowItemWidget)==null?void 0:n.viewModel)==null?void 0:i.state,(o=(s=this._activeFlowItemWidget)==null?void 0:s.viewModel)==null?void 0:o.title]},()=>this.scheduleRender())])}loadDependencies(){return Promise.all([Y(()=>import("./calcite-flow-75a26e50.js"),["assets/calcite-flow-75a26e50.js","assets/observers-4f67f1fb.js"]),Y(()=>import("./calcite-flow-item-fd62f2ca.js"),["assets/calcite-flow-item-fd62f2ca.js","assets/interactive-573cbe88.js","assets/loadable-25ad9e4e.js","assets/t9n-bd783738.js","assets/observers-4f67f1fb.js","assets/guid-9426053f.js","assets/action-442c00b1.js","assets/icon-1d21489b.js","assets/loader-504af311.js","assets/tooltip-97312a69.js","assets/debounce-31e0cfcc.js","assets/scrim-d6e89ffd.js"]),Y(()=>import("./calcite-action-2a17e0be.js"),["assets/calcite-action-2a17e0be.js","assets/action-442c00b1.js","assets/guid-9426053f.js","assets/interactive-573cbe88.js","assets/loadable-25ad9e4e.js","assets/t9n-bd783738.js","assets/observers-4f67f1fb.js","assets/icon-1d21489b.js","assets/loader-504af311.js"]),Y(()=>import("./calcite-tooltip-16afb567.js"),["assets/calcite-tooltip-16afb567.js","assets/tooltip-97312a69.js","assets/debounce-31e0cfcc.js","assets/guid-9426053f.js"]),Y(()=>import("./calcite-icon-6fe809d8.js"),["assets/calcite-icon-6fe809d8.js","assets/icon-1d21489b.js","assets/observers-4f67f1fb.js"])])}destroy(){var t,r;this._destroyFlowItemWidgets(),this._destroySelectedFeatureWidget(),this._destroySpinner(),(t=this._handles)==null||t.destroy(),this._unobserveFeatureMenuObserver(),(r=this._featureMenuIntersectionObserver)==null||r.disconnect()}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){const{selectedFeatureWidget:t,viewModel:r}=this;if(!t)return!!(r!=null&&r.content);const n=t.viewModel;if(n!=null&&n.waitingForContent||(n==null?void 0:n.state)==="error")return!0;const i=n==null?void 0:n.content;return Array.isArray(i)?!!i.length:!!i}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation!=null}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}get _activeFlowItemWidget(){const{_flowItems:t}=this;return t.getItemAt(t.length-1)||null}get actions(){return this.viewModel.actions}set actions(t){this.viewModel.actions=t}set actionsMenuOpen(t){this._set("actionsMenuOpen",!!t)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get autoCloseEnabled(){return this.viewModel.autoCloseEnabled}set autoCloseEnabled(t){this.viewModel.autoCloseEnabled=t}get autoOpenEnabled(){return this.viewModel.autoOpenEnabled}set autoOpenEnabled(t){this.viewModel.autoOpenEnabled=t}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(t){this.viewModel.defaultPopupTemplateEnabled=t}get content(){return this.viewModel.content}set content(t){this.viewModel.content=t}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||FW}set dockOptions(t){var l,u;const r={...FW},n=(u=(l=this.viewModel)==null?void 0:l.view)==null?void 0:u.breakpoints,i={};n&&(i.width=n.xsmall,i.height=n.xsmall);const s={...r,...t},o={...r.breakpoint,...i},{breakpoint:a}=s;typeof a=="object"?s.breakpoint={...o,...a}:a&&(s.breakpoint=o),this._set("dockOptions",s),this._setCurrentDockPosition(),this.reposition()}get featureCount(){return this.viewModel.featureCount}get features(){return this.viewModel.features}set features(t){this.viewModel.features=t}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get highlightEnabled(){return this.viewModel.highlightEnabled}set highlightEnabled(t){this.viewModel.highlightEnabled=t}get location(){return this.viewModel.location}set location(t){this.viewModel.location=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get promises(){return this.viewModel.promises}set promises(t){this.viewModel.promises=t}get selectedFeature(){return this.viewModel.selectedFeature}get selectedFeatureIndex(){return this.viewModel.selectedFeatureIndex}set selectedFeatureIndex(t){this.viewModel.selectedFeatureIndex=t}get selectedFeatureWidget(){const{_feature:t,visibleElements:r,headingLevel:n,_flowItems:i}=this,{selectedFeatureViewModel:s}=this.viewModel,o={...r,title:!1};return s?(t?(t.viewModel=s,t.visibleElements=o):this._feature=new T9e({flowItems:i,headingLevel:n+1,viewModel:s,visibleElements:o}),this._feature):null}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}get updateLocationEnabled(){return this.viewModel.updateLocationEnabled}set updateLocationEnabled(t){this.viewModel.updateLocationEnabled=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get visible(){return this.viewModel.visible}set visible(t){this.viewModel.visible=t}castVisibleElements(t){return{...jW,...t}}blur(){const{active:t}=this.viewModel;t||oe.getLogger(this.declaredClass).warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){return this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(t,r){return this.viewModel.fetchFeatures(t,r)}focus(){const{active:t}=this.viewModel;t||oe.getLogger(this.declaredClass).warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(t){var s,o;this._handles.remove(LW);const r=!!t&&!!t.featureMenuOpen,n=!!t&&!!t.actionsMenuOpen,i={collapsed:!!t&&!!t.collapsed,actionsMenuOpen:n,featureMenuOpen:r};((o=(s=this.viewModel)==null?void 0:s.view)==null?void 0:o.widthBreakpoint)==="xsmall"&&(i.collapsed=!0),this.set(i),this.viewModel.open(t),this._shouldFocus(t),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(t){return this.viewModel.triggerAction(t)}render(){var g,b,w,S;const{actionsMenuOpen:t,dockEnabled:r,featureMenuVisible:n,dividedActions:i,currentAlignment:s,currentDockPosition:o}=this,{active:a}=this.viewModel,{menuActions:l}=i,u=a&&l.length>1&&t,d=a&&r,p=a&&!r,f=(b=(g=this.selectedFeature)==null?void 0:g.layer)==null?void 0:b.title,y=(S=(w=this.selectedFeature)==null?void 0:w.layer)==null?void 0:S.id,v={[ie.alignTopCenter]:s==="top-center",[ie.alignBottomCenter]:s==="bottom-center",[ie.alignTopLeft]:s==="top-left",[ie.alignBottomLeft]:s==="bottom-left",[ie.alignTopRight]:s==="top-right",[ie.alignBottomRight]:s==="bottom-right",[ie.isDocked]:d,[ie.shadow]:p,[ie.isDockedTopLeft]:o==="top-left",[ie.isDockedTopCenter]:o==="top-center",[ie.isDockedTopRight]:o==="top-right",[ie.isDockedBottomLeft]:o==="bottom-left",[ie.isDockedBottomCenter]:o==="bottom-center",[ie.isDockedBottomRight]:o==="bottom-right",[ie.isFeatureMenuOpen]:n,[ie.isActionsMenuOpen]:u};return N("div",{class:this.classes(ie.base,v),role:"presentation","data-layer-title":f,"data-layer-id":y,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},a?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return N("span",{"aria-hidden":"true",class:this.classes(ie.icon,ie.iconLoading,ie.rotating)})}renderNavigationLoading(){const{messagesCommon:t}=this;return this.viewModel.pendingPromisesCount?N("div",{key:_u("loading-container"),role:"presentation",class:ie.loadingContainer,"aria-label":t.loading,title:t.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const t=Bl(this.container),r={[ie.iconRightTriangleArrow]:t,[ie.paginationPreviousIconRTL]:t,[ie.iconLeftTriangleArrow]:!t,[ie.paginationPreviousIconLTR]:!t};return N("span",{"aria-hidden":"true",class:this.classes(ie.icon,r)})}renderPreviousButton(){const{messages:t}=this;return N("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(ie.button,ie.paginationPrevious),"aria-label":t.previous,title:t.previous},this.renderPreviousIcon())}renderNextIcon(){const t=Bl(this.container),r={[ie.iconLeftTriangleArrow]:t,[ie.paginationNextIconRTL]:t,[ie.iconRightTriangleArrow]:!t,[ie.paginationNextIconLTR]:!t};return N("span",{"aria-hidden":"true",class:this.classes(ie.icon,r)})}renderNextButton(){const{messages:t}=this;return N("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(ie.button,ie.paginationNext),"aria-label":t.next,title:t.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:t,featureMenuId:r,messagesCommon:n}=this,{featureCount:i,selectedFeatureIndex:s}=this.viewModel;return N("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(ie.button,ie.featureMenuButton),"aria-haspopup":"true","aria-controls":r,"aria-expanded":t.toString(),"aria-label":n.menu,title:n.menu},this._getPageText(i,s))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:[]}renderDockIcon(){const{dockEnabled:t}=this,r=this._wouldDockTo(),n={[ie.iconUndock]:t,[ie.iconDock]:!t,[ie.iconDockToRight]:!t&&(r==="top-right"||r==="bottom-right"),[ie.iconDockToLeft]:!t&&(r==="top-left"||r==="bottom-left"),[ie.iconDockToTop]:!t&&r==="top-center",[ie.iconDockToBottom]:!t&&r==="bottom-center"};return N("span",{"aria-hidden":"true",class:this.classes(n,ie.icon)})}renderDockButton(){var s,o,a;const{dockEnabled:t,messages:r}=this,n=(o=(s=this.viewModel)==null?void 0:s.view)==null?void 0:o.widthBreakpoint,i=t?r.undock:r.dock;return n!=="xsmall"&&((a=this.dockOptions)!=null&&a.buttonEnabled)?N("div",{role:"button","aria-label":i,title:i,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(ie.button,ie.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:t}=this.viewModel,{titleId:r,collapsible:n,contentCollapsed:i,messagesCommon:s}=this,o={[ie.headerContainerButton]:n},a=N(H8,{level:this.headingLevel,class:ie.headerTitle,innerHTML:t??""}),l=n?N("button",{key:`${t}--collapsible`,id:r,title:i?s.expand:s.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(ie.headerContainer,o),"aria-expanded":i?"false":"true",onclick:this._toggleCollapsed,type:"button"},a,N("calcite-icon",{class:ie.collapseIcon,key:"collapse-icon",icon:i?"chevron-down":"chevron-up",scale:"m"})):N("div",{key:t??"title",id:r,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(ie.headerContainer,o)},a);return t?l:null}renderCloseIcon(){return N("span",{"aria-hidden":"true",class:this.classes(ie.icon,ie.iconClose)})}renderCloseButton(){const{visibleElements:t,messagesCommon:r}=this;return t.closeButton?N("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:ie.button,"aria-label":r.close,title:r.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return N("header",{class:ie.header},this.renderTitle(),N("div",{class:ie.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:t,hasContent:r,contentCollapsed:n,_flowItems:i}=this,{content:s}=this.viewModel,o=i.toArray(),a={[ie.contentHasFlows]:!!o.length};return r&&!n?N("div",{key:s??"content",enterAnimation:this._createFeatureUpdatedAnimation(),id:t,class:this.classes(ie.content,a)},N("calcite-flow",{bind:this},N("calcite-flow-item",{bind:this,"data-node-ref":"_rootFlowItemNode",afterCreate:oh,key:"root-flow-item",onCalciteFlowItemBack:this._handleBackClick},this.renderContent()),o.map(l=>this.renderFlowItem(l))),o.map(l=>this.renderFlowItemTooltips(l))):null}renderFlowItem(t){const{messages:r}=this,n=iM(),i="graphic"in t&&!t.isTable;return N("calcite-flow-item",{bind:this,class:this.classes({[ie.calciteThemeDark]:!n,[ie.calciteThemeLight]:n}),heading:t.title??"",description:this._getFlowItemDescription(t),onCalciteFlowItemBack:this._handleBackClick,key:`flow-item-${t.viewModel.uid}`},N("calcite-action",{class:ie.actionExit,icon:"move-up",label:r==null?void 0:r.exitRelatedRecords,text:r==null?void 0:r.exitRelatedRecords,slot:"header-actions-start",bind:this,afterCreate:s=>this._storeExitRelatedRecordsAction(t,s),onclick:this._destroyFlowItemWidgets}),i?N("calcite-action",{class:ie.actionSelectFeature,icon:"zoom-to-object",label:r==null?void 0:r.selectFeature,text:r==null?void 0:r.selectFeature,slot:"header-actions-end",bind:this,afterCreate:s=>this._storeFeatureSelectionAction(t,s),onclick:()=>this._handleOpenRelatedFeature(t)}):null,N("div",{class:this.classes(ie.contentFlowItem,{[ie.calciteThemeDark]:n,[ie.calciteThemeLight]:!n})},t.render()))}renderFlowItemTooltips(t){const{messages:r,_exitRelatedRecordsActions:n,_featureSelectionActions:i}=this,s=iM(),o=i.get(t);return[N("calcite-tooltip",{class:this.classes({[ie.calciteThemeDark]:!s,[ie.calciteThemeLight]:s}),key:`exit-related-records-tooltip-${t.viewModel.uid}`,label:r==null?void 0:r.exitRelatedRecords,overlayPositioning:"fixed",referenceElement:n.get(t),placement:"top"},r==null?void 0:r.exitRelatedRecords),o?N("calcite-tooltip",{class:this.classes({[ie.calciteThemeDark]:!s,[ie.calciteThemeLight]:s}),key:`select-related-record-tooltip-${t.viewModel.uid}`,label:r==null?void 0:r.selectFeature,overlayPositioning:"fixed",referenceElement:o,placement:"top"},r==null?void 0:r.selectFeature):null]}renderActionsMenuButton(){const{actionsMenuId:t,actionsMenuButtonId:r,actionsMenuOpen:n,dividedActions:i,messagesCommon:s}=this,o=n?s.close:s.open,{menuActions:a}=i;return a.length?N("div",{key:_u("actions-menu-button"),class:this.classes(ie.button,ie.actionsMenuButton),role:"button",id:r,"aria-haspopup":"true","aria-controls":n?t:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":o,title:o},N("span",{"aria-hidden":"true",class:ie.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:t,actionsMenuButtonId:r,actionsMenuOpen:n,dividedActions:i}=this,{menuActions:s}=i;return s.length&&n?N("ul",{id:t,role:"menu","aria-labelledby":r,key:_u("actions"),class:ie.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},s.toArray().map(o=>this.renderAction({action:o,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:t}=this.dividedActions;return t.length?t.toArray().map(r=>this.renderAction({action:r,type:"inline"})):[]}renderInlineActionsContainer(){const{inlineActions:t,menuActions:r}=this.dividedActions,n=!!t.length,i=!!r.length;return n||i?N("div",{key:"inline-actions-container","data-inline-actions":n.toString(),"data-menu-actions":i.toString(),class:ie.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?N("section",{key:_u("navigation"),class:this.classes(ie.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:t,dividedActions:r}=this,{inlineActions:n,menuActions:i}=r,s=!!n.length,o=!!i.length,a={[ie.footerHasPagination]:t,[ie.footerHasActions]:s,[ie.footerHasActionsMenu]:o};return t||s?N("div",{key:_u("feature-buttons"),class:this.classes(ie.footer,a)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:t}=this,{featureViewModels:r,isLoadingFeature:n}=this.viewModel,i=No(t.selectedFeatures,{total:r.length});return N("section",{key:_u("menu"),class:ie.featureMenu},N("strong",{class:ie.featureMenuHeader},i),N("nav",{bind:this,class:ie.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:oh},this.renderFeatureMenu(),N("div",{class:ie.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),n?N("div",{class:ie.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:N("div",{key:_u("pointer"),class:ie.pointer,role:"presentation"},N("div",{class:this.classes(ie.pointerDirection,ie.shadow)}))}renderMainContainer(){const{dockEnabled:t,currentAlignment:r,currentDockPosition:n,titleId:i,contentId:s,collapsible:o,hasContent:a,contentCollapsed:l,visibleElements:u}=this,{title:d}=this.viewModel,p=r==="bottom-left"||r==="bottom-center"||r==="bottom-right"||n==="top-left"||n==="top-center"||n==="top-right",f=r==="top-left"||r==="top-center"||r==="top-right"||n==="bottom-left"||n==="bottom-center"||n==="bottom-right",y={[ie.shadow]:t,[ie.isCollapsible]:o,[ie.isCollapsed]:l};return N("div",{class:this.classes(ie.main,ie.widget,y),tabIndex:u.closeButton?void 0:-1,role:"dialog","aria-labelledby":d?i:"","aria-describedby":a&&!l?s:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},p?this.renderFooter():null,p?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),f?this.renderFooter():null,f?this.renderFeatureMenuContainer():null)}renderContent(){var r;const t=(r=this.viewModel)==null?void 0:r.content;return t?typeof t=="string"?N("div",{class:Cr.contentNode,key:t,innerHTML:t}):this.renderNodeContent(t):null}renderActionText(t){return N("span",{key:"text",class:ie.actionText},t)}renderActionIcon(t){const r=this._getActionClass(t),n=this._getActionImage(t),i={[ie.iconLoading]:t.active,[ie.rotating]:t.active,[ie.icon]:!!r,[ie.actionImage]:!t.active&&!!n};return r&&(i[r]=!t.active),N("span",{key:"icon","aria-hidden":"true",class:this.classes(ie.icon,i),styles:this._getIconStyles(n)})}renderAction(t){const{action:r,type:n}=t,i=this._getActionTitle(r),s={[ie.action]:r.type!=="toggle",[ie.actionToggle]:r.type==="toggle",[ie.actionToggleOn]:r.type==="toggle"&&r.value,[ie.buttonDisabled]:r.disabled},o=[this.renderActionIcon(r),this.renderActionText(i)],a=n==="menu-item"?N("li",{key:r.uid,role:"menuitem",tabIndex:0,title:i,"aria-label":i,class:this.classes(ie.button,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":r.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},o):N("div",{key:r.uid,role:"button",tabIndex:0,title:i,"aria-label":i,class:this.classes(ie.button,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":r.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},o);return r.visible?a:null}renderFeatureMenuItem(t,r){const{messages:n,messagesCommon:i}=this,{selectedFeatureIndex:s,selectedFeatureViewModel:o}=this.viewModel,a=t===o,l={[ie.featureMenuSelected]:a},u=a?N("span",{key:_u(`feature-menu-selected-feature-${s}`),title:n.selectedFeature,"aria-label":n.selectedFeature,class:ie.iconCheckMark}):null,d=N("span",{innerHTML:t.title||i.untitled});return N("li",{role:"menuitem",tabIndex:-1,key:_u(`feature-menu-feature-${s}`),class:this.classes(l,ie.featureMenuItem),bind:this,"data-feature-index":r,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},N("span",{class:ie.featureMenuTitle},d,u))}renderFeatureMenu(){const{featureMenuId:t}=this,{featureViewModels:r}=this.viewModel;return r.length>1?N("ol",{class:ie.featureMenuList,id:t,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},r.filter(n=>!!n.graphic).map((n,i)=>this.renderFeatureMenuItem(n,i))):null}_storeFeatureSelectionAction(t,r){this._featureSelectionActions.set(t,r),this.scheduleRender()}_storeExitRelatedRecordsAction(t,r){this._exitRelatedRecordsActions.set(t,r),this.scheduleRender()}_getFlowItemDescription(t){return"featureCountDescription"in t?t.featureCountDescription:t.viewModel.description??""}async _openRelatedFeature(t){await t.viewModel.updateGeometry();const r=t.graphic,n=r==null?void 0:r.geometry;if(G(n)||G(r))return;this._destroyFlowItemWidgets(),await this.viewModel.zoomTo({target:n});const i=hce(n);this.open({features:[r],location:C(i)?i:void 0})}_destroyFlowItemWidgets(){this._flowItems.removeAll().forEach(t=>{"showAllEnabled"in t.viewModel&&(t.viewModel.showAllEnabled=!1),t.viewModel=null,t.destroy()})}_handleBackClick(){const t=this._flowItems.pop();t&&(this._exitRelatedRecordsActions.delete(t),this._featureSelectionActions.delete(t),"showAllEnabled"in t.viewModel&&(t.viewModel.showAllEnabled=!1),t&&(t.viewModel=null,t.destroy()))}_getActionTitle(t){const{messages:r,selectedFeature:n,messagesCommon:i}=this,{id:s}=t,o=n==null?void 0:n.attributes,a=t.title??"",l=s==="zoom-to-feature"?No(a,{messages:r}):s==="remove-selected-feature"?No(a,{messages:i}):s==="zoom-to-clustered-features"||s==="browse-clustered-features"?No(a,{messages:r}):t.title;return l&&o?No(l,o):l??""}_getActionClass(t){const{selectedFeature:r}=this,n=r==null?void 0:r.attributes,{className:i,image:s}=t,o=s||i?i:ie.iconDefaultAction;return o&&n?No(o,n):o??""}_getActionImage(t){const{selectedFeature:r}=this,n=r==null?void 0:r.attributes,{image:i}=t;return i&&n?No(i,n):i??""}_createFeatureUpdatedAnimation(){return pEe("enter",ie.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:t,featureNavigationVisible:r}=this;if(typeof t!="number")return null;const n=Math.round(t);return Math.max(r?n-1:n,0)}_watchActions(){const{allActions:t}=this.viewModel;this.notifyChange("dividedActions");const r="actions";this._handles.remove(r),t&&t.forEach(n=>{this._handles.add(ue(()=>[n.uid,n.active,n.className,n.disabled,n.id,n.title,n.image,n.visible],()=>this.scheduleRender()),r)})}_divideActions(){const{allActions:t}=this.viewModel,r=t.filter(o=>o.visible),n=this._getInlineActionCount(),i=n===null,s=n===0;return{inlineActions:i?r.slice(0):s?new Fe:r.slice(0,n),menuActions:i?new Fe:s?r.slice(0):r.slice(n)}}_featureMenuOpenChanged(t){t?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(t){t?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){var n,i;const{selectedFeatureWidget:t,messagesCommon:r}=this;t&&(this.viewModel.title=((n=t.viewModel)==null?void 0:n.state)==="error"?r.errorMessage:((i=t.viewModel)==null?void 0:i.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:t}=this;t&&(this.viewModel.content=t)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(t){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(t),this._featureMenuIntersectionObserverNode=t}_handleFeatureMenuKeyup(t){Vl(t)==="Escape"&&(t.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(t){Vl(t)==="Escape"&&(t.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(t){const{viewModel:r}=this,n=t.currentTarget["data-feature-index"];r.activeFeature=r.features[n]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(t){const r=Vl(t),{_featureMenuNode:n}=this,i=t.currentTarget["data-feature-index"];if(!n)return;const s=n.querySelectorAll("li"),o=s.length;r!=="ArrowUp"?r!=="ArrowDown"?r!=="Home"?r!=="End"||(t.stopPropagation(),s[s.length-1].focus()):(t.stopPropagation(),s[0].focus()):(t.stopPropagation(),s[(i+1+o)%o].focus()):(t.stopPropagation(),s[(i-1+o)%o].focus())}_handleActionMenuItemKeyup(t){const r=Vl(t),{_actionsMenuNode:n}=this,i=t.currentTarget.dataset.actionUid,{menuActions:s}=this.dividedActions,o=s.findIndex(u=>u.uid===i);if(!n)return;const a=n.querySelectorAll("li"),l=a.length;r!=="ArrowUp"?r!=="ArrowDown"?r!=="Home"?r!=="End"||(t.stopPropagation(),a[a.length-1].focus()):(t.stopPropagation(),a[0].focus()):(t.stopPropagation(),a[(o+1+l)%l].focus()):(t.stopPropagation(),a[(o-1+l)%l].focus())}_handleMainKeyup(t){const r=Vl(t);r==="ArrowLeft"&&(t.stopPropagation(),this.previous()),r==="ArrowRight"&&(t.stopPropagation(),this.next())}_spinnerEnabledChange(t){if(this._destroySpinner(),!t)return;const r=this.get("viewModel.view");this._createSpinner(r)}_hideSpinner(){const{_spinner:t}=this;t&&(t.location=null,t.hide())}_displaySpinner(){const{_spinner:t}=this;if(!t)return;const{location:r,waitingForResult:n}=this.viewModel;n&&r?t.show({location:r}):t.hide()}_getIconStyles(t){return{"background-image":t?`url(${t})`:""}}async _shouldFocus(t){t!=null&&t.shouldFocus&&(await h_(()=>{var r;return((r=this.viewModel)==null?void 0:r.active)===!0}),this.focus())}_addSelectedFeatureIndexHandle(){const t=ue(()=>{var r;return(r=this.viewModel)==null?void 0:r.selectedFeatureIndex},(r,n)=>this._selectedFeatureIndexUpdated(r,n));this._handles.add(t,LW)}_selectedFeatureIndexUpdated(t,r){const{featureCount:n}=this;n&&t!==r&&t!==-1&&(this._destroyFlowItemWidgets(),this.actionsMenuOpen=!1,this.featureMenuOpen=!1,this._mainContainerNode&&(this._mainContainerNode.scrollTop=0),this._rootFlowItemNode&&this._rootFlowItemNode.scrollContentTo({top:0}))}_destroySelectedFeatureWidget(){const{_feature:t}=this;t&&(t.viewModel=null,t&&!t.destroyed&&t.destroy()),this._feature=null}_isScreenLocationWithinView(t,r){return t.x>-1&&t.y>-1&&t.x<=r.width&&t.y<=r.height}_isOutsideView(t){const{popupHeight:r,popupWidth:n,screenLocation:i,side:s,view:o}=t;if(isNaN(n)||isNaN(r)||!o||!i)return!1;const a=o.padding;return s==="right"&&i.x+n/2>o.width-a.right||s==="left"&&i.x-n/2<a.left||s==="top"&&i.y-r<a.top||s==="bottom"&&i.y+r>o.height-a.bottom}_calculateAutoAlignment(t){if(t!=="auto")return t;const{_pointerOffsetInPx:r,_containerNode:n,_mainContainerNode:i,viewModel:s}=this,{screenLocation:o,view:a}=s;if(G(o)||!a||!n)return"top-center";if(!this._isScreenLocationWithinView(o,a))return this._get("currentAlignment")||"top-center";function l(x){return parseInt(x.replace(/[^-\d\.]/g,""),10)}const u=i?window.getComputedStyle(i,null):null,d=u?l(u.getPropertyValue("max-height")):0,p=u?l(u.getPropertyValue("height")):0,{height:f,width:y}=n.getBoundingClientRect(),v=y+r,g=Math.max(f,d,p)+r,b=this._isOutsideView({popupHeight:g,popupWidth:v,screenLocation:o,side:"right",view:a}),w=this._isOutsideView({popupHeight:g,popupWidth:v,screenLocation:o,side:"left",view:a}),S=this._isOutsideView({popupHeight:g,popupWidth:v,screenLocation:o,side:"top",view:a}),_=this._isOutsideView({popupHeight:g,popupWidth:v,screenLocation:o,side:"bottom",view:a});return w?S?"bottom-right":"top-right":b?S?"bottom-left":"top-left":S?_?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(t){return typeof t=="function"?t.call(this):t}_getCurrentAlignment(){const{alignment:t,dockEnabled:r}=this;return r||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(t)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(t){const r=["left","right"];return Bl(this.container)&&r.reverse(),t.replace(/leading/gi,r[0]).replace(/trailing/gi,r[1])}_callDockPosition(t){return typeof t=="function"?t.call(this):t}_getDockPosition(){var t;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition((t=this.dockOptions)==null?void 0:t.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(t){var a;if(t!=="auto")return t;const r=(a=this.viewModel)==null?void 0:a.view,n=Bl(this.container)?"top-left":"top-right";if(!r)return n;const i=r.padding||{left:0,right:0,top:0,bottom:0},s=r.width-i.left-i.right,{breakpoints:o}=r;return o&&s<=o.xsmall?"bottom-center":n}_positionContainer(t=this._containerNode){if(t&&(this._containerNode=t),!this._containerNode)return;const{screenLocation:r}=this.viewModel,{width:n}=this._containerNode.getBoundingClientRect(),i=this._calculatePositionStyle(r,n);i&&Object.assign(this._containerNode.style,i)}_calculateFullWidth(t){const{currentAlignment:r,_pointerOffsetInPx:n}=this;return r==="top-left"||r==="bottom-left"||r==="top-right"||r==="bottom-right"?t+n:t}_calculateAlignmentPosition(t,r,n,i){const{currentAlignment:s,_pointerOffsetInPx:o}=this;if(!n)return;const{padding:a}=n,l=i/2,u=n.height-r,d=n.width-t;return s==="bottom-center"?{top:r+o-a.top,left:t-l-a.left}:s==="top-left"?{bottom:u+o-a.bottom,right:d+o-a.right}:s==="bottom-left"?{top:r+o-a.top,right:d+o-a.right}:s==="top-right"?{bottom:u+o-a.bottom,left:t+o-a.left}:s==="bottom-right"?{top:r+o-a.top,left:t+o-a.left}:s==="top-center"?{bottom:u+o-a.bottom,left:t-l-a.left}:void 0}_calculatePositionStyle(t,r){const{dockEnabled:n,view:i}=this;if(!i)return;if(n)return{left:"",top:"",right:"",bottom:""};if(G(t)||!r)return;const s=this._calculateFullWidth(r),o=this._calculateAlignmentPosition(t.x,t.y,i,s);return o?{top:o.top!==void 0?`${o.top}px`:"auto",left:o.left!==void 0?`${o.left}px`:"auto",bottom:o.bottom!==void 0?`${o.bottom}px`:"auto",right:o.right!==void 0?`${o.right}px`:"auto"}:void 0}_viewChange(t,r){t&&r&&(this.close(),this.clear())}_viewReadyChange(t,r){if(t){const n=this.get("viewModel.view");this._wireUpView(n)}else r&&(this.close(),this.clear())}_wireUpView(t){if(this._destroySpinner(),!t)return;const{spinnerEnabled:r}=this;r&&this._createSpinner(t),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(t,r,n){const[i,s]=t,[o,a]=r,{width:l=0,height:u=0}=n??{};return i<=l&&o>l||i>l&&o<=l||s<=u&&a>u||s>u&&a<=u}_updateDockEnabledForViewSize(t,r){if(!t||!r)return;const n=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},i=n.left+n.right,s=n.top+n.bottom,o=[],a=[];o[0]=t[0]-i,o[1]=t[1]-s,a[0]=r[0]-i,a[1]=r[1]-s;const{dockOptions:l}=this,u=l.breakpoint;this._dockingThresholdCrossed(o,a,u)&&this._setDockEnabledForViewSize(l),this._setCurrentDockPosition()}_focusDockButtonNode(t){this._focusDockButton&&(this._focusDockButton=!1,t.focus())}_closeButtonNodeUpdated(t){return this._focusClose?(this._focusClose=!1,void t.focus()):this._blurClose?(this._blurClose=!1,void t.blur()):void 0}_mainContainerNodeUpdated(t){return this._mainContainerNode=t,this._focusContainer?(this._focusContainer=!1,void t.focus()):this._blurContainer?(this._blurContainer=!1,void t.blur()):void 0}_featureMenuNodeUpdated(t){if(this._featureMenuNode=t,!t||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const r=t.querySelectorAll("li");r.length&&r[0].focus()}_actionsMenuNodeUpdated(t){if(this._actionsMenuNode=t,!t||!this._focusFirstAction)return;this._focusFirstAction=!1;const r=t.querySelectorAll("li");r.length&&r[0].focus()}_focusFeatureMenuButtonNode(t){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,t.focus())}_focusActionsMenuButtonNode(t){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,t.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:t,viewModel:r}=this;if(!r)return;const n=r.active&&!t;r.screenLocationEnabled=n}_shouldDockAtCurrentViewSize(t){var l,u;const r=t.breakpoint,n=(u=(l=this.viewModel)==null?void 0:l.view)==null?void 0:u.ui;if(!n)return!1;const{width:i,height:s}=n;if(isNaN(i)||isNaN(s)||!r)return!1;const o=r.hasOwnProperty("width")&&i<=(r.width??0),a=r.hasOwnProperty("height")&&s<=(r.height??0);return o||a}_setDockEnabledForViewSize(t){t.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(t))}_getPageText(t,r){return this.featureNavigationVisible?No(this.messages.pageText,{index:r+1,total:t}):null}_destroySpinner(){const{_spinner:t,view:r}=this;t&&(r&&r.ui&&r.ui.remove(t,NW),t.destroy(),this._spinner=null)}_createSpinner(t){t&&(this._spinner=new I9e({view:t}),t.ui.add(this._spinner,{key:NW,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const t=!this.featureMenuOpen;this._featureMenuOpenChanged(t),this.actionsMenuOpen=!1,this.featureMenuOpen=t}_toggleActionsMenu(){const t=!this.actionsMenuOpen;this._actionsMenuOpenChanged(t),this.featureMenuOpen=!1,this.actionsMenuOpen=t}_triggerAction(t){const r=t.currentTarget.dataset.actionUid,{allActions:n}=this.viewModel,i=n.findIndex(o=>o.uid===r),s=n.getItemAt(i);s&&s.type==="toggle"&&(s.value=!s.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(i)}_selectFeature(t){const r=t.currentTarget["data-feature-index"];isNaN(r)||(this.viewModel.selectedFeatureIndex=r),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};c([h({readOnly:!0})],Re.prototype,"actionsMenuId",null),c([h({readOnly:!0})],Re.prototype,"actionsMenuButtonId",null),c([h({readOnly:!0})],Re.prototype,"featureMenuId",null),c([h({readOnly:!0})],Re.prototype,"titleId",null),c([h({readOnly:!0})],Re.prototype,"contentId",null),c([h({readOnly:!0})],Re.prototype,"hasContent",null),c([h({readOnly:!0})],Re.prototype,"featureNavigationVisible",null),c([h({readOnly:!0})],Re.prototype,"collapsible",null),c([h({readOnly:!0})],Re.prototype,"featureMenuVisible",null),c([h({readOnly:!0})],Re.prototype,"contentCollapsed",null),c([h({readOnly:!0})],Re.prototype,"dividedActions",null),c([h({readOnly:!0,dependsOn:["_flowItems.length"]})],Re.prototype,"_activeFlowItemWidget",null),c([h()],Re.prototype,"actions",null),c([h()],Re.prototype,"actionsMenuOpen",null),c([h()],Re.prototype,"alignment",void 0),c([h()],Re.prototype,"autoCloseEnabled",null),c([h()],Re.prototype,"autoOpenEnabled",null),c([h()],Re.prototype,"defaultPopupTemplateEnabled",null),c([h()],Re.prototype,"content",null),c([h()],Re.prototype,"collapsed",void 0),c([h()],Re.prototype,"collapseEnabled",void 0),c([h({readOnly:!0})],Re.prototype,"currentAlignment",null),c([h({readOnly:!0})],Re.prototype,"currentDockPosition",null),c([h()],Re.prototype,"dockOptions",null),c([h()],Re.prototype,"dockEnabled",void 0),c([h({readOnly:!0})],Re.prototype,"featureCount",null),c([h()],Re.prototype,"featureMenuOpen",void 0),c([h()],Re.prototype,"features",null),c([h()],Re.prototype,"goToOverride",null),c([h()],Re.prototype,"headingLevel",void 0),c([h()],Re.prototype,"highlightEnabled",null),c([h()],Re.prototype,"location",null),c([h()],Re.prototype,"label",null),c([h()],Re.prototype,"maxInlineActions",void 0),c([h(),On("esri/widgets/Popup/t9n/Popup")],Re.prototype,"messages",void 0),c([h(),On("esri/t9n/common")],Re.prototype,"messagesCommon",void 0),c([h()],Re.prototype,"promises",null),c([h({readOnly:!0})],Re.prototype,"selectedFeature",null),c([h()],Re.prototype,"selectedFeatureIndex",null),c([h({readOnly:!0})],Re.prototype,"selectedFeatureWidget",null),c([h()],Re.prototype,"spinnerEnabled",void 0),c([h()],Re.prototype,"title",null),c([h()],Re.prototype,"updateLocationEnabled",null),c([h()],Re.prototype,"view",null),c([h({type:wce}),ooe(["triggerAction","trigger-action"])],Re.prototype,"viewModel",void 0),c([h()],Re.prototype,"visible",null),c([h()],Re.prototype,"visibleElements",void 0),c([vt("visibleElements")],Re.prototype,"castVisibleElements",null),c([ws()],Re.prototype,"_close",null),c([ws()],Re.prototype,"_toggleDockEnabled",null),c([ws()],Re.prototype,"_toggleFeatureMenu",null),c([ws()],Re.prototype,"_toggleActionsMenu",null),c([ws()],Re.prototype,"_triggerAction",null),c([ws()],Re.prototype,"_selectFeature",null),c([ws()],Re.prototype,"_next",null),c([ws()],Re.prototype,"_previous",null),Re=c([O("esri.widgets.Popup")],Re);const VW=Re,wk=[0,0];function gVe(e){const t=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return wk[0]=r.left+((t==null?void 0:t.pageXOffset)??0),wk[1]=r.top+((t==null?void 0:t.pageYOffset)??0),wk}function zW(e){e&&(nre(e),e.parentNode&&e.parentNode.removeChild(e))}function vVe(e){const t=document.createElement("div");return e.appendChild(t),t}const C1=16,A$=750,bVe=512,wVe=2,_Ve=e=>{let t=class extends e{constructor(...r){var n;super(...r),this._freqInfo={freq:C1,time:A$},this._overlayRenderTaskHandle=null,this.height=0,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,r.length!==0&&((n=r[0])==null?void 0:n.popup)!==void 0||(this.popup=new VW({view:this})),this.handles.add([ue(()=>this.cursor,i=>{const{surface:s}=this;s&&s.setAttribute("data-cursor",i)}),ue(()=>this.interacting,i=>{const{surface:s}=this;s&&s.setAttribute("data-interacting",i.toString())})])}initialize(){this.handles.add(ue(()=>this.ui,(r,n)=>this._handleUIChange(r,n))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=Ur(this.ui),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(r){const n=this._get("container"),i=D6(r);if(i||typeof r!="string"||oe.getLogger(this.declaredClass).error("#container",`element with id '${r}' not found`),n===i)return;const s="dom-size";if(this.handles.remove(s),this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(zW(this.root),this._set("root",null)),this.userContent&&(VU(this.userContent,n),zW(this.userContent),this._set("userContent",null))),!i)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);i.classList.add("esri-view");const o=document.createElement("div");o.className="esri-view-user-storage",VU(i,o),i.appendChild(o),this._set("userContent",o);const a=document.createElement("div");a.className="esri-view-root",i.insertBefore(a,i.firstChild),this._set("root",a);const l=document.createElement("div");l.className="esri-view-surface",l.setAttribute("role","application"),l.tabIndex=0,a.appendChild(l),this._set("surface",l);const u=new hG;a.appendChild(u.surface),this._set("overlay",u),ue(()=>u.needsRender,d=>{d&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=d0({render:()=>{var p;return(p=this.overlay)==null?void 0:p.render()}}):this._overlayRenderTaskHandle=sn(this._overlayRenderTaskHandle)}),this.forceDOMReadyCycle(),this.handles.add(ue(()=>this.size,d=>{const[p,f]=d,y="esri-view-surface--inset-outline";p>=document.body.clientWidth||f>=document.body.clientHeight?l.classList.add(y):l.classList.remove(y)},mt),s),this._set("container",i),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}set popup(r){const n=this._get("popup");n&&n!==r&&n.destroy(),this._set("popup",r)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(r,n,i){const s=this.position;return r-=s?s[0]:0,n-=s?s[1]:0,i?(i[0]=r,i[1]=n):i=[r,n],i}containerToPage(r,n,i){const s=this.position;return r+=s?s[0]:0,n+=s?s[1]:0,i?(i[0]=r,i[1]=n):i=[r,n],i}_handleUIChange(r,n){n&&(this.handles.remove("ui"),n.destroy()),r&&this._wireUI(r),this._set("ui",r)}_wireUI(r){this.handles.remove("ui"),r&&(r.view=this,this.handles.add([ue(()=>this.root,n=>{r.container=n?vVe(n):null},mt),ue(()=>this.popup,(n,i)=>{const s="popup",o="manual";i&&r.remove(i,s),n&&(n.view=r.view,r.add(n,{key:s,position:o}))},mt)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=C1,r.time=A$,this.handles.add([(()=>{const n=()=>{r.freq=C1,r.time=A$};return window.addEventListener("resize",n),{remove(){window.removeEventListener("resize",n)}}})(),d0({prepare:n=>{const i=this._measure(),s=this._freqInfo;if(s.time+=n.deltaTime,i&&(s.freq=C1,this._get("resizing")||this._set("resizing",!0)),s.time<s.freq)return;s.time=0;const o=this._position();s.freq=o||i?C1:Math.min(A$,s.freq*wVe),!i&&s.freq>=bVe&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,n=r?r.clientWidth:0,i=r?r.clientHeight:0;if(n===0||i===0)return this.suspended||this._set("suspended",!0),!1;const s=this.width,o=this.height;return n===s&&i===o?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",i),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:s,oldHeight:o,width:n,height:i}),!0)}_position(){const r=this.container,n=this.position,i=r&&gVe(r);return!!i&&(!n||i[0]!==n[0]||i[1]!==n[1])&&(this._set("position",[i[0],i[1]]),!0)}forceDOMReadyCycle(){}};return c([h()],t.prototype,"container",null),c([h({readOnly:!0})],t.prototype,"focused",null),c([h({readOnly:!0})],t.prototype,"height",void 0),c([h({type:VW})],t.prototype,"popup",null),c([h({type:hG})],t.prototype,"overlay",void 0),c([h({readOnly:!0})],t.prototype,"position",void 0),c([h({readOnly:!0})],t.prototype,"resizing",void 0),c([h({readOnly:!0})],t.prototype,"root",void 0),c([h({value:null,readOnly:!0})],t.prototype,"size",null),c([h({readOnly:!0})],t.prototype,"surface",void 0),c([h({readOnly:!0})],t.prototype,"suspended",void 0),c([h()],t.prototype,"ui",void 0),c([h({readOnly:!0})],t.prototype,"userContent",void 0),c([h({readOnly:!0})],t.prototype,"width",void 0),c([h()],t.prototype,"widthBreakpoint",void 0),t=c([O("esri.views.DOMContainer")],t),t},SVe=e=>{let t=class extends e{async fetchPopupFeatures(r,n){await this.when();const{location:i,queryArea:s,layerViewsAndGraphics:o,clientOnlyGraphics:a}=await this._prepareFetchPopupFeatures(r,n),l=Promise.resolve(a),u=this._queryLayerPopupFeatures(s,o,n),d=u.map(p=>p.promise);return{location:i,clientOnlyGraphics:a,allGraphicsPromise:ASe([l,...d]).then(p=>Array.from(new Set(p.flat()))),promisesPerLayerView:u}}_queryLayerPopupFeatures(r,n,i){return n.map(({layerView:s,graphics:o})=>{const a={clientGraphics:o,event:C(i)?i.event:void 0,signal:C(i)?i.signal:void 0,defaultPopupTemplateEnabled:!!C(i)&&!!i.defaultPopupTemplateEnabled},l=s.fetchPopupFeatures(r,a);return{layerView:s,promise:l}})}_isValidPopupGraphic(r,n){return r&&!!r.getEffectivePopupTemplate(C(n)&&n.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(r,n){const{clientGraphics:i,queryArea:s,location:o}=await this._popupHitTestGraphics(r,n),a=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:l,clientOnlyGraphics:u}=this._graphicsPerFetchPopupLayerView(i,a);return{clientOnlyGraphics:u,layerViewsAndGraphics:l,queryArea:s,location:o}}async _popupHitTestGraphics(r,n){const i=await this.popupHitTest(r),s=i.results,o=i.mapPoint,a=s.filter(u=>u.type==="graphic"&&this._isValidPopupGraphic(u.graphic,n)),l=a.length?a[0].mapPoint:null;return{clientGraphics:a.map(u=>u.graphic),queryArea:o,location:o||l}}_getFetchPopupLayerViews(){const r=[];return this.allLayerViews.forEach(n=>{this._isValidPopupLayerView(n)&&r.push(n)}),C(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&r.push(this.graphicsView),r.reverse()}_isValidPopupLayerView(r){return C(r)&&(!("layer"in r)||!r.suspended)&&"fetchPopupFeatures"in r}_graphicsPerFetchPopupLayerView(r,n){const i=[],s=new Map,o=n.map(a=>{const l=[];return"layer"in a?s.set(a.layer,l):s.set(a.graphics,l),{layerView:a,graphics:l}});for(const a of r){const l=s.get(a.layer)||s.get(a.sourceLayer)||null;l?l.push(a):i.push(a)}return{layerViewsAndGraphics:o,clientOnlyGraphics:i}}};return t=c([O("esri.views.PopupView")],t),t};async function _ce(e,t){return await e.load(),xVe(e,t)}async function xVe(e,t){const r=[],n=(...s)=>{for(const o of s)G(o)||(Array.isArray(o)?n(...o):Fe.isCollection(o)?o.forEach(a=>n(a)):Mc.isLoadable(o)&&r.push(o))};t(n);let i=null;if(await hLe(r,async s=>{const o=await JO($Ve(s)?s.loadAll():s.load());o.ok!==!1||i||(i=o)}),i)throw i.error;return e}function $Ve(e){return"loadAll"in e&&typeof e.loadAll=="function"}async function EVe(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e,r=await _6("esri/t9n/basemaps");return r[e]||r[t]}const C4={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return $t("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return $t("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return $t("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return $t("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return $t("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return $t("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return $t("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return $t("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return $t("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return $t("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return $t("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return $t("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return $t("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return $t("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return $t("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return $t("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},TVe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),MVe=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","route","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function IVe(e){return e.layerContainerType==="basemap"?TVe:e.layerContainerType==="operational-layers"?MVe:null}function OVe(e,t){if(t.restrictedWebMapWriting){const r=IVe(t);return!C(r)||r.has(e.type)&&!z8(e)}return!0}function CVe(e,t){if(t)if(z8(e)){const r=xS("featureCollection.layers",t),n=r&&r[0]&&r[0].layerDefinition;n&&_k(e,n)}else e.type==="stream"?_k(e,t.layerDefinition=t.layerDefinition||{}):e.type!=="group"&&_k(e,t)}function _k(e,t){"maxScale"in e&&(t.maxScale=IT(e.maxScale)??void 0),"minScale"in e&&(t.minScale=IT(e.minScale)??void 0)}function AVe(e,t){if(CVe(e,t),t&&("blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=IT(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(z8(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function UW(e,t,r){if(!("write"in e)||!e.write)return r&&r.messages&&r.messages.push(new V("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(OVe(e,r)){const n={};return e.write(n,r)?n:null}return C(t)&&AVe(e,t=B(t)),t}var $E;let PVe=0;const Sce="esri.Basemap";let ko=$E=class extends PS(Mc){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+PVe++,this.baseLayers=new Fe,this.referenceLayers=new Fe;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&oe.getLogger(this.declaredClass).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=n=>{n.parent=null};this.baseLayers.on("after-add",n=>t(n.item)),this.referenceLayers.on("after-add",n=>t(n.item)),this.baseLayers.on("after-remove",n=>r(n.item)),this.referenceLayers.on("after-remove",n=>r(n.item))}initialize(){this.when().catch(e=>{oe.getLogger(this.declaredClass).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var r;const e=this.baseLayers.removeAll();for(const n of e)n.destroy();const t=this.referenceLayers.removeAll();for(const n of t)n.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),(r=this.portalItem)==null||r.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",wm(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const n=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(i=>{const s=UW(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);C(s)&&n.push(s)}),this.referenceLayers.forEach(i=>{const s=UW(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);C(s)&&(i.type!=="scene"&&(s.isReference=!0),n.push(s))})),t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",wm(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return _ce(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new $E({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const n=B(r);return n.url&&Qa(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&Qa(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r}=this;Qr(e);const n=[];if(t){const i=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,i,e)),t.data.id&&!t.data.title){const s=t.data.id;n.push(EVe(s).then(o=>{o&&this.read({title:o},t.context)}))}}else r&&n.push(this._loadFromItem(r,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,r){const n=this.resourceInfo&&this.resourceInfo.context,i=this.portalItem&&this.portalItem.portal||n&&n.portal||null,s=n&&n.origin==="web-scene"?"web-scene":"web-map",{populateOperationalLayers:o}=await Y(()=>import("./layersCreator-0926a4c4.js"),["assets/layersCreator-0926a4c4.js","assets/lazyLayerLoader-6fff588c.js","assets/portalLayers-781f6ae3.js","assets/layersLoader-42eab916.js","assets/fetchService-22b6ca72.js","assets/jsonContext-7de017ef.js"]),a=[];if(Qr(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const l={context:{origin:s,url:t,portal:i,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},u=f=>s==="web-scene"&&f.layerType==="ArcGISSceneServiceLayer"||f.isReference,d=o(this.baseLayers,e.baseMapLayers.filter(f=>!u(f)),l);a.push(d);const p=o(this.referenceLayers,e.baseMapLayers.filter(u),l);a.push(p)}await Wn(a)}async _loadFromItem(e,t){const r=await e.load(t),n=await r.fetchData("json",t),i=Vi(e.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:e.type==="Web Scene"?"web-scene":"web-map",portal:e.portal||pi.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||pi.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}static fromId(e){const t=C4[e];if(t){if(t.deprecated){let r=null;e==="dark-gray"?r="dark-gray-vector":e==="gray"?r="gray-vector":e==="streets"?r="streets-vector":e==="topo"&&(r="topo-vector"),Qee(oe.getLogger(Sce),`The ${e} basemap has entered mature support and is no longer being updated.`,{replacement:r,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return $E.fromJSON(t)}return null}};c([h({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Fe}},writer(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],ko.prototype,"baseLayers",null),c([h({type:String,json:{origins:{"web-scene":{write:!0}}}})],ko.prototype,"id",void 0),c([h({type:Mw})],ko.prototype,"portalItem",void 0),c([h()],ko.prototype,"referenceLayers",null),c([h({readOnly:!0})],ko.prototype,"resourceInfo",void 0),c([h({type:Ge})],ko.prototype,"spatialReference",void 0),c([h()],ko.prototype,"thumbnailUrl",void 0),c([h({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],ko.prototype,"title",void 0),c([ge("title")],ko.prototype,"writeTitle",null),ko=$E=c([O(Sce)],ko);const yM=ko,kVe=Object.freeze(Object.defineProperty({__proto__:null,default:yM},Symbol.toStringTag,{value:"Module"}));var A4;let EE=A4=class extends Q{constructor(e){super(e),this.type="none"}clone(){return new A4({type:this.type})}};c([Pe({none:"none",stayAbove:"stay-above"})],EE.prototype,"type",void 0),EE=A4=c([O("esri.ground.NavigationConstraint")],EE);let hr=class extends Ie{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.TEXT_SHOW_BASELINE=!1,this.TEXT_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_OPTIMIZATIONS=!1,this.TESTS_DISABLE_FAST_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1,this.LINE_WIREFRAMES=!1,this.TERRAIN_USE_LEGACY_SHADING=!1}};c([h()],hr.prototype,"SCENEVIEW_HITTEST_RETURN_INTERSECTOR",void 0),c([h()],hr.prototype,"DECONFLICTOR_SHOW_VISIBLE",void 0),c([h()],hr.prototype,"DECONFLICTOR_SHOW_INVISIBLE",void 0),c([h()],hr.prototype,"DECONFLICTOR_SHOW_GRID",void 0),c([h()],hr.prototype,"LABELS_SHOW_BORDER",void 0),c([h()],hr.prototype,"TEXT_SHOW_BASELINE",void 0),c([h()],hr.prototype,"TEXT_SHOW_BORDER",void 0),c([h()],hr.prototype,"OVERLAY_DRAW_DEBUG_TEXTURE",void 0),c([h()],hr.prototype,"OVERLAY_SHOW_CENTER",void 0),c([h()],hr.prototype,"SHOW_POI",void 0),c([h()],hr.prototype,"TESTS_DISABLE_OPTIMIZATIONS",void 0),c([h()],hr.prototype,"TESTS_DISABLE_FAST_UPDATES",void 0),c([h()],hr.prototype,"DRAW_MESH_GEOMETRY_NORMALS",void 0),c([h()],hr.prototype,"FEATURE_TILE_FETCH_SHOW_TILES",void 0),c([h()],hr.prototype,"FEATURE_TILE_TREE_SHOW_TILES",void 0),c([h()],hr.prototype,"TERRAIN_TILE_TREE_SHOW_TILES",void 0),c([h()],hr.prototype,"I3S_TREE_SHOW_TILES",void 0),c([h()],hr.prototype,"I3S_SHOW_MODIFICATIONS",void 0),c([h()],hr.prototype,"LOD_INSTANCE_RENDERER_DISABLE_UPDATES",void 0),c([h()],hr.prototype,"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL",void 0),c([h()],hr.prototype,"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES",void 0),c([h()],hr.prototype,"LINE_WIREFRAMES",void 0),c([h()],hr.prototype,"TERRAIN_USE_LEGACY_SHADING",void 0),hr=c([O("esri.views.3d.support.DebugFlags")],hr);const RVe=new hr;var P4;let xl=P4=class extends PS(Mc){constructor(e){super(e),this.opacity=1,this.shading=!RVe.TERRAIN_USE_LEGACY_SHADING,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Fe;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&oe.getLogger(this.declaredClass).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=n=>{n.parent=null};this.layers.on("after-add",n=>t(n.item)),this.layers.on("after-remove",n=>r(n.item))}initialize(){this.when().catch(e=>{oe.getLogger(this.declaredClass).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)t.destroy();this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",wm(e,this._get("layers")))}writeLayers(e,t,r,n){const i=[];e&&(n={...n,layerContainerType:"ground"},e.forEach(s=>{if("write"in s){const o={};o4e(s)().write(o,n)&&i.push(o)}else n&&n.messages&&n.messages.push(new V("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return _ce(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await Y(()=>import("./ElevationQuery-794c36eb.js"),[]);Qr(t);const n=new r,i=this.layers.filter(BW).toArray();return n.queryAll(i,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await Y(()=>import("./ElevationQuery-794c36eb.js"),[]);Qr(t);const n=new r,i=this.layers.filter(BW).toArray();return n.createSamplerAll(i,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:B(this.surfaceColor),navigationConstraint:B(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new P4({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}_loadLayersFromJSON(e,t,r){const n=t&&t.origin||"web-scene",i=t&&t.portal||null,s=t&&t.url||null;return Y(()=>import("./layersCreator-0926a4c4.js"),["assets/layersCreator-0926a4c4.js","assets/lazyLayerLoader-6fff588c.js","assets/portalLayers-781f6ae3.js","assets/layersLoader-42eab916.js","assets/fetchService-22b6ca72.js","assets/jsonContext-7de017ef.js"]).then(({populateOperationalLayers:o})=>{Qr(r);const a=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:n,url:s,portal:i,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(o(this.layers,e.layers,l))}return Wn(a)}).then(()=>{})}};function LVe(e){return e&&"createElevationSampler"in e}function BW(e){return e.type==="elevation"||LVe(e)}c([h({json:{read:!1}})],xl.prototype,"layers",null),c([ge("layers")],xl.prototype,"writeLayers",null),c([h({readOnly:!0})],xl.prototype,"resourceInfo",void 0),c([h({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Gt,read:{reader:$_,source:"transparency"},write:{writer:(e,t)=>{t.transparency=DO(e)},target:"transparency"}}})],xl.prototype,"opacity",void 0),c([h({type:Boolean,nonNullable:!0,json:{read:!1}})],xl.prototype,"shading",void 0),c([h({type:Be,json:{type:[Gt],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],xl.prototype,"surfaceColor",void 0),c([h({type:EE,json:{write:!0}})],xl.prototype,"navigationConstraint",void 0),xl=P4=c([O("esri.Ground")],xl);const gM=xl;function NVe(e){var t,r;return!(!(e!=null&&e.loaded)||!((r=(t=koe(e))==null?void 0:t.operations)!=null&&r.supportsEditing)||"editingEnabled"in e&&!y3e(e))}const GW=oe.getLogger("esri.support.basemapUtils");function FVe(){return{}}function DVe(e){for(const t in e){const r=e[t];(r==null?void 0:r.destroyed)===!1&&r.destroy(),delete e[t]}}function jVe(e,t){let r;if(typeof e=="string"){if(!(e in C4)){const n=Object.entries(C4).filter(([i,s])=>yt.apiKey&&!s.classic||!yt.apiKey&&s.classic&&!s.deprecated).map(([i])=>`"${i}"`).join(", ");return GW.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${n}`),null}t&&(r=t[e]),r||(r=yM.fromId(e),t&&(t[e]=r))}else r=qt(yM,e);return r!=null&&r.destroyed&&(GW.warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function VVe(e){return new T_({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return!!r&&"tables"in r&&r.tables.includes(t)}})}const qW={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function zVe(e){let t=null;if(typeof e=="string")if(e in qW){const r=qW[e];t=new gM({resourceInfo:{data:{layers:[r]}}})}else oe.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=qt(gM,e);return t}function k4(e,t,r){let n,i;if(e)for(let s=0,o=e.length;s<o;s++){if(n=e.getItemAt(s),n[t]===r)return n;if((n==null?void 0:n.type)==="group"&&(i=k4(n.layers,t,r),i))return i}}const UVe=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new Fe;const n=o=>{o.parent&&"remove"in o.parent&&o.parent.remove(o)},i=o=>{o.parent=this,this.layerAdded(o),o.type!=="elevation"&&o.type!=="base-elevation"||oe.getLogger(this.declaredClass).error(`Layer 'title:${o.title}, id:${o.id}' of type '${o.type}' is not supported as an operational layer and will therefore be ignored.`)},s=o=>{o.parent=null,this.layerRemoved(o)};this.layers.on("before-add",o=>n(o.item)),this.layers.on("after-add",o=>i(o.item)),this.layers.on("after-remove",o=>s(o.item))}destroy(){const r=this.layers.removeAll();for(const n of r)this.layerRemoved(n),n.destroy();this.layers.destroy()}set layers(r){this._set("layers",wm(r,this._get("layers")))}add(r,n){const i=this.layers;if(n=i.getNextIndex(n),r instanceof xm){const s=r;s.parent===this?this.reorder(s,n):i.add(s,n)}else Rc(r)?r.then(s=>{this.destroyed||this.add(s,n)}):oe.getLogger(this.declaredClass).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,n){const i=this.layers;let s=i.getNextIndex(n);r.slice().forEach(o=>{o.parent!==this?(i.add(o,s),s+=1):this.reorder(o,s)})}findLayerById(r){return k4(this.layers,"id",r)}findLayerByUid(r){return k4(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,n){return this.layers.reorder(r,n)}layerAdded(r){}layerRemoved(r){}};return c([h()],t.prototype,"layers",null),t=c([O("esri.support.LayersMixin")],t),t};function R4(e,t,r){if(e)for(let n=0,i=e.length;n<i;n++){const s=e.getItemAt(n);if(s[t]===r)return s;if((s==null?void 0:s.type)==="group"){const o=R4(s.tables,t,r);if(o)return o}}}const BVe=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new Fe,this.tables.on("after-add",n=>{const i=n.item;i.parent&&i.parent!==this&&"tables"in i.parent&&i.parent.tables.remove(i),i.parent=this,i.type!=="feature"&&oe.getLogger(this.declaredClass).error(`Layer 'title:${i.title}, id:${i.id}' of type '${i.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})}destroy(){const r=this.tables.removeAll();for(const n of r)n.destroy();this.tables.destroy()}set tables(r){this._set("tables",wm(r,this._get("tables")))}findTableById(r){return R4(this.tables,"id",r)}findTableByUid(r){return R4(this.tables,"uid",r)}};return c([h()],t.prototype,"tables",null),t=c([O("esri.support.TablesMixin")],t),t};let $l=class extends BVe(UVe(au.EventedMixin(Ie))){constructor(t){super(t),this.allLayers=new T_({getCollections:()=>{var r,n,i;return[(r=this.basemap)==null?void 0:r.baseLayers,(n=this.ground)==null?void 0:n.layers,this.layers,(i=this.basemap)==null?void 0:i.referenceLayers]},getChildrenFunction:r=>"layers"in r?r.layers:null}),this.allTables=VVe(this),this.basemap=null,this.editableLayers=new T_({getCollections:()=>[this.allLayers],itemFilterFunction:NVe}),this.ground=new gM,this._basemapCache=FVe()}destroy(){var t,r;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),(t=this.ground)==null||t.destroy(),(r=this.basemap)==null||r.destroy(),DVe(this._basemapCache),this._basemapCache=null}castBasemap(t){return jVe(t,this._basemapCache)}castGround(t){const r=zVe(t);return G(r)?this._get("ground"):r}findLayerById(t){return this.allLayers.find(r=>r.id===t)}findTableById(t){return this.allTables.find(r=>r.id===t)}};c([h({readOnly:!0,dependsOn:[]})],$l.prototype,"allLayers",void 0),c([h({readOnly:!0})],$l.prototype,"allTables",void 0),c([h({type:yM})],$l.prototype,"basemap",void 0),c([vt("basemap")],$l.prototype,"castBasemap",null),c([h({readOnly:!0})],$l.prototype,"editableLayers",void 0),c([h({type:gM,nonNullable:!0})],$l.prototype,"ground",void 0),c([vt("ground")],$l.prototype,"castGround",null),$l=c([O("esri.Map")],$l);const xce=$l;let Cw=class extends Dm(Fe){constructor(t){super(t),this.handles.add([this.on("before-add",r=>{G(r.item)&&r.preventDefault()}),this.on("after-add",r=>this._own(r.item)),this.on("after-remove",r=>this._release(r.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(Fe.ofType(this.itemType.Type))(t):new Fe(t)}};function L4(e,t){return{type:e,cast:hse,set(r){const n=wm(r,this._get(t),e);n.owner=this,this._set(t,n)}}}c([h()],Cw.prototype,"owner",null),Cw=c([O("esri.core.support.OwningCollection")],Cw);let vM=class extends Cw{constructor(t){super(t),this.handles.add(this.on("before-add",r=>{G(r.item)||r.item.parent===this.owner&&(oe.getLogger(this.declaredClass).warn("Analysis inside the collection must be unique. Not adding this element again."),r.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};vM=c([O("esri.support.AnalysesCollection")],vM);let Zf=class extends Cw{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};c([s8({Type:Pn,ensureType:qt(Pn)})],Zf.prototype,"itemType",void 0),Zf=c([O("esri.support.GraphicsCollection")],Zf);let Ad=class extends Ie{constructor(t){super(t),this.view=null,this.baseLayerViews=new Fe,this.referenceLayerViews=new Fe,this._loadingHandle=ue(()=>{var r,n;return(n=(r=this.view)==null?void 0:r.map)==null?void 0:n.basemap},r=>{r&&r.load().catch(()=>{})},mt)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){var r,n;if(this.view&&this.view.suspended)return!1;const t=(n=(r=this.view)==null?void 0:r.map)==null?void 0:n.basemap;return!!t&&!!t.loaded&&(this.baseLayerViews.some(i=>i.updating)||this.referenceLayerViews.some(i=>i.updating))}};c([h({constructOnly:!0})],Ad.prototype,"view",void 0),c([h({readOnly:!0})],Ad.prototype,"baseLayerViews",void 0),c([h({readOnly:!0})],Ad.prototype,"referenceLayerViews",void 0),c([h({readOnly:!0})],Ad.prototype,"suspended",null),c([h({type:Boolean,readOnly:!0})],Ad.prototype,"updating",null),Ad=c([O("esri.views.BasemapView")],Ad);function GVe(e){return"tryRecycleWith"in e}class qVe{constructor(t,r,n){this.layer=t,this.view=r,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=xc(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,Zo(this._controller.signal,()=>{const i=new V("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(i)})}tryRecycle(t){if(!this.done||!this.layerView||!GVe(this.layerView))return null;const r=this.layer.type,n=this._controller.signal;for(let i=0;i<t.length;i++){const s=t[i];if(s.type!==r)continue;const o=this.layerView.tryRecycleWith(s,{signal:n});if(o){t.splice(i,1),this.layer=s;const a=this.layerView,l=a.view;return this.promise=Promise.race([o.then(()=>(Qr(this._controller.signal),s.emit("layerview-destroy",{view:l,layerView:a}),l.emit("layerview-destroy",{view:l,layerView:a}),s.emit("layerview-create",{view:l,layerView:a}),l.emit("layerview-create",{view:l,layerView:a}),a)),new Promise((u,d)=>Zo(this._controller.signal,()=>d(kr())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(!t)return;const{layer:r,view:n}=this;r.emit("layerview-destroy",{view:n,layerView:t}),n.emit("layerview-destroy",{layer:r,layerView:t}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){var i,s,o;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:r,view:n}=this;this._map=n.map;try{let a,l;if(await r.load({signal:t}),"prefetchResources"in r&&await((i=r.prefetchResources)==null?void 0:i.call(r,{signal:t})),HVe(r))a=await r.createLayerView(n,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new V("layer:view-not-supported","No layerview implementation was found");const p=await this.layerViewImporter.importLayerView(r);Qr(t),a="default"in p?new p.default({layer:r,view:n}):new p({layer:r,view:n})}const u=()=>{l=sn(l),a.destroyed||a.destroy(),a.layer=null,a.parent=null,a.view=null,this.done=!0};l=Zo(t,u),Qr(t);try{await a.when()}catch(p){throw u(),p}if(!((o=(s=this._map)==null?void 0:s.allLayers)==null?void 0:o.includes(r)))return u(),void this._deferred.reject(new V("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=a,r.emit("layerview-create",{view:n,layerView:a}),n.emit("layerview-create",{layer:r,layerView:a}),this.done=!0,this._deferred.resolve(a)}catch(a){r.emit("layerview-create-error",{view:n,error:a}),n.emit("layerview-create-error",{layer:r,error:a}),this.done=!0,this._deferred.reject(new V("layerview:create-error","layerview creation failed",{layer:r,error:a}))}}}let Ro=class extends Ie{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new Ug,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var n;const r=(n=this.view.map)==null?void 0:n.allLayers;if(r)for(const i of r)this.layerViewImporter.hasLayerViewModule(i)&&this.layerViewImporter.importLayerView(i)},this._reschedule=()=>(G(this._workPromise)&&(this._workPromise=xc(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(lv(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var l,u,d;const r=this.view.map;if(this._map!==r&&(this.clear(),this._map=r),G(this._workPromise))return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const n=new Set,i=[],s=this.view.ready,o=p=>{if(!G(p)){for(const f of p)if(f){n.add(f);const y=this._layerLayerViewInfoMap.get(f);y&&s?y.start():y||this._recyclingInfoMap.has(f)||i.push(f),"layers"in f&&f.layers&&o(f.layers)}}};for(const p of this._rootCollectionNames)o(this.get(p));for(const[p,f]of this._layerLayerViewInfoMap)if(!n.has(p)){this._layerLayerViewInfoMap.delete(f.layer);const y=f.tryRecycle(i);y?(this._recyclingInfoMap.set(f.layer,f),y.then(()=>{this._recyclingInfoMap.delete(f.layer),this._layerLayerViewInfoMap.set(f.layer,f),this._reschedule()}).catch(()=>{this._recyclingInfoMap.delete(f.layer),f.destroy(),this._reschedule()})):f.destroy()}for(const[p,f]of this._recyclingInfoMap)n.has(p)||(this._recyclingInfoMap.delete(f.layer),f.destroy());for(const p of i)this._createLayerView(p);this._refreshCollections();const a=[(l=r==null?void 0:r.ground)==null?void 0:l.layers,(u=r==null?void 0:r.basemap)==null?void 0:u.baseLayers,(d=r==null?void 0:r.basemap)==null?void 0:d.referenceLayers,r==null?void 0:r.layers].filter(p=>!!p);n.forEach(p=>"layers"in p&&a.push(p.layers)),this.addHandles(a.map(p=>this._watchUpdatingTracking.addOnCollectionChange(()=>p,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.own([As(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),ue(()=>{const t=this.view,r=t==null?void 0:t.map;return[r==null?void 0:r.basemap,r==null?void 0:r.ground,r==null?void 0:r.layers,t==null?void 0:t.ready]},()=>this._reschedule(),wp)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null,C(this._workPromise)&&(this._workPromise.reject(kr()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return C(this._workPromise)||this._watchUpdatingTracking.updating||xO(this._layerLayerViewInfoMap,t=>!t.done)}get updatingRemaining(){let t=0;for(const r of this._layerLayerViewInfoMap.values())r.done||++t;return t}clear(){if(!this.destroyed){for(const t of this._layerLayerViewInfoMap.values())t.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new V("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}_refreshCollections(){for(const[t,r]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(t),this.get(r),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,r,n){if(!t||!r)return void(r&&r.removeAll());let i=0;for(const s of t){const o=this._layerLayerViewInfoMap.get(s);if(!o||!o.layerView)continue;const a=o.layerView;a.layer=s,a.parent=n,r.getItemAt(i)!==a&&r.splice(i,0,a),s.layers&&this._populateLayerViewsOwners(s.layers,a.layerViews,a),i+=1}i<r.length&&r.splice(i,r.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const r=new qVe(t,this.view,this.layerViewImporter);r.promise.then(()=>this._refreshCollections(),n=>{n&&(ia(n)||n.name==="cancelled:layerview-create")||oe.getLogger(this.declaredClass).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:n}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,r),this.view.ready&&r.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};c([h()],Ro.prototype,"_workPromise",void 0),c([h({readOnly:!0})],Ro.prototype,"_watchUpdatingTracking",void 0),c([h({readOnly:!0})],Ro.prototype,"_layersToLayerViews",null),c([h({readOnly:!0})],Ro.prototype,"_rootCollectionNames",null),c([h()],Ro.prototype,"layerViewImporter",void 0),c([h()],Ro.prototype,"supportsGround",void 0),c([h({readOnly:!0})],Ro.prototype,"updating",null),c([h({readOnly:!0})],Ro.prototype,"updatingRemaining",null),c([h({constructOnly:!0})],Ro.prototype,"view",void 0),Ro=c([O("esri.views.LayerViewManager")],Ro);const WVe=Ro;function HVe(e){return"createLayerView"in e&&e.createLayerView!=null}let Bs=class extends Ie{constructor(t){super(t),this.factor=1.5,this.offset=is(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};c([h({type:Number})],Bs.prototype,"factor",void 0),c([h({nonNullable:!0})],Bs.prototype,"offset",void 0),c([h()],Bs.prototype,"position",void 0),c([h({type:Number,range:{min:0}})],Bs.prototype,"size",void 0),c([h()],Bs.prototype,"maskUrl",void 0),c([h()],Bs.prototype,"maskEnabled",void 0),c([h()],Bs.prototype,"overlayUrl",void 0),c([h()],Bs.prototype,"overlayEnabled",void 0),c([h({readOnly:!0})],Bs.prototype,"version",null),c([h({type:Boolean})],Bs.prototype,"visible",void 0),Bs=c([O("esri.views.Magnifier")],Bs);const $ce=Bs;let KVe=class{constructor(){this._tasks=new Array,this._running=new mM(!1)}get length(){return this._tasks.length}get running(){return this._running.get()}destroy(){this.cancelAll()}runTask(t){for(;!t.done&&this._process(t);)t.madeProgress()}push(t,r,n){return this._running.set(!0),new Promise((i,s)=>this._tasks.push(new WW(i,s,t,r,n)))}unshift(t,r,n){return this._running.set(!0),new Promise((i,s)=>this._tasks.unshift(new WW(i,s,t,r,n)))}_process(t){var n;if(this._tasks.length===0)return!1;const r=this._tasks.shift();try{const i=Xa(r.signal);if(i&&!r.abortCallback)r.reject(kr());else{const s=i?(n=r.abortCallback)==null?void 0:n.call(r,kr()):r.callback(t);Rc(s)?s.then(r.resolve,r.reject):r.resolve(s)}}catch(i){r.reject(i)}return this._running.set(this._tasks.length>0),!0}cancelAll(){const t=kr();for(const r of this._tasks)if(r.abortCallback){const n=r.abortCallback(t);r.resolve(n)}else r.reject(t);this._tasks.length=0,this._running.set(!1)}},WW=class{constructor(t,r,n,i,s){this.resolve=t,this.reject=r,this.callback=n,this.signal=i,this.abortCallback=s}},jb=class extends Ie{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};c([h()],jb.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),c([h()],jb.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),jb=c([O("esri.views.support.DebugFlags")],jb);const JVe=new jb;var Gs;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(Gs||(Gs={}));var N4,dt;(function(e){e[e.YIELD=1]="YIELD"})(N4||(N4={})),function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e[e.TEST_PRIO=1]="TEST_PRIO"}(dt||(dt={}));const kl=0,HW=new Map([[dt.RESOURCE_CONTROLLER_IMMEDIATE,kl],[dt.RESOURCE_CONTROLLER,4],[dt.SLIDE,kl],[dt.STREAM_DATA_LOADER,kl],[dt.ELEVATION_QUERY,kl],[dt.TERRAIN_SURFACE,1],[dt.SURFACE_GEOMETRY_UPDATES,1],[dt.LOD_RENDERER,2],[dt.GRAPHICS_CORE,2],[dt.I3S_CONTROLLER,2],[dt.POINT_CLOUD_LAYER,2],[dt.FEATURE_TILE_FETCHER,2],[dt.OVERLAY,4],[dt.STAGE,4],[dt.GRAPHICS_DECONFLICTOR,4],[dt.FILTER_VISIBILITY,4],[dt.SCALE_VISIBILITY,4],[dt.FRUSTUM_VISIBILITY,4],[dt.CLOUDS_GENERATOR,4],[dt.POINT_OF_INTEREST_FREQUENT,6],[dt.POINT_OF_INTEREST_INFREQUENT,30],[dt.LABELER,8],[dt.FEATURE_QUERY_ENGINE,8],[dt.FEATURE_TILE_TREE,16],[dt.FEATURE_TILE_TREE_ACTIVE,kl],[dt.ELEVATION_ALIGNMENT,12],[dt.TEXT_TEXTURE_ATLAS,12],[dt.TEXTURE_UNLOAD,12],[dt.LINE_OF_SIGHT_TOOL,16],[dt.LINE_OF_SIGHT_TOOL_INTERACTIVE,kl],[dt.SNAPPING,kl],[dt.SHADOW_ACCUMULATOR,30]]);function KW(e){return HW.has(e)?HW.get(e):typeof e=="number"?e:1}const JW=6.5,YW=1,YVe=30,ZW=1e3/30,XW=100,QW=.9;var F4,pp;(function(e){class t{get updating(){return this._updating.get()}_updatingChanged(){this._updating.set(this._tasks.some(s=>s.needsUpdate))}constructor(){this._updating=new mM(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new uw("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new n,this._state=Gs.INTERACTING,this._tasks=new Gf,this._runQueue=new Gf,this._load=0,this._idleStateCallbacks=new Gf,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=ue(()=>JVe.SCHEDULER_LOG_SLOW_TASKS,o=>this._debug=o,mt);for(const o of Object.keys(dt))this.performanceInfo.tasks.set(dt[o],new uw(dt[o]));const s=this;this._test={FRAME_SAFETY_BUDGET:JW,INTERACTING_BUDGET:ZW,IDLE_BUDGET:XW,get availableBudget(){return s._budget.budget},usedBudget:0,getBudget:()=>s._budget,setBudget:o=>s._budget=o,updateTask:o=>this._updateTask(o),getState:o=>this._getState(o),getRuntime:o=>this._getRuntime(o),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(s=>s.remove()),this._tasks.clear(),sn(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(s){this._updatingChanged(),s&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this.frame())}))}registerTask(s,o){const a=KW(s),l=new r(this,s,o,a);return this._tasks.push(l),this._updatingChanged(),this.performanceInfo.tasks.has(s)||this.performanceInfo.tasks.set(s,new uw(s)),l}registerIdleStateCallbacks(s,o){const a={idleBegin:s,idleEnd:o};this._idleStateCallbacks.push(a),this.state===Gs.IDLE&&this._idleUpdatesStartFired&&a.idleBegin();const l=this;return{remove:()=>this._removeIdleStateCallbacks(a),set idleBegin(u){l._idleUpdatesStartFired&&(a.idleEnd(),l._state===Gs.IDLE&&u()),a.idleBegin=u},set idleEnd(u){a.idleEnd=u}}}get load(){return this._load}set state(s){this._state!==s&&(this._state=s,this.state!==Gs.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(o=>o.idleEnd())))}get state(){return this._state}updateBudget(s){this._test.usedBudget=0,++this._frameNumber;let o=JW,a=s.frameDuration,l=YW;switch(this.state){case Gs.IDLE:o=0,a=Math.max(XW,s.frameDuration),l=YVe;break;case Gs.INTERACTING:a=Math.max(ZW,s.frameDuration);case Gs.ANIMATING:}return a=a-s.elapsedFrameTime-o,this.state!==Gs.IDLE&&a<YW&&!this._forceTask?(this._forceTask=!0,!1):(a=Math.max(a,l),this._budget.reset(a,this.state),this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case Gs.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(s=>s.idleBegin())),this._runIdle();break;case Gs.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(s){this._idleUpdatesStartFired&&s.idleEnd(),this._idleStateCallbacks.removeUnordered(s)}removeTask(s){this._tasks.removeUnordered(s),this._runQueue.removeUnordered(s),this._updatingChanged()}_updateTask(s){this._tasks.forAll(o=>{o.name===s&&o.setPriority(s)})}_getState(s){if(this._runQueue.some(a=>a.name===s))return pp.SCHEDULED;let o=pp.IDLE;return this._tasks.forAll(a=>{a.name===s&&a.needsUpdate&&(a.schedulePriority<=1?o=pp.READY:o!==pp.READY&&(o=pp.WAITING))}),o}_getRuntime(s){let o=0;return this._tasks.forAll(a=>{a.name===s&&(o+=a.runtime)}),o}_resetRuntimes(){this._tasks.forAll(s=>s.runtime=0)}_getRunning(){const s=new Map;if(this._tasks.forAll(a=>{a.needsUpdate&&s.set(a.name,(s.get(a.name)||0)+1)}),s.size===0)return null;let o="";return s.forEach((a,l)=>{o+=a>1?` ${a}x ${l}`:` ${l}`}),o}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const s=this._tasks.reduce((o,a)=>a.needsUpdate?++o:o,0);this._load=this._load*QW+s*(1-QW)}_schedule(){for(this._runQueue.filterInPlace(s=>!!s.needsUpdate||(s.schedulePriority=s.basePriority,!1)),this._tasks.forAll(s=>{s.basePriority===kl&&s.needsUpdate&&!this._runQueue.includes(s)&&s.blockFrame!==this._frameNumber&&this._runQueue.unshift(s)});this._runQueue.length===0;){let s=!1,o=0;if(this._tasks.forAll(a=>{a.needsUpdate&&a.schedulePriority!==0&&a.basePriority!==kl&&a.blockFrame!==this._frameNumber&&(s=!0,o=Math.max(o,a.basePriority),a.schedulePriority===1?(a.schedulePriority=0,this._runQueue.push(a)):--a.schedulePriority)}),!s)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){const s=this._budget.now();this._startFrameTaskTimes();do for(;this._runQueue.length>0;){const o=this._budget.now(),a=this._runQueue.pop();this._budget.resetProgress();try{a.task.runTask(this._budget)===N4.YIELD&&(a.blockFrame=this._frameNumber)}catch(u){oe.getLogger("esri.views.support.Scheduler").error(`Exception in task "${a.name}"`,u)}!this._budget.hasProgressed&&a.blockFrame!==this._frameNumber&&a.needsUpdate&&(a.name,dt.I3S_CONTROLLER,a.blockFrame=this._frameNumber),a.schedulePriority=a.basePriority;const l=this._budget.now()-o;if(a.runtime+=l,this._frameTaskTimes.set(a.priority,this._frameTaskTimes.get(a.priority)+l),this._debug&&l>2*this._budget.budget&&console.log("Task",a.name,"used",l,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this._updatingChanged(),void this._recordFrameTaskTimes(this._budget.now()-s)}while(this._schedule());this._updatingChanged(),this._recordFrameTaskTimes(this._budget.now()-s)}_startFrameTaskTimes(){for(const s of Object.keys(dt))this._frameTaskTimes.set(dt[s],0)}_recordFrameTaskTimes(s){this._frameTaskTimes.forEach((o,a)=>this.performanceInfo.tasks.get(a).record(o)),this.performanceInfo.total.record(s)}get test(){return this._test}}e.Scheduler=t;class r{get task(){return this._task.get()}get updating(){return this._queue.running}constructor(s,o,a,l){this._scheduler=s,this.name=o,this._basePriority=l,this.blockFrame=0,this.runtime=0,this._queue=new KVe,this._handles=new zi,this.schedulePriority=this._basePriority,this._task=new mM(C(a)?a:this._queue),this._handles.add(Ni(()=>this.task.running,u=>s.taskRunningChanged(u)))}remove(){this.processQueue(Ece),this._scheduler.removeTask(this),this.schedule=D4.schedule,this.reschedule=D4.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(s){this.name=s;const o=KW(s);this._basePriority!==kl&&this.schedulePriority===0||(this.schedulePriority=o),this._basePriority=o}get priority(){return this.name}set priority(s){this.setPriority(s)}get needsUpdate(){return this.updating||this.task.running}schedule(s,o,a){return this._queue.push(s,o,a)}reschedule(s,o,a){return this._queue.unshift(s,o,a)}processQueue(s){this._queue.runTask(s)}}class n{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=Gs.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(s){return!this.done&&(s()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(s){this._enabled=s}reset(s,o){this._begin=this.now(),this._budget=s,this._state=o,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=n})(F4||(F4={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(pp||(pp={}));const Ece=(()=>{const e=new F4.Budget;return e.enabled=!1,e})();let ZVe=class{remove(){}processQueue(){}schedule(t,r,n){try{if(Xa(r)){const i=kr();return n?Promise.resolve(n(i)):Promise.reject(i)}return R3(t(Ece))}catch(i){return Promise.reject(i)}}reschedule(t,r,n){return this.schedule(t,r,n)}};const D4=new ZVe;let Vb=class extends Ie{constructor(t,r){super({}),this._stage=t,this._textureRequests=new Map,this._frameTask=(r==null?void 0:r.registerTask(dt.TEXTURE_UNLOAD))??D4}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(t=>this._releaseTextureRequest(t)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(t,r,n){const i=this.makeUid(t);let s=this._textureRequests.get(i);if(!s){const o=r();s={referenceCount:0,texture:o,textureAsync:null,abortController:null,onRemove:n},this._stage&&(this._stage.add(o),this._stage.loadImmediate(o)),this._textureRequests.set(i,s)}return s.referenceCount++,{uid:i,texture:s.texture,release:()=>this._release(i)}}_release(t){const r=this._textureRequests.get(t);r?(r.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+t),r.referenceCount--,r.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(t))):console.warn(`TextureCollection: texture doesn't exist: '${t}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(t){if(!this._textureRequests)return;const r=this._textureRequests.get(t);!r||r.referenceCount>0||(this._releaseTextureRequest(r),this._textureRequests.delete(t))}_releaseTextureRequest(t){var r;t.onRemove&&t.onRemove(),t.texture?(r=this._stage)==null||r.remove(t.texture):t.abortController&&(t.abortController.abort(),t.abortController=null)}makeUid(t,r=null){return C(r)?`${t}.${r}px`:t}};c([h()],Vb.prototype,"_frameTask",void 0),c([h()],Vb.prototype,"updating",null),Vb=c([O("esri.views.3d.support.TextureCollection")],Vb);var eH;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(eH||(eH={}));const Tce=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],Mce={};function Ice(e){return!!Mce[e]}function XVe(e){for(const t of e)if(!Ice(t))return!1;return!0}Tce.forEach(e=>{Mce[e]=!0});let QVe=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:r,priority:n},i)=>{var s;return(s=this.inputManager)==null?void 0:s.installHandlers(i,[r],n)})}disconnect(){this.inputManager&&this._handlers.forEach((t,r)=>{var n;return(n=this.inputManager)==null?void 0:n.uninstallHandlers(r)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,r,n,i){const s=Array.isArray(t)?t:t.split(",");if(!XVe(s))return s.some(Ice)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,a;Array.isArray(r)?a=r:(o=r,a=[]),typeof n=="function"?o=n:i=n,i=i??$h.DEFAULT;const l=this._createUniqueGroupName(),u=new eze(this.view,s,a,o);this._handlers.set(l,{handler:u,priority:i});for(const d of s){const p=this._handlerCounts.get(d)||0;this._handlerCounts.set(d,p+1)}return this.inputManager&&this.inputManager.installHandlers(l,[u],i),{remove:()=>this._removeHandler(l,s)}}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,r){if(this._handlers.has(t)){this._handlers.delete(t);for(const n of r){const i=this._handlerCounts.get(n);i===void 0?console.error("Trying to remove handler for event that has no handlers registered: ",n):i===1?this._handlerCounts.delete(n):this._handlerCounts.set(n,i-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},eze=class extends kn{constructor(t,r,n,i){super(!0),this._latestDragStart=void 0,this.view=t;for(const s of r)switch(s){case"click":this.registerIncoming("click",n,o=>i(this._wrapClick(o)));break;case"double-click":this.registerIncoming("double-click",n,o=>i(this._wrapDoubleClick(o)));break;case"immediate-click":this.registerIncoming("immediate-click",n,o=>i(this._wrapImmediateClick(o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,o=>i(this._wrapImmediateDoubleClick(o)));break;case"hold":this.registerIncoming("hold",n,o=>i(this._wrapHold(o)));break;case"drag":this.registerIncoming("drag",n,o=>{const a=this._wrapDrag(o);a&&i(a)});break;case"key-down":this.registerIncoming("key-down",n,o=>i(this._wrapKeyDown(o)));break;case"key-up":this.registerIncoming("key-up",n,o=>i(this._wrapKeyUp(o)));break;case"pointer-down":this.registerIncoming("pointer-down",n,o=>i(this._wrapPointer(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",n,o=>i(this._wrapPointer(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",n,o=>i(this._wrapPointer(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,o=>i(this._wrapPointerDrag(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,o=>i(this._wrapMouseWheel(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,o=>i(this._wrapPointer(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,o=>i(this._wrapPointer(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",n,o=>{i(this._wrapGamepad(o))});break;case"focus":this.registerIncoming("focus",n,o=>{i(this._wrapFocus(o))});break;case"blur":this.registerIncoming("blur",n,o=>{i(this._wrapBlur(o))})}}_wrapFocus(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}_wrapBlur(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}_wrapClick(t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:u,timestamp:d}=t;return{type:"click",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:d,screenPoint:is(s,o),mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}_wrapDoubleClick(t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:u,timestamp:d}=t;return{type:"double-click",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:d,mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}_wrapImmediateClick(t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,u=a.pointerId,{cancelable:d,timestamp:p}=t;return{type:"immediate-click",pointerId:u,pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:p,mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapImmediateDoubleClick(t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,u=a.pointerId,{cancelable:d,timestamp:p}=t;return{type:"immediate-double-click",pointerId:u,pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:p,mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapHold(t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a}=t.data,{cancelable:l,timestamp:u}=t;return{type:"hold",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:u,mapPoint:this._getMapPoint(s,o),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:d=>t.async(d),preventDefault:()=>t.preventDefault()}}_getMapPoint(t,r){return this.view.toMap(is(t,r),{exclude:[]})}_wrapDrag(t){const r=t.data,{x:n,y:i}=r.center,{action:s,pointerType:o,button:a}=r;if(s==="start"&&(this._latestDragStart=r),!this._latestDragStart)return;const l=r.pointer.native,u=r.buttons,{cancelable:d,timestamp:p}=t,f={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:n,y:i,origin:f,pointerType:o,button:a,buttons:u,radius:r.radius,angle:qie(r.angle),native:l,timestamp:p,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}_wrapKeyDown(t){const{key:r,repeat:n,native:i}=t.data,{cancelable:s,timestamp:o}=t;return{type:"key-down",key:r,repeat:n,native:i,timestamp:o,cancelable:s,stopPropagation:()=>t.stopPropagation(),async:a=>t.async(a),preventDefault:()=>t.preventDefault()}}_wrapKeyUp(t){const{key:r,native:n}=t.data,{cancelable:i,timestamp:s}=t;return{type:"key-up",key:r,native:n,timestamp:s,cancelable:i,stopPropagation:()=>t.stopPropagation(),async:o=>t.async(o),preventDefault:()=>t.preventDefault()}}_wrapPointer(t,r){const{x:n,y:i,button:s,buttons:o,native:a,eventId:l}=t.data,u=a.pointerId,d=a.pointerType,{cancelable:p,timestamp:f}=t;return{type:r,x:n,y:i,pointerId:u,pointerType:d,button:s,buttons:o,native:a,timestamp:f,eventId:l,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}_wrapPointerDrag(t){const{x:r,y:n,buttons:i,native:s,eventId:o}=t.data.currentEvent,{button:a}=t.data.startEvent,l=t.data.startEvent.native.pointerId,u=t.data.startEvent.native.pointerType,d=t.data.action,p={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:f,timestamp:y}=t;return{type:"pointer-drag",x:r,y:n,pointerId:l,pointerType:u,button:a,buttons:i,action:d,origin:p,native:s,timestamp:y,eventId:o,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:v=>t.async(v),preventDefault:()=>t.preventDefault()}}_wrapMouseWheel(t){const{cancelable:r,data:n,timestamp:i}=t,{x:s,y:o,deltaY:a,native:l}=n;return{type:"mouse-wheel",x:s,y:o,deltaY:a,native:l,timestamp:i,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:u=>t.async(u),preventDefault:()=>t.preventDefault()}}_wrapGamepad(t){const{action:r,state:n,device:i}=t.data,{cancelable:s,timestamp:o}=t,{buttons:a,axes:l}=n;return{type:"gamepad",device:i,timestamp:o,action:r,buttons:a,axes:l,cancelable:s,stopPropagation:()=>t.stopPropagation(),async:u=>t.async(u),preventDefault:()=>t.preventDefault()}}};var F_,tH,rH;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(F_||(F_={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(tH||(tH={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(rH||(rH={}));function tze(e){return[e.on("before-add",t=>{const r=t.item;if(r==null||e.includes(r))return oe.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();r.onAdd()}),e.on("after-remove",t=>{const r=t.item;r.active&&(r.view.activeTool=null),r.destroy()})]}function j4(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(F_.USER)&&e.getEditableFlag(F_.MANAGER)}function El(e){return is(e.x,e.y)}function Oce(e,t){var n;const r=(n=e instanceof HTMLElement?e:e.surface)==null?void 0:n.getBoundingClientRect();return r?is(t.clientX-r.left,t.clientY-r.top):is(0,0)}function nH(e,t){return t instanceof Event?Oce(e,t):El(t)}function iH(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let rze=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(t,r){const n=()=>t.stopPropagation();switch(t.type){case"pointer-move":sH(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(n(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!oH(t))break;const i=El(t),s=this._intersect(i,t.pointerType,r.forEachTool);if(G(s))break;const o=s.manipulator,a=s.tool;!(C(o)&&C(a)&&o.interactive)||o.grabbable&&o.grabbableForEvent(t)||!o.grabbing||o.dragging||this._ungrabManipulatorBeforeDragging(o,t,r),C(o)&&C(a)&&o.interactive&&o.grabbable&&o.grabbableForEvent(t)&&!o.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:o,tool:a,start:i,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&G(r.activeTool)&&(this._revertToNullActiveTool=!0,r.setActiveTool(s.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:i}),n());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,r);break;case"pointer-drag":{if(!oH(t))break;const i=this._grabbedManipulators.get(t.pointerId),s=nh(i,({manipulator:d})=>d),o=nh(i,({tool:d})=>d);if(G(s)||G(o))break;const a=El(t);a.x=Ps(a.x,0,r.view.width),a.y=Ps(a.y,0,r.view.height);const l=i.start,u=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,u?s.events.emit("drag",{action:"update",start:l,screenPoint:a}):s.events.emit("drag",{action:"start",start:l,screenPoint:a,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:o,manipulator:s,start:l}));break;case"end":s.dragging=!1,u&&s.events.emit("drag",{action:"end",start:l,screenPoint:a}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,r)}n();break}case"immediate-click":{const i=El(t),s=this._intersect(i,t.pointerType,r.forEachTool);if(nze(t)||r.forEachTool(u=>{if((!C(s)||s.tool!==u||u.automaticManipulatorSelection)&&u.manipulators){let d=!1;u.manipulators.forEach(({manipulator:p})=>{p.selected&&(p.selected=!1,d=!0)}),d&&u.onManipulatorSelectionChanged&&u.onManipulatorSelectionChanged()}}),G(s))break;const{manipulator:o,tool:a}=s;if(!o.interactive)break;o.selectable&&a.automaticManipulatorSelection&&(o.selected=!o.selected,a.onManipulatorSelectionChanged&&a.onManipulatorSelectionChanged());const l=t.native.shiftKey;o.events.emit("immediate-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:n});break}case"click":{const i=El(t),s=this._intersect(i,t.pointerType,r.forEachTool),o=C(s)?s.manipulator:null;if(G(o)||!o.interactive)break;const a=t.native.shiftKey;o.events.emit(t.type,{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a}),n();break}case"double-click":{const i=El(t),s=this._intersect(i,t.pointerType,r.forEachTool),o=C(s)?s.manipulator:null;if(G(o)||!o.interactive)break;const a=t.native.shiftKey;o.events.emit("double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:n});break}case"immediate-double-click":{const i=El(t),s=this._intersect(i,t.pointerType,r.forEachTool),o=C(s)?s.manipulator:null;if(G(o)||!o.interactive)break;const a=t.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:n});break}}this._onFocusChange(r.forEachTool)}_ungrabManipulatorBeforeDragging(t,r,n){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:r.pointerType,screenPoint:El(r)}),this._grabbedManipulators.forEach(({manipulator:i},s)=>{i===t&&this._grabbedManipulators.delete(s)}),this._afterManipulatorUngrab(n.setActiveTool)}_handlePointerEnd(t,r){const n=nh(this._grabbedManipulators.get(t.pointerId),({manipulator:i})=>i);G(n)||n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:El(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorUngrab(r.setActiveTool))}_cursorFromMap(t){let r=null;return xO(t,({manipulator:n})=>!(G(n)||!n.interactive)&&(n.grabbing&&n.grabCursor?(r=n.grabCursor,!0):!!n.cursor&&(r=n.cursor,!0))),r}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const r=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:i})=>{r.add(i)}),this._hoveredManipulators.forEach(({tool:i})=>{n.add(i)}),t(i=>{i.hasGrabbedManipulators=r.has(i),i.hasHoveredManipulators=n.has(i);const s=this._grabbedManipulators.values(),o=Vxe(s,({tool:a})=>a===i);i.firstGrabbedManipulator=C(o)?o.manipulator:null})}clearPointers(t,{forEachTool:r,setActiveTool:n},i=!0,s){const o=(a,l)=>a===t&&(G(s)||s===l);this._grabbedManipulators.forEach(({tool:a,manipulator:l,pointerType:u},d)=>{o(a,l)&&(this._grabbedManipulators.delete(d),l.grabbing=!1,l.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:u}))}),this._draggedManipulators.forEach(({tool:a,manipulator:l},u)=>{o(a,l)&&(this._draggedManipulators.delete(u),l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}),i&&this._hoveredManipulators.forEach(({tool:a,manipulator:l},u)=>{o(a,l)&&(this._hoveredManipulators.delete(u),l.hovering=!1)}),this._afterManipulatorUngrab(n),this._onFocusChange(r)}_intersect(t,r,n){let i=null;return n(s=>{if(s.manipulators==null||!j4(s))return!1;const o=s.manipulators.intersect(t,r);return!G(o)&&(i={tool:s,manipulator:o},!0)}),i}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((r,n)=>{this._updateHoveredStateForPointerAtScreenPosition(is(r.x,r.y),n,r.pointerType,t)})}handleHoverEvent(t,r){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!sH(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(El(t),t.pointerId,t.pointerType,r)}_updateHoveredStateForPointerAtScreenPosition(t,r,n,i){let s=this._intersect(t,n,i);const o=nh(this._hoveredManipulators.get(r),({manipulator:a})=>a);C(s)&&!s.manipulator.interactive&&(s=null),C(s)&&o===s.manipulator||(C(o)&&(o.hovering=!1),C(s)?(s.manipulator.hovering=!0,this._hoveredManipulators.set(r,s)):this._hoveredManipulators.delete(r),this._onFocusChange(i))}_afterManipulatorUngrab(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}};function sH(e){return e==="mouse"}function oH(e){return e.pointerType!=="mouse"||e.button===0}function nze(e){return!!e.native.shiftKey}const aH="attached",Sk="tools";let zu=class extends rM{constructor(t){super(t),this._manipulatorState=new rze,this.tools=new Fe,this.cursor=null,this._forEachTool=r=>{for(const n of this.tools.items)if(r(n))return}}initialize(){this.handles.add([this.view.on(Tce,t=>{this._handleInputEvent(t)},$h.TOOL),...tze(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(C(t)&&!this.view.ready)return void oe.getLogger(this.declaredClass).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const r=this.activeTool;this._set("activeTool",t),C(r)&&r.deactivate(),C(t)&&t.activate(),this._removeIncompleteTools(t);for(const n of this.tools){this._updateToolEditableFlag(n);const i=j4(n);!G(this.activeTool)&&i||this._manipulatorState.clearPointers(n,this._manipulatorStateEventArgs,!i)}this._updateCursor()}get updating(){var t;return this.updatingHandles.updating||this.tools.some(r=>r.updating)||(((t=this.textures)==null?void 0:t.updating)??!1)}attach(){var t;this.view.type==="3d"?(this._set("textures",new Vb(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([ue(()=>{const{state:r}=this.view;return"camera"in r&&r.camera},()=>this._forEachManipulator(r=>r.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",r=>this._forEachManipulator(n=>n.onElevationChange(r))),av(()=>this._set("textures",Ur(this.textures)))],aH)):this.handles.add(ue(()=>this.view.extent,()=>this._forEachManipulator(r=>r.onViewChange())))}detach(){C(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(aH)}_forEachManipulator(t){this._forEachTool(r=>{r.manipulators&&r.manipulators.forEach(({manipulator:n})=>t(n,r))})}_handleInputEvent(t){let r=!1;const n={...t,stopPropagation:()=>{r=!0,t.stopPropagation()}};C(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool(i=>{!r&&i.visible&&i.handleInputEvent(n)}),!r&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),!r&&C(this.activeTool)&&this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(Sk),this._forEachTool(t=>{if(t instanceof Ie){const r=ue(()=>[t.cursor,t.visible,t.editable],()=>{j4(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.handles.add(r,Sk)}t.manipulators&&this.handles.add([t.manipulators.on("after-remove",r=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,r.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],Sk)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var r;(r=t.setEditableFlag)==null||r.call(t,F_.MANAGER,G(this.activeTool)||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;G(t)&&this._forEachTool(r=>!(!C(r.cursor)||!r.visible)&&(t=r.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(r=>(G(t)||r!==t)&&!r.created&&r.removeIncompleteOnCancel).forEach(r=>{this.tools.remove(r)})}};c([h({constructOnly:!0,nonNullable:!0})],zu.prototype,"view",void 0),c([h({readOnly:!0,nonNullable:!0})],zu.prototype,"textures",void 0),c([h({value:null})],zu.prototype,"activeTool",null),c([h({readOnly:!0,type:Fe})],zu.prototype,"tools",void 0),c([h({readOnly:!0})],zu.prototype,"cursor",void 0),c([h({readOnly:!0})],zu.prototype,"updating",null),zu=c([O("esri.views.ToolViewManager")],zu);const ize=zu;let Hy=class extends Ie{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":sze.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return oze[this.deviceType]}};c([h({nonNullable:!0,readOnly:!0})],Hy.prototype,"nativeIndex",void 0),c([h({type:String,readOnly:!0})],Hy.prototype,"deviceType",null),c([h({type:Number,readOnly:!0})],Hy.prototype,"axisThreshold",null),Hy=c([O("esri.views.input.gamepad.GamepadInputDevice")],Hy);const sze=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),oze={standard:.15,spacemouse:.025,unknown:0},G9=Hy;let zb=class extends Ie{constructor(...t){super(...t),this.devices=new Fe,this.enabledFocusMode="document"}};c([h({type:Fe.ofType(G9),readOnly:!0})],zb.prototype,"devices",void 0),c([h({type:["document","view","none"]})],zb.prototype,"enabledFocusMode",void 0),zb=c([O("esri.views.input.gamepad.GamepadSettings")],zb);const aze=zb;let TE=class extends Ie{constructor(){super(...arguments),this.gamepad=new aze}};c([h({readOnly:!0})],TE.prototype,"gamepad",void 0),TE=c([O("esri.views.input.Input")],TE);const lze=TE;let Pd=class extends Ie{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};c([h({type:Boolean,nonNullable:!0})],Pd.prototype,"enabled",void 0),c([h({type:G9})],Pd.prototype,"device",void 0),c([h({type:["pan","zoom"],nonNullable:!0})],Pd.prototype,"mode",void 0),c([h({type:["forward-down","forward-up"],nonNullable:!0})],Pd.prototype,"tiltDirection",void 0),c([h({type:Number,nonNullable:!0})],Pd.prototype,"velocityFactor",void 0),Pd=c([O("esri.views.navigation.gamepad.GamepadSettings")],Pd);const Cce=Pd;let tf=class extends Ie{constructor(t){super(t),this.browserTouchPanEnabled=!0,this.gamepad=new Cce,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};c([h({type:Boolean})],tf.prototype,"browserTouchPanEnabled",void 0),c([h({type:Cce,nonNullable:!0})],tf.prototype,"gamepad",void 0),c([h({type:Boolean})],tf.prototype,"momentumEnabled",void 0),c([h({type:Boolean})],tf.prototype,"mouseWheelZoomEnabled",void 0),tf=c([O("esri.views.navigation.Navigation")],tf);const Ace=tf;var lH;function uze(e){var n;const t=e.url?xv(e.url):void 0;return!(((n=e.spatialReference)==null?void 0:n.vcsWkid)==null&&C(t)&&t.serverType==="ImageServer")&&Pce(e)&&e.heightModelInfo?e.heightModelInfo:cze(e)?sC.deriveUnitFromSR(hze,e.spatialReference):null}function Pce(e){return"heightModelInfo"in e}function kce(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function cze(e){return kce(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):Rce(e)}function dze(e){return e.layers!=null||Rce(e)||kce(e)||Pce(e)}function Rce(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(lH||(lH={}));const hze=new sC({heightModel:"gravity-related-height"});var bM;(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(bM||(bM={}));let V4,xk=null;async function pze(e){xk||(xk=Y(()=>import("./geometryServiceUtils-0ff78193.js"),[]).then(t=>V4=t)),await xk,Qr(e)}async function Lce(e,t,r,n){if(!e)return null;const i=e.spatialReference;return _m()||Fh(i,t)?Fm(e,t):V4?V4.projectGeometry(e,t,r,n):(await Promise.race([pze(n),Sm(n)]),Lce(e,t,r,n))}let Jt=class extends Ie{constructor(t){super(t),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=uT(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return C(this.userSpatialReference)?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return G(this.userSpatialReference)||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var n,i,s,o;const t=(n=this.map)==null?void 0:n.call(this),r=[];return C(this.priorityCollection)&&r.push(this.priorityCollection),r.push({parent:t==null?void 0:t.basemap,layers:(i=t==null?void 0:t.basemap)==null?void 0:i.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(s=t==null?void 0:t.ground)==null?void 0:s.layers},{parent:t==null?void 0:t.basemap,layers:(o=t==null?void 0:t.basemap)==null?void 0:o.referenceLayers}),r}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:t,updating:r}=this._allLayers;let n=null;for(const s of t){const o=this._getSupportedSpatialReferences(s);if(o.length>0){const a=this._narrowDownSpatialReferenceCandidates(n,o);C(a)&&(n=a)}if(C(n)&&n.length===1)break}if(r&&(G(n)||n.length!==1))return{updating:!0};const i=this._pickSpatialReferenceCandidate(n);return{spatialReference:C(i)?i.spatialReference:null,viewingMode:C(i)?i.viewingMode:null,updating:!1}}get _tileInfoTask(){var n,i,s,o,a,l,u;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:t,updating:r}=this._collectLayers([{parent:(i=(n=this.map)==null?void 0:n.call(this))==null?void 0:i.basemap,layers:(a=(o=(s=this.map)==null?void 0:s.call(this))==null?void 0:o.basemap)==null?void 0:a.baseLayers},{layers:(u=(l=this.map)==null?void 0:l.call(this))==null?void 0:u.layers}]);if(t&&t.length>0&&"tileInfo"in t[0]){const d=t[0].tileInfo;return{tileInfo:d&&d.spatialReference.equals(this.spatialReference)?d:null,updating:!1}}return{updating:r}}get _heightModelInfoTask(){var n,i,s;if(!this.required.heightModelInfo||this.suspended&&((n=this._get("_heightModelInfoTask"))!=null&&n.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};const{layers:t,updating:r}=this._allLayers;for(const o of t)if(dze(o)){const a=uze(o);if(a)return{heightModelInfo:a,vcsWkid:(i=o.spatialReference)==null?void 0:i.vcsWkid,latestVcsWkid:(s=o.spatialReference)==null?void 0:s.latestVcsWkid,updating:!1}}return{updating:r}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=this._allLayers,r=t.updating,n=[];for(const i of t.layers){const s="fullExtents"in i&&i.fullExtents||(C(i.fullExtent)?[i.fullExtent]:[]),o=this.requiresExtentInSpatialReference?null:s[0],a=s.find(l=>l.spatialReference.equals(this.spatialReference))??o;if(a)return{candidates:[{extent:a,layer:i}],updating:!1};if(this._getSupportedSpatialReferences(i).length>0)for(const l of s)n.push({extent:l,layer:i})}return{candidates:n,updating:r}}get _extentTask(){const{candidates:t,updating:r}=this._extentCandidatesTask;if(r)return{updating:r};if(G(t)||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const n=this._pickExtentCandidate(t),i=this.spatialReference;return n.extent.equals(this._projectExtentTask.input)&&i.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:C(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:(C(this._projectExtentTask.task)&&(this._projectExtentTask.task=uT(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:i.clone(),task:Koe(async s=>{try{const o=await Lce(n.extent,i,n.layer.portalItem,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Xa(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,r){if(G(t))return r;const n=[],i=(s,o)=>C(s)?C(o)?s===o&&s:s:o;for(const s of t)for(const o of r){if(!s.spatialReference.equals(o.spatialReference))continue;const a=i(s.viewingMode,o.viewingMode);if(a!==!1){n.push({spatialReference:s.spatialReference,viewingMode:a});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(t){const r=this.defaultSpatialReference;return G(t)||t.length<1?C(r)?{spatialReference:r,viewingMode:null}:null:(C(r)&&t.length>1&&t.some(({spatialReference:n})=>n.equals(r))&&(t=t.filter(({spatialReference:n})=>n.equals(r))),t.length>1&&t.some(({viewingMode:n})=>n!==bM.Local)&&(t=t.filter(({viewingMode:n})=>n!==bM.Local)),t[0])}_getSupportedSpatialReferences(t){const r="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(r.length===0)return[];const n=[];for(const i of r){const s=this.getSpatialReferenceSupport({spatialReference:i,layer:t});if(C(s)){const o=C(s.constraints)?s.constraints:[{spatialReference:i,viewingMode:null}];for(const{spatialReference:a,viewingMode:l}of o)(!this.requiresExtentInSpatialReference||G(this.userSpatialReference)||a.equals(this.userSpatialReference))&&n.push({spatialReference:a,viewingMode:l})}}return n}_pickExtentCandidate(t){const r=this.spatialReference;return t.find(({extent:n})=>r.equals(n.spatialReference))||t[0]}_collectLayers(t){var n;if(this._loadMaybe((n=this.map)==null?void 0:n.call(this))!=="loaded")return{layers:[],updating:!0};const r={layers:[],preloading:-1,updating:!1};for(const i of t)if(this._collectCollection(i,r),r.preloading===this.sourcePreloadCount)break;return{layers:r.layers,updating:r.updating}}_collectCollection(t,r){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return r.updating=!0,void++r.preloading;case"failed":return}for(const n of t.layers){switch(this._loadMaybe(n)){case"failed":continue;case"loading":r.updating=!0,++r.preloading;break;case"loaded":r.updating||r.layers.push(n),"layers"in n&&this._collectCollection({layers:n.layers},r)}if(r.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(()=>{}),"loading"):t.loadStatus:"loaded"}};c([h()],Jt.prototype,"required",void 0),c([h({constructOnly:!0})],Jt.prototype,"map",void 0),c([h({constructOnly:!0})],Jt.prototype,"getSpatialReferenceSupport",void 0),c([h()],Jt.prototype,"defaultSpatialReference",void 0),c([h()],Jt.prototype,"userSpatialReference",void 0),c([h()],Jt.prototype,"sourcePreloadCount",void 0),c([h()],Jt.prototype,"priorityCollection",void 0),c([h()],Jt.prototype,"requiresExtentInSpatialReference",void 0),c([h()],Jt.prototype,"suspended",void 0),c([h({readOnly:!0})],Jt.prototype,"ready",null),c([h({readOnly:!0})],Jt.prototype,"heightModelInfoReady",null),c([h({readOnly:!0})],Jt.prototype,"spatialReference",null),c([h({readOnly:!0})],Jt.prototype,"extent",null),c([h({readOnly:!0})],Jt.prototype,"heightModelInfo",null),c([h({readOnly:!0})],Jt.prototype,"vcsWkid",null),c([h({readOnly:!0})],Jt.prototype,"latestVcsWkid",null),c([h({readOnly:!0})],Jt.prototype,"viewingMode",null),c([h({readOnly:!0})],Jt.prototype,"tileInfo",null),c([h({readOnly:!0})],Jt.prototype,"mapCollections",null),c([h({readOnly:!0})],Jt.prototype,"_allLayers",null),c([h({readOnly:!0})],Jt.prototype,"_spatialReferenceTask",null),c([h({readOnly:!0})],Jt.prototype,"_tileInfoTask",null),c([h({readOnly:!0})],Jt.prototype,"_heightModelInfoTask",null),c([h({readOnly:!0})],Jt.prototype,"_extentCandidatesTask",null),c([h()],Jt.prototype,"_extentTask",null),c([h()],Jt.prototype,"_projectExtentTask",void 0),Jt=c([O("esri.views.support.DefaultsFromMap")],Jt);var ME;let je=ME=class extends Dm(au.EventedMixin(TO(Ie))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new T_({getCollections:()=>{var t,r,n;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(r=this.groundView)==null?void 0:r.layerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:t=>t.layerViews}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new Zf,this.analyses=new vM,this.typeSpecificPreconditionsReady=!0,this.layerViews=new Fe,this.magnifier=new $ce,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.timeReference=new M0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new lze,this.navigation=new Ace,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new QVe(this),this.persistableViewModels=new Fe,this._isValid=!1,this._readyCycleForced=!1,this._currentSpatialReference=null,this.handles.add(ue(()=>this.preconditionsReady,t=>{var r,n;t?(this._currentSpatialReference=this.spatialReference,ME.views.add(this)):(this._currentSpatialReference=null,ME.views.remove(this)),this.notifyChange("spatialReference"),!t&&this.ready?((r=this.toolViewManager)==null||r.detach(),C(this.analysisViewManager)&&this.analysisViewManager.detach(),(n=this.layerViewManager)==null||n.clear(),this._teardown()):t&&!this.ready&&(this._startup(),C(this.analysisViewManager)&&this.analysisViewManager.attach(),this.toolViewManager.attach())},h0))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,h_(()=>this.ready)))),this.basemapView=new Ad({view:this}),this.layerViewManager=new WVe({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new ize({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([ue(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},{sync:!0,initial:!0}),ue(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},{sync:!0}),ue(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let e=null;this.handles.add([ue(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var n;const r=((n=this.map)==null?void 0:n.allLayers.length)>0;if(t&&!this.spatialReference&&r){if(C(e))return;const i=av(()=>e=uT(e));e=Koe(async s=>{try{await ES(this.spatialReferenceWarningDelay,null,s)}catch{return}finally{e=null}oe.getLogger(this.declaredClass).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.handles.add(i,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Ur(this.graphics),this.analyses=Ur(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),Ur(this.analysisViewManager),this.toolViewManager=Ur(this.toolViewManager),this.layerViewManager=Ur(this.layerViewManager),this.basemapView=Ur(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const e=this.map;this.map=null,e==null||e.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return oe.getLogger(this.declaredClass).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Jt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:e=>this.getSpatialReferenceSupport(e),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Mc.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(oe.getLogger(this.declaredClass).warn("#map","The provided map is already destroyed",{map:e}),e=null),Mc.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",e))}get spatialReference(){var t,r;let e=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return e&&((r=(t=this.defaultsFromMap)==null?void 0:t.required)!=null&&r.heightModelInfo)&&(e=e.clone(),e.vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e}set spatialReference(e){const t=!An(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null;return C(e)?e:this._cursor||"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(e){return this.layerViewManager.whenLayerView(e)}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}importLayerView(e){throw new V("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return C(this.getSpatialReferenceSupport({spatialReference:e}))}when(e,t){return this.isResolved()&&!this.ready&&oe.getLogger(this.declaredClass).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(Ni(()=>this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};je.views=new Fe,c([h()],je.prototype,"_userSpatialReference",void 0),c([h()],je.prototype,"activeTool",null),c([h({readOnly:!0})],je.prototype,"allLayerViews",void 0),c([h()],je.prototype,"groundView",void 0),c([h()],je.prototype,"animation",null),c([h()],je.prototype,"basemapView",void 0),c([h()],je.prototype,"center",null),c([h({readOnly:!0})],je.prototype,"_defaultsFromMapSettings",null),c([h()],je.prototype,"defaultsFromMap",null),c([h()],je.prototype,"fatalError",void 0),c([h({type:Pt})],je.prototype,"extent",null),c([h(L4(Zf,"graphics"))],je.prototype,"graphics",void 0),c([h(L4(vM,"analyses"))],je.prototype,"analyses",void 0),c([h({readOnly:!0,type:sC})],je.prototype,"heightModelInfo",null),c([h({readOnly:!0})],je.prototype,"interacting",null),c([h({readOnly:!0})],je.prototype,"navigating",null),c([h({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],je.prototype,"preconditionsReady",null),c([h({readOnly:!0})],je.prototype,"typeSpecificPreconditionsReady",void 0),c([h({type:Fe,readOnly:!0})],je.prototype,"layerViews",void 0),c([h()],je.prototype,"resolution",null),c([h({type:$ce})],je.prototype,"magnifier",void 0),c([h({value:null,type:xce})],je.prototype,"map",null),c([h()],je.prototype,"padding",void 0),c([h({readOnly:!0})],je.prototype,"ready",void 0),c([h({type:Ge})],je.prototype,"spatialReference",null),c([h()],je.prototype,"spatialReferenceWarningDelay",void 0),c([h()],je.prototype,"stationary",null),c([h({readOnly:!0})],je.prototype,"supportsGround",void 0),c([h({type:cu})],je.prototype,"timeExtent",void 0),c([h({type:M0,nonNullable:!0})],je.prototype,"timeReference",void 0),c([h()],je.prototype,"tools",null),c([h()],je.prototype,"toolViewManager",void 0),c([h({readOnly:!0})],je.prototype,"type",void 0),c([h({type:Number})],je.prototype,"scale",void 0),c([h({readOnly:!0})],je.prototype,"updating",void 0),c([h({readOnly:!0})],je.prototype,"initialExtentRequired",void 0),c([h({readOnly:!0})],je.prototype,"initialExtent",null),c([h()],je.prototype,"cursor",null),c([h({readOnly:!0})],je.prototype,"input",void 0),c([h({type:Ace,nonNullable:!0})],je.prototype,"navigation",void 0),c([h()],je.prototype,"layerViewManager",void 0),c([h()],je.prototype,"analysisViewManager",void 0),c([h()],je.prototype,"width",void 0),c([h()],je.prototype,"height",void 0),c([h({readOnly:!0})],je.prototype,"resizing",void 0),c([h({value:null,readOnly:!0})],je.prototype,"size",null),c([h({readOnly:!0})],je.prototype,"suspended",void 0),c([h({readOnly:!0})],je.prototype,"viewEvents",void 0),c([h({readOnly:!0})],je.prototype,"persistableViewModels",void 0),c([h()],je.prototype,"_isValid",void 0),c([h()],je.prototype,"_readyCycleForced",void 0),c([h()],je.prototype,"_currentSpatialReference",void 0),je=ME=c([O("esri.views.View")],je);const fze=je;let kd=class extends CT{constructor(t){super(t),this.state="running",this.target=null,this._dfd=null}initialize(){this.addResolvingPromise(new Promise((t,r)=>this._dfd={resolve:t,reject:r}))}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._dfd)==null||t.reject(new V("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._dfd)==null||t.resolve())}update(t,r){r||(r=Rc(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",r)}};c([h({readOnly:!0})],kd.prototype,"done",null),c([h({readOnly:!0,type:String})],kd.prototype,"state",void 0),c([h()],kd.prototype,"target",void 0),kd=c([O("esri.views.ViewAnimation")],kd),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(kd||(kd={}));const z4=kd;function wf(e,t,r,n){const i=3*e,s=3*(r-e)-i,o=1-i-s,a=3*t,l=3*(n-t)-a,u=1-a-l;function d(v){return((o*v+s)*v+i)*v}function p(v){return((u*v+l)*v+a)*v}function f(v){return(3*o*v+2*s)*v+i}function y(v,g){let b,w,S,_,x,$;for(S=v,$=0;$<8;$++){if(_=d(S)-v,Math.abs(_)<g)return S;if(x=f(S),Math.abs(x)<1e-6)break;S-=_/x}if(b=0,w=1,S=v,S<b)return b;if(S>w)return w;for(;b<w;){if(_=d(S),Math.abs(_-v)<g)return S;v>_?b=S:w=S,S=.5*(w-b)+b}return S}return function(v,g=1e-6){return p(y(v,g))}}const mze=/^cubic-bezier\((.*)\)/,Fo={};function yze(e){let t=Fo[e]||null;if(!t){const r=mze.exec(e);if(r){const n=r[1].split(",").map(i=>parseFloat(i.trim()));n.length!==4||n.some(i=>isNaN(i))||(t=wf.apply(wf,n))}}return t}Fo.ease=wf(.25,.1,.25,1),Fo.linear=wf(0,0,1,1),Fo.easeIn=Fo["ease-in"]=wf(.42,0,1,1),Fo.easeOut=Fo["ease-out"]=wf(0,0,.58,1),Fo.easeInOut=Fo["ease-in-out"]=wf(.42,0,.58,1);function Eh(){return[1,0,0,1,0,0]}function gze(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function vze(e,t,r,n,i,s){return[e,t,r,n,i,s]}function bze(e,t){return new Float64Array(e,t,6)}Object.freeze(Object.defineProperty({__proto__:null,clone:gze,create:Eh,createView:bze,fromValues:vze},Symbol.toStringTag,{value:"Module"}));function D_(e,t){return e[0]=t[0],e[1]=t[1],e}function Un(e,t,r){return e[0]=t,e[1]=r,e}function Nce(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function j_(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function Fce(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function Dce(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function wze(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function _ze(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function Sze(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function xze(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function $ze(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function XS(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function Eze(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function QS(e,t){const r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function wM(e,t){const r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function _M(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function jce(e){const t=e[0],r=e[1];return t*t+r*r}function Vce(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Tze(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function U4(e,t){const r=t[0],n=t[1];let i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function zce(e,t){return e[0]*t[0]+e[1]*t[1]}function Uce(e,t,r){const n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function Mze(e,t,r,n){const i=t[0],s=t[1];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e}function Ize(e,t){t=t||1;const r=2*FO()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function Oze(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function Fl(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function Cze(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function Aze(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function Pze(e,t,r,n){const i=t[0]-r[0],s=t[1]-r[1],o=Math.sin(n),a=Math.cos(n);return e[0]=i*a-s*o+r[0],e[1]=i*o+s*a+r[1],e}function kze(e,t){const r=e[0],n=e[1],i=t[0],s=t[1];let o=r*r+n*n;o>0&&(o=1/Math.sqrt(o));let a=i*i+s*s;a>0&&(a=1/Math.sqrt(a));const l=(r*i+n*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function Rze(e){return"vec2("+e[0]+", "+e[1]+")"}function Lze(e,t){return e[0]===t[0]&&e[1]===t[1]}function Nze(e,t){const r=e[0],n=e[1],i=t[0],s=t[1],o=sa();return Math.abs(r-i)<=o*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-s)<=o*Math.max(1,Math.abs(n),Math.abs(s))}function Fze(e,t,r,n,i){let s=t[0]-r[0],o=t[1]-r[1];const a=(n[0]*s+n[1]*o)*(i-1);return s=n[0]*a,o=n[1]*a,e[0]=t[0]+s,e[1]=t[1]+o,e}const Dze=_M,q9=j_,jze=Fce,Vze=Dce,zze=QS,Uze=wM,Bze=jce;Object.freeze(Object.defineProperty({__proto__:null,add:Nce,angle:kze,ceil:wze,copy:D_,cross:Uce,dist:zze,distance:QS,div:Vze,divide:Dce,dot:zce,equals:Nze,exactEquals:Lze,floor:_ze,inverse:Tze,len:Dze,length:_M,lerp:Mze,max:xze,min:Sze,mul:jze,multiply:Fce,negate:Vce,normalize:U4,projectAndScale:Fze,random:Ize,rotate:Pze,round:$ze,scale:XS,scaleAndAdd:Eze,set:Un,sqrDist:Uze,sqrLen:Bze,squaredDistance:wM,squaredLength:jce,str:Rze,sub:q9,subtract:j_,transformMat2:Oze,transformMat2d:Fl,transformMat3:Cze,transformMat4:Aze},Symbol.toStringTag,{value:"Module"}));function en(){return[0,0]}function Gze(e){return[e[0],e[1]]}function ex(e,t){return[e,t]}function qze(e){const t=en(),r=Math.min(2,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function Wze(e,t){return new Float64Array(e,t,2)}function Bce(){return en()}function Gce(){return ex(1,1)}function qce(){return ex(1,0)}function Wce(){return ex(0,1)}const Hze=Bce(),Kze=Gce(),Jze=qce(),Yze=Wce();Object.freeze(Object.defineProperty({__proto__:null,ONES:Kze,UNIT_X:Jze,UNIT_Y:Yze,ZEROS:Hze,clone:Gze,create:en,createView:Wze,fromArray:qze,fromValues:ex,ones:Gce,unitX:qce,unitY:Wce,zeros:Bce},Symbol.toStringTag,{value:"Module"}));const Hce=96,Kce=39.37,Zze=180/Math.PI;function Jce(e){return e.wkid?e:e.spatialReference||Ge.WGS84}function W9(e,t){return t.type?Un(e,t.x,t.y):D_(e,t)}function Yce(e){return Lc(e)}function Aw(e,t){const r=Math.max(1,t[0]),n=Math.max(1,t[1]);return Math.max(e.width/r,e.height/n)*o7e(e.spatialReference)}async function Ub(e,t,r,n){let i,s;if(!e||Array.isArray(e)&&!e.length)return null;if(Fe.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const a=e.every(d=>"attributes"in d),l=e.some(d=>!d.geometry);let u=e;if(a&&l&&t&&t.allLayerViews){const d=new Map;for(const v of e){const g=v.layer,b=d.get(g)||[],w=v.attributes[g.objectIdField];w!=null&&b.push(w),d.set(g,b)}const p=[];d.forEach((v,g)=>{const b=t.allLayerViews.find(w=>w.layer.id===g.id);if(b&&"queryFeatures"in b){const w=g.createQuery();w.objectIds=v,w.returnGeometry=!0,p.push(b.queryFeatures(w))}});const f=await Promise.all(p),y=[];for(const v of f)if(v&&v.features&&v.features.length)for(const g of v.features)C(g.geometry)&&y.push(g.geometry);u=y}for(const d of u)n=await Ub(d,t,r,n);return n}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")i=new Ve(e);else if(e instanceof Wh)i=e;else if("geometry"in e){if(e.geometry)i=e.geometry;else if(e.layer){const a=e.layer,l=t.allLayerViews.find(u=>u.layer.id===a.id);if(l&&"queryFeatures"in l){const u=a.createQuery();u.objectIds=[e.attributes[a.objectIdField]],u.returnGeometry=!0;const d=await l.queryFeatures(u);i=Lee(d,"features",0,"geometry")}}}if(G(i)||(s=i.type==="point"?new Pt({xmin:i.x,ymin:i.y,xmax:i.x,ymax:i.y,spatialReference:i.spatialReference}):i.extent,!s))return null;_m()||Fh(s.spatialReference,r)||await Sm();const o=Fm(s,r);return o?n=n?n.union(o):o:null}function Xze(e){if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&e.layer&&e.layer.minScale&&e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(t=>"layer"in t)){let t=0,r=0;for(const n of e){const i=n.layer;i&&i.minScale&&i.maxScale&&(t=i.minScale<t?i.minScale:t,r=i.maxScale>r?i.maxScale:r)}return t&&r?{min:t,max:r}:null}}}function $k(e,t){return An(Jce(e),t)?e:Fm(e,t)}async function Qze(e,t){if(!e||!t)return new Yl({targetGeometry:new Ve,scale:0,rotation:0});let r=t.spatialReference;const{constraints:n,padding:i,viewpoint:s,size:o}=t,a=[i?o[0]-i.left-i.right:o[0],i?o[1]-i.top-i.bottom:o[1]];let l=null;e instanceof Yl?l=e:e.viewpoint?l=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(l=e.target);let u=null;l&&l.targetGeometry?u=l.targetGeometry:e instanceof Pt?u=e:(e||e&&("center"in e||"extent"in e||"target"in e))&&(u=await Ub(e.center,t,r)||await Ub(e.extent,t,r)||await Ub(e.target,t,r)||await Ub(e,t,r)),!u&&s&&s.targetGeometry?u=s.targetGeometry:!u&&t.extent&&(u=t.extent),r||(r=Jce(t.spatialReference||t.extent||u)),_m()||An(u.spatialReference,r)||Fh(u,r)||await Sm();const d=$k(u.center?u.center:u,r);let p=0;if(l&&C(l.targetGeometry)&&l.targetGeometry.type==="point")p=l.scale;else if("scale"in e&&e.scale)p=e.scale;else if("zoom"in e&&e.zoom!==-1&&n&&n.effectiveLODs)p=n.zoomToScale(e.zoom);else if(Array.isArray(u)||u.type==="point"||u.type==="extent"&&u.width===0&&u.height===0){const g=$k(t.extent,r);p=C(g)?Aw(g,a):t.extent?Aw(t.extent,a):s.scale}else p=Aw($k(u.extent,r),a);const f=Xze(e);f&&(f.min&&f.min>p?p=f.min:f.max&&f.max<p&&(p=f.max));let y=0;l?y=l.rotation:e.hasOwnProperty("rotation")?y=e.rotation:s&&(y=s.rotation);let v=new Yl({targetGeometry:d,scale:p,rotation:y});return n&&(v=n.fit(v),n.constrainByGeometry(v),n.rotationEnabled||(v.rotation=y)),v}function sl(e,t){const r=e.targetGeometry,n=t.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function e7e(e,t,r){return r?Un(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):XS(e,t,.5)}const t7e=function(){const e=en();return function(t,r,n){const i=r.targetGeometry;W9(e,i);const s=.5*Iv(r);return t.xmin=e[0]-s*n[0],t.ymin=e[1]-s*n[1],t.xmax=e[0]+s*n[0],t.ymax=e[1]+s*n[1],t.spatialReference=i.spatialReference,t}}();function r7e(e,t,r,n,i){return B4(e,t,r.center),e.scale=Aw(r,n),i&&i.constraints&&i.constraints.constrain(e),e}function n7e(e,t,r,n){return J9(e,t,r,n),z9(e,e)}const Zce=function(){const e=en();return function(t,r,n){return q9(t,a7e(t,r),e7e(e,r,n))}}(),i7e=function(){const e=Eh(),t=en();return function(r,n,i,s){const o=Iv(n),a=H9(n);return Un(t,o,o),gce(e,t),fC(e,e,a),N_(e,e,Zce(t,i,s)),N_(e,e,[0,s.top-s.bottom]),Un(r,e[4],e[5])}}();function Iv(e){return e.scale*s7e(e.targetGeometry)}function s7e(e){return C(e)&&Hn(e.spatialReference)?1/(Yce(e.spatialReference)*Kce*Hce):1}function H9(e){return y8(e.rotation)||0}function o7e(e){return Hn(e)?Yce(e)*Kce*Hce:1}function a7e(e,t){return XS(e,t,.5)}const K9=function(){const e=en(),t=en(),r=en();return function(n,i,s,o,a,l){return Vce(e,i),XS(t,s,.5*l),Un(r,1/o*l,-1/o*l),B9(n,t),a&&fC(n,n,a),U9(n,n,r),N_(n,n,e),n}}(),J9=function(){const e=en();return function(t,r,n,i){const s=Iv(r),o=H9(r);return W9(e,r.targetGeometry),K9(t,e,n,s,o,i)}}(),l7e=function(){const e=en();return function(t,r,n,i){const s=Iv(r);return W9(e,r.targetGeometry),K9(t,e,n,s,0,i)}}();function u7e(e){const t=Ka(e);return t?t.valid[1]-t.valid[0]:0}function c7e(e,t){return Math.round(u7e(e)/t)}const d7e=function(){const e=en(),t=en(),r=[0,0,0];return function(n,i,s){j_(e,n,i),U4(e,e),j_(t,n,s),U4(t,t),Uce(r,e,t);let o=Math.acos(zce(e,t)/(_M(e)*_M(t)))*Zze;return r[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),h7e=function(){const e=en();return function(t,r,n,i){const s=t.targetGeometry;return sl(t,r),i7e(e,r,n,i),s.x+=e[0],s.y+=e[1],t}}(),B4=function(e,t,r){sl(e,t);const n=e.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,e},p7e=function(){const e=en();return function(t,r,n,i,s){s||(s="center"),q9(e,n,i),XS(e,e,.5);const o=e[0],a=e[1];switch(s){case"center":Un(e,0,0);break;case"left":Un(e,-o,0);break;case"top":Un(e,0,a);break;case"right":Un(e,o,0);break;case"bottom":Un(e,0,-a);break;case"top-left":Un(e,-o,a);break;case"bottom-left":Un(e,-o,-a);break;case"top-right":Un(e,o,a);break;case"bottom-right":Un(e,o,-a)}return yC(t,r,e),t}}();function g_t(e,t,r){return sl(e,t),e.rotation+=r,e}function f7e(e,t,r){return sl(e,t),e.rotation=r,e}const m7e=function(){const e=en();return function(t,r,n,i,s){return sl(t,r),isNaN(n)||n===0||(Qce(e,i,r,s),t.scale=r.scale*n,ede(e,e,t,s),yC(t,t,Un(e,e[0]-i[0],i[1]-e[1]))),t}}();function uH(e,t,r){return sl(e,t),e.scale=r,e}const Xce=function(){const e=en();return function(t,r,n,i,s,o){return sl(t,r),isNaN(n)||n===0||(Qce(e,s,r,o),t.scale=r.scale*n,t.rotation+=i,ede(e,e,t,o),yC(t,t,Un(e,e[0]-s[0],s[1]-e[1]))),t}}(),v_t=function(){const e=en(),t=en();return function(r,n,i,s,o,a,l){return Zce(t,a,l),Nce(e,o,t),s?Xce(r,n,i,s,e,a):m7e(r,n,i,e,a)}}(),Qce=function(){const e=Eh();return function(t,r,n,i){return Fl(t,r,n7e(e,n,i,1))}}(),ede=function(){const e=Eh();return function(t,r,n,i){return Fl(t,r,J9(e,n,i,1))}}(),yC=function(){const e=en(),t=Eh();return function(r,n,i){sl(r,n);const s=Iv(n),o=r.targetGeometry;return yce(t,H9(n)),U9(t,t,ex(s,s)),Fl(e,i,t),o.x+=e[0],o.y+=e[1],r}}();let y7e=class{constructor(t,r,n,i){const s=t.targetGeometry,o=r.targetGeometry;i?typeof i=="string"&&(i=yze(i)||Fo.ease):i=Fo.ease,this.easing=i,this.duration=n,this.sCenterX=s.x,this.sCenterY=s.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=o.x,this.tCenterY=o.y,this.tScale=r.scale,this.tRotation=r.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(t,r){const n=this.easing(r);let i,s,o,a;r>=1?(i=this.tCenterX,s=this.tCenterY,o=this.tRotation,a=this.tScale):(i=this.sCenterX+n*this.dCenterX,s=this.sCenterY+n*this.dCenterY,o=this.sRotation+n*this.dRotation,a=this.sScale+n*this.dScale),t.targetGeometry.x=i,t.targetGeometry.y=s,t.scale=a,t.rotation=o}},Uu=class extends Ie{constructor(t){super(t),this.updateFunction=null,this.animation=null,this.duration=200,this.transition=null,this.easing=Fo.ease,this.view=null,this.viewpoint=new Yl({targetGeometry:new Ve,scale:0,rotation:0}),this._updateTask=d0({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask=sn(this._updateTask)}animate(t,r,n){this.stop();const i=this.viewpoint;sl(i,r),this.transition=new y7e(this.viewpoint,t.target,n&&n.duration||this.duration,n&&n.easing||this.easing);const s=()=>{var o,a;this.animation===t&&this._updateTask&&(t.state==="finished"&&((o=this.transition)==null||o.applyRatio(this.viewpoint,1),(a=this.view)!=null&&a.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinous(t,r){this.stop(),this.updateFunction=r,this.viewpoint=t;const n=new z4({target:t.clone()}),i=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return n.when(i,i),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var n,i;const r=this.animation;if(r&&r.state!==z4.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime);else{const s=this.transition,o=(performance.now()-this._startTime)/s.duration,a=o>=1;s.applyRatio(this.viewpoint,o),a&&((n=this.animation)==null||n.finish())}(i=this.view)!=null&&i.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};c([h()],Uu.prototype,"animation",void 0),c([h()],Uu.prototype,"duration",void 0),c([h()],Uu.prototype,"transition",void 0),c([h()],Uu.prototype,"easing",void 0),c([h()],Uu.prototype,"view",void 0),c([h()],Uu.prototype,"viewpoint",void 0),Uu=c([O("esri.views.2d.AnimationManager")],Uu);const g7e=Uu;let v7e=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions)},this.update=()=>{var a;this._updateRequested=!1;const{basemapView:r,graphicsView:n,labelManager:i,layerViews:s,state:{id:o}}=this.view;r==null||r.baseLayerViews.forEach(this._updateLayerView,this),s.forEach(this._updateLayerView,this),r==null||r.referenceLayerViews.forEach(this._updateLayerView,this),C(i)&&(i.lastUpdateId!==o&&(i.viewChange(),i.lastUpdateId=o),i.updateRequested&&i.processUpdate(this._updateParameters)),C(n)&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||((a=this._frameTaskHandle)==null||a.pause())}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=ue(()=>t.stationary,r=>{this.stationary=r,this.requestFrame()}),this._frameTaskHandle=d0(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){if(!t.attached)return void this.requestUpdate();const r=this.view.state,n=t.lastUpdateId;n!=null&&(this.stationary||t.moving)||(t.moving=!0,t.moveStart()),n!==r.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=r.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews.forEach(this._updateLayerView,this)}};function Yr(){return Promise.all([Y(()=>import("./webglDeps-47c40923.js"),["assets/webglDeps-47c40923.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/ProgramTemplate-0cbba525.js","assets/programUtils-f05804ee.js","assets/NestedMap-1b5db22e.js"]),Y(()=>import("./mapViewDeps-2221637d.js"),["assets/mapViewDeps-2221637d.js","assets/MagnifierPrograms-64bcf86f.js","assets/_commonjsHelpers-2f3e7994.js","assets/WGLContainer-a2b5bb22.js","assets/definitions-3ddd14a8.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/Container-80adbe84.js","assets/earcut-61f7b102.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/rasterizingUtils-d96108f2.js","assets/imageutils-53f8becb.js","assets/Matcher-a3a0b259.js","assets/visualVariablesUtils-ab072646.js","assets/visualVariablesUtils-7f5c50f5.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-530d7290.js","assets/devEnvironmentUtils-5002a058.js","assets/CircularArray-95b23b6d.js","assets/webgl-debug-b1f7a2c5.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/centroid-234cbe70.js","assets/BufferPool-fa6961c3.js","assets/enums-fb086c25.js","assets/programUtils-f05804ee.js","assets/NestedMap-1b5db22e.js","assets/RenderingContext-8f7403c7.js","assets/OrderIndependentTransparency-e1b3a745.js","assets/basicInterfaces-b7051eb1.js","assets/doublePrecisionUtils-e3c3d0d8.js","assets/imageUtils-c2d0d1ae.js","assets/GraphicsView2D-5978c507.js","assets/normalizeUtilsSync-cf64a78d.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/AttributeStoreView-d08f887a.js","assets/TiledDisplayObject-c7008457.js","assets/schemaUtils-9ab66d11.js","assets/util-4349f39c.js","assets/GraphicContainer-86623243.js","assets/BaseGraphicContainer-c7d5dab9.js","assets/FeatureContainer-8878f9d0.js","assets/TileContainer-223155e4.js","assets/vec3f32-ad1dc57f.js","assets/requestImageUtils-bd588e57.js"])])}const A1=()=>Yr().then(()=>Y(()=>import("./TileLayerView2D-d21f75d5.js"),["assets/TileLayerView2D-d21f75d5.js","assets/MagnifierPrograms-64bcf86f.js","assets/_commonjsHelpers-2f3e7994.js","assets/WGLContainer-a2b5bb22.js","assets/definitions-3ddd14a8.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/Container-80adbe84.js","assets/earcut-61f7b102.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/rasterizingUtils-d96108f2.js","assets/imageutils-53f8becb.js","assets/Matcher-a3a0b259.js","assets/visualVariablesUtils-ab072646.js","assets/visualVariablesUtils-7f5c50f5.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-530d7290.js","assets/devEnvironmentUtils-5002a058.js","assets/CircularArray-95b23b6d.js","assets/webgl-debug-b1f7a2c5.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/centroid-234cbe70.js","assets/BufferPool-fa6961c3.js","assets/enums-fb086c25.js","assets/OrderIndependentTransparency-e1b3a745.js","assets/basicInterfaces-b7051eb1.js","assets/GraphicsView2D-5978c507.js","assets/normalizeUtilsSync-cf64a78d.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/AttributeStoreView-d08f887a.js","assets/TiledDisplayObject-c7008457.js","assets/schemaUtils-9ab66d11.js","assets/util-4349f39c.js","assets/vec3f32-ad1dc57f.js","assets/imageUtils-da83ada9.js","assets/BitmapTileContainer-91be7145.js","assets/Bitmap-86ffa0cb.js","assets/TileContainer-223155e4.js","assets/LayerView-0376941f.js","assets/HighlightGraphicContainer-b23c1d7f.js","assets/BaseGraphicContainer-c7d5dab9.js","assets/FeatureContainer-8878f9d0.js","assets/RefreshableLayerView-e0810261.js","assets/drapedUtils-1fcf5095.js","assets/floorFilterUtils-080a7cd2.js","assets/sublayerUtils-aa2ae455.js","assets/popupUtils-2d93ad2b.js"])),ty=()=>Yr().then(()=>Y(()=>import("./FeatureLayerView2D-3f15f236.js"),["assets/FeatureLayerView2D-3f15f236.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js","assets/LayerView-0376941f.js","assets/schemaUtils-9ab66d11.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/VertexElementDescriptor-2925c6af.js","assets/utils-0f95c4a5.js","assets/MaterialKey-1ff97e80.js","assets/visualVariablesUtils-7f5c50f5.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/util-4349f39c.js","assets/floorFilterUtils-080a7cd2.js","assets/popupUtils-2d93ad2b.js","assets/RefreshableLayerView-e0810261.js"])),cH={"base-dynamic":()=>Yr().then(()=>Y(()=>import("./BaseDynamicLayerView2D-7e52beba.js"),["assets/BaseDynamicLayerView2D-7e52beba.js","assets/BitmapContainer-f712f166.js","assets/WGLContainer-a2b5bb22.js","assets/definitions-3ddd14a8.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/Container-80adbe84.js","assets/earcut-61f7b102.js","assets/LayerView-0376941f.js","assets/ExportStrategy-8a48f6c5.js","assets/Bitmap-86ffa0cb.js","assets/RefreshableLayerView-e0810261.js"])),"base-tile":A1,"bing-maps":A1,csv:ty,"geo-rss":()=>Yr().then(()=>Y(()=>import("./GeoRSSLayerView2D-d41d65c5.js"),["assets/GeoRSSLayerView2D-d41d65c5.js","assets/LayerView-0376941f.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js","assets/GraphicContainer-86623243.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/VertexElementDescriptor-2925c6af.js","assets/BaseGraphicContainer-c7d5dab9.js","assets/FeatureContainer-8878f9d0.js","assets/AttributeStoreView-d08f887a.js","assets/TiledDisplayObject-c7008457.js","assets/visualVariablesUtils-ab072646.js","assets/visualVariablesUtils-7f5c50f5.js","assets/VertexArrayObject-fa651786.js","assets/TileContainer-223155e4.js","assets/WGLContainer-a2b5bb22.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/earcut-61f7b102.js","assets/vec3f32-ad1dc57f.js","assets/GraphicsView2D-5978c507.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/normalizeUtilsSync-cf64a78d.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/Matcher-a3a0b259.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-530d7290.js","assets/devEnvironmentUtils-5002a058.js","assets/schemaUtils-9ab66d11.js","assets/util-4349f39c.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/centroid-234cbe70.js"])),feature:ty,geojson:ty,graphics:()=>Yr().then(()=>Y(()=>import("./GraphicsLayerView2D-19b08327.js"),["assets/GraphicsLayerView2D-19b08327.js","assets/LayerView-0376941f.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js","assets/GraphicContainer-86623243.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/VertexElementDescriptor-2925c6af.js","assets/BaseGraphicContainer-c7d5dab9.js","assets/FeatureContainer-8878f9d0.js","assets/AttributeStoreView-d08f887a.js","assets/TiledDisplayObject-c7008457.js","assets/visualVariablesUtils-ab072646.js","assets/visualVariablesUtils-7f5c50f5.js","assets/VertexArrayObject-fa651786.js","assets/TileContainer-223155e4.js","assets/WGLContainer-a2b5bb22.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/earcut-61f7b102.js","assets/vec3f32-ad1dc57f.js","assets/GraphicsView2D-5978c507.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/normalizeUtilsSync-cf64a78d.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/Matcher-a3a0b259.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-530d7290.js","assets/devEnvironmentUtils-5002a058.js","assets/schemaUtils-9ab66d11.js","assets/util-4349f39c.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/centroid-234cbe70.js"])),group:()=>Yr().then(()=>Y(()=>import("./GroupLayerView2D-63c3fc1e.js"),["assets/GroupLayerView2D-63c3fc1e.js","assets/GroupContainer-4b7465d5.js","assets/WGLContainer-a2b5bb22.js","assets/definitions-3ddd14a8.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/Container-80adbe84.js","assets/earcut-61f7b102.js","assets/LayerView-0376941f.js"])),imagery:()=>Yr().then(()=>Y(()=>import("./ImageryLayerView2D-19b165a7.js"),["assets/ImageryLayerView2D-19b165a7.js","assets/RasterVFDisplayObject-c1b785dd.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/dataUtils-cb5f38bd.js","assets/WGLContainer-a2b5bb22.js","assets/definitions-3ddd14a8.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/Container-80adbe84.js","assets/earcut-61f7b102.js","assets/LayerView-0376941f.js","assets/GraphicsView2D-5978c507.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/normalizeUtilsSync-cf64a78d.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/AttributeStoreView-d08f887a.js","assets/TiledDisplayObject-c7008457.js","assets/visualVariablesUtils-ab072646.js","assets/visualVariablesUtils-7f5c50f5.js","assets/Matcher-a3a0b259.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-530d7290.js","assets/devEnvironmentUtils-5002a058.js","assets/schemaUtils-9ab66d11.js","assets/util-4349f39c.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/centroid-234cbe70.js","assets/HighlightGraphicContainer-b23c1d7f.js","assets/BaseGraphicContainer-c7d5dab9.js","assets/FeatureContainer-8878f9d0.js","assets/TileContainer-223155e4.js","assets/vec3f32-ad1dc57f.js","assets/BitmapContainer-f712f166.js","assets/Bitmap-86ffa0cb.js","assets/ExportStrategy-8a48f6c5.js","assets/rasterProjectionHelper-cb7fc121.js","assets/popupUtils-2d93ad2b.js","assets/RefreshableLayerView-e0810261.js"])),"imagery-tile":()=>Yr().then(()=>Y(()=>import("./ImageryTileLayerView2D-0b85f76d.js"),["assets/ImageryTileLayerView2D-0b85f76d.js","assets/multidimensionalUtils-7126eb62.js","assets/RasterVFDisplayObject-c1b785dd.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/dataUtils-cb5f38bd.js","assets/WGLContainer-a2b5bb22.js","assets/definitions-3ddd14a8.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/Container-80adbe84.js","assets/earcut-61f7b102.js","assets/LayerView-0376941f.js","assets/rasterUtils-aec8cbe7.js","assets/TiledDisplayObject-c7008457.js","assets/TileContainer-223155e4.js","assets/RawBlockCache-c61ba45c.js","assets/rasterProjectionHelper-cb7fc121.js","assets/util-4349f39c.js","assets/popupUtils-2d93ad2b.js","assets/RefreshableLayerView-e0810261.js"])),kml:()=>Yr().then(()=>Y(()=>import("./KMLLayerView2D-94451339.js"),["assets/KMLLayerView2D-94451339.js","assets/kmlUtils-5e994cd9.js","assets/Bitmap-86ffa0cb.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js","assets/BitmapContainer-f712f166.js","assets/WGLContainer-a2b5bb22.js","assets/VertexArrayObject-fa651786.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/earcut-61f7b102.js","assets/LayerView-0376941f.js","assets/GraphicContainer-86623243.js","assets/BaseGraphicContainer-c7d5dab9.js","assets/FeatureContainer-8878f9d0.js","assets/AttributeStoreView-d08f887a.js","assets/TiledDisplayObject-c7008457.js","assets/visualVariablesUtils-ab072646.js","assets/visualVariablesUtils-7f5c50f5.js","assets/TileContainer-223155e4.js","assets/vec3f32-ad1dc57f.js","assets/GraphicsView2D-5978c507.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/normalizeUtilsSync-cf64a78d.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/Matcher-a3a0b259.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-530d7290.js","assets/devEnvironmentUtils-5002a058.js","assets/schemaUtils-9ab66d11.js","assets/util-4349f39c.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/centroid-234cbe70.js","assets/rasterProjectionHelper-cb7fc121.js","assets/RenderingContext-8f7403c7.js","assets/programUtils-f05804ee.js","assets/NestedMap-1b5db22e.js","assets/OrderIndependentTransparency-e1b3a745.js","assets/basicInterfaces-b7051eb1.js","assets/doublePrecisionUtils-e3c3d0d8.js","assets/webgl-debug-b1f7a2c5.js","assets/rasterUtils-aec8cbe7.js"])),"knowledge-graph":()=>Yr().then(()=>Y(()=>import("./KnowledgeGraphLayerView2D-cf0000fa.js"),["assets/KnowledgeGraphLayerView2D-cf0000fa.js","assets/LayerView-0376941f.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js"])),"link-chart":()=>Yr().then(()=>Y(()=>import("./KnowledgeGraphLayerView2D-cf0000fa.js"),["assets/KnowledgeGraphLayerView2D-cf0000fa.js","assets/LayerView-0376941f.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js"])),"knowledge-graph-sublayer":ty,"map-image":()=>Yr().then(()=>Y(()=>import("./MapImageLayerView2D-a2ba53c3.js"),["assets/MapImageLayerView2D-a2ba53c3.js","assets/BitmapContainer-f712f166.js","assets/WGLContainer-a2b5bb22.js","assets/definitions-3ddd14a8.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/Container-80adbe84.js","assets/earcut-61f7b102.js","assets/LayerView-0376941f.js","assets/GraphicsView2D-5978c507.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/normalizeUtilsSync-cf64a78d.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/AttributeStoreView-d08f887a.js","assets/TiledDisplayObject-c7008457.js","assets/visualVariablesUtils-ab072646.js","assets/visualVariablesUtils-7f5c50f5.js","assets/Matcher-a3a0b259.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-530d7290.js","assets/devEnvironmentUtils-5002a058.js","assets/schemaUtils-9ab66d11.js","assets/util-4349f39c.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/centroid-234cbe70.js","assets/HighlightGraphicContainer-b23c1d7f.js","assets/BaseGraphicContainer-c7d5dab9.js","assets/FeatureContainer-8878f9d0.js","assets/TileContainer-223155e4.js","assets/vec3f32-ad1dc57f.js","assets/ExportStrategy-8a48f6c5.js","assets/Bitmap-86ffa0cb.js","assets/ExportImageParameters-7d40a95e.js","assets/floorFilterUtils-080a7cd2.js","assets/sublayerUtils-aa2ae455.js","assets/RefreshableLayerView-e0810261.js","assets/drapedUtils-1fcf5095.js","assets/popupUtils-2d93ad2b.js"])),"map-notes":()=>Yr().then(()=>Y(()=>import("./MapNotesLayerView2D-316a4e69.js"),["assets/MapNotesLayerView2D-316a4e69.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js","assets/GroupContainer-4b7465d5.js","assets/WGLContainer-a2b5bb22.js","assets/VertexArrayObject-fa651786.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/earcut-61f7b102.js","assets/LayerView-0376941f.js","assets/GraphicContainer-86623243.js","assets/BaseGraphicContainer-c7d5dab9.js","assets/FeatureContainer-8878f9d0.js","assets/AttributeStoreView-d08f887a.js","assets/TiledDisplayObject-c7008457.js","assets/visualVariablesUtils-ab072646.js","assets/visualVariablesUtils-7f5c50f5.js","assets/TileContainer-223155e4.js","assets/vec3f32-ad1dc57f.js","assets/GraphicsView2D-5978c507.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/normalizeUtilsSync-cf64a78d.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/Matcher-a3a0b259.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-530d7290.js","assets/devEnvironmentUtils-5002a058.js","assets/schemaUtils-9ab66d11.js","assets/util-4349f39c.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/centroid-234cbe70.js"])),media:()=>Yr().then(()=>Y(()=>import("./MediaLayerView2D-4c22d5d2.js"),["assets/MediaLayerView2D-4c22d5d2.js","assets/perspectiveUtils-d24c123b.js","assets/normalizeUtilsSync-cf64a78d.js","assets/mat3f64-221ce671.js","assets/MagnifierPrograms-64bcf86f.js","assets/_commonjsHelpers-2f3e7994.js","assets/WGLContainer-a2b5bb22.js","assets/definitions-3ddd14a8.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/Container-80adbe84.js","assets/earcut-61f7b102.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/rasterizingUtils-d96108f2.js","assets/imageutils-53f8becb.js","assets/Matcher-a3a0b259.js","assets/visualVariablesUtils-ab072646.js","assets/visualVariablesUtils-7f5c50f5.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-530d7290.js","assets/devEnvironmentUtils-5002a058.js","assets/CircularArray-95b23b6d.js","assets/webgl-debug-b1f7a2c5.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/centroid-234cbe70.js","assets/BufferPool-fa6961c3.js","assets/enums-fb086c25.js","assets/OrderIndependentTransparency-e1b3a745.js","assets/basicInterfaces-b7051eb1.js","assets/GraphicsView2D-5978c507.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/AttributeStoreView-d08f887a.js","assets/TiledDisplayObject-c7008457.js","assets/schemaUtils-9ab66d11.js","assets/util-4349f39c.js","assets/vec3f32-ad1dc57f.js","assets/LayerView-0376941f.js"])),"ogc-feature":()=>Yr().then(()=>Y(()=>import("./OGCFeatureLayerView2D-53d81cd9.js"),["assets/OGCFeatureLayerView2D-53d81cd9.js","assets/FeatureLayerView2D-3f15f236.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js","assets/LayerView-0376941f.js","assets/schemaUtils-9ab66d11.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/VertexElementDescriptor-2925c6af.js","assets/utils-0f95c4a5.js","assets/MaterialKey-1ff97e80.js","assets/visualVariablesUtils-7f5c50f5.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/util-4349f39c.js","assets/floorFilterUtils-080a7cd2.js","assets/popupUtils-2d93ad2b.js","assets/RefreshableLayerView-e0810261.js"])),"open-street-map":A1,"oriented-imagery":ty,route:()=>Yr().then(()=>Y(()=>import("./RouteLayerView2D-4e3601e4.js"),["assets/RouteLayerView2D-4e3601e4.js","assets/Stop-13e3f8de.js","assets/LayerView-0376941f.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js","assets/GraphicContainer-86623243.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/VertexElementDescriptor-2925c6af.js","assets/BaseGraphicContainer-c7d5dab9.js","assets/FeatureContainer-8878f9d0.js","assets/AttributeStoreView-d08f887a.js","assets/TiledDisplayObject-c7008457.js","assets/visualVariablesUtils-ab072646.js","assets/visualVariablesUtils-7f5c50f5.js","assets/VertexArrayObject-fa651786.js","assets/TileContainer-223155e4.js","assets/WGLContainer-a2b5bb22.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/earcut-61f7b102.js","assets/vec3f32-ad1dc57f.js","assets/GraphicsView2D-5978c507.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/normalizeUtilsSync-cf64a78d.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/Matcher-a3a0b259.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-530d7290.js","assets/devEnvironmentUtils-5002a058.js","assets/schemaUtils-9ab66d11.js","assets/util-4349f39c.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/centroid-234cbe70.js"])),stream:()=>Yr().then(()=>Y(()=>import("./StreamLayerView2D-14b04d07.js"),["assets/StreamLayerView2D-14b04d07.js","assets/FeatureLayerView2D-3f15f236.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js","assets/LayerView-0376941f.js","assets/schemaUtils-9ab66d11.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/VertexElementDescriptor-2925c6af.js","assets/utils-0f95c4a5.js","assets/MaterialKey-1ff97e80.js","assets/visualVariablesUtils-7f5c50f5.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/util-4349f39c.js","assets/floorFilterUtils-080a7cd2.js","assets/popupUtils-2d93ad2b.js","assets/RefreshableLayerView-e0810261.js"])),"subtype-group":()=>Yr().then(()=>Y(()=>import("./SubtypeGroupLayerView2D-7fa75764.js"),["assets/SubtypeGroupLayerView2D-7fa75764.js","assets/FeatureLayerView2D-3f15f236.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js","assets/LayerView-0376941f.js","assets/schemaUtils-9ab66d11.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/VertexElementDescriptor-2925c6af.js","assets/utils-0f95c4a5.js","assets/MaterialKey-1ff97e80.js","assets/visualVariablesUtils-7f5c50f5.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/util-4349f39c.js","assets/floorFilterUtils-080a7cd2.js","assets/popupUtils-2d93ad2b.js","assets/RefreshableLayerView-e0810261.js"])),tile:A1,"vector-tile":()=>Yr().then(()=>Y(()=>import("./VectorTileLayerView2D-44d3f123.js"),["assets/VectorTileLayerView2D-44d3f123.js","assets/enums-fb086c25.js","assets/Rect-ea14f53a.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js","assets/rasterizingUtils-d96108f2.js","assets/floatRGBA-6e8b4588.js","assets/VertexArrayObject-fa651786.js","assets/config-1337d16e.js","assets/TiledDisplayObject-c7008457.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/StyleDefinition-fbc907c2.js","assets/enums-55085e26.js","assets/color-57ca2c71.js","assets/VertexElementDescriptor-2925c6af.js","assets/TileContainer-223155e4.js","assets/WGLContainer-a2b5bb22.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/GeometryUtils-dd03fc25.js","assets/earcut-61f7b102.js","assets/StyleRepository-f39d985d.js","assets/colorUtils-c0f43caf.js","assets/GeometryUtils-53652037.js","assets/LayerView-0376941f.js"])),wcs:()=>Yr().then(()=>Y(()=>import("./ImageryTileLayerView2D-0b85f76d.js"),["assets/ImageryTileLayerView2D-0b85f76d.js","assets/multidimensionalUtils-7126eb62.js","assets/RasterVFDisplayObject-c1b785dd.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/dataUtils-cb5f38bd.js","assets/WGLContainer-a2b5bb22.js","assets/definitions-3ddd14a8.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/Container-80adbe84.js","assets/earcut-61f7b102.js","assets/LayerView-0376941f.js","assets/rasterUtils-aec8cbe7.js","assets/TiledDisplayObject-c7008457.js","assets/TileContainer-223155e4.js","assets/RawBlockCache-c61ba45c.js","assets/rasterProjectionHelper-cb7fc121.js","assets/util-4349f39c.js","assets/popupUtils-2d93ad2b.js","assets/RefreshableLayerView-e0810261.js"])),"web-tile":A1,wfs:ty,wms:()=>Yr().then(()=>Y(()=>import("./WMSLayerView2D-50a142b3.js"),["assets/WMSLayerView2D-50a142b3.js","assets/BitmapContainer-f712f166.js","assets/WGLContainer-a2b5bb22.js","assets/definitions-3ddd14a8.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/Container-80adbe84.js","assets/earcut-61f7b102.js","assets/LayerView-0376941f.js","assets/ExportStrategy-8a48f6c5.js","assets/Bitmap-86ffa0cb.js","assets/RefreshableLayerView-e0810261.js","assets/ExportWMSImageParameters-b356337f.js"])),wmts:()=>Yr().then(()=>Y(()=>import("./WMTSLayerView2D-34548f3f.js"),["assets/WMTSLayerView2D-34548f3f.js","assets/imageUtils-da83ada9.js","assets/BitmapTileContainer-91be7145.js","assets/Bitmap-86ffa0cb.js","assets/Container-80adbe84.js","assets/definitions-3ddd14a8.js","assets/enums-64ab819c.js","assets/Texture-d9a19edf.js","assets/TiledDisplayObject-c7008457.js","assets/WGLContainer-a2b5bb22.js","assets/VertexArrayObject-fa651786.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/earcut-61f7b102.js","assets/TileContainer-223155e4.js","assets/LayerView-0376941f.js","assets/RefreshableLayerView-e0810261.js"])),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function b7e(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new V(`${r}:view-not-supported`,`${t} is not supported in 2D`)}const dH={hasLayerViewModule:e=>C(cH[e.type]),importLayerView:e=>{const t=cH[e.type];if(G(t))throw b7e(e);return t(e)}};function w7e(e,t){const{spatialReference:r}=t,n=[t.x,t.y];let i=Number.POSITIVE_INFINITY,s=0,o=0;const a=[0,0],l=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const u of l)for(let d=0;d<u.length-1;d++){aIe(a,n,u,d);const p=QS(n,a);p<i&&(i=p,s=a[0],o=a[1])}return{coordinate:new Ve({x:s,y:o,spatialReference:r}),distance:i}}var G4;let _f=G4=class extends p8(Ie){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(G(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Fm(this.geometry,this.spatialReference)}catch(e){return oe.getLogger(this.declaredClass).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(G(this.normalizedGeometry))return e;const r=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?PO(this.normalizedGeometry,r):Pne(this.normalizedGeometry,r))return e;const{coordinate:n}=w7e(this.normalizedGeometry,r);return n&&(e.targetGeometry=n),e}clone(){var e,t;return new G4({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};c([h({constructOnly:!0})],_f.prototype,"geometry",void 0),c([h({readOnly:!0})],_f.prototype,"normalizedGeometry",null),c([h({constructOnly:!0})],_f.prototype,"spatialReference",void 0),_f=G4=c([O("esri.views.2d.constraints.GeometryConstraint")],_f);var q4;let Bb=q4=class extends p8(Ie){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new q4({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};c([h()],Bb.prototype,"enabled",void 0),c([h()],Bb.prototype,"rotationEnabled",void 0),Bb=q4=c([O("esri.views.2d.constraints.RotationConstraint")],Bb);const tde=Bb;var W4;let bs=W4=class extends p8(Ie){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:r,maxScale:n,minZoom:i,maxZoom:s}=this,o=-1,a=-1,l=!1,u=!1;if(r!==0&&n!==0&&r<n&&([r,n]=[n,r]),!t||!t.length)return this._set("effectiveMinScale",r),void this._set("effectiveMaxScale",n);t=t.map(d=>d.clone()),t.sort((d,p)=>p.scale-d.scale),t.forEach((d,p)=>d.level=p);for(const d of t)!l&&r>0&&r>=d.scale&&(o=d.level,l=!0),!u&&n>0&&n>=d.scale&&(a=e?e.level:-1,u=!0),e=d;i===-1&&(i=r===0?0:o),s===-1&&(s=n===0?t.length-1:a),i=Math.max(i,0),i=Math.min(i,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),i>s&&([i,s]=[s,i]),r=t[i].scale,n=t[s].scale,t.splice(0,i),t.splice(s-i+1,t.length),t.forEach((d,p)=>{this._lodByScale[d.scale]=d,this._scales[p]=d.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",i),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",r),this._set("effectiveMaxScale",n)}constrain(e,t){if(t&&e.scale===t.scale)return e;const r=this.effectiveMinScale,n=this.effectiveMaxScale,i=e.targetGeometry,s=t&&t.targetGeometry,o=n!==0&&e.scale<n,a=r!==0&&e.scale>r;if(o||a){const l=a?r:n;if(t&&s){const u=(l-t.scale)/(e.scale-t.scale);i.x=s.x+(i.x-s.x)*u,i.y=s.y+(i.y-s.y)*u}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const r=Math.round(e-.5),n=Math.round(e);return t[n]+(n-e)*(t[r]-t[n])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let r,n;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let i=0;i<t.length-1;i++){if(r=t[i],n=t[i+1],n===e)return i+this.effectiveMinZoom+1;if(r>e&&n<e)return i+this.effectiveMinZoom+1-(e-n)/(r-n)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}clone(){return new W4({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,r)=>Math.abs(r-e)<=Math.abs(t-e)?r:t,this._scales[0])),this._lodByScale[e].scale}};c([h({readOnly:!0})],bs.prototype,"effectiveLODs",void 0),c([h({readOnly:!0})],bs.prototype,"effectiveMinZoom",void 0),c([h({readOnly:!0})],bs.prototype,"effectiveMaxZoom",void 0),c([h({readOnly:!0})],bs.prototype,"effectiveMinScale",void 0),c([h({readOnly:!0})],bs.prototype,"effectiveMaxScale",void 0),c([h()],bs.prototype,"lods",void 0),c([h()],bs.prototype,"minZoom",void 0),c([h()],bs.prototype,"maxZoom",void 0),c([h()],bs.prototype,"minScale",void 0),c([h()],bs.prototype,"maxScale",void 0),c([h()],bs.prototype,"snapToZoom",void 0),bs=W4=c([O("esri.views.2d.constraints.ZoomConstraint")],bs);const rde=bs,_7e={base:null,key:"type",typeMap:{extent:Pt,polygon:ra}};let Hr=class extends Ie{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){var t,r,n;return`${(t=this._zoom)==null?void 0:t.uid}/${(r=this._rotation)==null?void 0:r.uid}/${(n=this._geometry)==null?void 0:n.uid}`}get _defaultLODs(){var n,i,s;const t=(i=(n=this.view)==null?void 0:n.defaultsFromMap)==null?void 0:i.tileInfo,r=(s=this.view)==null?void 0:s.spatialReference;return t&&r&&t.spatialReference.equals(r)?t.lods:null}get _geometry(){var t;return new _f({geometry:this.geometry,spatialReference:(t=this.view)==null?void 0:t.spatialReference})}get _rotation(){return new tde({rotationEnabled:this.rotationEnabled})}get _zoom(){const t=this._get("_zoom"),r=this.lods||this._defaultLODs,n=this.minZoom,i=this.maxZoom,s=this.minScale,o=this.maxScale,a=this.snapToZoom;return t&&t.lods===r&&t.minZoom===n&&t.maxZoom===i&&t.minScale===s&&t.maxScale===o&&t.snapToZoom===a?t:new rde({lods:r,minZoom:n,maxZoom:i,minScale:s,maxScale:o,snapToZoom:a})}canZoomInTo(t){const r=this.effectiveMaxScale;return r===0||t>=r}canZoomOutTo(t){const r=this.effectiveMinScale;return r===0||t<=r}constrain(t,r){return this._zoom.constrain(t,r),this._rotation.constrain(t,r),this._geometry.constrain(t,r),t}constrainByGeometry(t){return this._geometry.constrain(t)}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};c([h({readOnly:!0})],Hr.prototype,"effectiveLODs",null),c([h({readOnly:!0})],Hr.prototype,"effectiveMinScale",null),c([h({readOnly:!0})],Hr.prototype,"effectiveMaxScale",null),c([h({readOnly:!0})],Hr.prototype,"effectiveMinZoom",null),c([h({readOnly:!0})],Hr.prototype,"effectiveMaxZoom",null),c([h({types:_7e,value:null})],Hr.prototype,"geometry",null),c([h({type:[Lt]})],Hr.prototype,"lods",void 0),c([h()],Hr.prototype,"minScale",void 0),c([h()],Hr.prototype,"maxScale",void 0),c([h()],Hr.prototype,"minZoom",void 0),c([h()],Hr.prototype,"maxZoom",void 0),c([h()],Hr.prototype,"rotationEnabled",void 0),c([h()],Hr.prototype,"snapToZoom",void 0),c([h()],Hr.prototype,"view",void 0),c([h({readOnly:!0})],Hr.prototype,"version",null),c([h()],Hr.prototype,"_defaultLODs",null),c([h({type:_f})],Hr.prototype,"_geometry",null),c([h({type:tde})],Hr.prototype,"_rotation",null),c([h({readOnly:!0,type:rde})],Hr.prototype,"_zoom",null),Hr=c([O("esri.views.2d.MapViewConstraints")],Hr);const nde=Hr;function S7e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function x7e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function ide(e,t,r,n,i,s,o,a,l,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=u,e}function sde(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function $7e(e,t){if(e===t){const r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function E7e(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],d=t[8],p=d*o-a*u,f=-d*s+a*l,y=u*s-o*l;let v=r*p+n*f+i*y;return v?(v=1/v,e[0]=p*v,e[1]=(-d*n+i*u)*v,e[2]=(a*n-i*o)*v,e[3]=f*v,e[4]=(d*r-i*l)*v,e[5]=(-a*r+i*s)*v,e[6]=y*v,e[7]=(-u*r+n*l)*v,e[8]=(o*r-n*s)*v,e):null}function T7e(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],d=t[8];return e[0]=o*d-a*u,e[1]=i*u-n*d,e[2]=n*a-i*o,e[3]=a*l-s*d,e[4]=r*d-i*l,e[5]=i*s-r*a,e[6]=s*u-o*l,e[7]=n*l-r*u,e[8]=r*o-n*s,e}function M7e(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],u=e[8];return t*(u*s-o*l)+r*(-u*i+o*a)+n*(l*i-s*a)}function Y9(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],d=t[7],p=t[8],f=r[0],y=r[1],v=r[2],g=r[3],b=r[4],w=r[5],S=r[6],_=r[7],x=r[8];return e[0]=f*n+y*o+v*u,e[1]=f*i+y*a+v*d,e[2]=f*s+y*l+v*p,e[3]=g*n+b*o+w*u,e[4]=g*i+b*a+w*d,e[5]=g*s+b*l+w*p,e[6]=S*n+_*o+x*u,e[7]=S*i+_*a+x*d,e[8]=S*s+_*l+x*p,e}function H4(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],d=t[7],p=t[8],f=r[0],y=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e[4]=a,e[5]=l,e[6]=f*n+y*o+u,e[7]=f*i+y*a+d,e[8]=f*s+y*l+p,e}function ode(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],d=t[7],p=t[8],f=Math.sin(r),y=Math.cos(r);return e[0]=y*n+f*o,e[1]=y*i+f*a,e[2]=y*s+f*l,e[3]=y*o-f*n,e[4]=y*a-f*i,e[5]=y*l-f*s,e[6]=u,e[7]=d,e[8]=p,e}function I7e(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function O7e(e,t,r){const n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function C7e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function A7e(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function P7e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function k7e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function R7e(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,a=n+n,l=i+i,u=r*o,d=n*o,p=n*a,f=i*o,y=i*a,v=i*l,g=s*o,b=s*a,w=s*l;return e[0]=1-p-v,e[3]=d-w,e[6]=f+b,e[1]=d+w,e[4]=1-u-v,e[7]=y-g,e[2]=f-b,e[5]=y+g,e[8]=1-u-p,e}function L7e(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],o=t[5],a=t[6],l=t[8],u=t[9],d=t[10],p=d*o-a*u,f=-d*s+a*l,y=u*s-o*l,v=r*p+n*f+i*y;if(!v)return null;const g=1/v;return e[0]=p*g,e[1]=(-d*n+i*u)*g,e[2]=(a*n-i*o)*g,e[3]=f*g,e[4]=(d*r-i*l)*g,e[5]=(-a*r+i*s)*g,e[6]=y*g,e[7]=(-u*r+n*l)*g,e[8]=(o*r-n*s)*g,e}function N7e(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],d=t[8],p=t[9],f=t[10],y=t[11],v=t[12],g=t[13],b=t[14],w=t[15],S=r*a-n*o,_=r*l-i*o,x=r*u-s*o,$=n*l-i*a,E=n*u-s*a,T=i*u-s*l,M=d*g-p*v,A=d*b-f*v,k=d*w-y*v,P=p*b-f*g,L=p*w-y*g,D=f*w-y*b;let j=S*D-_*L+x*P+$*k-E*A+T*M;return j?(j=1/j,e[0]=(a*D-l*L+u*P)*j,e[1]=(l*k-o*D-u*A)*j,e[2]=(o*L-a*k+u*M)*j,e[3]=(i*L-n*D-s*P)*j,e[4]=(r*D-i*k+s*A)*j,e[5]=(n*k-r*L-s*M)*j,e[6]=(g*T-b*E+w*$)*j,e[7]=(b*x-v*T-w*_)*j,e[8]=(v*E-g*x+w*S)*j,e):null}function F7e(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function D7e(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function j7e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function V7e(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function ade(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function z7e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function U7e(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function B7e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function G7e(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],p=t[0],f=t[1],y=t[2],v=t[3],g=t[4],b=t[5],w=t[6],S=t[7],_=t[8],x=sa();return Math.abs(r-p)<=x*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(n-f)<=x*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-y)<=x*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(s-v)<=x*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(o-g)<=x*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(a-b)<=x*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(l-w)<=x*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(u-S)<=x*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(d-_)<=x*Math.max(1,Math.abs(d),Math.abs(_))}function q7e(e){const t=sa(),r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(n*n+o*o+u*u))<=t&&Math.abs(1-(i*i+a*a+d*d))<=t}const W7e=Y9,H7e=ade;Object.freeze(Object.defineProperty({__proto__:null,add:V7e,adjoint:T7e,copy:x7e,determinant:M7e,equals:G7e,exactEquals:B7e,frob:j7e,fromMat2d:k7e,fromMat4:S7e,fromQuat:R7e,fromRotation:A7e,fromScaling:P7e,fromTranslation:C7e,identity:sde,invert:E7e,isOrthoNormal:q7e,mul:W7e,multiply:Y9,multiplyScalar:z7e,multiplyScalarAndAdd:U7e,normalFromMat4:N7e,normalFromMat4Legacy:L7e,projection:F7e,rotate:ode,scale:I7e,scaleByVec2:O7e,set:ide,str:D7e,sub:H7e,subtract:ade,translate:H4,transpose:$7e},Symbol.toStringTag,{value:"Module"}));function IE(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function K7e(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function J7e(e,t,r,n,i,s,o,a,l){const u=new Float32Array(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=i,u[5]=s,u[6]=o,u[7]=a,u[8]=l,u}function Y7e(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:K7e,create:IE,createView:Y7e,fromValues:J7e},Symbol.toStringTag,{value:"Module"}));function lde(){return new Float32Array(2)}function Z7e(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function I0(e,t){const r=new Float32Array(2);return r[0]=e,r[1]=t,r}function X7e(e,t){return new Float32Array(e,t,2)}function ude(){return lde()}function cde(){return I0(1,1)}function dde(){return I0(1,0)}function hde(){return I0(0,1)}const Q7e=ude(),eUe=cde(),tUe=dde(),rUe=hde();Object.freeze(Object.defineProperty({__proto__:null,ONES:eUe,UNIT_X:tUe,UNIT_Y:rUe,ZEROS:Q7e,clone:Z7e,create:lde,createView:X7e,fromValues:I0,ones:cde,unitX:dde,unitY:hde,zeros:ude},Symbol.toStringTag,{value:"Module"}));function nUe(e){return e instanceof Float32Array&&e.length>=2}function iUe(e){return Array.isArray(e)&&e.length>=2}function Ek(e){return nUe(e)||iUe(e)}var K4;const Su=[0,0];let Rd=K4=class extends Q{constructor(e){super(e),this._viewpoint2D={center:en(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Pt,this.id=0,this.inverseTransform=Eh(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Eh(),this.transformNoRotation=Eh(),this.displayMat3=IE(),this.displayViewMat3=IE(),this.viewMat3=IE(),this.viewMat2d=pce(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}copy(e){const t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=sl(r,e.viewpoint),this._set("size",D_(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new K4({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,r){return Ek(t)?Fl(e,t,this.inverseTransform):(Su[0]=t,Su[1]=r,Fl(e,Su,this.inverseTransform))}toScreen(e,t,r){return Ek(t)?Fl(e,t,this.transform):(Su[0]=t,Su[1]=r,Fl(e,Su,this.transform))}toScreenNoRotation(e,t,r){return Ek(t)?Fl(e,t,this.transformNoRotation):(Su[0]=t,Su[1]=r,Fl(e,Su,this.transformNoRotation))}getScreenTransform(e,t){const{center:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,i=this._get("size");return K9(e,r,i,t,0,n),e}_update(){const{center:e,spatialReference:t,scale:r,rotation:n}=this._viewpoint2D,i=this._get("pixelRatio")||1,s=this._get("size"),o=new Yl({targetGeometry:new Ve(e[0],e[1],t),scale:r,rotation:n});if(this._set("viewpoint",o),!s||!t||!r)return;this.resolution=Iv(o),this.rotation=n,this.scale=r,this.spatialReference=t,D_(this.center,e);const a=s[0]!==0?2/s[0]:0,l=s[1]!==0?-2/s[1]:0;ide(this.displayMat3,a,0,0,0,l,0,-1,1,1);const u=sde(this.viewMat3),d=I0(s[0]/2,s[1]/2),p=I0(-s[0]/2,-s[1]/2),f=y8(n);H4(u,u,d),ode(u,u,f),H4(u,u,p),Y9(this.displayViewMat3,this.displayMat3,u);const y=B9(this.viewMat2d,d);return fC(y,y,f),N_(y,y,p),t7e(this.extent,o,s),J9(this.transform,o,s,i),z9(this.inverseTransform,this.transform),l7e(this.transformNoRotation,o,s,i),this.worldScreenWidth=c7e(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};c([h({readOnly:!0})],Rd.prototype,"id",void 0),c([h({value:1,json:{write:!0}})],Rd.prototype,"pixelRatio",null),c([h({json:{write:!0}})],Rd.prototype,"size",null),c([h()],Rd.prototype,"spatialReference",void 0),c([h({type:Yl,json:{write:!0}})],Rd.prototype,"viewpoint",null),Rd=K4=c([O("esri.views.2d.ViewState")],Rd);const hH=Rd;var J4,Y4;let Yu=J4=class extends Ie{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new J4({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};c([h()],Yu.prototype,"left",void 0),c([h()],Yu.prototype,"top",void 0),c([h()],Yu.prototype,"right",void 0),c([h()],Yu.prototype,"bottom",void 0),Yu=J4=c([O("esri.views.2d.PaddedViewState.Padding")],Yu);let Ky=Y4=class extends hH{constructor(...e){super(...e),this.paddedViewState=new hH,this._updateContent=(()=>{const t=en();return()=>{const r=this._get("size"),n=this._get("padding");if(!r||!n)return;const i=this.paddedViewState;Un(t,n.left+n.right,n.top+n.bottom),j_(t,r,t),D_(i.size,t);const s=i.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(ue(()=>[this.size,this.padding],()=>this._updateContent(),h0)),this.padding=new Yu,this.size=[0,0]}set padding(e){this._set("padding",e||new Yu)}set viewpoint(e){if(e){const t=e.clone();this.paddedViewState.viewpoint=e,h7e(t,e,this._get("size"),this._get("padding"));const r=this._viewpoint2D,n=t.targetGeometry;r.center[0]=n.x,r.center[1]=n.y,r.rotation=t.rotation,r.scale=t.scale,r.spatialReference=n.spatialReference,this._update()}}clone(){return new Y4({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};c([h()],Ky.prototype,"paddedViewState",void 0),c([h({type:Yu})],Ky.prototype,"padding",null),c([h()],Ky.prototype,"viewpoint",null),Ky=Y4=c([O("esri.views.2d.PaddedViewState")],Ky);const sUe=Ky;let oUe=class{constructor(t,r){this.item=t,this.controller=r,this.promise=null}},pde=class{constructor(t){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new KT(t.peeker),this.process=t.process;const r=t.scheduler;t.priority&&C(r)&&(this._task=r.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(t){const r=this._controllers.get(t);r&&r.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(r=>t.push(r)),this._controllers.clear(),t.forEach(r=>r.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((r,n)=>t(n))}get(t){const r=this._deferreds.get(t);return r?r.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(t,r){const n=this.get(t);if(n)return n;const i=new AbortController;let s=null;r&&(s=Zo(r,()=>i.abort()));const o=()=>{const d=this._processingItems.get(t);d&&d.controller.abort(),a(),u.reject(kr())},a=()=>{l.remove(),C(s)&&s.remove(),this._deferreds.delete(t),this._controllers.delete(t),this._queue.remove(t),this._processingItems.delete(t),this._scheduleNext()},l=w6(i.signal,o),u=xc();return this._deferreds.set(t,u),this._controllers.set(t,i),u.promise.then(a,a),this._queue.push(t),this._scheduleNext(),u.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const t=[];this._processingItems.forEach(r=>t.push(r)),this._processingItems.clear();for(const r of t)this._queue.push(r.item),r.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=lv(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(r))}_processError(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(r))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(G(t))return;let r;const n=new AbortController,i=new oUe(t,n);this._processingItems.set(t,i);try{r=this.process(t,n.signal)}catch(s){this._processError(i,s)}Rc(r)?(i.promise=r,r.then(s=>this._processResult(i,s),s=>this._processError(i,s))):this._processResult(i,r)}get test(){return{update:t=>this.runTask(t)}}};function aUe(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const Tk=new Set,P$=[],ry=new Map,pH=[0,0];let id=class extends Ie{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:r}=this;this._queue=new pde({concurrency:t,process:(n,i)=>{const s=this._keyToItem.get(n);return r(s,{signal:i})},peeker:n=>n.values().next().value})}destroy(){this.clear(),this._queue=Ur(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(t){const r=typeof t=="string"?t:t.id;this._queue.abort(r)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const r=typeof t=="string"?t:t.id;return this.has(r)&&this._queue.isOngoing(r)}pause(){this._queue.pause()}push(t,r){const n=t.key.id+"-"+r;if(this.has(n))return this.get(n);const i=this._queue.push(n),s=()=>{this._keyToItem.delete(n),this.notifyChange("updating")};return this._keyToItem.set(n,t),i.then(s,s),this.notifyChange("updating"),i}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView;let n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;t.forEach(d=>{const p=this._keyToItem.get(d),f=this.tileInfoView.getTileScale(p.key);ry.has(f)||(ry.set(f,[]),n=Math.max(f,n),i=Math.min(f,i)),ry.get(f).push(p.key),Tk.add(f)});let s=this.state.scale;ry.has(s)||(aUe(P$,Tk),P$.sort((d,p)=>d-p),s=P$.reduce((d,p)=>Math.abs(p-s)<Math.abs(d-s)?p:d,P$[0])),s=Math.min(s,n),s=Math.max(s,i);const o=ry.get(s),a=r.getClosestInfoForScale(s),l=a.getColumnForX(this.state.center[0]),u=a.getRowForY(this.state.center[1]);return o.sort((d,p)=>{const f=a.denormalizeCol(d.col,d.world),y=a.denormalizeCol(p.col,p.world);return Math.sqrt((l-f)*(l-f)+(u-d.row)*(u-d.row))-Math.sqrt((l-y)*(l-y)+(u-p.row)*(u-p.row))}),Tk.clear(),ry.clear(),o[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView,n=this.state.center;let i,s=Number.POSITIVE_INFINITY;return t.forEach(o=>{const a=this._keyToItem.get(o);r.getTileCoords(pH,a.key);const l=QS(pH,n);l<s&&(s=l,i=a.key)}),i.id}};c([h({constructOnly:!0})],id.prototype,"concurrency",void 0),c([h({constructOnly:!0})],id.prototype,"process",void 0),c([h()],id.prototype,"state",void 0),c([h({constructOnly:!0})],id.prototype,"strategy",void 0),c([h({constructOnly:!0})],id.prototype,"tileInfoView",void 0),c([h({readOnly:!0})],id.prototype,"updating",null),id=c([O("esri.views.2d.tiling.PagedTileQueue")],id);let Tm=class rf{static getId(t,r,n,i){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${r}/${n}/${i}`}constructor(t,r,n,i){this.set(t,r,n,i)}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=4095&this.row,r=4095&this.col,n=63&this.level;return(3&this.world)<<30|r<<22|t<<8|n}acquire(t,r,n,i){this.set(t,r,n,i)}contains(t){const r=t.level-this.level;return r>=0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new rf(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,r,n,i){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[s,o,a,l]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(o),this.col=parseFloat(a),this.world=parseFloat(l)}else this.level=+t,this.row=+r,this.col=+n,this.world=+i||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new rf(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,r=this.row<<1,n=this.col<<1,i=this.world;return[new rf(t,r,n,i),new rf(t,r,n+1,i),new rf(t,r+1,n,i),new rf(t,r+1,n+1,i)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};Tm.pool=new Gh(Tm,null,null,25,50);function sd(e,t){return[e,t]}function fp(e,t,r){return e[0]=t,e[1]=r,e}function lUe(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}const fa=new Tm("0/0/0/0");let uUe=class fde{static create(t,r,n=null){const i=Ka(t.spatialReference),s=r.origin||sd(t.origin.x,t.origin.y),o=sd(t.size[0]*r.resolution,t.size[1]*r.resolution),a=sd(-1/0,-1/0),l=sd(1/0,1/0),u=sd(1/0,1/0);C(n)&&(fp(a,Math.max(0,Math.floor((n.xmin-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymax)/o[1]))),fp(l,Math.max(0,Math.floor((n.xmax-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymin)/o[1]))),fp(u,l[0]-a[0]+1,l[1]-a[1]+1));const{cols:d,rows:p}=r;let f,y,v,g;return!n&&d&&p&&(fp(a,d[0],p[0]),fp(l,d[1],p[1]),fp(u,d[1]-d[0]+1,p[1]-p[0]+1)),t.isWrappable?(f=sd(Math.ceil(Math.round((i.valid[1]-i.valid[0])/r.resolution)/t.size[0]),u[1]),y=sd(Math.floor((i.origin[0]-s[0])/o[0]),a[1]),v=sd(f[0]+y[0]-1,l[1]),g=!0):(y=a,v=l,f=u,g=!1),new fde(r.level,r.resolution,r.scale,s,a,l,u,o,y,v,f,g)}constructor(t,r,n,i,s,o,a,l,u,d,p,f){this.level=t,this.resolution=r,this.scale=n,this.origin=i,this.first=s,this.last=o,this.size=a,this.norm=l,this.worldStart=u,this.worldEnd=d,this.worldSize=p,this.wrap=f}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,n=!1){fa.set(r);const i=n?fa.col:this.denormalizeCol(fa.col,fa.world),s=fa.row;return lUe(t,this.getXForColumn(i),this.getYForRow(s+1),this.getXForColumn(i+1),this.getYForRow(s)),t}getTileCoords(t,r,n=!1){fa.set(r);const i=n?fa.col:this.denormalizeCol(fa.col,fa.world);return Array.isArray(t)?fp(t,this.getXForColumn(i),this.getYForRow(fa.row)):(t.x=this.getXForColumn(i),t.y=this.getYForRow(fa.row)),t}},O0=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}forEach(t,r){const{spans:n,lodInfo:i}=this,{level:s}=i;if(n.length!==0)for(const{row:o,colFrom:a,colTo:l}of n)for(let u=a;u<=l;u++)t.call(r,s,o,i.normalizeCol(u),i.getWorldForColumn(u))}};O0.pool=new Gh(O0);let Mk=class{constructor(t,r,n){this.row=t,this.colFrom=r,this.colTo=n}};const gr=new Tm("0/0/0/0");let cUe=class mde{static create(t,r){t[1]>r[1]&&([t,r]=[r,t]);const[n,i]=t,[s,o]=r,a=s-n,l=o-i,u=l!==0?a/l:0,d=(Math.ceil(i)-i)*u,p=(Math.floor(i)-i)*u;return new mde(n,Math.floor(i),Math.ceil(o),u,a<0?d:p,a<0?p:d,a<0?s:n,a<0?n:s)}constructor(t,r,n,i,s,o,a,l){this.x=t,this.ymin=r,this.ymax=n,this.invM=i,this.leftAdjust=s,this.rightAdjust=o,this.leftBound=a,this.rightBound=l}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Fs=[[0,0],[0,0],[0,0],[0,0]],dUe=1e-6;let hUe=class{constructor(t,r=null){this.tileInfo=t,this.fullExtent=r,this.scales=[],this._infoByScale={},this._infoByLevel={};const n=t.lods.slice();n.sort((s,o)=>o.scale-s.scale);const i=this._lodInfos=n.map(s=>uUe.create(t,s,r));n.forEach((s,o)=>{this._infoByLevel[s.level]=i[o],this._infoByScale[s.scale]=i[o],this.scales[o]=s.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,r,n=!1){gr.set(r);const i=this._infoByLevel[gr.level];return i?i.getTileBounds(t,gr,n):t}getTileCoords(t,r,n=!1){gr.set(r);const i=this._infoByLevel[gr.level];return i?i.getTileCoords(t,gr,n):t}getTileCoverage(t,r=192,n="closest"){const i=n==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),s=O0.pool.acquire(i),o=this._wrap;let a,l,u,d=1/0,p=-1/0;const f=s.spans;Fs[0][0]=Fs[0][1]=Fs[1][1]=Fs[3][0]=-r,Fs[1][0]=Fs[2][0]=t.size[0]+r,Fs[2][1]=Fs[3][1]=t.size[1]+r;for(const b of Fs)t.toMap(b,b),b[0]=i.getColumnForX(b[0]),b[1]=i.getRowForY(b[1]);const y=[];let v=3;for(let b=0;b<4;b++){if(Fs[b][1]===Fs[v][1]){v=b;continue}const w=cUe.create(Fs[b],Fs[v]);d=Math.min(w.ymin,d),p=Math.max(w.ymax,p),y[w.ymin]===void 0&&(y[w.ymin]=[]),y[w.ymin].push(w),v=b}if(d==null||p==null||p-d>100)return null;let g=[];for(a=d;a<p;){y[a]!=null&&(g=g.concat(y[a])),l=1/0,u=-1/0;for(let b=g.length-1;b>=0;b--){const w=g[b];l=Math.min(l,w.getLeftCol()),u=Math.max(u,w.getRightCol())}if(l=Math.floor(l),u=Math.floor(u),a>=i.first[1]&&a<=i.last[1])if(o)if(i.size[0]<i.worldSize[0]){const b=Math.floor(u/i.worldSize[0]);for(let w=Math.floor(l/i.worldSize[0]);w<=b;w++)f.push(new Mk(a,Math.max(i.getFirstColumnForWorld(w),l),Math.min(i.getLastColumnForWorld(w),u)))}else f.push(new Mk(a,l,u));else l>i.last[0]||u<i.first[0]||(l=Math.max(l,i.first[0]),u=Math.min(u,i.last[0]),f.push(new Mk(a,l,u)));a+=1;for(let b=g.length-1;b>=0;b--){const w=g[b];w.ymax>=a?w.incrRow():g.splice(b,1)}}return s}getTileParentId(t){gr.set(t);const r=this._infoByLevel[gr.level],n=this._lodInfos.indexOf(r)-1;return n<0?null:(this._getTileIdAtLOD(gr,this._lodInfos[n],gr),gr.id)}getTileResolution(t){const r=this._infoByLevel[typeof t=="object"?t.level:t];return r?r.resolution:-1}getTileScale(t){const r=this._infoByLevel[t.level];return r?r.scale:-1}intersects(t,r){gr.set(r);const n=this._infoByLevel[gr.level],i=t.lodInfo;if(i.resolution>n.resolution){this._getTileIdAtLOD(gr,i,gr);const o=i.denormalizeCol(gr.col,gr.world);for(const a of t.spans)if(a.row===gr.row&&a.colFrom<=o&&a.colTo>=o)return!0}if(i.resolution<n.resolution){const[o,a,l,u]=t.spans.reduce((g,b)=>(g[0]=Math.min(g[0],b.row),g[1]=Math.max(g[1],b.row),g[2]=Math.min(g[2],b.colFrom),g[3]=Math.max(g[3],b.colTo),g),[1/0,-1/0,1/0,-1/0]),d=n.denormalizeCol(gr.col,gr.world),p=i.getColumnForX(n.getXForColumn(d)),f=i.getRowForY(n.getYForRow(gr.row)),y=i.getColumnForX(n.getXForColumn(d+1))-1,v=i.getRowForY(n.getYForRow(gr.row+1))-1;return!(p>u||y<l||f>a||v<o)}const s=i.denormalizeCol(gr.col,gr.world);return t.spans.some(o=>o.row===gr.row&&o.colFrom<=s&&o.colTo>=s)}normalizeBounds(t,r,n){if(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._wrap){const i=Ka(this.tileInfo.spatialReference),s=-n*(i.valid[1]-i.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>r[0])return this._infoByScale[r[0]];for(let n=1;n<r.length-1;n++)if(t>r[n]+dUe)return this._infoByScale[r[n-1]];return this._infoByScale[r[r.length-1]]}getClosestInfoForScale(t){const r=this.scales;return this._infoByScale[t]||(t=r.reduce((n,i)=>Math.abs(i-t)<Math.abs(n-t)?i:n,r[0])),this._infoByScale[t]}scaleToLevel(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let n=r.length-1;n>=0;n--)if(t<r[n])return n===r.length-1?this._infoByScale[r[r.length-1]].level:this._infoByScale[r[n]].level+(r[n]-t)/(r[n]-r[n+1]);return this._infoByScale[r[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}_getTileIdAtLOD(t,r,n){const i=this._infoByLevel[n.level];return t.set(n),r.resolution<i.resolution?null:(r.resolution===i.resolution||(t.level=r.level,t.col=Math.floor(n.col*i.resolution/r.resolution+.01),t.row=Math.floor(n.row*i.resolution/r.resolution+.01)),t)}};function pUe(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const Ik=new Set,k$=[],ny=new Map,fH=[0,0];let Bu=class extends Ie{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:r,strategy:n}=this;this._queue=new pde({concurrency:t,process:(i,s)=>{const o=this._keyToItem.get(i);return r(o,{signal:s})},peeker:n==="scale-first"?i=>this._peekByScaleFirst(i):i=>this._peekByCenterFirst(i)})}destroy(){this.clear(),this._queue=Ur(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(t){const r=typeof t=="string"?t:t.id;this._queue.abort(r)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const r=typeof t=="string"?t:t.id;return this.has(r)&&this._queue.isOngoing(r)}pause(){this._queue.pause()}push(t){const r=t.key.id;if(this._queue.has(r))return this._queue.get(r);const n=this._queue.push(r),i=()=>{this._keyToItem.delete(r),this.notifyChange("updating")};return this._keyToItem.set(r,t),n.then(i,i),this.notifyChange("updating"),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView;let n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;t.forEach(d=>{const p=this._keyToItem.get(d),f=this.tileInfoView.getTileScale(p.key);ny.has(f)||(ny.set(f,[]),n=Math.max(f,n),i=Math.min(f,i)),ny.get(f).push(p.key),Ik.add(f)});let s=this.state.scale;ny.has(s)||(pUe(k$,Ik),k$.sort((d,p)=>d-p),s=k$.reduce((d,p)=>Math.abs(p-s)<Math.abs(d-s)?p:d,k$[0])),s=Math.min(s,n),s=Math.max(s,i);const o=ny.get(s),a=r.getClosestInfoForScale(s),l=a.getColumnForX(this.state.center[0]),u=a.getRowForY(this.state.center[1]);return o.sort((d,p)=>{const f=a.denormalizeCol(d.col,d.world),y=a.denormalizeCol(p.col,p.world);return Math.sqrt((l-f)*(l-f)+(u-d.row)*(u-d.row))-Math.sqrt((l-y)*(l-y)+(u-p.row)*(u-p.row))}),Ik.clear(),ny.clear(),o[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView,n=this.state.center;let i,s=Number.POSITIVE_INFINITY;return t.forEach(o=>{const a=this._keyToItem.get(o);r.getTileCoords(fH,a.key);const l=QS(fH,n);l<s&&(s=l,i=a.key)}),i.id}};c([h({constructOnly:!0})],Bu.prototype,"concurrency",void 0),c([h({constructOnly:!0})],Bu.prototype,"process",void 0),c([h()],Bu.prototype,"state",void 0),c([h({constructOnly:!0})],Bu.prototype,"strategy",void 0),c([h({constructOnly:!0})],Bu.prototype,"tileInfoView",void 0),c([h({readOnly:!0})],Bu.prototype,"updating",null),Bu=c([O("esri.views.2d.tiling.TileQueue")],Bu);const C_t=Bu;let fUe=class{constructor(t,r,n){this.maxSize=t,this._tileInfoView=r,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const r=this._tilePerId.get(t);if(!r)return;const n=r.key.level,i=this._tileKeysPerLevel[n];mH(this._tilePerId,t);for(let s=0;s<i.length;s++)if(i[s].id===t){i.splice(s,1);break}return r.visible=!0,r}add(t){t.visible=!1;const r=t.key,n=r.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,t);const i=r.level;this._tileKeysPerLevel[i]||(this._tileKeysPerLevel[i]=[]),this._tileKeysPerLevel[i].push(r)}prune(t,r,n){let i=this._tilePerId.size;if(i<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;i>this.maxSize&&s>=0;)s!==t&&(i=this._pruneAroundCenterTile(i,r,n,s)),s--;i>this.maxSize&&(i=this._pruneAroundCenterTile(i,r,n,t))}_pruneAroundCenterTile(t,r,n,i){const s=this._tileKeysPerLevel[i];if(!s||s.length===0)return t;const{size:o,origin:a}=this._tileInfoView.tileInfo,l=n*o[0],u=n*o[1],d=[0,0],p=[0,0];for(s.sort((f,y)=>(d[0]=a.x+l*(f.col+.5),d[1]=a.y-u*(f.row+.5),p[0]=a.x+l*(y.col+.5),p[1]=a.y-u*(y.row+.5),wM(d,r)-wM(p,r)));s.length>0;){const f=s.pop();if(this._removeTile(f.id),--t===this.maxSize)break}return t}_removeTile(t){const r=this._tilePerId.get(t);this._removedFunc&&r&&this._removedFunc(r),mH(this._tilePerId,t)}};function mH(e,t){e.delete(t)}const mp=new Tm(0,0,0,0),_o=new Map,iy=[],R$=[];let P_t=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=t.resampling==null||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new fUe(t.cacheSize,this.tileInfoView,r=>{this.releaseTile(r)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:r,tileIndex:n}=this,i=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.coveragePolicy);if(R$.length=0,iy.length=0,_o.clear(),!i)return;const{minScale:s,maxScale:o}=this.tileInfoView.tileInfo,{spans:a,lodInfo:l}=i,{level:u}=l,{scale:d,center:p,resolution:f}=t.state,y=!t.stationary&&d>this._previousScale;if(this._previousScale=d,this.tiles.length=0,!r&&(d>s||d<o))return this.tiles.length=0,_o.clear(),n.forEach(w=>{this.releaseTile(w)}),n.clear(),R$.length=0,iy.length=0,_o.clear(),O0.pool.release(i),!0;n.forEach(w=>w.visible=!0);let v=0,g=0;if(a.length>0)for(const{row:w,colFrom:S,colTo:_}of a)for(let x=S;x<=_;x++){v++;const $=mp.set(u,w,l.normalizeCol(x),l.getWorldForColumn(x)).id;if(n.has($)){const E=n.get($);E.isReady?(_o.set($,E),g++):y||this._addParentTile($,_o)}else{let E;if(this._tileCache&&this._tileCache.has($)){if(E=this._tileCache.pop($),this.tileIndex.set($,E),E.isReady){_o.set($,E),g++;continue}}else E=this.acquireTile(mp),this.tileIndex.set($,E);y||this._addParentTile($,_o)}}const b=g===v;n.forEach((w,S)=>{if(mp.set(S),_o.has(S))return;const _=this.tileInfoView.intersects(i,mp),x=this.cachePolicy==="purge"?mp.level!==u:mp.level>u;!_||!y&&b?!x&&_||iy.push(S):w.isReady?x&&this.cachePolicy==="purge"&&this._hasReadyAncestor(mp,u)?iy.push(S):R$.push(S):x&&iy.push(S)});for(const w of R$){const S=n.get(w);S&&S.isReady&&_o.set(w,S)}for(const w of iy){const S=n.get(w);this._tileCache?this._tileCache.add(S):this.releaseTile(S),n.delete(w)}return _o.forEach(w=>this.tiles.push(w)),n.forEach(w=>{_o.has(w.key.id)||(w.visible=!1)}),this._tileCache&&this._tileCache.prune(u,p,f),O0.pool.release(i),_o.clear(),b}clear(t=!0){const{tileIndex:r}=this;t&&r.forEach(n=>{this.releaseTile(n)}),r.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,r){let n=t,i=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(i=this.tileIndex.get(n),i&&i.isReady){r.has(i.key.id)||r.set(i.key.id,i);break}}else if(this._tileCache&&this._tileCache.has(n)&&(i=this._tileCache.pop(n),this.tileIndex.set(n,i),i&&i.isReady)){r.has(i.key.id)||r.set(i.key.id,i);break}}_hasReadyAncestor(t,r){const n=Lh();this.tileInfoView.getTileBounds(n,t,!0);for(const i of this.tileIndex.values())if(i.isReady&&i.key.level>=r&&i.key.level<t.level){const s=Lh();if(this.tileInfoView.getTileBounds(s,i.key,!0),dAe(s,n))return!0}return!1}};function Z9(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}let yH=class extends kn{constructor(t,r){super(!0),this._view=t,this.registerIncoming("double-click",r,n=>this._handleDoubleClick(n,r))}_handleDoubleClick(t,r){Z9(t.data,"primary")&&(t.stopPropagation(),r?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},mUe=class extends kn{constructor(t,r,n){super(!0),this.view=t,this.pointerType=r,this.registerIncoming("double-tap-drag",n,i=>this._handleDoubleTapDrag(i))}_handleDoubleTapDrag(t){const{data:r}=t,{pointerType:n}=r;if(n!==this.pointerType)return;t.stopPropagation();const{action:i,delta:s}=r,{view:o}=this,{mapViewNavigation:a}=o;switch(i){case"begin":{const{scale:l}=o;this._startScale=l,this._currentScale=l,this._previousDelta=s,a.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const l=1.015**s.y,u=this._startScale*l,d=u/this._currentScale;a.setViewpointImmediate(d),this._currentScale=u;break}case"end":{const{constraints:l}=o,{effectiveLODs:u,snapToZoom:d}=l;if(!d||!u)return void a.end();const p=l.snapScale(this._currentScale),f=(s.y>0?Math.max(p,l.snapToPreviousScale(this._startScale)):Math.min(p,l.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(f);break}}}},gC=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const r=t.data,n=r.pointers.size;switch(r.action){case"start":this._currentCount=n,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){var r,n;this._startEvent=t,(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var r,n;(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var r,n;(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},yUe=class extends kn{constructor(t,r,n){super(!0),this.view=t,this.pointerAction=r,this.registerIncoming("drag",n,i=>this._handleDrag(i)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new gC({start:(r,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(r,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(r,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(r,n)=>r===1&&Z9(n.data,this.pointerAction)})}_handleDrag(t){const r=this.view.mapViewNavigation;r.pinch.zoomMomentum||r.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},gUe=class extends kn{constructor(t,r,n){super(!0),this._view=t,this.pointerAction=r;const i=this._view.mapViewNavigation;this._dragEventSeparator=new gC({start:(s,o)=>{i.rotate.begin(this._view,o.data),o.stopPropagation()},update:(s,o)=>{i.rotate.update(this._view,o.data),o.stopPropagation()},end:(s,o)=>{i.rotate.end(),o.stopPropagation()},condition:(s,o)=>s===1&&Z9(o.data,this.pointerAction)}),this.registerIncoming("drag",n,s=>this._dragEventSeparator.handle(s))}};function ma(e){let t=e*e;return e<0&&(t*=-1),t}function vUe(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function bUe(e,t,r){const n=r,i=e.state,s=e.device,o=t.tiltDirection==="forward-down"?1:-1,a=1;return s.deviceType==="standard"?(n.translation[0]=ma(i.axes[0]),n.translation[1]=ma(i.axes[1]),n.translation[2]=ma(i.buttons[7])-ma(i.buttons[6]),n.heading=ma(i.axes[2]),n.tilt=ma(i.axes[3])):s.deviceType==="spacemouse"&&(n.translation[0]=1.2*ma(i.axes[0]),n.translation[1]=1.2*ma(i.axes[1]),n.translation[2]=2*-ma(i.axes[2]),n.heading=1.2*ma(i.axes[5]),n.tilt=1.2*ma(i.axes[3])),n.tilt*=o,Pie(n.translation,n.translation,a),n}function wUe(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let _Ue=class extends kn{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new zi,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",r=>this._handleGamePadEvent(r)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([ue(()=>{var r;return(r=this._view.navigation.gamepad)==null?void 0:r.enabled},r=>{r?(this._handle.resume(),this._frameTask||(this._frameTask=d0({update:n=>this._frameUpdate(n.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},mt)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const r=this._view.navigation.gamepad.device;r&&t.data.device!==r||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,vUe(this._transformation)):(this._currentDevice=t.data.device,bUe(t.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(t){const r=this._transformation;if(wUe(r))return;const n=this._view.viewpoint.clone(),i=this._view.navigation.gamepad.velocityFactor,s=xUe*i*t;yC(n,n,[r.translation[0]*s,-r.translation[1]*s]);const o=1+r.translation[2]*$Ue*t,a=this._view.constraints.rotationEnabled?-r.heading*SUe*t:0,l=this._view.size,u=[l[0]/2,l[1]];Xce(n,n,o,a,u,l);const d=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=d}};const SUe=.06,xUe=.7,$Ue=6e-4;let EUe=class extends kn{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyMap={[r.left]:"left",[r.right]:"right",[r.up]:"up",[r.down]:"down"},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),this.registerIncoming("key-up",n,i=>this._handleKeyUp(i)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const n=this._keyMap[t.data.key];if(this._pressed=n!=null,this._pressed){if(r)switch(this.view.mapViewNavigation.begin(),n){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}},TUe=class extends kn{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyToDirection={[r.clockwiseOption1]:"clockwise",[r.clockwiseOption2]:"clockwise",[r.counterClockwiseOption1]:"counterClockwise",[r.counterClockwiseOption2]:"counterClockwise",[r.resetOption1]:"reset",[r.resetOption2]:"reset"},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),this.registerIncoming("key-up",n,i=>this._handleKeyUp(i)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const n=t.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const i=this._keyToDirection[t.data.key];if(this._pressed=i!=null,this._pressed){if(r)switch(this.view.mapViewNavigation.begin(),i){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var Sg;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(Sg||(Sg={}));let MUe=class extends kn{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._keysToZoomAction={},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),r.zoomIn.forEach(i=>this._keysToZoomAction[i]=Sg.IN),r.zoomOut.forEach(i=>this._keysToZoomAction[i]=Sg.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const r=t.modifiers;if(r.size>0&&!r.has("Shift"))return;const{key:n}=t.data;if(!(n in this._keysToZoomAction))return;const i=this._keysToZoomAction[n],{mapViewNavigation:s}=this.view;let o=null;switch(i){case Sg.IN:o=s.zoomIn();break;case Sg.OUT:o=s.zoomOut();break;default:return}s.begin(),o.then(()=>s.end()),t.stopPropagation()}};const IUe=.6;let OUe=class extends kn{constructor(t,r){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",r,n=>this._handleMouseWheel(n))}_handleMouseWheel(t){if(!this._view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const r=this._view.mapViewNavigation,{x:n,y:i,deltaY:s}=t.data,o=1/IUe**(1/60*s),a=r.zoom(o,[n,i]);a&&(this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,r.end()}))}},CUe=class extends kn{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const r=this.view.mapViewNavigation;this._dragEventSeparator=new gC({start:(n,i)=>{r.pinch.begin(this.view,i.data),i.stopPropagation()},update:(n,i)=>{r.pinch.update(this.view,i.data),i.stopPropagation()},end:(n,i)=>{r.pinch.end(this.view),i.stopPropagation()},condition:n=>n>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function gH(e){const t=e.native;return t?{buttons:t.buttons.map(r=>r.pressed?r.value?r.value:1:0),axes:t.axes.map(r=>kUe(r,e.axisThreshold))}:{buttons:[],axes:[]}}function AUe(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(let r=0;r<e.buttons.length;r++)if(e.buttons[r]!==t.buttons[r])return!1;return!0}function PUe(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function kUe(e,t){const r=Math.abs(e);return r<t?0:Math.sign(e)*(r-t)/(1-t)}let RUe=class{constructor(t,r){this._element=t,this._input=r,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const o=s.gamepad,a=o.index,l=this._inputDevices[a];l&&(this._emitGamepadEvent(o,gH(l),!1),this._inputDevices.splice(a,1),this._latestUpdate.splice(a,1),this._input.gamepad.devices.remove(l),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const n="getGamepads"in window.navigator,i=window.isSecureContext;this.supported=n&&i,this.supported&&(this._forEachGamepad(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const r=new G9(t);r.deviceType!=="unknown"&&(this._inputDevices[t.index]=r,this._input.gamepad.devices.add(r)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=d0({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),r=this._element.contains(document.activeElement),n=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!r;this._forEachGamepad(i=>{const s=this._inputDevices[i.index];if(!s)return;const o=this._latestUpdate[i.index],a=gH(s),l=n||PUe(a);o&&(o.timestamp===i.timestamp||!o.active&&l||AUe(o.state,a))||this._emitGamepadEvent(i,a,!l)})}_forEachGamepad(t){const r=window.navigator.getGamepads();for(let n=0;n<r.length;n++){const i=r[n];this._validate(i)&&t(i)}}_emitGamepadEvent(t,r,n){const i=this._latestUpdate[t.index],s=i&&i.active;if(!s&&!n)return;const o=!s&&n?"start":s&&n?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:r,active:n},this._callback&&this._callback({device:this._inputDevices[t.index],state:r,action:o})}_validate(t){if(!t||!t.connected)return!1;for(let r=0;r<t.axes.length;r++)if(isNaN(t.axes[r]))return!1;return!0}};const vH=Z("edge"),LUe=Z("chrome"),NUe=Z("ff"),FUe=Z("safari"),bH="esri-view-surface",sy={touchNone:`${bH}--touch-none`,touchPan:`${bH}--touch-pan`};let yde=class gde{constructor(t,r){this._input=r,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new RUe(t,this._input),this._gamepadSource.onEvent=n=>this._callback("gamepad",n)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource=Ur(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const r in this._active)if(!t||!t.has(r)){const n=this._active[r];this._element.removeEventListener(Ok[r],n),delete this._active[r]}t&&t.forEach(r=>{if(!this._active[r]&&Ok[r]){const n=(this._eventHandlers[r]||this._handleDefault).bind(this,r);this._element.addEventListener(Ok[r],n),this._active[r]=n}}),this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1}setPointerCapture(t,r){r?(this._element.setPointerCapture(t.pointerId),this._activePointerCaptures.add(t.pointerId)):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?sy.touchNone:sy.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?sy.touchPan:sy.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(sy.touchNone),this._element.classList.remove(sy.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,r){const n=Oce(this._element,t);return gde.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),r.x=n.x,r.y=n.y,r}_handleKey(t,r){const n=iVe(r);n&&t==="key-up"&&this._keyDownState.delete(n);const i={native:r,key:n,repeat:!!n&&this._keyDownState.has(n)};n&&t==="key-down"&&this._keyDownState.add(i.key),this._callback(t,i)}_handlePointer(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});this._callback(t,n)}_handlePointerPreventDefault(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});r.preventDefault(),this._callback(t,n)}_handleMouseWheel(t,r){let n=r.deltaY;switch(r.deltaMode){case 0:vH&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}vH?n*=.7:LUe||FUe?n*=.6:NUe&&(n*=1.375);const i=100,s=Math.abs(n);s>i&&(n=n/s*200/(1+Math.exp(-.02*(s-i))));const o=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,deltaY:n});this._callback(t,o)}_handlePointerCaptureLost(t,r){this._activePointerCaptures.delete(r.pointerId),this._handleDefault(t,r)}_handleDefault(t,r){const n={native:r};r.preventDefault(),this._callback(t,n)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};yde.test={disableSubpixelCoordinates:!1};const Ok={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let DUe=class extends kn{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}};function X9(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function jUe(e,t){const r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}function VUe(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:is()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[_,x]=e,[$,E]=[x.x-_.x,x.y-_.y];return t.radius=Math.sqrt($*$+E*E)/2,t.center.x=(_.x+x.x)/2,t.center.y=(_.y+x.y)/2,t}let r=0,n=0;for(let _=0;_<e.length;_++)r+=e[_].x,n+=e[_].y;r/=e.length,n/=e.length;const i=e.map(_=>_.x-r),s=e.map(_=>_.y-n);let o=0,a=0,l=0,u=0,d=0,p=0,f=0;for(let _=0;_<i.length;_++){const x=i[_],$=s[_],E=x*x,T=$*$;o+=E,a+=T,l+=x*$,u+=E*x,d+=T*$,p+=x*T,f+=$*E}const y=.5*(u+p),v=.5*(d+f),g=o*a-l*l,b=(y*a-v*l)/g,w=(o*v-l*y)/g,S=is(b+r,w+n);return{radius:Math.sqrt(b*b+w*w+(o+a)/e.length),center:S}}function Xf(e){const{native:t}=e,{pointerId:r,button:n,pointerType:i}=t;return i==="mouse"?`${r}:${n}`:`${i}`}const Wo={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};let zUe=class extends kn{constructor(t=Wo.maximumDoubleClickDelay,r=Wo.maximumDoubleClickDistance,n=Wo.maximumDoubleTouchDelay,i=Wo.maximumDoubleTouchDistance,s=$S){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=sn(t.doubleClickTimer))}get hasPendingInputs(){return xO(this._pointerState,t=>t.doubleClickTimer!=null)}_clearDoubleClickTimer(t,r){const n=this._pointerState.get(t);n&&(n.doubleClickTimer=sn(n.doubleClickTimer),r&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const r=this._pointerState.get(t);r.pointerDownCount===1&&this._click.emit(r.event.data,void 0,r.event.modifiers),r.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_getPointerId(t){const{pointerId:r,pointerType:n,button:i}=t.native;return n==="mouse"?`${r}:${i}`:`${n}`}_handleImmediateClick(t){const r=t.data,{pointerType:n}=r.native,i=this._getPointerId(r);if(!this._pointerState.has(i))return void this._startClick(t);const s=this._pointerState.get(i),{data:o,modifiers:a}=s.event,l=n==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;X9(o,r)>l?(this._clearDoubleClickTimer(i,!0),this._startClick(t)):(this._clearDoubleClickTimer(i,!1),s.pointerDownCount===2&&this._doubleClick.emit(o,void 0,a))}_handlePointerDown(t){const r=Xf(t.data),n=this._pointerState.get(r);n&&(n.pointerDownCount+=1)}_startClick(t){const{data:r}=t,{native:{pointerType:n}}=r,i=Xf(r),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(i),s),a=1;this._pointerState.set(i,{event:t,doubleClickTimer:o,pointerDownCount:a}),this.refreshHasPendingInputs()}},UUe=class extends kn{constructor(t=Wo.maximumDoubleClickDelay,r=Wo.maximumDoubleClickDistance,n=Wo.maximumDoubleTouchDelay,i=Wo.maximumDoubleTouchDistance,s=$S){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=is(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new gC({start:(o,a)=>this._dragStart(o,a),update:(o,a)=>this._dragUpdate(a),end:(o,a)=>this._dragEnd(a)}),this.registerIncoming("drag",o=>this._dragEventSeparator.handle(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=sn(t.doubleTapTimeout)})}get hasPendingInputs(){return xO(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const r=this._pointerState.get(t);r&&(r.doubleTapTimeout=sn(r.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_createDoubleTapDragData(t,r,n){const{button:i,buttons:s,pointer:o,pointers:a,pointerType:l,timestamp:u}=n;return{action:t,delta:r,button:i,buttons:s,pointer:o,pointers:a,pointerType:l,timestamp:u}}_dragStart(t,r){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:i}=r,{center:s}=n;this._dragStartCenter=s;const o=this._createDoubleTapDragData("begin",is(0,0),n);this._doubleTapDrag.emit(o,void 0,i),r.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,s=is(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),o=this._createDoubleTapDragData("update",s,r);this._doubleTapDrag.emit(o,void 0,n),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,s=is(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),o=this._createDoubleTapDragData("end",s,r);this._doubleTapDrag.emit(o,void 0,n),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:r}=t,n=Xf(r),i=this._pointerState.get(n),{pointerType:s}=r.native;if(i){const o=s==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(n),X9(i.event.data,r)>o?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:r}=t,{pointerType:n}=r.native,i=Xf(r),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(i),s);this._pointerState.set(i,{event:t,doubleTapTimeout:o}),this.refreshHasPendingInputs()}},BUe=class extends kn{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,r,n,i){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:r.buttons,timestamp:i,pointers:GUe(this._activePointerMap),pointer:r,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(t){const r=t.native.pointerId,n=L$(this._activePointerMap).angle,i={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(r,i);const s=OE(i,vde(this._activePointerMap));i.initialAngle=s,i.lastAngle=s,this._updatePointerAngles(n)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const r=t.native.pointerId,n=this._activePointerMap.get(r);n?n.event=t:this._addPointer(t)}_removePointer(t){const r=L$(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(r)}_updatePointerAngles(t){const r=L$(this._activePointerMap);this._activePointerMap.forEach(n=>{n.initialAngle=OE(n,r)-t,n.lastAngle=OE(n,r)-t})}_emitEvent(t,r,n){const i=L$(this._activePointerMap);this._drag.emit(this._createPayload(t,r,i,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const r=t.data.native.pointerId,n=t.timestamp;this._activePointerMap.get(r)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(r)):(this._removePointer(r),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const r=t.data,n=r.currentEvent,i=t.timestamp;switch(r.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,i)):(this._addPointer(n),this._emitEvent("added",n,i),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,i))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function vde(e){const t=[];return e.forEach(r=>{t.push(is(r.event.x,r.event.y))}),VUe(t)}function L$(e){const t=vde(e);let r=0;return e.forEach(n=>{let i=OE(n,t),s=i-n.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;i=n.lastAngle+s,n.lastAngle=i;const o=i-n.initialAngle;r+=o}),r/=e.size||1,{angle:r,radius:t.radius,center:t.center}}function GUe(e){const t=new Map;return e.forEach((r,n)=>t.set(n,r.event)),t}function OE(e,t){const r=e.event,n=r.x-t.center.x,i=r.y-t.center.y;return Math.atan2(i,n)}var wH;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(wH||(wH={}));let qUe=class extends kn{constructor(t=Wo.maximumDoubleClickDelay,r=Wo.maximumDoubleClickDistance,n=Wo.maximumDoubleTouchDelay,i=Wo.maximumDoubleTouchDistance,s=$S){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=Xf(r);if(!this._pointerState.has(n)){const i={downButton:r.native.button,immediateDoubleClick:null};this._pointerState.set(n,i),this.startCapturingPointer(r.native)}}_handlePointerUp(t){const r=t.data,n=Xf(r),i=this._pointerState.get(n);if(i&&i.downButton===r.native.button){const s=i.immediateDoubleClick;if(s){s.timeoutHandle.remove();const o=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;X9(s,t.data)>o?this._startImmediateDoubleClick(t,i):(this._immediateDoubleClick.emit(t.data,void 0,s.modifiers),this._removeState(r))}else this._startImmediateDoubleClick(t,i)}}_startImmediateDoubleClick(t,r){const n=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;r.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),n)}}_removeState(t){const r=Xf(t);this._pointerState.delete(r),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}};const P1={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};let WUe=class extends kn{constructor(t=P1.maximumClickDelay,r=P1.movementUntilMouseDrag,n=P1.movementUntilPenDrag,i=P1.movementUntilTouchDrag,s=P1.holdDelay,o=$S){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=r,this._movementUntilPenDrag=n,this._movementUntilTouchDrag=i,this._holdDelay=s,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",a=>{this._handlePointerLoss(a,"pointer-up")}),this.registerIncoming("pointer-capture-lost",a=>{this._handlePointerLoss(a,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",a=>{this._handlePointerLoss(a,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=sn(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=r.native.pointerId;let i=null;this._pointerState.size===0&&(i=this._clock.setTimeout(()=>{const o=this._pointerState.get(n);if(o){if(!o.isDragging){const a=o.previousEvent;this._pointerHold.emit(a,void 0,t.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._holdDelay));const s={startEvent:r,previousEvent:r,startTimestamp:t.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:i,modifiers:new Set};this._pointerState.set(n,s),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_createPointerDragData(t,r,n){return{action:t,startEvent:r.startEvent,previousEvent:r.previousEvent,currentEvent:n}}_handlePointerMove(t){const r=t.data,n=r.native.pointerId,i=this._pointerState.get(n);i&&(i.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",i,r),void 0,i.modifiers):jUe(r,i.startEvent)>this._getDragThreshold(r.native.pointerType)&&this._startDragging(t),i.previousEvent=r)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const r=t.data,n=r.native.pointerId;this._pointerState.forEach(i=>{i.holdTimeout!=null&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging||(i.modifiers=t.modifiers,i.isDragging=!0,n===i.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",i,r)):this._pointerDrag.emit(this._createPointerDragData("start",i,i.previousEvent),t.timestamp))})}_handlePointerLoss(t,r){const n=t.data,i=n.native.pointerId,s=this._pointerState.get(i);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",s,r==="pointer-up"?n:s.previousEvent),void 0,s.modifiers):r==="pointer-up"&&s.downButton===n.native.button&&t.timestamp-s.startTimestamp<=this._maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(i),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}};const N$={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let nf=class extends Ie{constructor(){super(...arguments),this._handles=new zi}initialize(){const t=()=>{var r;return(r=this.view)==null?void 0:r.ready};this._handles.add([Ni(()=>!t(),()=>this._disconnect()),Ni(t,()=>this._connect())])}destroy(){this._handles=Ur(this._handles),this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=Ur(this._inputManager)}_connect(){const t=this.view.surface,r=new yde(t,this.view.input),n=[new qUe,new WUe,new zUe,new BUe(this.view.navigation),new UUe],i=new Sl({eventSource:r,recognizers:n});i.installHandlers("prevent-context-menu",[new DUe],$h.INTERNAL),i.installHandlers("navigation",[new CUe(this.view),new _Ue(this.view),new OUe(this.view),new yH(this.view),new yH(this.view,[N$.counter]),new yUe(this.view,"primary"),new EUe(this.view,N$.pan),new MUe(this.view,N$.zoom),new TUe(this.view,N$.rotate),new gUe(this.view,"secondary"),new mUe(this.view,"touch")],$h.INTERNAL),this.view.viewEvents.connect(i),this._source=r,this._inputManager=i,ue(()=>{var s,o;return(o=(s=this.view)==null?void 0:s.navigation)==null?void 0:o.browserTouchPanEnabled},s=>{this._source&&(this._source.browserTouchPanningEnabled=!s)},mt)}get test(){return{inputManager:this._inputManager}}};c([h()],nf.prototype,"view",void 0),c([h()],nf.prototype,"latestPointerType",null),c([h()],nf.prototype,"latestPointerLocation",null),c([h()],nf.prototype,"multiTouchActive",null),nf=c([O("esri.views.2d.input.MapViewInputManager")],nf);const HUe=nf;var _H,SH,xH,Z4={},KUe={get exports(){return Z4},set exports(e){Z4=e}};_H=KUe,SH=function(){function e(i,s,o,a,l){t(i,s,o||0,a||i.length-1,l||n)}function t(i,s,o,a,l){for(;a>o;){if(a-o>600){var u=a-o+1,d=s-o+1,p=Math.log(u),f=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*f*(u-f)/u)*(d-u/2<0?-1:1);t(i,s,Math.max(o,Math.floor(s-d*f/u+y)),Math.min(a,Math.floor(s+(u-d)*f/u+y)),l)}var v=i[s],g=o,b=a;for(r(i,o,s),l(i[a],v)>0&&r(i,o,a);g<b;){for(r(i,g,b),g++,b--;l(i[g],v)<0;)g++;for(;l(i[b],v)>0;)b--}l(i[o],v)===0?r(i,o,b):r(i,++b,a),b<=s&&(o=b+1),s<=b&&(a=b-1)}}function r(i,s,o){var a=i[s];i[s]=i[o],i[o]=a}function n(i,s){return i<s?-1:i>s?1:0}return e},(xH=SH())!==void 0&&(_H.exports=xH);const JUe=Z4;function SM(e,t){if(!(this instanceof SM))return new SM(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function YUe(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function oy(e,t){Gb(e,0,e.children.length,t,e)}function Gb(e,t,r,n,i){i||(i=Jy(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var s,o=t;o<r;o++)s=e.children[o],qb(i,e.leaf?n(s):s);return i}function qb(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function $H(e,t){return e.minX-t.minX}function EH(e,t){return e.minY-t.minY}function Ck(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function F$(e){return e.maxX-e.minX+(e.maxY-e.minY)}function ZUe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function XUe(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,s-n)}function Ak(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function D$(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Jy(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function TH(e,t,r,n,i){for(var s,o=[t,r];o.length;)(r=o.pop())-(t=o.pop())<=n||(s=t+Math.ceil((r-t)/n/2)*n,JUe(e,s,t,r,i),o.push(t,s,s,r))}SM.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!D$(e,t))return r;for(var i,s,o,a,l=[];t;){for(i=0,s=t.children.length;i<s;i++)o=t.children[i],D$(e,a=t.leaf?n(o):o)&&(t.leaf?r.push(o):Ak(e,a)?this._all(o,r):l.push(o));t=l.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!D$(e,t))return!1;for(var n,i,s,o,a=[];t;){for(n=0,i=t.children.length;n<i;n++)if(s=t.children[n],D$(e,o=t.leaf?r(s):s)){if(t.leaf||Ak(e,o))return!0;a.push(s)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Jy([]),this},remove:function(e,t){if(!e)return this;for(var r,n,i,s,o=this.data,a=this.toBBox(e),l=[],u=[];o||l.length;){if(o||(o=l.pop(),n=l[l.length-1],r=u.pop(),s=!0),o.leaf&&(i=YUe(e,o.children,t))!==-1)return o.children.splice(i,1),l.push(o),this._condense(l),this;s||o.leaf||!Ak(o,a)?n?(r++,o=n.children[r],s=!1):o=null:(l.push(o),u.push(r),r=0,n=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:$H,compareMinY:EH,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var i,s=r-t+1,o=this._maxEntries;if(s<=o)return oy(i=Jy(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,n-1))),(i=Jy([])).leaf=!1,i.height=n;var a,l,u,d,p=Math.ceil(s/o),f=p*Math.ceil(Math.sqrt(o));for(TH(e,t,r,f,this.compareMinX),a=t;a<=r;a+=f)for(TH(e,a,u=Math.min(a+f-1,r),p,this.compareMinY),l=a;l<=u;l+=p)d=Math.min(l+p-1,u),i.children.push(this._build(e,l,d,n-1));return oy(i,this.toBBox),i},_chooseSubtree:function(e,t,r,n){for(var i,s,o,a,l,u,d,p;n.push(t),!t.leaf&&n.length-1!==r;){for(d=p=1/0,i=0,s=t.children.length;i<s;i++)l=Ck(o=t.children[i]),(u=ZUe(e,o)-l)<p?(p=u,d=l<d?l:d,a=o):u===p&&l<d&&(d=l,a=o);t=a||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),s=[],o=this._chooseSubtree(i,this.data,t,s);for(o.children.push(e),qb(o,i);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(i,s,t)},_split:function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var s=this._chooseSplitIndex(r,i,n),o=Jy(r.children.splice(s,r.children.length-s));o.height=r.height,o.leaf=r.leaf,oy(r,this.toBBox),oy(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(r,o)},_splitRoot:function(e,t){this.data=Jy([e,t]),this.data.height=e.height+1,this.data.leaf=!1,oy(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,i,s,o,a,l,u,d;for(l=u=1/0,n=t;n<=r-t;n++)o=XUe(i=Gb(e,0,n,this.toBBox),s=Gb(e,n,r,this.toBBox)),a=Ck(i)+Ck(s),o<l?(l=o,d=n,u=a<u?a:u):o===l&&a<u&&(u=a,d=n);return d},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:$H,i=e.leaf?this.compareMinY:EH;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var i,s,o=this.toBBox,a=Gb(e,0,t,o),l=Gb(e,r-t,r,o),u=F$(a)+F$(l);for(i=t;i<r-t;i++)s=e.children[i],qb(a,e.leaf?o(s):s),u+=F$(a);for(i=r-t-1;i>=t;i--)s=e.children[i],qb(l,e.leaf?o(s):s),u+=F$(l);return u},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)qb(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)e[r].children.length===0?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():oy(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};let MH=class bde{constructor(t,r){this.key=new Tm(0,0,0,0),this.bounds=Lh(),this.objectIds=new Set,this.key.set(r);const n=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.scale=n.scale,this.level=n.level}get id(){return this.key.id}get extent(){return Pt.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const t=this.key.getChildKeys(),r=ts.acquire();for(let n=0;n<t.length;n++)r[n]=new bde(this.tileInfoView,t[n]);return r}getQuantizationParameters(){return xae.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const yp={added:[],removed:[]},Pk=new Set,QUe=new Tm(0,0,0,0);let eBe=class extends au{constructor(t){super(),this._tiles=new Map,this._index=SM(9,Z("esri-csp-restrictions")?r=>({minX:r.bounds[0],minY:r.bounds[1],maxX:r.bounds[2],maxY:r.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const r={added:[],removed:[]};for(const n of t.added)if(!this.has(n)){const i=new MH(this.tileScheme,n);this._tiles.set(n,i),this._index.insert(i),r.added.push(i)}for(const n of t.removed)if(this.has(n)){const i=this.get(n);this._tiles.delete(n),this._index.remove(i),r.removed.push(i)}this.tiles.length=0,this._tiles.forEach(n=>this.tiles.push(n)),(r.added.length||r.removed.length)&&this.emit("update",r)}setViewState(t){const r=this.tileScheme.getTileCoverage(t,0);if(!r)return;const{spans:n,lodInfo:i}=r,{level:s}=i;if(n.length>0)for(const{row:o,colFrom:a,colTo:l}of n)for(let u=a;u<=l;u++){const d=QUe.set(s,o,i.normalizeCol(u),i.getWorldForColumn(u)).id;if(Pk.add(d),!this.has(d)){const p=new MH(this.tileScheme,d);this._tiles.set(d,p),this._index.insert(p),this.tiles.push(p),yp.added.push(p)}}for(let o=this.tiles.length-1;o>=0;o--){const a=this.tiles[o];Pk.has(a.id)||(this._tiles.delete(a.id),this.tiles.splice(o,1),this._index.remove(a),yp.removed.push(a))}(yp.added.length||yp.removed.length)&&this.emit("update",yp),O0.pool.release(r),Pk.clear(),yp.added.length=0,yp.removed.length=0}},sf=class extends Ie{constructor(){super(...arguments),this.color=new Be([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity}};c([h({type:Be})],sf.prototype,"color",void 0),c([h({type:Be})],sf.prototype,"haloColor",void 0),c([h()],sf.prototype,"haloOpacity",void 0),c([h()],sf.prototype,"fillOpacity",void 0),sf=c([O("esri.views.2d.support.HighlightOptions")],sf);const wde=sf,tBe=e=>e.includes("Brush");let _de=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),tBe(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};function rBe(e,t,r,n,i,s,o,a){e.ignorePadding&&(n={left:0,right:0,top:0,bottom:0});let l=null;e.width!=null&&e.height!=null?l=[e.width,e.height]:e.width==null&&e.height!=null?l=[e.height,e.height]:e.width!=null&&e.height==null?l=[e.width,e.width]:e.width==null&&e.height==null&&(l=null);const u=r[0]-(n.left+n.right),d=r[1]-(n.top+n.bottom);let p,f,y=e.area||{x:0,y:0,width:u,height:d};if(l){const v=u/d,g=l[0]/l[1];if(g>v){const b=y.width/g;y={x:y.x,y:Math.round(y.y+(y.height-b)/2),width:y.width,height:Math.round(b)}}else{const b=y.height*g;y={x:Math.round(y.x+(y.width-b)/2),y:y.y,width:Math.round(b),height:y.height}}}else l=[y.width,y.height];return l[0]>y.width?(p=Math.min(l[0]/y.width,t),f=l[0]/y.width/p):(p=1,f=l[0]/y.width),{resolutionScale:p,cropArea:{x:Math.round((y.x+n.left)*p),y:Math.round((y.y+n.top)*p),width:Math.round(y.width*p),height:Math.round(y.height*p)},outputScale:f,format:i,quality:s,children:o,rotation:a}}function nBe(e,t,r){const{ctx:n,canvas:i}=Sde(e,r),s=n.getImageData(0,0,e.width,e.height),o=oBe(i,t);return xde(i),{dataUrl:o,data:s}}function iBe(e,t){const{ctx:r,canvas:n}=Sde(e,t),i=r.getImageData(0,0,e.width,e.height);return xde(n),i}function Sde(e,t){const r=sBe();t.premultipliedAlpha&&dBe(e),r.width=e.width,r.height=e.height;const n=r.getContext("2d",{willReadFrequently:!0});return n.putImageData(e,0,0),t.flipY&&cBe(n),{ctx:n,canvas:r}}function xde(e){e.width=0,e.height=0}function sBe(){return G(kk)&&(kk=document.createElement("canvas")),kk}let kk=null;function oBe(e,t){const r=hBe[t.format],n=t.quality/100;return e.toDataURL(r,n)}function aBe(e,t){const r=uBe(e),n=fBe[r];return{format:r,quality:Ps(t??n,0,100)}}function lBe(e,t){return t/Math.max(e[0],e[1])}function rSt(e,t,r,n=0,i=0,s=e.width-n,o=e.height-i,a=!1){const{data:l}=e,{width:u,height:d,data:p}=t,f=s/u,y=o/d,v=Math.ceil(f/2),g=Math.ceil(y/2),b=e.width;for(let w=0;w<d;w++)for(let S=0;S<u;S++){const _=4*(S+(a?d-w-1:w)*u);let x=0,$=0,E=0,T=0,M=0,A=0;const k=(w+.5)*y;for(let P=Math.floor(w*y);P<(w+1)*y;P++){const L=Math.abs(k-(P+.5))/g,D=(S+.5)*f,j=L*L;for(let W=Math.floor(S*f);W<(S+1)*f;W++){const te=Math.abs(D-(W+.5))/v,ae=Math.sqrt(j+te*te);if(ae>=1)continue;let z=2*ae*ae*ae-3*ae*ae+1;const J=4*(n+W+(i+P)*b);A+=z*l[J+3],$+=z,!r&&l[J+3]<255&&(z=z*l[J+3]/255),E+=z*l[J],T+=z*l[J+1],M+=z*l[J+2],x+=z}}p[_]=E/x,p[_+1]=T/x,p[_+2]=M/x,p[_+3]=A/$}return t}function uBe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return pBe}}function cBe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function dBe(e){const t=e.data,r=t.length;for(let n=0;n<r;n+=4){const i=t[n+3];if(i!==255&&i>0){const s=255/i;t[n+0]=t[n+0]*s,t[n+1]=t[n+1]*s,t[n+2]=t[n+2]*s}}}const hBe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},IH=98,pBe="png",fBe={png:100,jpg:IH,jpeg:IH};var rn;function nSt(e,t,r={}){const n=$de(e);for(;n.length>1;){const i=xM(t,n.shift(),r);if(C(i))return i}return mBe(t,n.shift(),r)}function $de(e){const t=Z("esri-force-webgl");if(t===rn.WEBGL1||t===rn.WEBGL2)return[t];switch(e){case"2d":return Z("mac")&&Z("chrome")?[rn.WEBGL1,rn.WEBGL2]:[rn.WEBGL2,rn.WEBGL1];case"3d":return[rn.WEBGL2,rn.WEBGL1]}}function mBe(e,t,r={}){if(!window.WebGLRenderingContext)return OH(e,yBe),null;const n=xM(e,t,r);return G(n)&&OH(e,gBe),n}function xM(e,t,r={}){const n=t===rn.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let i=null;for(const s of n){try{i=e.getContext(s,r)}catch{}if(i)break}return i}function OH(e,t){const r=e.parentNode;r&&(r.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}(function(e){e[e.WEBGL1=1]="WEBGL1",e[e.WEBGL2=2]="WEBGL2"})(rn||(rn={}));const yBe='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',gBe=`It doesn't appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>`;let Rk,Lk;function vBe(e){const t=$de(e);for(;t.length>1;){const r=CH(t.shift());if(r.available)return r}return CH(t.shift())}function CH(e){switch(e){case rn.WEBGL1:return bBe();case rn.WEBGL2:return wBe()}}function bBe(){return Rk||(Rk=xBe()),Rk}function wBe(){return Lk||(Lk=$Be()),Lk}let Ede=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}},_Be=class extends Ede{constructor(){super(...arguments),this.type=rn.WEBGL1}};class SBe extends Ede{constructor(){super(...arguments),this.type=rn.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}}function Tde(e,t){var s;if(e===rn.WEBGL1&&typeof WebGLRenderingContext>"u"||e===rn.WEBGL2&&typeof WebGL2RenderingContext>"u")return null;const r=document.createElement("canvas");if(!r)return null;let n=xM(r,e,{failIfMajorPerformanceCaveat:!0});if(G(n)&&(n=xM(r,e),C(n)&&(t.majorPerformanceCaveat=!0)),G(n))return n;if(e===rn.WEBGL1){const o=(s=n.getParameter(n.VERSION))==null?void 0:s.match(/^WebGL\s+([\d.]*)/);if(o){const a=parseFloat(o[1]);t.available=a>=.94}}else t.available=!0;t.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const i=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return i&&(t.supportsHighPrecisionFragment=i.precision>0),n}function xBe(){const e=new _Be,t=Tde(rn.WEBGL1,e);return G(t)||(e.supportsElementIndexUint=t.getExtension("OES_element_index_uint")!==null,e.supportsStandardDerivatives=t.getExtension("OES_standard_derivatives")!==null,e.supportsInstancedArrays=t.getExtension("ANGLE_instanced_arrays")!==null,e.supportsTextureFloat=t.getExtension("OES_texture_float")!==null,e.supportsTextureHalfFloat=t.getExtension("OES_texture_half_float")!==null,e.supportsColorBufferFloat=t.getExtension("WEBGL_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=t.getExtension("EXT_color_buffer_half_float")!==null),e}function $Be(){const e=new SBe,t=Tde(rn.WEBGL2,e);return G(t)||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function EBe(e){const t=vBe(e);if(!t.available)return new V("webgl:required","WebGL is required but not supported.");if(e==="3d"&&t.majorPerformanceCaveat)return new V("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!t.supportsHighPrecisionFragment)return new V("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!t.supportsVertexShaderSamplers)return new V("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(t.type===rn.WEBGL1){if(!t.supportsElementIndexUint)return new V("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!t.supportsStandardDerivatives)return new V("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!t.supportsInstancedArrays)return new V("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}function TBe(e){return e&&"nodeType"in e}function MBe(e){return e&&typeof e.render=="function"}const AH={component:"esri-component"};let of=class extends Ie{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(t){const r=this._get("node");t!==r&&(t&&t.classList.add(AH.component),r&&r.classList.remove(AH.component),this._set("node",t))}castNode(t){return t?typeof t=="string"||TBe(t)?(this._set("widget",null),D6(t)):(MBe(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};c([h({dependsOn:[]})],of.prototype,"id",null),c([h()],of.prototype,"node",null),c([vt("node")],of.prototype,"castNode",null),c([h({readOnly:!0})],of.prototype,"widget",void 0),of=c([O("esri.views.ui.Component")],of);const CE=of,IBe={left:0,top:0,bottom:0,right:0},Mde={bottom:30,top:15,right:15,left:15},Nk="manual",xu="esri-ui",qi={ui:xu,corner:`${xu}-corner`,innerContainer:`${xu}-inner-container`,manualContainer:`${xu}-manual-container`,cornerContainer:`${xu}-corner-container`,topLeft:`${xu}-top-left`,topRight:`${xu}-top-right`,bottomLeft:`${xu}-bottom-left`,bottomRight:`${xu}-bottom-right`};function OBe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function Fk(e){const t=e,r=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(r===null||r===Object.prototype)&&("component"in t||"index"in t||"position"in t)?e:null}function Dk(e,{top:t,bottom:r,left:n,right:i}){e.style.top=t,e.style.bottom=r,e.style.left=n,e.style.right=i}let Tl=class extends au.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._locale=Yo(),this.view=null,this._applyViewPadding=()=>{const r=this.container;r&&Dk(r,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const r=this._innerContainer;r&&Dk(r,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([ue(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,mt),ue(()=>this.padding,this._applyUIPadding,mt),ue(()=>[this.container,this._locale],([t,r])=>{t&&t.setAttribute("lang",r)},mt),f6(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentToKey.clear()}set container(t){const r=this._get("container");t!==r&&(t&&(t.classList.add(qi.ui),rLe(t),this._attachContainers(t)),r&&(r.classList.remove(qi.ui),Dk(r,{top:"",bottom:"",left:"",right:""}),nre(r)),this._set("container",t))}get height(){const t=this.get("view.height")||0;if(t===0)return t;const r=this._getViewPadding(),n=r.top+r.bottom;return Math.max(t-n,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...Mde,...t}}get width(){const t=this.get("view.width")||0;if(t===0)return t;const r=this._getViewPadding(),n=r.left+r.right;return Math.max(t-n,0)}add(t,r){let n,i;if(Array.isArray(t))return void t.forEach(o=>this.add(o,r));const s=Fk(t);s&&({index:n,position:r,component:t,key:i}=s),r&&typeof r=="object"&&({index:n,key:i,position:r}=r),!t||r&&!this._isValidPosition(r)||this._add(t,r,n,i)}remove(t,r){if(!t)return;if(Array.isArray(t))return t.map(i=>this.remove(i,r));const n=this._find(t);if(n){const i=this._componentToKey;if(i.has(t)&&i.get(t)!==r)return;const s=this._components.indexOf(n);return n.node.parentNode&&n.node.parentNode.removeChild(n.node),this._componentToKey.delete(t),this._components.splice(s,1)[0]}}empty(t){return Array.isArray(t)?t.map(r=>this.empty(r)).reduce((r,n)=>r.concat(n)):(t=t||Nk)===Nk?Array.prototype.slice.call(this._manualContainer.children).filter(r=>!r.classList.contains(qi.corner)).map(r=>this.remove(r)):this._isValidPosition(t)?Array.prototype.slice.call(this._cornerNameToContainerLookup[t].children).map(this.remove,this):null}move(t,r){if(Array.isArray(t)&&t.forEach(o=>this.move(o,r)),!t)return;let n;const i=Fk(t)||Fk(r);if(i&&(n=i.index,r=i.position,t=i.component||t),r&&!this._isValidPosition(r))return;const s=this.remove(t);s&&this.add(s,{position:r,index:n})}find(t){if(!t)return null;const r=this._findById(t);return r&&(r.widget||r.node)}getPosition(t){for(const r in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[r].contains(t))return r;return null}_add(t,r,n,i){t instanceof CE||(t=new CE({node:t})),this._place({component:t,position:r,index:n}),this._components.push(t),i&&this._componentToKey.set(t,i)}_find(t){return t?t instanceof CE?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){return this.get("view.padding")||IBe}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(qi.innerContainer),t.classList.add(qi.cornerContainer);const r=document.createElement("div");r.classList.add(qi.innerContainer),r.classList.add(qi.manualContainer);const n=document.createElement("div");n.classList.add(qi.topLeft),n.classList.add(qi.corner),t.appendChild(n);const i=document.createElement("div");i.classList.add(qi.topRight),i.classList.add(qi.corner),t.appendChild(i);const s=document.createElement("div");s.classList.add(qi.bottomLeft),s.classList.add(qi.corner),t.appendChild(s);const o=document.createElement("div");o.classList.add(qi.bottomRight),o.classList.add(qi.corner),t.appendChild(o),this._innerContainer=t,this._manualContainer=r;const a=Bl();this._cornerNameToContainerLookup={"top-left":n,"top-right":i,"bottom-left":s,"bottom-right":o,"top-leading":a?i:n,"top-trailing":a?n:i,"bottom-leading":a?o:s,"bottom-trailing":a?s:o},this._positionNameToContainerLookup={manual:r,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const r=t.component,n=t.position||Nk,i=t.index,s=this._positionNameToContainerLookup[n],o=i!=null&&i>-1;if(OBe(r.widget)&&r.widget.startup(),!o)return void s.appendChild(r.node);const a=Array.prototype.slice.call(s.children);if(i===0)return void(s.firstChild?jU(r.node,s.firstChild):s.appendChild(r.node));i>=a.length?s.appendChild(r.node):jU(r.node,a[i])}_toPxPosition(t){return{top:this._toPxUnit(t.top),left:this._toPxUnit(t.left),right:this._toPxUnit(t.right),bottom:this._toPxUnit(t.bottom)}}_toPxUnit(t){return t===0?"0":t+"px"}_findByComponent(t){let r,n=null;return this._components.some(i=>(r=i===t,r&&(n=i),r)),n}_findById(t){let r,n=null;return this._components.some(i=>(r=i.id===t,r&&(n=i),r)),n}_findByNode(t){let r,n=null;return this._components.some(i=>(r=i.node===t,r&&(n=i),r)),n}};c([h()],Tl.prototype,"_locale",void 0),c([h()],Tl.prototype,"container",null),c([h()],Tl.prototype,"height",null),c([h({value:Mde})],Tl.prototype,"padding",null),c([vt("padding")],Tl.prototype,"castPadding",null),c([h()],Tl.prototype,"view",void 0),c([h()],Tl.prototype,"width",null),Tl=c([O("esri.views.ui.UI")],Tl);const CBe=Tl;function PH(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function ABe(e,t){return e.length!==t.length||e.some((r,n)=>r.text!==t[n].text)}function j$(e,t,r){!r||!t||e.find(n=>n.layerView===t&&n.text===r)||e.push({text:r,layerView:t})}function PBe(e){return e.type==="bing-maps"}const od=[];let Yy=class extends rM{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new Fe,this.view=null,this._allLayerViewsChange=r=>{this.handles.remove("suspension");const n=this.get("view.allLayerViews");n&&this.handles.add(n.map(i=>ue(()=>{var s;return[i.suspended,(s=i.layer)==null?void 0:s.attributionVisible]},()=>this._updateAttributionItems())),"suspension"),r&&r.removed&&r.removed.forEach(i=>{this._pendingAttributions.delete(i),this._fetchedAttributionData.delete(i)}),this._updateAttributionItems()},this.handles.add([As(()=>{var r;return(r=this.view)==null?void 0:r.allLayerViews},"change",r=>this._allLayerViewsChange(r),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Ni(()=>{var r;return((r=this.view)==null?void 0:r.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,r=t==null?void 0:t.allLayerViews;od.length=0,t&&r?(r.forEach(n=>{var o;if(n.suspended||!((o=n.layer)!=null&&o.attributionVisible))return;const i=n.layer;if(PH(i,"user"))return void j$(od,n,i.copyright);if(i.hasAttributionData){if(this._fetchedAttributionData.has(n)){const a=this._fetchedAttributionData.get(n);return void(a?j$(od,n,this._getDynamicAttribution(a,t,i)):PH(i)&&j$(od,n,i.copyright))}return void this._fetchAttributionData(n)}const s=i.get("portalItem.accessInformation");j$(od,n,s||i.copyright)}),ABe(this.items,od)&&(this.items.removeAll(),this.items.addMany(od)),od.length=0,this.notifyChange("state")):this._clear()}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const r=await JO(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const n=r.ok?this._createContributionIndex(r.value,PBe(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,n)}this._updateAttributionItems()}_createContributionIndex(t,r){const n=t.contributors,i={};if(!n)return i;for(let s=0;s<n.length;s++){const o=n[s],a=o.coverageAreas;if(!a)return;for(const l of a){const u=l.bbox,d=l.zoomMin-(r&&l.zoomMin?1:0),p=l.zoomMax-(r&&l.zoomMax?1:0),f={xmin:u[1],ymin:u[0],xmax:u[3],ymax:u[2],spatialReference:Ge.WGS84},y={extent:fc(f),attribution:o.attribution||"",score:l.score!=null?l.score:100,id:s};for(let v=d;v<=p;v++)i[v]=i[v]||[],i[v].push(y)}}return i.maxKey=Math.max.apply(null,Object.keys(i)),i}_getDynamicAttribution(t,r,n){var d;const{extent:i,scale:s}=r;let o=((d=n.tileInfo)==null?void 0:d.scaleToZoom(s))??0;if(o=Math.min(t.maxKey??0,Math.round(o)),!i||o==null||o<=-1)return"";const a=t[o],l=AO(i.center.clone().normalize(),r.spatialReference),u={};return a?a.filter(p=>{const f=p.id,y=!u[f]&&l&&p.extent&&PO(p.extent,l);return y&&(u[f]=!0),y}).sort((p,f)=>f.score-p.score||p.objectId-f.objectId).map(p=>p.attribution).join(", "):""}};c([h({readOnly:!0,type:Fe})],Yy.prototype,"items",void 0),c([h({readOnly:!0})],Yy.prototype,"state",null),c([h()],Yy.prototype,"view",void 0),Yy=c([O("esri.widgets.Attribution.AttributionViewModel")],Yy);const Ide=Yy,ay="esri-attribution",ad={base:`${ay} esri-widget`,poweredBy:`${ay}__powered-by`,sources:`${ay}__sources`,open:`${ay}--open`,sourcesOpen:`${ay}__sources--open`,link:`${ay}__link`,widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let Zi=class extends Yn{constructor(t,r){super(t,r),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(n=>n.forEach(({target:i})=>this._checkSourceTextOverflow(i))),this.iconClass=ad.widgetIcon,this.itemDelimiter=" | ",this.messages=null,this.viewModel=new Ide}initialize(){this.addHandles(As(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,r)=>(t.includes(r.text)||t.push(r.text),t),[]).join(this.itemDelimiter)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[ad.open]:this._isOpen};return N("div",{bind:this,class:this.classes(ad.base,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return N("div",{class:ad.poweredBy},"Powered by"," ",N("a",{class:ad.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const t=this._isOpen,r=this._isInteractive,n=r?"0":"",{attributionText:i}=this,s={[ad.sourcesOpen]:t,[ad.interactive]:r};return N("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(ad.sources,s),innerHTML:i,tabindex:n})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let r=!1;const{clientHeight:n,clientWidth:i,scrollWidth:s}=t,o=s>i,a=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,a&&(r=!0),this._isOpen){const l=n<this._prevSourceNodeHeight;this._prevSourceNodeHeight=n,l&&(this._isOpen=!1,r=!0)}r&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};c([h()],Zi.prototype,"_isOpen",void 0),c([h()],Zi.prototype,"_isInteractive",null),c([h()],Zi.prototype,"_attributionTextOverflowed",void 0),c([h()],Zi.prototype,"_prevSourceNodeHeight",void 0),c([h({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Zi.prototype,"attributionText",null),c([h()],Zi.prototype,"iconClass",void 0),c([h()],Zi.prototype,"itemDelimiter",void 0),c([h()],Zi.prototype,"label",null),c([h(),On("esri/widgets/Attribution/t9n/Attribution")],Zi.prototype,"messages",void 0),c([h()],Zi.prototype,"view",null),c([h({type:Ide})],Zi.prototype,"viewModel",void 0),c([ws()],Zi.prototype,"_toggleState",null),Zi=c([O("esri.widgets.Attribution")],Zi);const kBe=Zi,RBe="esri.widgets.CompassViewModel";let af=class extends P8(Ie){constructor(t){super(t),this._handles=new zi,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add(ue(()=>this.view,this._updateRotationWatcher,mt))}destroy(){sn(this._handles),this.view=null}get canShowNorth(){const t=this.get("view.spatialReference");return!(!t||!t.isWebMercator&&!t.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){var r;if(!this.get("view.ready"))return;const t={};((r=this.view)==null?void 0:r.type)==="2d"?t.rotation=0:t.heading=0,this.callGoTo({target:t})}_updateForRotation(t){t!=null&&(this.orientation={z:t})}_updateForCamera(t){if(!t)return;const r=-t.heading;this.orientation={x:0,y:0,z:r}}_updateRotationWatcher(t){this._handles.removeAll(),t&&this._handles.add(t.type==="2d"?ue(()=>t==null?void 0:t.rotation,this._updateForRotation,mt):ue(()=>t==null?void 0:t.camera,this._updateForCamera,mt))}};c([h({readOnly:!0})],af.prototype,"canShowNorth",null),c([h()],af.prototype,"orientation",void 0),c([h({readOnly:!0})],af.prototype,"state",null),c([h()],af.prototype,"view",void 0),af=c([O(RBe)],af);const Ode=af,ld={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};let Ml=class extends Yn{constructor(t,r){super(t,r),this.iconClass=ld.widgetIcon,this.messages=null,this.viewModel=new Ode}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:r}=this.viewModel,n=r==="disabled",i=(r==="rotation"?"rotation":"compass")=="compass",s=n?-1:0,o={[ld.disabled]:n,[ld.interactive]:!n},a={[ld.northIcon]:i,[ld.rotationIcon]:!i},{messages:l}=this;return N("div",{bind:this,class:this.classes(ld.base,o),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:s,"aria-label":l.reset,title:l.reset},N("span",{"aria-hidden":"true",class:this.classes(ld.icon,a),styles:this._toRotationTransform(t)}),N("span",{class:ld.text},l.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(t){return{transform:`rotateZ(${t.z}deg)`}}};c([h()],Ml.prototype,"goToOverride",null),c([h()],Ml.prototype,"iconClass",void 0),c([h()],Ml.prototype,"label",null),c([h(),On("esri/widgets/Compass/t9n/Compass")],Ml.prototype,"messages",void 0),c([h()],Ml.prototype,"view",null),c([h({type:Ode})],Ml.prototype,"viewModel",void 0),c([ws()],Ml.prototype,"_reset",null),Ml=c([O("esri.widgets.Compass")],Ml);const LBe=Ml,ly="esri-navigation-toggle",So={base:`${ly} esri-widget`,button:`${ly}__button esri-widget--button`,activeButton:`${ly}__button--active`,panButton:`${ly}__button--pan`,rotateButton:`${ly}__button--rotate`,isLayoutHorizontal:`${ly}--horizontal`,rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};let Zy=class extends Ie{constructor(t){super(t),this.navigationMode="pan",this.view=null}initialize(){this.own(Ni(()=>{var t;return(t=this.view)==null?void 0:t.inputManager},()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){var t;return this.get("view.ready")&&((t=this.view)==null?void 0:t.type)==="3d"?"ready":"disabled"}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction=this.navigationMode==="pan"?"pan":"rotate"}};c([h({readOnly:!0})],Zy.prototype,"state",null),c([h()],Zy.prototype,"navigationMode",void 0),c([h()],Zy.prototype,"view",void 0),Zy=c([O("esri.widgets.NavigationToggleViewModel")],Zy);const Cde=Zy;let Il=class extends Yn{constructor(t,r){super(t,r),this.iconClass=So.widgetIcon,this.messages=null,this.viewModel=new Cde}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}toggle(){return this.viewModel.toggle()}render(){const t=this.get("viewModel.state")==="disabled",r=this.get("viewModel.navigationMode")==="pan",n={[So.disabled]:t,[So.isLayoutHorizontal]:this.layout==="horizontal"},i={[So.activeButton]:r},s={[So.activeButton]:!r},o=t?-1:0,a=this.messages.toggle;return N("div",{bind:this,class:this.classes(So.base,n),onclick:this._toggle,onkeydown:this._toggle,tabIndex:o,"aria-label":a,title:a},N("div",{class:this.classes(So.button,So.panButton,i)},N("span",{class:So.panIcon})),N("div",{class:this.classes(So.button,So.rotateButton,s)},N("span",{class:So.rotationIcon})))}_toggle(){this.toggle()}};c([h()],Il.prototype,"iconClass",void 0),c([h()],Il.prototype,"label",null),c([h({value:"vertical"})],Il.prototype,"layout",null),c([h(),On("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Il.prototype,"messages",void 0),c([h()],Il.prototype,"view",null),c([h({type:Cde})],Il.prototype,"viewModel",void 0),c([ws()],Il.prototype,"_toggle",null),Il=c([O("esri.widgets.NavigationToggle")],Il);const NBe=Il,k1={button:"esri-widget--button esri-widget",disabled:"esri-disabled",interactive:"esri-interactive",iconText:"esri-icon-font-fallback-text",icon:"esri-icon"};let Ld=class extends Yn{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const t=this.enabled?0:-1,r={[k1.disabled]:!this.enabled,[k1.interactive]:this.enabled},n={[this.iconClass]:!!this.iconClass};return N("div",{bind:this,class:this.classes(k1.button,r),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:t,title:this.title},N("span",{"aria-hidden":"true",role:"presentation",class:this.classes(k1.icon,n)}),N("span",{class:k1.iconText},this.title))}_triggerAction(){this.action.call(this)}};c([h()],Ld.prototype,"action",void 0),c([h()],Ld.prototype,"enabled",void 0),c([h()],Ld.prototype,"iconClass",void 0),c([h()],Ld.prototype,"title",void 0),c([ws()],Ld.prototype,"_triggerAction",null),Ld=c([O("esri.widgets.IconButton")],Ld);const kH=Ld;let Xy=class extends Ie{get canZoomIn(){if(!this.get("view.ready"))return!1;const t=this.get("view.animation.target.scale")||this.get("view.scale"),r=this.get("view.constraints.effectiveMaxScale");return r===0||t>r}get canZoomOut(){if(!this.get("view.ready"))return!1;const t=this.get("view.animation.target.scale")||this.get("view.scale"),r=this.get("view.constraints.effectiveMinScale");return r===0||t<r}};c([h({readOnly:!0})],Xy.prototype,"canZoomIn",null),c([h({readOnly:!0})],Xy.prototype,"canZoomOut",null),c([h()],Xy.prototype,"view",void 0),Xy=c([O("esri.widgets.Zoom.ZoomConditions2D")],Xy);const FBe=Xy;let Qy=class extends Ie{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};c([h({readOnly:!0})],Qy.prototype,"canZoomIn",null),c([h({readOnly:!0})],Qy.prototype,"canZoomOut",null),c([h()],Qy.prototype,"view",void 0),Qy=c([O("esri.widgets.Zoom.ZoomConditions3D")],Qy);const DBe=Qy;let Nd=class extends Ie{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return C(this._zoomConditions)&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return C(this._zoomConditions)&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new FBe({view:t}):t.type==="3d"&&(this._zoomConditions=new DBe({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){if(!this.canZoomIn)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomIn():Lg(t.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomOut():Lg(t.goTo({zoomFactor:.5}))}};c([h()],Nd.prototype,"_zoomConditions",void 0),c([h()],Nd.prototype,"canZoomIn",null),c([h()],Nd.prototype,"canZoomOut",null),c([h({readOnly:!0})],Nd.prototype,"state",null),c([h()],Nd.prototype,"view",null),Nd=c([O("esri.widgets.Zoom.ZoomViewModel")],Nd);const Ade=Nd,R1={base:"esri-zoom esri-widget",horizontalLayout:"esri-zoom--horizontal",zoomInIcon:"esri-icon-plus",zoomOutIcon:"esri-icon-minus",widgetIcon:"esri-icon-zoom-in-magnifying-glass"};let Gu=class extends Yn{constructor(t,r){super(t,r),this.iconClass=R1.widgetIcon,this.messages=null,this.viewModel=new Ade}initialize(){this._zoomInButton=new kH({action:this.zoomIn.bind(this),iconClass:R1.zoomInIcon}),this._zoomOutButton=new kH({action:this.zoomOut.bind(this),iconClass:R1.zoomOutIcon})}destroy(){this._zoomInButton=Ur(this._zoomInButton),this._zoomOutButton=Ur(this._zoomOutButton)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t=this.viewModel,r={[R1.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:n,canZoomOut:i}=t;this._zoomInButton.enabled=n,this._zoomOutButton.enabled=i;const{zoomIn:s,zoomOut:o}=this.messages;return this._zoomInButton.title=s,this._zoomOutButton.title=o,N("div",{class:this.classes(R1.base,r)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};c([h()],Gu.prototype,"iconClass",void 0),c([h()],Gu.prototype,"label",null),c([h({value:"vertical"})],Gu.prototype,"layout",null),c([h(),On("esri/widgets/Zoom/t9n/Zoom")],Gu.prototype,"messages",void 0),c([h()],Gu.prototype,"view",null),c([h({type:Ade})],Gu.prototype,"viewModel",void 0),Gu=c([O("esri.widgets.Zoom")],Gu);const jBe=Gu;function VBe(e){return e&&e.view!==void 0}let AE=class extends CBe{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[]}initialize(){this.addHandles([ue(()=>this.components,this._componentsWatcher.bind(this),mt),ue(()=>this.view,this._updateViewAwareWidgets.bind(this),mt)])}_add(t,r,n,i){let s=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;s=this._createComponent(t)}super._add(s,r,n,i)}_removeComponents(t){t.forEach(r=>{const n=this._find(r);n&&(this.remove(n),n.destroy())})}_updateViewAwareWidgets(t){this.components.forEach(r=>{const n=this._find(r),i=n&&n.widget;VBe(i)&&(i.view=t)})}_componentsWatcher(t,r){this._removeComponents(r),this._addComponents(t),this._adjustPadding(t)}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:r}=this.padding;this.padding=r}}_addComponents(t){this.constructed&&t.forEach(r=>this.add(this._createComponent(r),this._defaultPositionLookup[r]))}_createComponent(t){const r=this._createWidget(t);if(r)return new CE({id:t,node:r})}_createWidget(t){return t==="attribution"?this._createAttribution():t==="compass"?this._createCompass():t==="navigation-toggle"?this._createNavigationToggle():t==="zoom"?this._createZoom():void 0}_createAttribution(){return new kBe({view:this.view})}_createCompass(){return new LBe({view:this.view})}_createNavigationToggle(){return new NBe({view:this.view})}_createZoom(){return new jBe({view:this.view})}};c([h()],AE.prototype,"components",void 0),AE=c([O("esri.views.ui.DefaultUI")],AE);const zBe=AE;let PE=class extends zBe{constructor(t){super(t),this.components=["attribution","zoom"]}};c([h()],PE.prototype,"components",void 0),PE=c([O("esri.views.ui.2d.DefaultUI2D")],PE);const Pde=PE;var X4;let kE=X4=class extends Q{constructor(e){super(e),this.color=new Be([0,0,0,1])}clone(){return new X4(B({color:this.color}))}};c([h({type:Be,json:{write:!0}})],kE.prototype,"color",void 0),kE=X4=c([O("esri.webmap.background.ColorBackground")],kE);const UBe=kE;let kde,Rde,Lde,Nde,Fde,Dde;async function BBe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:n,MagnifierView2D:i,Stage:s}]=await Promise.all([Y(()=>import("./webglDeps-47c40923.js"),["assets/webglDeps-47c40923.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/ProgramTemplate-0cbba525.js","assets/programUtils-f05804ee.js","assets/NestedMap-1b5db22e.js"]),Y(()=>import("./mapViewDeps-2221637d.js"),["assets/mapViewDeps-2221637d.js","assets/MagnifierPrograms-64bcf86f.js","assets/_commonjsHelpers-2f3e7994.js","assets/WGLContainer-a2b5bb22.js","assets/definitions-3ddd14a8.js","assets/VertexArrayObject-fa651786.js","assets/Texture-d9a19edf.js","assets/enums-64ab819c.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-57ca2c71.js","assets/enums-55085e26.js","assets/ProgramTemplate-0cbba525.js","assets/MaterialKey-1ff97e80.js","assets/utils-0f95c4a5.js","assets/StyleDefinition-fbc907c2.js","assets/config-1337d16e.js","assets/GeometryUtils-dd03fc25.js","assets/Container-80adbe84.js","assets/earcut-61f7b102.js","assets/ExpandedCIM-12772ae5.js","assets/BidiEngine-836b7ef6.js","assets/GeometryUtils-53652037.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-9763d180.js","assets/floatRGBA-6e8b4588.js","assets/rasterizingUtils-d96108f2.js","assets/imageutils-53f8becb.js","assets/Matcher-a3a0b259.js","assets/visualVariablesUtils-ab072646.js","assets/visualVariablesUtils-7f5c50f5.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-530d7290.js","assets/devEnvironmentUtils-5002a058.js","assets/CircularArray-95b23b6d.js","assets/webgl-debug-b1f7a2c5.js","assets/ComputedAttributeStorage-d5073179.js","assets/arcadeTimeUtils-a16f5bf3.js","assets/executionError-fb3f283a.js","assets/centroid-234cbe70.js","assets/BufferPool-fa6961c3.js","assets/enums-fb086c25.js","assets/programUtils-f05804ee.js","assets/NestedMap-1b5db22e.js","assets/RenderingContext-8f7403c7.js","assets/OrderIndependentTransparency-e1b3a745.js","assets/basicInterfaces-b7051eb1.js","assets/doublePrecisionUtils-e3c3d0d8.js","assets/imageUtils-c2d0d1ae.js","assets/GraphicsView2D-5978c507.js","assets/normalizeUtilsSync-cf64a78d.js","assets/projectionSupport-2bdd481a.js","assets/json-48e3ea08.js","assets/AttributeStoreView-d08f887a.js","assets/TiledDisplayObject-c7008457.js","assets/schemaUtils-9ab66d11.js","assets/util-4349f39c.js","assets/GraphicContainer-86623243.js","assets/BaseGraphicContainer-c7d5dab9.js","assets/FeatureContainer-8878f9d0.js","assets/TileContainer-223155e4.js","assets/vec3f32-ad1dc57f.js","assets/requestImageUtils-bd588e57.js"])]);Rde=e,Lde=t,Nde=r,Fde=n,Dde=i,kde=s}const RH=160;function GBe(e){return e&&e.declaredClass==="esri.Viewpoint"}let Ke=class extends o3e(_Ve(SVe(fze))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new T_({getCollections:()=>{var t,r;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this._stationaryTimer=null,this._gotoTask=null,this.frameTask=new v7e(this),this._pePromise=null,this.floors=new Fe,this.highlightOptions=new wde,this.inputManager=new HUe({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new _de,this.type="2d",this.ui=new Pde,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new nde,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([ue(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(RH)},h0),this.on("resize",t=>this._resizeHandler(t)),ue(()=>{var t;return(t=this.animationManager)==null?void 0:t.animation},t=>{this.animation=t})]),Lke()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new eBe(this.featuresTilingScheme)}get initialExtentRequired(){var o;const{scale:e,constraints:t,center:r,viewpoint:n,extent:i}=this;let s=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((o=this.map.initialViewProperties)!=null&&o.viewpoint))&&!i&&(t!=null&&t.effectiveLODs||(s=-1),(!r||e===0&&s===-1)&&(!n||!C(n.targetGeometry)||n.targetGeometry.type!=="extent"&&!n.scale))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!_m()||(this._pePromise||(this._pePromise=Sm().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=this.spatialReference,r=e.targetGeometry;return!!Fh(r.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e),this.frameTask.animationInProgress=!0;const r=()=>{var n;e===this._get("animation")&&(this._set("animation",null),(n=this.frameTask)==null||n.requestFrame()),this.frameTask&&(this.frameTask.animationInProgress=!1)};e.when(r,r)}get background(){return WBe(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return new Ve({x:e[0],y:e[1],spatialReference:t})}set center(e){if(e==null)return;if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(n){return void oe.getLogger(this.declaredClass).error(new V("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:n}))}const r=this.viewpoint;B4(r,r,t),this.viewpoint=r}set constraints(e){const t=this._get("constraints");t&&(this.handles.remove("map-view-constraints"),t.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(ue(()=>e.version,()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint))},h0),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void oe.getLogger(this.declaredClass).error(new V("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(n){return void oe.getLogger(this.declaredClass).error(new V("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}const r=this.viewpoint;r7e(r,r,t,this.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;f7e(t,t,e),this.viewpoint=t}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",-1);const r=this._get("extent");return r&&(this._set("extent",null),this._set("center",r.center)),void this.notifyChange("initialExtentRequired")}const t=this.viewpoint;uH(t,t,e),this.viewpoint=t}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){var t,r,n;const e=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(i=>!i.destroyed&&!("layerViews"in i)&&i.updating===!0));if(Z("esri-2d-log-updating")){const i=this.allLayerViews.reduce((s,o)=>({...s,[o.layer.id]:!o.destroyed&&!("layerViews"in o)&&o.updating}),{});console.log(`Updating MapView: ${e}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(t=this.layerViewManager)==null?void 0:t.updating}
-> labelManager.updating: ${(r=this.labelManager)==null?void 0:r.updating}
-> graphicsView.updating: ${(n=this.graphicsView)==null?void 0:n.updating}
-> allLayerViews: ${JSON.stringify(i)}
`)}return e}get viewpoint(){if(!this.ready)return this._get("viewpoint");const e=this.state.paddedViewState;return e&&e.viewpoint.clone()}set viewpoint(e){if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let t,r;try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?r=new V("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):G(e.targetGeometry)&&(r=new V("mapview:invalid-viewpoint","geometry not defined"))}catch(i){r=new V("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:i})}if(r)return void oe.getLogger(this.declaredClass).error(r);this._scaleBeforeChangingSpatialReference=null;const n=new Yl({targetGeometry:new Ve,scale:0,rotation:0});sl(n,t),this.constraints.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this.frameTask.requestFrame(),this._set("viewpoint",n)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(e){if(e==null)return;if(!this.ready){this._set("zoom",e),this._set("scale",0);const r=this._get("extent");return r&&(this._set("extent",null),this._set("center",r.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const t=this.viewpoint;uH(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),h_(()=>this.ready,t).then(()=>{var i;const r={animate:!0,...t},n=Qze(e,this);return(i=this.animation)==null||i.update(n),this._gotoTask={},r.animate?this._gotoAnimated(n,r):this._gotoImmediate(n,r)});oe.getLogger(this.declaredClass).error("#goTo()","target cannot be null or undefined")}async hitTest(e,t){const r=iH(e)?nH(this,e):e;if(!this.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let n=new Set,i=!1,s=null,o=null;t!=null&&t.include?NH(t.include,LH(this,d=>n.add(d),d=>{s||(s=new Set),s.add(d)},d=>n.add(d),()=>i=!0)):(i=!0,n=new Set(this.allLayerViews)),t!=null&&t.exclude&&NH(t.exclude,LH(this,d=>n.delete(d),d=>{o||(o=new Set),o.add(d)}));const a=this.allLayerViews.filter(d=>!d.suspended&&n.has(d)).reverse(),l=this.toMap(r);let u=[...i?this.graphicsView.hitTest(l).map(d=>({type:"graphic",graphic:d,layer:null,mapPoint:l})):[],...await Promise.all(a.map(d=>d.hitTest(l,r)).toArray())].filter(C).flat().filter(C);return s&&(u=u.filter(d=>!("graphic"in d)||!d.graphic||(s==null?void 0:s.has(Q4(d.graphic))))),o&&(u=u.filter(d=>!("graphic"in d)||!d.graphic||(o==null?void 0:o.has(Q4(d.graphic))))),{screenPoint:r,results:u}}async takeScreenshot(e){const t=this._createScreenshotPlan(e),r=await this._stage.takeScreenshot(t);return nBe(r,{format:t.format,quality:t.quality,rotation:0,disableDecorations:!1},this._pixelFormat)}async _takeScreenshot(e){const t=this._createScreenshotPlan(e),r=await this._stage.takeScreenshot(t);return iBe(r,this._pixelFormat)}_createScreenshotPlan(e){e=e??{};const t=this.supersampleScreenshotsEnabled?Math.min(4,lBe(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let r;e.layers?(r=[],e.layers.forEach(s=>{const o=this.allLayerViews.find(a=>a.layer.id===s.id);o&&"container"in o&&o.container&&r.push(o.container)})):r=this._stage.children;const{format:n,quality:i}=aBe(e.format,e.quality);return rBe(e,t,this.size,this.padding,n,i,r,e.rotation)}get test(){return{takeScreenshot:e=>this._takeScreenshot(e)}}toMap(e){if(!this.ready)return null;const t=iH(e)?nH(this,e):e,r=[0,0],[n,i]=this.state.toMap(r,[t.x,t.y]),s=this.spatialReference;return new Ve({x:n,y:i,spatialReference:s})}toScreen(e){if(!this.ready)return null;const t=this._project(e,this.spatialReference),r=[t.x,t.y];return this.state.toScreen(r,r),is(r[0],r[1])}on(e,t,r,n){return this.inputManager&&this.viewEvents.on(e,t,r,n)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e,t,r;return this.map&&"initialViewProperties"in this.map&&((t=(e=this.map)==null?void 0:e.initialViewProperties)==null?void 0:t.spatialReference)||((r=this.defaultsFromMap)==null?void 0:r.spatialReference)||null}hasLayerViewModule(e){return dH.hasLayerViewModule(e)}importLayerView(e){return dH.importLayerView(e)}pixelSizeAt(){return this.ready?this.state.resolution:(oe.getLogger(this.declaredClass).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then(t=>({...t,mapPoint:this.toMap(e)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let e=EBe(this.type);return Z("safari")&&Z("safari")<9&&(e=new V("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:Z("safari")})),C(e)?(oe.getLogger(this.declaredClass).warn("#validate()",e.message),Promise.reject(e)):BBe()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new z4),this.animation}_cancellableGoTo(e,t,r){const n=()=>e===this._gotoTask,i=r.then(()=>{n()&&(this.animation=null)}).catch(o=>{throw n()&&(t&&!t.done&&(t.stop(),this.frameTask.animationInProgress=!1),this.animation=null),o}),s=new Promise(o=>o(i));return t.when().catch(()=>{n()&&s.cancel&&s.cancel()}),s}_gotoImmediate(e,t){const r=this._gotoTask,n=this.animation,i=e.then(s=>{if(Qr(t),r!==this._gotoTask)throw new V("view:goto-interrupted","Goto was interrupted");this.viewpoint=n.target=s,n.finish()});return this._cancellableGoTo(r,n,i)}_flipStationary(e){return this._stationaryTimer!==null||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const t=performance.now()-this._lastStationaryEventTimestamp;t<RH&&(this._stationaryTimer=this._flipStationary(t))},e)),this._stationaryTimer}_getDefaultViewpoint(){var b,w,S,_;const{constraints:e,initialExtent:t,map:r,padding:n,size:i}=this;if(!e)return null;const s=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,o={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};e.effectiveLODs?o.zoom!==-1&&(o.scale=e.zoomToScale(o.zoom)):o.zoom=-1;let a=null,l=null,u=0;const d=o.viewpoint&&o.viewpoint.rotation,p=o.viewpoint&&o.viewpoint.targetGeometry;C(p)&&(p.type==="extent"?a=p:p.type==="point"&&(l=p,u=o.viewpoint.scale));const f=o.extent||a||((w=(b=s==null?void 0:s.viewpoint)==null?void 0:b.targetGeometry)==null?void 0:w.extent)||t,y=o.center||l||(f==null?void 0:f.center),v=o.scale||u||((S=s==null?void 0:s.viewpoint)==null?void 0:S.scale)||f&&Aw(f,[i[0]-n.left-n.right,i[1]-n.top-n.bottom]),g=o.rotation||d||((_=s==null?void 0:s.viewpoint)==null?void 0:_.rotation)||0;return y&&v?new Yl({targetGeometry:y,scale:v,rotation:g}):null}_gotoAnimated(e,t){const r=this._gotoTask,n=this.animation;if(!n)return Promise.resolve();const i=e.then(s=>{if(Qr(t),r!==this._gotoTask)throw new V("view:goto-interrupted","Goto was interrupted");return n.update(s),this.animationManager.animate(n,this.viewpoint,t),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,n,i)}_project(e,t){var i;const r=e&&e.targetGeometry||e;if(!t)return e;if(!r)return null;if(t.imageCoordinateSystem||(i=r.spatialReference)!=null&&i.imageCoordinateSystem||An(t,r.spatialReference))return e;const n=Fm(r,t);if(!n)throw new V("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:t});return GBe(e)?(e.targetGeometry=n,e):n}_resizeHandler(e){if(!this.ready)return;const t=this.state;let r=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],p7e(r,r,n,this.state.paddedViewState.size,this.resizeAlign),r=this.constraints.constrain(r,void 0),this.state.viewpoint=r}_startup(){var a,l;this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint(),t=e.targetGeometry;try{this._project(e,this.spatialReference)}catch(u){oe.getLogger(this.declaredClass).warn(new ta("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:t.toJSON(),spatialReference:this.spatialReference,error:u})),e.targetGeometry=((a=this.defaultsFromMap.extent)==null?void 0:a.center)||new Ve({x:0,y:0,spatialReference:this.spatialReference})}(l=this.constraints)==null||l.fit(e),this._set("state",new sUe({padding:this._get("padding"),size:this.size,viewpoint:e})),this.graphics.owner=this;const r=new kde(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=r,this._magnifierView=new Dde,this._magnifierView.magnifier=this.magnifier;const n=new Nde({view:this});this._set("labelManager",n);const i=new g7e({view:this});this._set("animationManager",i);const s=new Fde({view:this,animationManager:i});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("post-render",()=>this._set("rendering",r.renderRequested)),r.on("will-render",()=>this._set("rendering",r.renderRequested)),r.on("webgl-error",u=>this.fatalError=u.error),ue(()=>this.stationary,u=>r.stationary=u,wp),ue(()=>this.background,u=>{r.background=u,this._magnifierView.background=u},wp),ue(()=>this.magnifier,u=>this._magnifierView.magnifier=u,wp),ue(()=>this.renderingOptions,u=>r.renderingOptions=u,wp),ue(()=>this.highlightOptions,u=>r.highlightOptions=u,wp),ue(()=>this.state.id,()=>r.state=this.state,wp)],"map-view"),this._updateStageChildren();const o=this._resolveWhenReady;this._resolveWhenReady=[],o.forEach(u=>u(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[e,t],spatialReference:r,rotation:n,scale:i}=this.state.paddedViewState,s=new Ve({x:e,y:t,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",s),this._set("zoom",-1),this._set("rotation",n),this._set("scale",i),this._set("spatialReference",r),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this._stage.addChild(t.container)});const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new hUe(V8.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new Rde({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new Lde(e)});this.frameTask.graphicsView=t,this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,e.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(e){if(!this.ready)return;this.frameTask.stop();for(const a of this.allLayerViews)a.processDetach();this._destroySpatialReferenceDependentProperties();const t=this.state.paddedViewState.clone();if(G(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=t.scale;else{const a=t.viewpoint.clone();a.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=a}const r=t.clone(),[n,i]=t.center;let s=null;try{s=this._project(new Ve({x:n,y:i,spatialReference:t.spatialReference}),e)}catch(a){_m()||oe.getLogger(this.declaredClass).warn(new ta("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:s==null?void 0:s.toJSON(),spatialReference:e,error:a}))}s||(s=new Ve({x:0,y:0,spatialReference:e}));const o=B4(new Yl({targetGeometry:new Ve,scale:0,rotation:0}),t.viewpoint,s);r.viewpoint=o;try{const l=[t.size[0]/2,t.size[1]/2],u=[l[0]+20,l[1]],d=t.toMap([0,0],u),{x:p,y:f}=this._project(new Ve({x:d[0],y:d[1],spatialReference:t.spatialReference}),e);d[0]=p,d[1]=f,r.toScreen(d,d);const y=d7e(l,d,u),v=Math.hypot(d[0]-l[0],d[1]-l[1])/20;!Number.isFinite(v)||Math.abs(v)>4?(o.rotation=0,o.targetGeometry=new Ve({x:0,y:0,spatialReference:e})):(o.scale*=v,o.scale>Z("mapview-srswitch-adjust-rotation-scale-threshold")?o.rotation=0:o.rotation+=Number.isFinite(y)?y:0)}catch{}this._get("constraints").constrain(o,void 0),this._get("state").viewpoint=o,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const a of this.allLayerViews)a.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};Ke.type="2d",c([h({readOnly:!0})],Ke.prototype,"animationManager",void 0),c([h({constructOnly:!0})],Ke.prototype,"deactivatedWebGLExtensions",void 0),c([h({constructOnly:!0})],Ke.prototype,"debugWebGLExtensions",void 0),c([h({readOnly:!0})],Ke.prototype,"featuresTilingScheme",void 0),c([h({readOnly:!0})],Ke.prototype,"fullOpacity",void 0),c([h({readOnly:!0})],Ke.prototype,"graphicsTileStore",null),c([h()],Ke.prototype,"graphicsView",void 0),c([h({readOnly:!0})],Ke.prototype,"state",void 0),c([h()],Ke.prototype,"initialExtentRequired",null),c([h()],Ke.prototype,"labelManager",void 0),c([h({readOnly:!0})],Ke.prototype,"resourceManager",null),c([h({readOnly:!0})],Ke.prototype,"textureManager",null),c([h({readOnly:!0})],Ke.prototype,"mapViewNavigation",void 0),c([h({constructOnly:!0})],Ke.prototype,"renderCanvas",void 0),c([h()],Ke.prototype,"renderingOptions",void 0),c([h({readOnly:!0})],Ke.prototype,"rendering",void 0),c([h({constructOnly:!0})],Ke.prototype,"supersampleScreenshotsEnabled",void 0),c([h({readOnly:!0})],Ke.prototype,"supportsGround",void 0),c([h()],Ke.prototype,"_stationaryTimer",void 0),c([h()],Ke.prototype,"_defaultsFromMapSettings",null),c([h()],Ke.prototype,"_pePromise",void 0),c([h({readOnly:!0})],Ke.prototype,"typeSpecificPreconditionsReady",null),c([h()],Ke.prototype,"animation",null),c([h({type:UBe})],Ke.prototype,"background",null),c([h({value:null,type:Ve,dependsOn:["state.id","ready"]})],Ke.prototype,"center",null),c([h({type:nde})],Ke.prototype,"constraints",null),c([h({value:null,type:Pt,dependsOn:["state.id","ready"]})],Ke.prototype,"extent",null),c([h()],Ke.prototype,"floors",void 0),c([h({type:wde})],Ke.prototype,"highlightOptions",void 0),c([h({readOnly:!0})],Ke.prototype,"inputManager",void 0),c([h()],Ke.prototype,"map",void 0),c([h({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Ke.prototype,"padding",null),c([h()],Ke.prototype,"resizeAlign",void 0),c([h({readOnly:!0,dependsOn:["state.id"]})],Ke.prototype,"resolution",null),c([h({value:0,type:Number,dependsOn:["state.id","ready"]})],Ke.prototype,"rotation",null),c([h({value:0,type:Number,dependsOn:["state.id","ready"]})],Ke.prototype,"scale",null),c([h({constructOnly:!0})],Ke.prototype,"spatialReferenceLocked",void 0),c([h()],Ke.prototype,"stationary",null),c([h({type:_de,readOnly:!0})],Ke.prototype,"timeline",void 0),c([h({readOnly:!0})],Ke.prototype,"type",void 0),c([h({readOnly:!0})],Ke.prototype,"updating",null),c([h({value:null,type:Yl,dependsOn:["state.id","ready"]})],Ke.prototype,"viewpoint",null),c([h({value:-1,dependsOn:["state.id","ready"]})],Ke.prototype,"zoom",null),c([h({readOnly:!0})],Ke.prototype,"navigating",null),c([h({type:Pde})],Ke.prototype,"ui",void 0),Ke=c([O("esri.views.MapView")],Ke);const qBe=Ke;function Q4(e){var r,n;const t=e.getObjectId();return t?`${((r=e.layer)==null?void 0:r.uid)??((n=e.sourceLayer)==null?void 0:n.uid)??"MapView"}/${t}`:`"MapView/${e.uid}`}function LH(e,t,r,n,i){return s=>{if(s instanceof Pn){if(s.layer===e)i==null||i();else{const o=e.allLayerViews.find(a=>a.layer===s.layer);o&&(n==null||n(o))}r(Q4(s))}else{const o=e.allLayerViews.find(a=>a.layer===s);o&&t(o)}}}function NH(e,t){if(e)if(fT(e))for(const r of e)if(fT(r))for(const n of r)t(n);else t(r);else t(e)}function WBe(e){return(e==null?void 0:e.declaredClass)==="esri.WebMap"}function HBe(e){const[t,r]=q.useState(null),[n,i]=q.useState(null),s=q.useRef(null);return q.useEffect(()=>{if(s.current){const o=new xce(e.mapProperties),a=new qBe({container:s.current,map:o,...e.viewProperties});a.when(l=>{e.onLoad(o,a)}),r(o),i(a)}},[]),de("div",{className:"esri_map",ref:s,children:K.Children.map(e.children,o=>K.cloneElement(o,{map:t,view:n}))})}var e5;let Wb=e5=class extends iC(hC(L9(xm))){constructor(){super(...arguments),this.type="base-dynamic"}getImageUrl(){throw new V("basedynamiclayer:getImageUrl-not-implemented","getImageUrl() is not implemented")}async fetchImage(e,t,r,n){const i=this.getImageUrl(e,t,r),s={responseType:"image",signal:n&&n.signal,query:{...this.refreshParameters}};if(typeof i=="string"){const{data:l}=await Tt(i,s);return l}const o=await i,{data:a}=await Tt(o,s);return a}async fetchImageBitmap(e,t,r,n={}){if(this.fetchImage!==e5.prototype.fetchImage){const l=await this.fetchImage(e,t,r,n);try{return createImageBitmap(l)}catch(u){throw new V("request:server","Unable to load image",{error:u,extent:e,width:t,height:r})}}const i=this.getImageUrl(e,t,r),s={responseType:"blob",signal:n&&n.signal,query:{...this.refreshParameters}};if(typeof i=="string"){const{data:l}=await Tt(i,s);return createImageBitmap(l)}const o=await i,{data:a}=await Tt(o,s);return createImageBitmap(a)}};c([h({readOnly:!0,value:"base-dynamic"})],Wb.prototype,"type",void 0),c([h({type:["show","hide"]})],Wb.prototype,"listMode",void 0),Wb=e5=c([O("esri.layers.BaseDynamicLayer")],Wb);const KBe=Wb;function JBe(e){const t=KBe.createSubclass({properties:{mapUrl:null,mapParameters:null},constructor:function(s){Ni(()=>s.view.stationary===!0,()=>{this.visible&&this._canvas_set(void 0)})},getImageUrl:function(s,o,a){const l=this._prepareQuery(this.mapParameters,s,o,a),u=this._joinUrlVariables(l);return this.mapUrl+"?"+u},_prepareQuery:function(s,o,a,l){const u=o.spatialReference.isWebMercator?3857:o.spatialReference.wkid,d={width:a,height:l,wkid:u,xmin:o.xmin,xmax:o.xmax,ymin:o.ymin,ymax:o.ymax};return this._replace({},s,d)},_replace:(s,o,a)=>(Object.keys(o).forEach(l=>{s[l]=Object.keys(a).reduce((u,d)=>u.replace("{"+d+"}",a[d]),o[l])}),s),_joinUrlVariables:s=>Object.keys(s).reduce((o,a)=>o+(o?"&":"")+a+"="+s[a],""),_canvas_set(){this.canvas_set&&this.canvas_set(this.canvas)},fetchImageFromGEE:function(s,o,a){let l=this.getImageUrl(s,o,a);return Tt(l,{responseType:"image"}).then(u=>(this.context.drawImage(u.data,0,0,o,a),this._canvas_set(),this.canvas))},fetchImageDataFromCache:function(){if(this.canvas)return this.context.getImageData(0,0,this.canvas.width,this.canvas.height)},imageToBlackAndWhite:function(){if(this.canvas){this.get_black_and_white_image=!0;const u=this.fetchImageDataFromCache();for(var s=0;s<this.canvas.height;s++)for(var o=0;o<this.canvas.width;o++){var a=s*4*this.canvas.width+o*4,l=(u.data[a]+u.data[a+1]+u.data[a+2])/3;u.data[a]=l,u.data[a+1]=l,u.data[a+2]=l}this.canvas.getContext("2d").putImageData(u,0,0),this.refresh()}},fetchImage:function(s,o,a){return this.canvas||(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=o,this.canvas.height=a),this.get_black_and_white_image?this.canvas:this.fetchImageFromGEE(s,o,a)}});function r(s){const o=new t({mapUrl:"https://google-earth-engine-server-ny43uciwwa-oc.a.run.app/ogc",mapParameters:{service:"WMS",request:"GetMap",format:"image/png",transparent:"TRUE",styles:"",version:"1.3.0",layers:s.layers,width:"{width}",height:"{height}",srs:"EPSG:{wkid}",bbox:"{xmin},{ymin},{xmax},{ymax}",bands:s.bands},view:s.view,canvas_set:s.canvas_set,visible:!1,copyright:s.copyright});s.map.add(o),i(o)}const[n,i]=q.useState(null);return q.useEffect(()=>{e.map&&!n&&r(e),n&&(n.visible=e.visible),n&&e.b_and_w&&n.imageToBlackAndWhite()},[e.map,e.visible,e.b_and_w]),de("div",{})}async function YBe(e,t){try{return await createImageBitmap(e)}catch(r){throw new V("request:server",`Unable to load ${t}`,{url:t,error:r})}}var t5;let Fd=t5=class extends Q{constructor(e){super(e)}clone(){return new t5({customLayerParameters:B(this.customLayerParameters),customParameters:B(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};c([h({json:{type:Object,write:!0}})],Fd.prototype,"customLayerParameters",void 0),c([h({json:{type:Object,write:!0}})],Fd.prototype,"customParameters",void 0),c([h({type:String,json:{write:!0}})],Fd.prototype,"layerIdentifier",void 0),c([h({type:String,json:{write:!0}})],Fd.prototype,"tileMatrixSet",void 0),c([h({type:String,json:{write:!0}})],Fd.prototype,"url",void 0),Fd=t5=c([O("esri.layer.support.WMTSLayerInfo")],Fd);var r5;let Vr=r5=class extends iC(L9(hC(Wue(Jue(v9(xm)))))){constructor(...e){super(...e),this.copyright="",this.fullExtent=new Pt(-20037508342787e-6,-2003750834278e-5,2003750834278e-5,20037508342787e-6,Ge.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=Ge.WebMercator,this.subDomains=null,this.tileInfo=new V8({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new Ve({x:-20037508342787e-6,y:20037508342787e-6,spatialReference:Ge.WebMercator}),spatialReference:Ge.WebMercator,lods:[new Lt({level:0,scale:591657527591555e-6,resolution:156543.033928}),new Lt({level:1,scale:295828763795777e-6,resolution:78271.5169639999}),new Lt({level:2,scale:147914381897889e-6,resolution:39135.7584820001}),new Lt({level:3,scale:73957190948944e-6,resolution:19567.8792409999}),new Lt({level:4,scale:36978595474472e-6,resolution:9783.93962049996}),new Lt({level:5,scale:18489297737236e-6,resolution:4891.96981024998}),new Lt({level:6,scale:9244648868618e-6,resolution:2445.98490512499}),new Lt({level:7,scale:4622324434309e-6,resolution:1222.99245256249}),new Lt({level:8,scale:2311162217155e-6,resolution:611.49622628138}),new Lt({level:9,scale:1155581108577e-6,resolution:305.748113140558}),new Lt({level:10,scale:577790.554289,resolution:152.874056570411}),new Lt({level:11,scale:288895.277144,resolution:76.4370282850732}),new Lt({level:12,scale:144447.638572,resolution:38.2185141425366}),new Lt({level:13,scale:72223.819286,resolution:19.1092570712683}),new Lt({level:14,scale:36111.909643,resolution:9.55462853563415}),new Lt({level:15,scale:18055.954822,resolution:4.77731426794937}),new Lt({level:16,scale:9027.977411,resolution:2.38865713397468}),new Lt({level:17,scale:4513.988705,resolution:1.19432856685505}),new Lt({level:18,scale:2256.994353,resolution:.597164283559817}),new Lt({level:19,scale:1128.497176,resolution:.298582141647617}),new Lt({level:20,scale:564.248588,resolution:.14929107082380833}),new Lt({level:21,scale:282.124294,resolution:.07464553541190416}),new Lt({level:22,scale:141.062147,resolution:.03732276770595208}),new Lt({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(e,t){return typeof e=="string"?{urlTemplate:e,...t}:e}load(e){const t=this.loadFromPortal({supportedTypes:["WMTS"]},e).then(()=>{var n;let r="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const i=new dc(this.urlTemplate);!(this.subDomains&&this.subDomains.length>0)&&((n=i.authority)!=null&&n.includes("{subDomain}"))&&(r="is missing 'subDomains' property")}else r="spatialReference must match tileInfo.spatialReference";else r="is missing the required 'urlTemplate' property value";if(r)throw new V("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${r}`)});return this.addResolvingPromise(t),Promise.resolve(this)}get levelValues(){const e=[];if(!this.tileInfo)return null;for(const t of this.tileInfo.lods)e[t.level]=t.levelValue||t.level;return e}readSpatialReference(e,t){return e||t.fullExtent&&t.fullExtent.spatialReference&&Ge.fromJSON(t.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const e=[],{urlTemplate:t,subDomains:r}=this,n=new dc(t),i=n.scheme?n.scheme+"://":"//",s=i+n.authority+"/",o=n.authority;if(o!=null&&o.includes("{subDomain}")){if(r&&r.length>0&&o.split(".").length>1)for(const a of r)e.push(i+o.replace(/\{subDomain\}/gi,a)+"/")}else e.push(s);return e.map(a=>(a.charAt(a.length-1)!=="/"&&(a+="/"),a))}get urlPath(){if(!this.urlTemplate)return null;const e=this.urlTemplate,t=new dc(e),r=(t.scheme?t.scheme+"://":"//")+t.authority+"/";return e.substring(r.length)}readUrlTemplate(e,t){return e||t.templateUrl}writeUrlTemplate(e,t){e&&Qa(e)&&(e="https:"+e),e&&(e=e.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),e=Xo(e)),t.templateUrl=e}fetchTile(e,t,r,n={}){const{signal:i}=n,s=this.getTileUrl(e,t,r),o={responseType:"image",signal:i,query:{...this.refreshParameters}};return Tt(s,o).then(a=>a.data)}async fetchImageBitmapTile(e,t,r,n={}){const{signal:i}=n;if(this.fetchTile!==r5.prototype.fetchTile){const l=await this.fetchTile(e,t,r,n);try{return createImageBitmap(l)}catch(u){throw new V("request:server",`Unable to load tile ${e}/${t}/${r}`,{error:u,level:e,row:t,col:r})}}const s=this.getTileUrl(e,t,r),o={responseType:"blob",signal:i,query:{...this.refreshParameters}},{data:a}=await Tt(s,o);return YBe(a,s)}getTileUrl(e,t,r){const{levelValues:n,tileServers:i,urlPath:s}=this;if(!n||!i||!s)return"";const o=n[e];return i[t%i.length]+Za(s,{level:o,z:o,col:r,x:r,row:t,y:t})}};c([h({type:String,value:"",json:{write:!0}})],Vr.prototype,"copyright",void 0),c([h({type:Pt,json:{write:!0},nonNullable:!0})],Vr.prototype,"fullExtent",void 0),c([h({readOnly:!0,json:{read:!1,write:!1}})],Vr.prototype,"legendEnabled",void 0),c([h({type:["show","hide"]})],Vr.prototype,"listMode",void 0),c([h({json:{read:!0,write:!0}})],Vr.prototype,"blendMode",void 0),c([h()],Vr.prototype,"levelValues",null),c([h({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],Vr.prototype,"isReference",void 0),c([h({type:["WebTiledLayer"],value:"WebTiledLayer"})],Vr.prototype,"operationalLayerType",void 0),c([h({readOnly:!0,json:{read:!1,write:!1}})],Vr.prototype,"popupEnabled",void 0),c([h({type:Ge})],Vr.prototype,"spatialReference",void 0),c([he("spatialReference",["spatialReference","fullExtent.spatialReference"])],Vr.prototype,"readSpatialReference",null),c([h({type:[String],json:{write:!0}})],Vr.prototype,"subDomains",void 0),c([h({type:V8,json:{write:!0}})],Vr.prototype,"tileInfo",void 0),c([h({readOnly:!0})],Vr.prototype,"tileServers",null),c([h({json:{read:!1}})],Vr.prototype,"type",void 0),c([h()],Vr.prototype,"urlPath",null),c([h({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],Vr.prototype,"urlTemplate",void 0),c([he("urlTemplate",["urlTemplate","templateUrl"])],Vr.prototype,"readUrlTemplate",null),c([ge("urlTemplate",{templateUrl:{type:String}})],Vr.prototype,"writeUrlTemplate",null),c([h({type:Fd,json:{write:!0}})],Vr.prototype,"wmtsInfo",void 0),Vr=r5=c([O("esri.layers.WebTileLayer")],Vr);const jde=Vr,_St=Object.freeze(Object.defineProperty({__proto__:null,default:jde},Symbol.toStringTag,{value:"Module"}));function ZBe(e){const t=jde.createSubclass({constructor:function(s){Ni(()=>s.view.stationary===!0,()=>{this.visible&&this._canvas_set(void 0),this.updating_handler=Ni(()=>s.view.updating===!1,()=>{this.visible&&this.render_canvas()})}),Ni(()=>s.view.stationary===!1,()=>{this.updating_handler&&this.updating_handler.remove()})},render_canvas:function(){this.view.takeScreenshot({layers:[this]}).then(s=>{const o=s.data.data[3];o!==255&&console.error("The tiled layer has not loaded properly before being sent for TCD. Results may be affected. Alpha value of "+o);const a=s.data.width,l=s.data.height;this.canvas=document.createElement("canvas"),this.canvas.width=a,this.canvas.height=l,this.context=this.canvas.getContext("2d"),this.context.putImageData(s.data,0,0),this._canvas_set()})},_canvas_set(){this.canvas_set&&this.canvas_set(this.canvas)},fetchImageDataFromCache:function(){if(this.context)return this.context.getImageData(0,0,this.canvas.width,this.canvas.height)},imageToBlackAndWhite:function(){this.get_black_and_white_image=!0;const s=this.fetchImageDataFromCache();for(var o=0;o<this.canvas.height;o++)for(var a=0;a<this.canvas.width;a++){var l=o*4*this.canvas.width+a*4,u=(s.data[l]+s.data[l+1]+s.data[l+2])/3;s.data[l]=u,s.data[l+1]=u,s.data[l+2]=u}this.context.putImageData(s,0,0),this.refresh()}});function r(s){const o=new t({urlTemplate:s.urlTemplate,view:s.view,canvas_set:s.canvas_set,visible:!0,copyright:s.copyright}),a=s.view.allLayerViews.findIndex(l=>l.declaredClass==="esri.views.2d.layers.GraphicsLayerView2D");s.map.add(o,a-1),i(o)}const[n,i]=q.useState(null);return q.useEffect(()=>{e.map&&!n&&e.urlTemplate&&r(e),n&&e.b_and_w&&n.imageToBlackAndWhite(),n&&(n.urlTemplate=e.urlTemplate),n&&(n.visible=e.visible)},[e.map,e.visible,e.urlTemplate,e.b_and_w]),de("div",{})}let qu=class extends iC(hC(xm)){constructor(t){super(t),this.elevationInfo=null,this.graphics=new Zf,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,r){return super.on(t,r)}graphicChanged(t){this.emit("graphic-update",t)}};c([h({type:Cle})],qu.prototype,"elevationInfo",void 0),c([h(L4(Zf,"graphics"))],qu.prototype,"graphics",void 0),c([h({type:["show","hide"]})],qu.prototype,"listMode",void 0),c([h()],qu.prototype,"screenSizePerspectiveEnabled",void 0),c([h({readOnly:!0})],qu.prototype,"type",void 0),c([h({constructOnly:!0})],qu.prototype,"internal",void 0),qu=c([O("esri.layers.GraphicsLayer")],qu);const V$=qu;function XBe(e){function t(M,A,k,P,L){const j=M.filter(te=>{const ae=te.properties;return ae.area>=A&&ae.area<=k&&ae.score>=P&&ae.score<=L}).map(te=>te.properties.id);var W;f.forEach(te=>{te.graphics.forEach(ae=>{W=!!j.includes(ae.id),ae.visible=W})})}function r(M){const A={type:"polygon",rings:M};return new ra(A)}function n(M,A,k,P,L,D){const j=k.concat([P]),te={type:"simple-fill",color:k.concat([L]),outline:{color:j,width:D}},ae=r(A);return new Pn({id:M.properties.id,geometry:ae,symbol:te})}function i(M,A){return n(M,M.geometry.coordinates,A,.5,.3,1)}function s(M,A){const P=r(M.geometry.coordinates).extent,L=[[P.xmin,P.ymin],[P.xmin,P.ymax],[P.xmax,P.ymax],[P.xmax,P.ymin],[P.xmin,P.ymin]];return n(M,L,A,.5,0,2)}function o(M,A,k,P,L){const D=A.geometry.extent;var j,W,te;switch(L){case"ul":j=new Ve({type:"point",latitude:D.ymax,longitude:D.xmin}),W=9,te=-7;break;case"ur":j=new Ve({type:"point",latitude:D.ymax,longitude:D.xmax}),W=-14,te=-7;break}let ae={type:"text",color:k,haloColor:"black",haloSize:"4px",text:P,xoffset:W,yoffset:te,font:{size:8}};return new Pn({id:M.properties.id,geometry:j,symbol:ae})}function a(M){var A=M.properties.color.split(",");const k=i(M,A);v.add(k);const P=s(M,A);b.add(P),A=[255,255,255];const L=o(M,P,A,parseFloat(M.properties.score.toFixed(2))+"%","ul");S.add(L);const D=o(M,P,A,parseInt(M.properties.area,10)+"m2","ur");x.add(D)}function l(M){M.forEach(A=>{A.hasOwnProperty("geometry")&&!E.includes(A.properties.id)&&(a(A),E.push(A.properties.id),T(E))})}function u(){f&&f.forEach(M=>{M.removeAll()})}function d(M){const A=new V$({visible:!1}),k=new V$({visible:!1}),P=new V$({visible:!1}),L=new V$({visible:!1}),D=[A,k,P,L];M.map.addMany(D),g(A),w(k),_(P),$(L),y(D)}function p(M){f.forEach(A=>{A.visible=M.visible}),b.visible=M.show_boxes&&M.visible,v.visible=M.show_masks&&M.visible,S.visible=M.show_scores&&M.visible,x.visible=M.show_areas&&M.visible}const[f,y]=q.useState(null),[v,g]=q.useState(null),[b,w]=q.useState(null),[S,_]=q.useState(null),[x,$]=q.useState(null),[E,T]=q.useState([]);return q.useEffect(()=>{if(e.map&&!f&&d(e),e.feature_collection){const M=e.feature_collection.features;l(M),p(e),t(M,e.area_range_value[0],e.area_range_value[1],e.score_range_value[0],e.score_range_value[1])}else u(),T([])},[e.map,e.feature_collection,e.visible,e.show_masks,e.show_boxes,e.show_scores,e.show_areas,e.area_range_value,e.score_range_value]),de("div",{})}var n5={},QBe={get exports(){return n5},set exports(e){n5=e}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var a=r.apply(null,s);a&&n.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){n.push(s.toString());continue}for(var l in s)t.call(s,l)&&s[l]&&n.push(l)}}}return n.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(QBe);const Rr=n5;function eGe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var po=eGe,tGe=typeof vx=="object"&&vx&&vx.Object===Object&&vx,Vde=tGe,rGe=Vde,nGe=typeof self=="object"&&self&&self.Object===Object&&self,iGe=rGe||nGe||Function("return this")(),du=iGe,sGe=du,oGe=sGe.Symbol,tx=oGe,FH=tx,zde=Object.prototype,aGe=zde.hasOwnProperty,lGe=zde.toString,L1=FH?FH.toStringTag:void 0;function uGe(e){var t=aGe.call(e,L1),r=e[L1];try{e[L1]=void 0;var n=!0}catch{}var i=lGe.call(e);return n&&(t?e[L1]=r:delete e[L1]),i}var cGe=uGe,dGe=Object.prototype,hGe=dGe.toString;function pGe(e){return hGe.call(e)}var fGe=pGe,DH=tx,mGe=cGe,yGe=fGe,gGe="[object Null]",vGe="[object Undefined]",jH=DH?DH.toStringTag:void 0;function bGe(e){return e==null?e===void 0?vGe:gGe:jH&&jH in Object(e)?mGe(e):yGe(e)}var Xh=bGe,wGe=Xh,_Ge=po,SGe="[object AsyncFunction]",xGe="[object Function]",$Ge="[object GeneratorFunction]",EGe="[object Proxy]";function TGe(e){if(!_Ge(e))return!1;var t=wGe(e);return t==xGe||t==$Ge||t==SGe||t==EGe}var Ze=TGe,MGe=Array.isArray,zt=MGe;function IGe(e){return e!=null&&typeof e=="object"}var Qh=IGe,OGe=Xh,CGe=zt,AGe=Qh,PGe="[object String]";function kGe(e){return typeof e=="string"||!CGe(e)&&AGe(e)&&OGe(e)==PGe}var rx=kGe,RGe=Xh,LGe=Qh,NGe="[object Symbol]";function FGe(e){return typeof e=="symbol"||LGe(e)&&RGe(e)==NGe}var Ov=FGe,DGe=zt,jGe=Ov,VGe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zGe=/^\w*$/;function UGe(e,t){if(DGe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||jGe(e)?!0:zGe.test(e)||!VGe.test(e)||t!=null&&e in Object(t)}var Q9=UGe,BGe=du,GGe=BGe["__core-js_shared__"],qGe=GGe,jk=qGe,VH=function(){var e=/[^.]+$/.exec(jk&&jk.keys&&jk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function WGe(e){return!!VH&&VH in e}var HGe=WGe,KGe=Function.prototype,JGe=KGe.toString;function YGe(e){if(e!=null){try{return JGe.call(e)}catch{}try{return e+""}catch{}}return""}var Ude=YGe,ZGe=Ze,XGe=HGe,QGe=po,eqe=Ude,tqe=/[\\^$.*+?()[\]{}|]/g,rqe=/^\[object .+?Constructor\]$/,nqe=Function.prototype,iqe=Object.prototype,sqe=nqe.toString,oqe=iqe.hasOwnProperty,aqe=RegExp("^"+sqe.call(oqe).replace(tqe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lqe(e){if(!QGe(e)||XGe(e))return!1;var t=ZGe(e)?aqe:rqe;return t.test(eqe(e))}var uqe=lqe;function cqe(e,t){return e==null?void 0:e[t]}var dqe=cqe,hqe=uqe,pqe=dqe;function fqe(e,t){var r=pqe(e,t);return hqe(r)?r:void 0}var Vm=fqe,mqe=Vm,yqe=mqe(Object,"create"),vC=yqe,zH=vC;function gqe(){this.__data__=zH?zH(null):{},this.size=0}var vqe=gqe;function bqe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var wqe=bqe,_qe=vC,Sqe="__lodash_hash_undefined__",xqe=Object.prototype,$qe=xqe.hasOwnProperty;function Eqe(e){var t=this.__data__;if(_qe){var r=t[e];return r===Sqe?void 0:r}return $qe.call(t,e)?t[e]:void 0}var Tqe=Eqe,Mqe=vC,Iqe=Object.prototype,Oqe=Iqe.hasOwnProperty;function Cqe(e){var t=this.__data__;return Mqe?t[e]!==void 0:Oqe.call(t,e)}var Aqe=Cqe,Pqe=vC,kqe="__lodash_hash_undefined__";function Rqe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Pqe&&t===void 0?kqe:t,this}var Lqe=Rqe,Nqe=vqe,Fqe=wqe,Dqe=Tqe,jqe=Aqe,Vqe=Lqe;function Cv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Cv.prototype.clear=Nqe;Cv.prototype.delete=Fqe;Cv.prototype.get=Dqe;Cv.prototype.has=jqe;Cv.prototype.set=Vqe;var zqe=Cv;function Uqe(){this.__data__=[],this.size=0}var Bqe=Uqe;function Gqe(e,t){return e===t||e!==e&&t!==t}var eV=Gqe,qqe=eV;function Wqe(e,t){for(var r=e.length;r--;)if(qqe(e[r][0],t))return r;return-1}var bC=Wqe,Hqe=bC,Kqe=Array.prototype,Jqe=Kqe.splice;function Yqe(e){var t=this.__data__,r=Hqe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Jqe.call(t,r,1),--this.size,!0}var Zqe=Yqe,Xqe=bC;function Qqe(e){var t=this.__data__,r=Xqe(t,e);return r<0?void 0:t[r][1]}var eWe=Qqe,tWe=bC;function rWe(e){return tWe(this.__data__,e)>-1}var nWe=rWe,iWe=bC;function sWe(e,t){var r=this.__data__,n=iWe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var oWe=sWe,aWe=Bqe,lWe=Zqe,uWe=eWe,cWe=nWe,dWe=oWe;function Av(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Av.prototype.clear=aWe;Av.prototype.delete=lWe;Av.prototype.get=uWe;Av.prototype.has=cWe;Av.prototype.set=dWe;var wC=Av,hWe=Vm,pWe=du,fWe=hWe(pWe,"Map"),tV=fWe,UH=zqe,mWe=wC,yWe=tV;function gWe(){this.size=0,this.__data__={hash:new UH,map:new(yWe||mWe),string:new UH}}var vWe=gWe;function bWe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var wWe=bWe,_We=wWe;function SWe(e,t){var r=e.__data__;return _We(t)?r[typeof t=="string"?"string":"hash"]:r.map}var _C=SWe,xWe=_C;function $We(e){var t=xWe(this,e).delete(e);return this.size-=t?1:0,t}var EWe=$We,TWe=_C;function MWe(e){return TWe(this,e).get(e)}var IWe=MWe,OWe=_C;function CWe(e){return OWe(this,e).has(e)}var AWe=CWe,PWe=_C;function kWe(e,t){var r=PWe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var RWe=kWe,LWe=vWe,NWe=EWe,FWe=IWe,DWe=AWe,jWe=RWe;function Pv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pv.prototype.clear=LWe;Pv.prototype.delete=NWe;Pv.prototype.get=FWe;Pv.prototype.has=DWe;Pv.prototype.set=jWe;var rV=Pv,Bde=rV,VWe="Expected a function";function nV(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(VWe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(nV.Cache||Bde),r}nV.Cache=Bde;var zWe=nV,UWe=zWe,BWe=500;function GWe(e){var t=UWe(e,function(n){return r.size===BWe&&r.clear(),n}),r=t.cache;return t}var qWe=GWe,WWe=qWe,HWe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,KWe=/\\(\\)?/g,JWe=WWe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(HWe,function(r,n,i,s){t.push(i?s.replace(KWe,"$1"):n||r)}),t}),YWe=JWe;function ZWe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var iV=ZWe,BH=tx,XWe=iV,QWe=zt,eHe=Ov,tHe=1/0,GH=BH?BH.prototype:void 0,qH=GH?GH.toString:void 0;function Gde(e){if(typeof e=="string")return e;if(QWe(e))return XWe(e,Gde)+"";if(eHe(e))return qH?qH.call(e):"";var t=e+"";return t=="0"&&1/e==-tHe?"-0":t}var rHe=Gde,nHe=rHe;function iHe(e){return e==null?"":nHe(e)}var qde=iHe,sHe=zt,oHe=Q9,aHe=YWe,lHe=qde;function uHe(e,t){return sHe(e)?e:oHe(e,t)?[e]:aHe(lHe(e))}var Wde=uHe,cHe=Ov,dHe=1/0;function hHe(e){if(typeof e=="string"||cHe(e))return e;var t=e+"";return t=="0"&&1/e==-dHe?"-0":t}var SC=hHe,pHe=Wde,fHe=SC;function mHe(e,t){t=pHe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[fHe(t[r++])];return r&&r==n?e:void 0}var sV=mHe,yHe=sV;function gHe(e,t,r){var n=e==null?void 0:yHe(e,t);return n===void 0?r:n}var oo=gHe;function vHe(e){return e==null}var it=vHe,i5={},bHe={get exports(){return i5},set exports(e){i5=e}},tr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zn=typeof Symbol=="function"&&Symbol.for,oV=Zn?Symbol.for("react.element"):60103,aV=Zn?Symbol.for("react.portal"):60106,xC=Zn?Symbol.for("react.fragment"):60107,$C=Zn?Symbol.for("react.strict_mode"):60108,EC=Zn?Symbol.for("react.profiler"):60114,TC=Zn?Symbol.for("react.provider"):60109,MC=Zn?Symbol.for("react.context"):60110,lV=Zn?Symbol.for("react.async_mode"):60111,IC=Zn?Symbol.for("react.concurrent_mode"):60111,OC=Zn?Symbol.for("react.forward_ref"):60112,CC=Zn?Symbol.for("react.suspense"):60113,wHe=Zn?Symbol.for("react.suspense_list"):60120,AC=Zn?Symbol.for("react.memo"):60115,PC=Zn?Symbol.for("react.lazy"):60116,_He=Zn?Symbol.for("react.block"):60121,SHe=Zn?Symbol.for("react.fundamental"):60117,xHe=Zn?Symbol.for("react.responder"):60118,$He=Zn?Symbol.for("react.scope"):60119;function fo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case oV:switch(e=e.type,e){case lV:case IC:case xC:case EC:case $C:case CC:return e;default:switch(e=e&&e.$$typeof,e){case MC:case OC:case PC:case AC:case TC:return e;default:return t}}case aV:return t}}}function Hde(e){return fo(e)===IC}tr.AsyncMode=lV;tr.ConcurrentMode=IC;tr.ContextConsumer=MC;tr.ContextProvider=TC;tr.Element=oV;tr.ForwardRef=OC;tr.Fragment=xC;tr.Lazy=PC;tr.Memo=AC;tr.Portal=aV;tr.Profiler=EC;tr.StrictMode=$C;tr.Suspense=CC;tr.isAsyncMode=function(e){return Hde(e)||fo(e)===lV};tr.isConcurrentMode=Hde;tr.isContextConsumer=function(e){return fo(e)===MC};tr.isContextProvider=function(e){return fo(e)===TC};tr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===oV};tr.isForwardRef=function(e){return fo(e)===OC};tr.isFragment=function(e){return fo(e)===xC};tr.isLazy=function(e){return fo(e)===PC};tr.isMemo=function(e){return fo(e)===AC};tr.isPortal=function(e){return fo(e)===aV};tr.isProfiler=function(e){return fo(e)===EC};tr.isStrictMode=function(e){return fo(e)===$C};tr.isSuspense=function(e){return fo(e)===CC};tr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xC||e===IC||e===EC||e===$C||e===CC||e===wHe||typeof e=="object"&&e!==null&&(e.$$typeof===PC||e.$$typeof===AC||e.$$typeof===TC||e.$$typeof===MC||e.$$typeof===OC||e.$$typeof===SHe||e.$$typeof===xHe||e.$$typeof===$He||e.$$typeof===_He)};tr.typeOf=fo;(function(e){e.exports=tr})(bHe);var EHe=Xh,THe=Qh,MHe="[object Number]";function IHe(e){return typeof e=="number"||THe(e)&&EHe(e)==MHe}var Kde=IHe;const OHe=Kde;var CHe=Kde;function AHe(e){return CHe(e)&&e!=+e}var nx=AHe,Ho=function(t){return t===0?0:t>0?1:-1},s5=function(t){return rx(t)&&t.indexOf("%")===t.length-1},ve=function(t){return OHe(t)&&!nx(t)},In=function(t){return ve(t)||rx(t)},PHe=0,kC=function(t){var r=++PHe;return"".concat(t||"").concat(r)},C0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&!rx(t))return n;var s;if(s5(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return nx(s)&&(s=n),i&&s>r&&(s=r),s},Dd=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},kHe=function(t){if(!zt(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},uy=function(t,r){return ve(t)&&ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function o5(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):oo(n,t))===r})}function Yg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function a5(e){return a5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a5(e)}var RHe=["viewBox","children"],LHe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WH=["points","pathLength"],Vk={svg:RHe,polygon:WH,polyline:WH},uV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$M=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(q.isValidElement(t)&&(n=t.props),!po(n))return null;var i={};return Object.keys(n).forEach(function(s){uV.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},NHe=function(t,r,n){return function(i){return t(r,n,i),null}},EM=function(t,r,n){if(!po(t)||a5(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];uV.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=NHe(o,r,n))}),i},FHe=["children"],DHe=["children"];function HH(e,t){if(e==null)return{};var r=jHe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jHe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var KH={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Th=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},JH=null,zk=null,cV=function e(t){if(t===JH&&zt(zk))return zk;var r=[];return q.Children.forEach(t,function(n){it(n)||(i5.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),zk=r,JH=t,r};function Ja(e,t){var r=[],n=[];return zt(t)?n=t.map(function(i){return Th(i)}):n=[Th(t)],cV(e).forEach(function(i){var s=oo(i,"type.displayName")||oo(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function sc(e,t){var r=Ja(e,t);return r&&r[0]}var YH=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!ve(n)||n<=0||!ve(i)||i<=0)},VHe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zHe=function(t){return t&&t.type&&rx(t.type)&&VHe.indexOf(t.type)>=0},UHe=function(t,r,n,i){var s,o=(s=Vk==null?void 0:Vk[i])!==null&&s!==void 0?s:[];return!Ze(t)&&(i&&o.includes(r)||LHe.includes(r))||n&&uV.includes(r)},Xt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(q.isValidElement(t)&&(i=t.props),!po(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;UHe((a=i)===null||a===void 0?void 0:a[o],o,r,n)&&(s[o]=i[o])}),s},Jde=function e(t,r){if(t===r)return!0;var n=q.Children.count(t);if(n!==q.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ZH(zt(t)?t[0]:t,zt(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(zt(s)||zt(o)){if(!e(s,o))return!1}else if(!ZH(s,o))return!1}return!0},ZH=function(t,r){if(it(t)&&it(r))return!0;if(!it(t)&&!it(r)){var n=t.props||{},i=n.children,s=HH(n,FHe),o=r.props||{},a=o.children,l=HH(o,DHe);return i&&a?Yg(s,l)&&Jde(i,a):!i&&!a?Yg(s,l):!1}return!1},XH=function(t,r){var n=[],i={};return cV(t).forEach(function(s,o){if(zHe(s))n.push(s);else if(s){var a=Th(s.type),l=r[a]||{},u=l.handler,d=l.once;if(u&&(!d||!i[a])){var p=u(s,a,o);n.push(p),i[a]=!0}}}),n},BHe=function(t){var r=t&&t.type;return r&&KH[r]?KH[r]:null},GHe=function(t,r){return cV(r).indexOf(t)},qHe=["children","width","height","viewBox","className","style"];function l5(){return l5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l5.apply(this,arguments)}function WHe(e,t){if(e==null)return{};var r=HHe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HHe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function u5(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,a=WHe(e,qHe),l=i||{width:r,height:n,x:0,y:0},u=Rr("recharts-surface",s);return K.createElement("svg",l5({},Xt(a,!0,"svg"),{className:u,width:r,height:n,style:o,viewBox:"".concat(l.x," ").concat(l.y," ").concat(l.width," ").concat(l.height)}),K.createElement("title",null,e.title),K.createElement("desc",null,e.desc),t)}var KHe=["children","className"];function c5(){return c5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c5.apply(this,arguments)}function JHe(e,t){if(e==null)return{};var r=YHe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YHe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var li=K.forwardRef(function(e,t){var r=e.children,n=e.className,i=JHe(e,KHe),s=Rr("recharts-layer",n);return K.createElement("g",c5({className:s},Xt(i,!0),{ref:t}),r)}),ZHe=wC;function XHe(){this.__data__=new ZHe,this.size=0}var QHe=XHe;function eKe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var tKe=eKe;function rKe(e){return this.__data__.get(e)}var nKe=rKe;function iKe(e){return this.__data__.has(e)}var sKe=iKe,oKe=wC,aKe=tV,lKe=rV,uKe=200;function cKe(e,t){var r=this.__data__;if(r instanceof oKe){var n=r.__data__;if(!aKe||n.length<uKe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new lKe(n)}return r.set(e,t),this.size=r.size,this}var dKe=cKe,hKe=wC,pKe=QHe,fKe=tKe,mKe=nKe,yKe=sKe,gKe=dKe;function kv(e){var t=this.__data__=new hKe(e);this.size=t.size}kv.prototype.clear=pKe;kv.prototype.delete=fKe;kv.prototype.get=mKe;kv.prototype.has=yKe;kv.prototype.set=gKe;var Yde=kv,vKe="__lodash_hash_undefined__";function bKe(e){return this.__data__.set(e,vKe),this}var wKe=bKe;function _Ke(e){return this.__data__.has(e)}var SKe=_Ke,xKe=rV,$Ke=wKe,EKe=SKe;function TM(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new xKe;++t<r;)this.add(e[t])}TM.prototype.add=TM.prototype.push=$Ke;TM.prototype.has=EKe;var Zde=TM;function TKe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Xde=TKe;function MKe(e,t){return e.has(t)}var Qde=MKe,IKe=Zde,OKe=Xde,CKe=Qde,AKe=1,PKe=2;function kKe(e,t,r,n,i,s){var o=r&AKe,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var p=-1,f=!0,y=r&PKe?new IKe:void 0;for(s.set(e,t),s.set(t,e);++p<a;){var v=e[p],g=t[p];if(n)var b=o?n(g,v,p,t,e,s):n(v,g,p,e,t,s);if(b!==void 0){if(b)continue;f=!1;break}if(y){if(!OKe(t,function(w,S){if(!CKe(y,S)&&(v===w||i(v,w,r,n,s)))return y.push(S)})){f=!1;break}}else if(!(v===g||i(v,g,r,n,s))){f=!1;break}}return s.delete(e),s.delete(t),f}var ehe=kKe,RKe=du,LKe=RKe.Uint8Array,NKe=LKe;function FKe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var DKe=FKe;function jKe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var dV=jKe,QH=tx,eK=NKe,VKe=eV,zKe=ehe,UKe=DKe,BKe=dV,GKe=1,qKe=2,WKe="[object Boolean]",HKe="[object Date]",KKe="[object Error]",JKe="[object Map]",YKe="[object Number]",ZKe="[object RegExp]",XKe="[object Set]",QKe="[object String]",eJe="[object Symbol]",tJe="[object ArrayBuffer]",rJe="[object DataView]",tK=QH?QH.prototype:void 0,Uk=tK?tK.valueOf:void 0;function nJe(e,t,r,n,i,s,o){switch(r){case rJe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tJe:return!(e.byteLength!=t.byteLength||!s(new eK(e),new eK(t)));case WKe:case HKe:case YKe:return VKe(+e,+t);case KKe:return e.name==t.name&&e.message==t.message;case ZKe:case QKe:return e==t+"";case JKe:var a=UKe;case XKe:var l=n&GKe;if(a||(a=BKe),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=qKe,o.set(e,t);var d=zKe(a(e),a(t),n,i,s,o);return o.delete(e),d;case eJe:if(Uk)return Uk.call(e)==Uk.call(t)}return!1}var iJe=nJe;function sJe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var the=sJe,oJe=the,aJe=zt;function lJe(e,t,r){var n=t(e);return aJe(e)?n:oJe(n,r(e))}var uJe=lJe;function cJe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var dJe=cJe;function hJe(){return[]}var pJe=hJe,fJe=dJe,mJe=pJe,yJe=Object.prototype,gJe=yJe.propertyIsEnumerable,rK=Object.getOwnPropertySymbols,vJe=rK?function(e){return e==null?[]:(e=Object(e),fJe(rK(e),function(t){return gJe.call(e,t)}))}:mJe,bJe=vJe;function wJe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _Je=wJe,SJe=Xh,xJe=Qh,$Je="[object Arguments]";function EJe(e){return xJe(e)&&SJe(e)==$Je}var TJe=EJe,nK=TJe,MJe=Qh,rhe=Object.prototype,IJe=rhe.hasOwnProperty,OJe=rhe.propertyIsEnumerable,CJe=nK(function(){return arguments}())?nK:function(e){return MJe(e)&&IJe.call(e,"callee")&&!OJe.call(e,"callee")},hV=CJe,V_={},AJe={get exports(){return V_},set exports(e){V_=e}};function PJe(){return!1}var kJe=PJe;(function(e,t){var r=du,n=kJe,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?r.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||n;e.exports=u})(AJe,V_);var RJe=9007199254740991,LJe=/^(?:0|[1-9]\d*)$/;function NJe(e,t){var r=typeof e;return t=t??RJe,!!t&&(r=="number"||r!="symbol"&&LJe.test(e))&&e>-1&&e%1==0&&e<t}var pV=NJe,FJe=9007199254740991;function DJe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=FJe}var fV=DJe,jJe=Xh,VJe=fV,zJe=Qh,UJe="[object Arguments]",BJe="[object Array]",GJe="[object Boolean]",qJe="[object Date]",WJe="[object Error]",HJe="[object Function]",KJe="[object Map]",JJe="[object Number]",YJe="[object Object]",ZJe="[object RegExp]",XJe="[object Set]",QJe="[object String]",eYe="[object WeakMap]",tYe="[object ArrayBuffer]",rYe="[object DataView]",nYe="[object Float32Array]",iYe="[object Float64Array]",sYe="[object Int8Array]",oYe="[object Int16Array]",aYe="[object Int32Array]",lYe="[object Uint8Array]",uYe="[object Uint8ClampedArray]",cYe="[object Uint16Array]",dYe="[object Uint32Array]",_r={};_r[nYe]=_r[iYe]=_r[sYe]=_r[oYe]=_r[aYe]=_r[lYe]=_r[uYe]=_r[cYe]=_r[dYe]=!0;_r[UJe]=_r[BJe]=_r[tYe]=_r[GJe]=_r[rYe]=_r[qJe]=_r[WJe]=_r[HJe]=_r[KJe]=_r[JJe]=_r[YJe]=_r[ZJe]=_r[XJe]=_r[QJe]=_r[eYe]=!1;function hYe(e){return zJe(e)&&VJe(e.length)&&!!_r[jJe(e)]}var pYe=hYe;function fYe(e){return function(t){return e(t)}}var nhe=fYe,MM={},mYe={get exports(){return MM},set exports(e){MM=e}};(function(e,t){var r=Vde,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a})(mYe,MM);var yYe=pYe,gYe=nhe,iK=MM,sK=iK&&iK.isTypedArray,vYe=sK?gYe(sK):yYe,ihe=vYe,bYe=_Je,wYe=hV,_Ye=zt,SYe=V_,xYe=pV,$Ye=ihe,EYe=Object.prototype,TYe=EYe.hasOwnProperty;function MYe(e,t){var r=_Ye(e),n=!r&&wYe(e),i=!r&&!n&&SYe(e),s=!r&&!n&&!i&&$Ye(e),o=r||n||i||s,a=o?bYe(e.length,String):[],l=a.length;for(var u in e)(t||TYe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xYe(u,l)))&&a.push(u);return a}var IYe=MYe,OYe=Object.prototype;function CYe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||OYe;return e===r}var AYe=CYe;function PYe(e,t){return function(r){return e(t(r))}}var kYe=PYe,RYe=kYe,LYe=RYe(Object.keys,Object),NYe=LYe,FYe=AYe,DYe=NYe,jYe=Object.prototype,VYe=jYe.hasOwnProperty;function zYe(e){if(!FYe(e))return DYe(e);var t=[];for(var r in Object(e))VYe.call(e,r)&&r!="constructor"&&t.push(r);return t}var UYe=zYe,BYe=Ze,GYe=fV;function qYe(e){return e!=null&&GYe(e.length)&&!BYe(e)}var ix=qYe,WYe=IYe,HYe=UYe,KYe=ix;function JYe(e){return KYe(e)?WYe(e):HYe(e)}var RC=JYe,YYe=uJe,ZYe=bJe,XYe=RC;function QYe(e){return YYe(e,XYe,ZYe)}var eZe=QYe,oK=eZe,tZe=1,rZe=Object.prototype,nZe=rZe.hasOwnProperty;function iZe(e,t,r,n,i,s){var o=r&tZe,a=oK(e),l=a.length,u=oK(t),d=u.length;if(l!=d&&!o)return!1;for(var p=l;p--;){var f=a[p];if(!(o?f in t:nZe.call(t,f)))return!1}var y=s.get(e),v=s.get(t);if(y&&v)return y==t&&v==e;var g=!0;s.set(e,t),s.set(t,e);for(var b=o;++p<l;){f=a[p];var w=e[f],S=t[f];if(n)var _=o?n(S,w,f,t,e,s):n(w,S,f,e,t,s);if(!(_===void 0?w===S||i(w,S,r,n,s):_)){g=!1;break}b||(b=f=="constructor")}if(g&&!b){var x=e.constructor,$=t.constructor;x!=$&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof $=="function"&&$ instanceof $)&&(g=!1)}return s.delete(e),s.delete(t),g}var sZe=iZe,oZe=Vm,aZe=du,lZe=oZe(aZe,"DataView"),uZe=lZe,cZe=Vm,dZe=du,hZe=cZe(dZe,"Promise"),pZe=hZe,fZe=Vm,mZe=du,yZe=fZe(mZe,"Set"),she=yZe,gZe=Vm,vZe=du,bZe=gZe(vZe,"WeakMap"),wZe=bZe,d5=uZe,h5=tV,p5=pZe,f5=she,m5=wZe,ohe=Xh,Rv=Ude,aK="[object Map]",_Ze="[object Object]",lK="[object Promise]",uK="[object Set]",cK="[object WeakMap]",dK="[object DataView]",SZe=Rv(d5),xZe=Rv(h5),$Ze=Rv(p5),EZe=Rv(f5),TZe=Rv(m5),lf=ohe;(d5&&lf(new d5(new ArrayBuffer(1)))!=dK||h5&&lf(new h5)!=aK||p5&&lf(p5.resolve())!=lK||f5&&lf(new f5)!=uK||m5&&lf(new m5)!=cK)&&(lf=function(e){var t=ohe(e),r=t==_Ze?e.constructor:void 0,n=r?Rv(r):"";if(n)switch(n){case SZe:return dK;case xZe:return aK;case $Ze:return lK;case EZe:return uK;case TZe:return cK}return t});var MZe=lf,Bk=Yde,IZe=ehe,OZe=iJe,CZe=sZe,hK=MZe,pK=zt,fK=V_,AZe=ihe,PZe=1,mK="[object Arguments]",yK="[object Array]",z$="[object Object]",kZe=Object.prototype,gK=kZe.hasOwnProperty;function RZe(e,t,r,n,i,s){var o=pK(e),a=pK(t),l=o?yK:hK(e),u=a?yK:hK(t);l=l==mK?z$:l,u=u==mK?z$:u;var d=l==z$,p=u==z$,f=l==u;if(f&&fK(e)){if(!fK(t))return!1;o=!0,d=!1}if(f&&!d)return s||(s=new Bk),o||AZe(e)?IZe(e,t,r,n,i,s):OZe(e,t,l,r,n,i,s);if(!(r&PZe)){var y=d&&gK.call(e,"__wrapped__"),v=p&&gK.call(t,"__wrapped__");if(y||v){var g=y?e.value():e,b=v?t.value():t;return s||(s=new Bk),i(g,b,r,n,s)}}return f?(s||(s=new Bk),CZe(e,t,r,n,i,s)):!1}var LZe=RZe,NZe=LZe,vK=Qh;function ahe(e,t,r,n,i){return e===t?!0:e==null||t==null||!vK(e)&&!vK(t)?e!==e&&t!==t:NZe(e,t,r,n,ahe,i)}var mV=ahe,FZe=Yde,DZe=mV,jZe=1,VZe=2;function zZe(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var a=r[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=r[i];var l=a[0],u=e[l],d=a[1];if(o&&a[2]){if(u===void 0&&!(l in e))return!1}else{var p=new FZe;if(n)var f=n(u,d,l,e,t,p);if(!(f===void 0?DZe(d,u,jZe|VZe,n,p):f))return!1}}return!0}var UZe=zZe,BZe=po;function GZe(e){return e===e&&!BZe(e)}var lhe=GZe,qZe=lhe,WZe=RC;function HZe(e){for(var t=WZe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,qZe(i)]}return t}var KZe=HZe;function JZe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var uhe=JZe,YZe=UZe,ZZe=KZe,XZe=uhe;function QZe(e){var t=ZZe(e);return t.length==1&&t[0][2]?XZe(t[0][0],t[0][1]):function(r){return r===e||YZe(r,e,t)}}var eXe=QZe;function tXe(e,t){return e!=null&&t in Object(e)}var rXe=tXe,nXe=Wde,iXe=hV,sXe=zt,oXe=pV,aXe=fV,lXe=SC;function uXe(e,t,r){t=nXe(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=lXe(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&aXe(i)&&oXe(o,i)&&(sXe(e)||iXe(e)))}var cXe=uXe,dXe=rXe,hXe=cXe;function pXe(e,t){return e!=null&&hXe(e,t,dXe)}var fXe=pXe,mXe=mV,yXe=oo,gXe=fXe,vXe=Q9,bXe=lhe,wXe=uhe,_Xe=SC,SXe=1,xXe=2;function $Xe(e,t){return vXe(e)&&bXe(t)?wXe(_Xe(e),t):function(r){var n=yXe(r,e);return n===void 0&&n===t?gXe(r,e):mXe(t,n,SXe|xXe)}}var EXe=$Xe;function TXe(e){return e}var Lv=TXe;function MXe(e){return function(t){return t==null?void 0:t[e]}}var IXe=MXe,OXe=sV;function CXe(e){return function(t){return OXe(t,e)}}var AXe=CXe,PXe=IXe,kXe=AXe,RXe=Q9,LXe=SC;function NXe(e){return RXe(e)?PXe(LXe(e)):kXe(e)}var FXe=NXe,DXe=eXe,jXe=EXe,VXe=Lv,zXe=zt,UXe=FXe;function BXe(e){return typeof e=="function"?e:e==null?VXe:typeof e=="object"?zXe(e)?jXe(e[0],e[1]):DXe(e):UXe(e)}var ep=BXe;function GXe(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var che=GXe;function qXe(e){return e!==e}var WXe=qXe;function HXe(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var KXe=HXe,JXe=che,YXe=WXe,ZXe=KXe;function XXe(e,t,r){return t===t?ZXe(e,t,r):JXe(e,YXe,r)}var QXe=XXe,eQe=QXe;function tQe(e,t){var r=e==null?0:e.length;return!!r&&eQe(e,t,0)>-1}var rQe=tQe;function nQe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var iQe=nQe;function sQe(){}var oQe=sQe,Gk=she,aQe=oQe,lQe=dV,uQe=1/0,cQe=Gk&&1/lQe(new Gk([,-0]))[1]==uQe?function(e){return new Gk(e)}:aQe,dQe=cQe,hQe=Zde,pQe=rQe,fQe=iQe,mQe=Qde,yQe=dQe,gQe=dV,vQe=200;function bQe(e,t,r){var n=-1,i=pQe,s=e.length,o=!0,a=[],l=a;if(r)o=!1,i=fQe;else if(s>=vQe){var u=t?null:yQe(e);if(u)return gQe(u);o=!1,i=mQe,l=new hQe}else l=t?[]:a;e:for(;++n<s;){var d=e[n],p=t?t(d):d;if(d=r||d!==0?d:0,o&&p===p){for(var f=l.length;f--;)if(l[f]===p)continue e;t&&l.push(p),a.push(d)}else i(l,p,r)||(l!==a&&l.push(p),a.push(d))}return a}var wQe=bQe,_Qe=ep,SQe=wQe;function xQe(e,t){return e&&e.length?SQe(e,_Qe(t)):[]}var IM=xQe;function $Qe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var EQe=$Qe,TQe=EQe;function MQe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:TQe(e,t,r)}var IQe=MQe,OQe="\\ud800-\\udfff",CQe="\\u0300-\\u036f",AQe="\\ufe20-\\ufe2f",PQe="\\u20d0-\\u20ff",kQe=CQe+AQe+PQe,RQe="\\ufe0e\\ufe0f",LQe="\\u200d",NQe=RegExp("["+LQe+OQe+kQe+RQe+"]");function FQe(e){return NQe.test(e)}var dhe=FQe;function DQe(e){return e.split("")}var jQe=DQe,hhe="\\ud800-\\udfff",VQe="\\u0300-\\u036f",zQe="\\ufe20-\\ufe2f",UQe="\\u20d0-\\u20ff",BQe=VQe+zQe+UQe,GQe="\\ufe0e\\ufe0f",qQe="["+hhe+"]",y5="["+BQe+"]",g5="\\ud83c[\\udffb-\\udfff]",WQe="(?:"+y5+"|"+g5+")",phe="[^"+hhe+"]",fhe="(?:\\ud83c[\\udde6-\\uddff]){2}",mhe="[\\ud800-\\udbff][\\udc00-\\udfff]",HQe="\\u200d",yhe=WQe+"?",ghe="["+GQe+"]?",KQe="(?:"+HQe+"(?:"+[phe,fhe,mhe].join("|")+")"+ghe+yhe+")*",JQe=ghe+yhe+KQe,YQe="(?:"+[phe+y5+"?",y5,fhe,mhe,qQe].join("|")+")",ZQe=RegExp(g5+"(?="+g5+")|"+YQe+JQe,"g");function XQe(e){return e.match(ZQe)||[]}var QQe=XQe,eet=jQe,tet=dhe,ret=QQe;function net(e){return tet(e)?ret(e):eet(e)}var iet=net,set=IQe,oet=dhe,aet=iet,uet=qde;function cet(e){return function(t){t=uet(t);var r=oet(t)?aet(t):void 0,n=r?r[0]:t.charAt(0),i=r?set(r,1).join(""):t.slice(1);return n[e]()+i}}var det=cet,het=det,pet=het("toUpperCase"),LC=pet;function pr(e){return function(){return e}}const vhe=Math.cos,OM=Math.sin,ol=Math.sqrt,CM=Math.PI,NC=2*CM,v5=Math.PI,b5=2*v5,uf=1e-6,fet=b5-uf;function bhe(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function met(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bhe;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class yet{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?bhe:met(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=n-t,u=i-r,d=o-t,p=a-r,f=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>uf)if(!(Math.abs(p*l-u*d)>uf)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-o,v=i-a,g=l*l+u*u,b=y*y+v*v,w=Math.sqrt(g),S=Math.sqrt(f),_=s*Math.tan((v5-Math.acos((g+f-b)/(2*w*S)))/2),x=_/S,$=_/w;Math.abs(x-1)>uf&&this._append`L${t+x*d},${r+x*p}`,this._append`A${s},${s},0,0,${+(p*y>d*v)},${this._x1=t+$*l},${this._y1=r+$*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),u=t+a,d=r+l,p=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>uf||Math.abs(this._y1-d)>uf)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%b5+b5),f>fet?this._append`A${n},${n},0,1,${p},${t-a},${r-l}A${n},${n},0,1,${p},${this._x1=u},${this._y1=d}`:f>uf&&this._append`A${n},${n},0,${+(f>=v5)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function yV(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new yet(t)}function gV(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function whe(e){this._context=e}whe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function FC(e){return new whe(e)}function _he(e){return e[0]}function She(e){return e[1]}function xhe(e,t){var r=pr(!0),n=null,i=FC,s=null,o=yV(a);e=typeof e=="function"?e:e===void 0?_he:pr(e),t=typeof t=="function"?t:t===void 0?She:pr(t);function a(l){var u,d=(l=gV(l)).length,p,f=!1,y;for(n==null&&(s=i(y=o())),u=0;u<=d;++u)!(u<d&&r(p=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(p,u,l),+t(p,u,l));if(y)return s=null,y+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:pr(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:pr(+l),a):t},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:pr(!!l),a):r},a.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),a):i},a.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),a):n},a}function U$(e,t,r){var n=null,i=pr(!0),s=null,o=FC,a=null,l=yV(u);e=typeof e=="function"?e:e===void 0?_he:pr(+e),t=typeof t=="function"?t:pr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?She:pr(+r);function u(p){var f,y,v,g=(p=gV(p)).length,b,w=!1,S,_=new Array(g),x=new Array(g);for(s==null&&(a=o(S=l())),f=0;f<=g;++f){if(!(f<g&&i(b=p[f],f,p))===w)if(w=!w)y=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=f-1;v>=y;--v)a.point(_[v],x[v]);a.lineEnd(),a.areaEnd()}w&&(_[f]=+e(b,f,p),x[f]=+t(b,f,p),a.point(n?+n(b,f,p):_[f],r?+r(b,f,p):x[f]))}if(S)return a=null,S+""||null}function d(){return xhe().defined(i).curve(o).context(s)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:pr(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:pr(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:pr(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:pr(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:pr(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:pr(+p),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:pr(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,s!=null&&(a=o(s)),u):o},u.context=function(p){return arguments.length?(p==null?s=a=null:a=o(s=p),u):s},u}const vV={draw(e,t){const r=ol(t/CM);e.moveTo(r,0),e.arc(0,0,r,0,NC)}},get={draw(e,t){const r=ol(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$he=ol(1/3),vet=$he*2,bet={draw(e,t){const r=ol(t/vet),n=r*$he;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},wet={draw(e,t){const r=ol(t),n=-r/2;e.rect(n,n,r,r)}},_et=.8908130915292852,Ehe=OM(CM/10)/OM(7*CM/10),xet=OM(NC/10)*Ehe,$et=-vhe(NC/10)*Ehe,Eet={draw(e,t){const r=ol(t*_et),n=xet*r,i=$et*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=NC*s/5,a=vhe(o),l=OM(o);e.lineTo(l*r,-a*r),e.lineTo(a*n-l*i,l*n+a*i)}e.closePath()}},qk=ol(3),Tet={draw(e,t){const r=-ol(t/(qk*3));e.moveTo(0,r*2),e.lineTo(-qk*r,-r),e.lineTo(qk*r,-r),e.closePath()}},xo=-.5,$o=ol(3)/2,w5=1/ol(12),Met=(w5/2+1)*3,Iet={draw(e,t){const r=ol(t/Met),n=r/2,i=r*w5,s=n,o=r*w5+r,a=-s,l=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(a,l),e.lineTo(xo*n-$o*i,$o*n+xo*i),e.lineTo(xo*s-$o*o,$o*s+xo*o),e.lineTo(xo*a-$o*l,$o*a+xo*l),e.lineTo(xo*n+$o*i,xo*i-$o*n),e.lineTo(xo*s+$o*o,xo*o-$o*s),e.lineTo(xo*a+$o*l,xo*l-$o*a),e.closePath()}};function Oet(e,t){let r=null,n=yV(i);e=typeof e=="function"?e:pr(e||vV),t=typeof t=="function"?t:pr(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:pr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:pr(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function AM(){}function PM(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function The(e){this._context=e}The.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:PM(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:PM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cet(e){return new The(e)}function Mhe(e){this._context=e}Mhe.prototype={areaStart:AM,areaEnd:AM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:PM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Aet(e){return new Mhe(e)}function Ihe(e){this._context=e}Ihe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:PM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pet(e){return new Ihe(e)}function Ohe(e){this._context=e}Ohe.prototype={areaStart:AM,areaEnd:AM,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ket(e){return new Ohe(e)}function bK(e){return e<0?-1:1}function wK(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),a=(s*i+o*n)/(n+i);return(bK(s)+bK(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function _K(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Wk(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-n)/3;e._context.bezierCurveTo(n+a,i+a*t,s-a,o-a*r,s,o)}function kM(e){this._context=e}kM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wk(this,this._t0,_K(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wk(this,_K(this,r=wK(this,e,t)),r);break;default:Wk(this,this._t0,r=wK(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Che(e){this._context=new Ahe(e)}(Che.prototype=Object.create(kM.prototype)).point=function(e,t){kM.prototype.point.call(this,t,e)};function Ahe(e){this._context=e}Ahe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function Ret(e){return new kM(e)}function Let(e){return new Che(e)}function Phe(e){this._context=e}Phe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=SK(e),i=SK(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function SK(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Net(e){return new Phe(e)}function DC(e,t){this._context=e,this._t=t}DC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Fet(e){return new DC(e,.5)}function Det(e){return new DC(e,0)}function jet(e){return new DC(e,1)}function A0(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,a=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function _5(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Vet(e,t){return e[t]}function zet(e){const t=[];return t.key=e,t}function Uet(){var e=pr([]),t=_5,r=A0,n=Vet;function i(s){var o=Array.from(e.apply(this,arguments),zet),a,l=o.length,u=-1,d;for(const p of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+n(p,o[a].key,u,s)]).data=p;for(a=0,d=gV(t(o));a<l;++a)o[d[a]].index=a;return r(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:pr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:pr(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?_5:typeof s=="function"?s:pr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??A0,i):r},i}function Bet(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}A0(e,t)}}function Get(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,a=0;o<i;++o)a+=e[o][r][1]||0;n[r][1]+=n[r][0]=-a/2}A0(e,t)}}function qet(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var a=0,l=0,u=0;a<o;++a){for(var d=e[t[a]],p=d[n][1]||0,f=d[n-1][1]||0,y=(p-f)/2,v=0;v<a;++v){var g=e[t[v]],b=g[n][1]||0,w=g[n-1][1]||0;y+=b-w}l+=p,u+=y*p}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,A0(e,t)}}function P0(e){return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function S5(){return S5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S5.apply(this,arguments)}function Wet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rhe(n.key),n)}}function Het(e,t,r){return t&&xK(e.prototype,t),r&&xK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ket(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x5(e,t)}function x5(e,t){return x5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x5(e,t)}function Jet(e){var t=Xet();return function(){var n=RM(e),i;if(t){var s=RM(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Yet(this,i)}}function Yet(e,t){if(t&&(P0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zet(e)}function Zet(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RM(e){return RM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},RM(e)}function khe(e,t,r){return t=Rhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rhe(e){var t=Qet(e,"string");return P0(t)==="symbol"?t:String(t)}function Qet(e,t){if(P0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(P0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lhe={symbolCircle:vV,symbolCross:get,symbolDiamond:bet,symbolSquare:wet,symbolStar:Eet,symbolTriangle:Tet,symbolWye:Iet},ett=Math.PI/180,ttt=function(t){var r="symbol".concat(LC(t));return Lhe[r]||vV},rtt=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*ett;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},bV=function(e){Ket(r,e);var t=Jet(r);function r(){return Wet(this,r),t.apply(this,arguments)}return Het(r,[{key:"getPath",value:function(){var i=this.props,s=i.size,o=i.sizeType,a=i.type,l=ttt(a),u=Oet().type(l).size(rtt(s,o,a));return u()}},{key:"render",value:function(){var i=this.props,s=i.className,o=i.cx,a=i.cy,l=i.size,u=Xt(this.props,!0);return o===+o&&a===+a&&l===+l?K.createElement("path",S5({},u,{className:Rr("recharts-symbols",s),transform:"translate(".concat(o,", ").concat(a,")"),d:this.getPath()})):null}}]),r}(q.PureComponent);khe(bV,"defaultProps",{type:"circle",size:64,sizeType:"area"});khe(bV,"registerSymbol",function(e,t){Lhe["symbol".concat(LC(e))]=t});function k0(e){return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function $5(){return $5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$5.apply(this,arguments)}function $K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ntt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$K(Object(r),!0).forEach(function(n){z_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$K(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function itt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nhe(n.key),n)}}function stt(e,t,r){return t&&EK(e.prototype,t),r&&EK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ott(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E5(e,t)}function E5(e,t){return E5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E5(e,t)}function att(e){var t=ctt();return function(){var n=LM(e),i;if(t){var s=LM(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return ltt(this,i)}}function ltt(e,t){if(t&&(k0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return utt(e)}function utt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ctt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function LM(e){return LM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},LM(e)}function z_(e,t,r){return t=Nhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nhe(e){var t=dtt(e,"string");return k0(t)==="symbol"?t:String(t)}function dtt(e,t){if(k0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(k0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eo=32,wV=function(e){ott(r,e);var t=att(r);function r(){return itt(this,r),t.apply(this,arguments)}return stt(r,[{key:"renderIcon",value:function(i){var s=this.props.inactiveColor,o=Eo/2,a=Eo/6,l=Eo/3,u=i.inactive?s:i.color;if(i.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:o,x2:Eo,y2:o,className:"recharts-legend-icon"});if(i.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(Eo,"M").concat(2*l,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(i.type==="rect")return K.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Eo/8,"h").concat(Eo,"v").concat(Eo*3/4,"h").concat(-Eo,"z"),className:"recharts-legend-icon"});if(K.isValidElement(i.legendIcon)){var d=ntt({},i);return delete d.legendIcon,K.cloneElement(i.legendIcon,d)}return K.createElement(bV,{fill:u,cx:o,cy:o,size:Eo,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,s=this.props,o=s.payload,a=s.iconSize,l=s.layout,u=s.formatter,d=s.inactiveColor,p={x:0,y:0,width:Eo,height:Eo},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,g){var b,w=v.formatter||u,S=Rr((b={"recharts-legend-item":!0},z_(b,"legend-item-".concat(g),!0),z_(b,"inactive",v.inactive),b));if(v.type==="none")return null;var _=v.inactive?d:v.color;return K.createElement("li",$5({className:S,style:f,key:"legend-item-".concat(g)},EM(i.props,v,g)),K.createElement(u5,{width:a,height:a,viewBox:p,style:y},i.renderIcon(v)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w?w(v.value,v,g):v.value))})}},{key:"render",value:function(){var i=this.props,s=i.payload,o=i.layout,a=i.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),r}(q.PureComponent);z_(wV,"displayName","Legend");z_(wV,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function R0(e){return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}var htt=["ref"];function TK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TK(Object(r),!0).forEach(function(n){jC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ptt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dhe(n.key),n)}}function ftt(e,t,r){return t&&MK(e.prototype,t),r&&MK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mtt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T5(e,t)}function T5(e,t){return T5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T5(e,t)}function ytt(e){var t=vtt();return function(){var n=NM(e),i;if(t){var s=NM(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return gtt(this,i)}}function gtt(e,t){if(t&&(R0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fhe(e)}function Fhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vtt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function NM(e){return NM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},NM(e)}function jC(e,t,r){return t=Dhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dhe(e){var t=btt(e,"string");return R0(t)==="symbol"?t:String(t)}function btt(e,t){if(R0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wtt(e,t){if(e==null)return{};var r=_tt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _tt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Stt(e){return e.value}function xtt(e,t){return e===!0?IM(t,Stt):Ze(e)?IM(t,e):t}function $tt(e,t){if(K.isValidElement(e))return K.cloneElement(e,t);if(Ze(e))return K.createElement(e,t);t.ref;var r=wtt(t,htt);return K.createElement(wV,r)}var IK=1,U_=function(e){mtt(r,e);var t=ytt(r);function r(){var n;ptt(this,r);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s)),jC(Fhe(n),"state",{boxWidth:-1,boxHeight:-1}),n}return ftt(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var i=this.state,s=i.boxWidth,o=i.boxHeight;return s>=0&&o>=0?{width:s,height:o}:null}},{key:"getDefaultPosition",value:function(i){var s=this.props,o=s.layout,a=s.align,l=s.verticalAlign,u=s.margin,d=s.chartWidth,p=s.chartHeight,f,y;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(a==="center"&&o==="vertical"){var v=this.getBBoxSnapshot()||{width:0};f={left:((d||0)-v.width)/2}}else f=a==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot()||{height:0};y={top:((p||0)-g.height)/2}}else y=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return cy(cy({},f),y)}},{key:"updateBBox",value:function(){var i=this.state,s=i.boxWidth,o=i.boxHeight,a=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var l=this.wrapperNode.getBoundingClientRect();(Math.abs(l.width-s)>IK||Math.abs(l.height-o)>IK)&&this.setState({boxWidth:l.width,boxHeight:l.height},function(){a&&a(l)})}else(s!==-1||o!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){a&&a(null)})}},{key:"render",value:function(){var i=this,s=this.props,o=s.content,a=s.width,l=s.height,u=s.wrapperStyle,d=s.payloadUniqBy,p=s.payload,f=cy(cy({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return K.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(v){i.wrapperNode=v}},$tt(o,cy(cy({},this.props),{},{payload:xtt(d,p)})))}}],[{key:"getWithHeight",value:function(i,s){var o=i.props.layout;return o==="vertical"&&ve(i.props.height)?{height:i.props.height}:o==="horizontal"?{width:i.props.width||s}:null}}]),r}(q.PureComponent);jC(U_,"displayName","Legend");jC(U_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function jhe(e){return function(r,n,i,s,o,a,l){return e(r,n,l)}}function VC(e){return function(r,n,i,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i,s);var o=s.get(r),a=s.get(n);if(o&&a)return o===n&&a===r;s.set(r,n),s.set(n,r);var l=e(r,n,i,s);return s.delete(r),s.delete(n),l}}function Vhe(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r}function OK(e){return e.constructor===Object||e.constructor==null}function CK(e){return typeof e.then=="function"}function zC(e,t){return e===t||e!==e&&t!==t}var Ett="[object Arguments]",Ttt="[object Boolean]",Mtt="[object Date]",Itt="[object RegExp]",Ott="[object Map]",Ctt="[object Number]",Att="[object Object]",Ptt="[object Set]",ktt="[object String]",AK=Object.prototype.toString;function UC(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,i=e.areObjectsEqual,s=e.areRegExpsEqual,o=e.areSetsEqual,a=e.createIsNestedEqual,l=a(u);function u(d,p,f){if(d===p)return!0;if(!d||!p||typeof d!="object"||typeof p!="object")return d!==d&&p!==p;if(OK(d)&&OK(p))return i(d,p,l,f);var y=Array.isArray(d),v=Array.isArray(p);if(y||v)return y===v&&t(d,p,l,f);var g=AK.call(d);return g!==AK.call(p)?!1:g===Mtt?r(d,p,l,f):g===Itt?s(d,p,l,f):g===Ott?n(d,p,l,f):g===Ptt?o(d,p,l,f):g===Att||g===Ett?CK(d)||CK(p)?!1:i(d,p,l,f):g===Ttt||g===Ctt||g===ktt?zC(d.valueOf(),p.valueOf()):!1}return u}function zhe(e,t,r,n){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!r(e[i],t[i],i,i,e,t,n))return!1;return!0}var Rtt=VC(zhe);function Uhe(e,t){return zC(e.valueOf(),t.valueOf())}function Bhe(e,t,r,n){var i=e.size===t.size;if(!i)return!1;if(!e.size)return!0;var s={},o=0;return e.forEach(function(a,l){if(i){var u=!1,d=0;t.forEach(function(p,f){!u&&!s[d]&&(u=r(l,f,o,d,e,t,n)&&r(a,p,l,f,e,t,n))&&(s[d]=!0),d++}),o++,i=u}}),i}var Ltt=VC(Bhe),Ntt="_owner",Ftt=Object.prototype.hasOwnProperty;function Ghe(e,t,r,n){var i=Object.keys(e),s=i.length;if(Object.keys(t).length!==s)return!1;for(var o;s-- >0;){if(o=i[s],o===Ntt){var a=!!e.$$typeof,l=!!t.$$typeof;if((a||l)&&a!==l)return!1}if(!Ftt.call(t,o)||!r(e[o],t[o],o,o,e,t,n))return!1}return!0}var Dtt=VC(Ghe);function qhe(e,t){return e.source===t.source&&e.flags===t.flags}function Whe(e,t,r,n){var i=e.size===t.size;if(!i)return!1;if(!e.size)return!0;var s={};return e.forEach(function(o,a){if(i){var l=!1,u=0;t.forEach(function(d,p){!l&&!s[u]&&(l=r(o,d,a,p,e,t,n))&&(s[u]=!0),u++}),i=l}}),i}var jtt=VC(Whe),Hhe=Object.freeze({areArraysEqual:zhe,areDatesEqual:Uhe,areMapsEqual:Bhe,areObjectsEqual:Ghe,areRegExpsEqual:qhe,areSetsEqual:Whe,createIsNestedEqual:jhe}),Khe=Object.freeze({areArraysEqual:Rtt,areDatesEqual:Uhe,areMapsEqual:Ltt,areObjectsEqual:Dtt,areRegExpsEqual:qhe,areSetsEqual:jtt,createIsNestedEqual:jhe}),Vtt=UC(Hhe);function ztt(e,t){return Vtt(e,t,void 0)}UC(Vhe(Hhe,{createIsNestedEqual:function(){return zC}}));UC(Khe);UC(Vhe(Khe,{createIsNestedEqual:function(){return zC}}));function PK(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):requestAnimationFrame(i)};requestAnimationFrame(n)}function M5(e){return M5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M5(e)}function Utt(e){return Wtt(e)||qtt(e)||Gtt(e)||Btt()}function Btt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gtt(e,t){if(e){if(typeof e=="string")return kK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kK(e,t)}}function kK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qtt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wtt(e){if(Array.isArray(e))return e}function Htt(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,a=Utt(o),l=a[0],u=a.slice(1);if(typeof l=="number"){PK(i.bind(null,u),l);return}i(l),PK(i.bind(null,u));return}M5(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function B_(e){return B_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B_(e)}function RK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RK(Object(r),!0).forEach(function(n){FM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FM(e,t,r){return t=Ktt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ktt(e){var t=Jtt(e,"string");return B_(t)==="symbol"?t:String(t)}function Jtt(e,t){if(B_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(B_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ytt=["Webkit","Moz","O","ms"],Ztt=["-webkit-","-moz-","-o-","-ms-"],Xtt=["transform","transformOrigin","transition"],Qtt=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},ert=function(t){return t},trt=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},rrt=function(t,r){if(Xtt.indexOf(t)===-1)return FM({},t,r);var n=t==="transition",i=t.replace(/(\w)/,function(o){return o.toUpperCase()}),s=r;return Ytt.reduce(function(o,a,l){return n&&(s=r.replace(/(transform|transform-origin)/gim,"".concat(Ztt[l],"$1"))),L0(L0({},o),{},FM({},a+i,s))},{})},Pw=function(t,r){return Object.keys(r).reduce(function(n,i){return L0(L0({},n),{},FM({},i,t(i,r[i])))},{})},I5=function(t){return Object.keys(t).reduce(function(r,n){return L0(L0({},r),rrt(n,r[n]))},t)},LK=function(t,r,n){return t.map(function(i){return"".concat(trt(i)," ").concat(r,"ms ").concat(n)}).join(",")};function nrt(e,t){return ort(e)||srt(e,t)||Jhe(e,t)||irt()}function irt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function srt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function ort(e){if(Array.isArray(e))return e}function art(e){return crt(e)||urt(e)||Jhe(e)||lrt()}function lrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jhe(e,t){if(e){if(typeof e=="string")return O5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O5(e,t)}}function urt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function crt(e){if(Array.isArray(e))return O5(e)}function O5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var DM=1e-4,Yhe=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Zhe=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},NK=function(t,r){return function(n){var i=Yhe(t,r);return Zhe(i,n)}},drt=function(t,r){return function(n){var i=Yhe(t,r),s=[].concat(art(i.map(function(o,a){return o*a}).slice(1)),[0]);return Zhe(s,n)}},FK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=nrt(u,4);i=d[0],s=d[1],o=d[2],a=d[3]}}}var p=NK(i,o),f=NK(s,a),y=drt(i,o),v=function(w){return w>1?1:w<0?0:w},g=function(w){for(var S=w>1?1:w,_=S,x=0;x<8;++x){var $=p(_)-S,E=y(_);if(Math.abs($-S)<DM||E<DM)return f(_);_=v(_-$/E)}return f(_)};return g.isStepper=!1,g},hrt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,a=o===void 0?17:o,l=function(d,p,f){var y=-(d-p)*n,v=f*s,g=f+(y-v)*a/1e3,b=f*a/1e3+d;return Math.abs(b-p)<DM&&Math.abs(g)<DM?[p,0]:[b,g]};return l.isStepper=!0,l.dt=a,l},prt=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FK(i);case"spring":return hrt();default:if(i.split("(")[0]==="cubic-bezier")return FK(i)}return typeof i=="function"?i:null};function G_(e){return G_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G_(e)}function DK(e){return yrt(e)||mrt(e)||Xhe(e)||frt()}function frt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mrt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yrt(e){if(Array.isArray(e))return A5(e)}function jK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jK(Object(r),!0).forEach(function(n){C5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C5(e,t,r){return t=grt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function grt(e){var t=vrt(e,"string");return G_(t)==="symbol"?t:String(t)}function vrt(e,t){if(G_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(G_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function brt(e,t){return Srt(e)||_rt(e,t)||Xhe(e,t)||wrt()}function wrt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xhe(e,t){if(e){if(typeof e=="string")return A5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A5(e,t)}}function A5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _rt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Srt(e){if(Array.isArray(e))return e}var jM=function(t,r,n){return t+(r-t)*n},P5=function(t){var r=t.from,n=t.to;return r!==n},xrt=function e(t,r,n){var i=Pw(function(s,o){if(P5(o)){var a=t(o.from,o.to,o.velocity),l=brt(a,2),u=l[0],d=l[1];return si(si({},o),{},{from:u,velocity:d})}return o},r);return n<1?Pw(function(s,o){return P5(o)?si(si({},o),{},{velocity:jM(o.velocity,i[s].velocity,n),from:jM(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const $rt=function(e,t,r,n,i){var s=Qtt(e,t),o=s.reduce(function(b,w){return si(si({},b),{},C5({},w,[e[w],t[w]]))},{}),a=s.reduce(function(b,w){return si(si({},b),{},C5({},w,{from:e[w],velocity:0,to:t[w]}))},{}),l=-1,u,d,p=function(){return null},f=function(){return Pw(function(w,S){return S.from},a)},y=function(){return!Object.values(a).filter(P5).length},v=function(w){u||(u=w);var S=w-u,_=S/r.dt;a=xrt(r,a,_),i(si(si(si({},e),t),f())),u=w,y()||(l=requestAnimationFrame(p))},g=function(w){d||(d=w);var S=(w-d)/n,_=Pw(function($,E){return jM.apply(void 0,DK(E).concat([r(S)]))},o);if(i(si(si(si({},e),t),_)),S<1)l=requestAnimationFrame(p);else{var x=Pw(function($,E){return jM.apply(void 0,DK(E).concat([r(1)]))},o);i(si(si(si({},e),t),x))}};return p=r.isStepper?v:g,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(l)}}};var Ert=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function N0(e){return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}function Trt(e,t){if(e==null)return{};var r=Mrt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mrt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Hk(e){return Art(e)||Crt(e)||Ort(e)||Irt()}function Irt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ort(e,t){if(e){if(typeof e=="string")return k5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k5(e,t)}}function Crt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Art(e){if(Array.isArray(e))return k5(e)}function k5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VK(Object(r),!0).forEach(function(n){hh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Prt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qhe(n.key),n)}}function krt(e,t,r){return t&&zK(e.prototype,t),r&&zK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R5(e,t)}function R5(e,t){return R5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R5(e,t)}function Lrt(e){var t=Nrt();return function(){var n=VM(e),i;if(t){var s=VM(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return L5(this,i)}}function L5(e,t){if(t&&(N0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N5(e)}function N5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nrt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function VM(e){return VM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},VM(e)}function hh(e,t,r){return t=Qhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qhe(e){var t=Frt(e,"string");return N0(t)==="symbol"?t:String(t)}function Frt(e,t){if(N0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mm=function(e){Rrt(r,e);var t=Lrt(r);function r(n,i){var s;Prt(this,r),s=t.call(this,n,i);var o=s.props,a=o.isActive,l=o.attributeName,u=o.from,d=o.to,p=o.steps,f=o.children;if(s.handleStyleChange=s.handleStyleChange.bind(N5(s)),s.changeStyle=s.changeStyle.bind(N5(s)),!a)return s.state={style:{}},typeof f=="function"&&(s.state={style:d}),L5(s);if(p&&p.length)s.state={style:p[0].style};else if(u){if(typeof f=="function")return s.state={style:u},L5(s);s.state={style:l?hh({},l,u):u}}else s.state={style:{}};return s}return krt(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,u=s.shouldReAnimate;if(a){if(!o){var d={style:l?hh({},l,this.props.to):this.props.to};this.state&&this.state.style&&(l&&this.state.style[l]!==this.props.to||!l&&this.state.style!==this.props.to)&&this.setState(d);return}if(!(ztt(i.to,this.props.to)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=p||u?this.props.from:i.to;if(this.state&&this.state.style){var y={style:l?hh({},l,f):f};(l&&this.state.style[l]!==f||!l&&this.state.style!==f)&&this.setState(y)}this.runAnimation(ya(ya({},this.props),{},{from:f,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,u=i.easing,d=i.begin,p=i.onAnimationEnd,f=i.onAnimationStart,y=$rt(o,a,prt(u),l,this.changeStyle),v=function(){s.stopJSAnimation=y()};this.manager.start([f,d,v,l,p])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,u=o[0],d=u.style,p=u.duration,f=p===void 0?0:p,y=function(g,b,w){if(w===0)return g;var S=b.duration,_=b.easing,x=_===void 0?"ease":_,$=b.style,E=b.properties,T=b.onAnimationEnd,M=w>0?o[w-1]:b,A=E||Object.keys($);if(typeof x=="function"||x==="spring")return[].concat(Hk(g),[s.runJSAnimation.bind(s,{from:M.style,to:$,duration:S,easing:x}),S]);var k=LK(A,S,x),P=ya(ya(ya({},M.style),$),{},{transition:k});return[].concat(Hk(g),[P,S,T]).filter(ert)};return this.manager.start([l].concat(Hk(o.reduce(y,[d,Math.max(f,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Htt());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,p=i.onAnimationEnd,f=i.steps,y=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=a?hh({},a,l):l,b=LK(Object.keys(g),o,u);v.start([d,s,ya(ya({},g),{},{transition:b}),o,p])}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin,i.duration,i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var a=Trt(i,Ert),l=q.Children.count(s),u=I5(this.state.style);if(typeof s=="function")return s(u);if(!o||l===0)return s;var d=function(f){var y=f.props,v=y.style,g=v===void 0?{}:v,b=y.className,w=q.cloneElement(f,ya(ya({},a),{},{style:ya(ya({},g),u),className:b}));return w};return l===1?d(q.Children.only(s)):K.createElement("div",null,q.Children.map(s,function(p){return d(p)}))}}]),r}(q.PureComponent);hh(Mm,"displayName","Animate");hh(Mm,"propTypes",{from:Ye.oneOfType([Ye.object,Ye.string]),to:Ye.oneOfType([Ye.object,Ye.string]),attributeName:Ye.string,duration:Ye.number,begin:Ye.number,easing:Ye.oneOfType([Ye.string,Ye.func]),steps:Ye.arrayOf(Ye.shape({duration:Ye.number.isRequired,style:Ye.object.isRequired,easing:Ye.oneOfType([Ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ye.func]),properties:Ye.arrayOf("string"),onAnimationEnd:Ye.func})),children:Ye.oneOfType([Ye.node,Ye.func]),isActive:Ye.bool,canBegin:Ye.bool,onAnimationEnd:Ye.func,shouldReAnimate:Ye.bool,onAnimationStart:Ye.func,onAnimationReStart:Ye.func});hh(Mm,"defaultProps",{begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}});var zM={},Drt={get exports(){return zM},set exports(e){zM=e}},UM={},jrt={get exports(){return UM},set exports(e){UM=e}},kw={},Vrt={get exports(){return kw},set exports(e){kw=e}},UK;function zrt(){return UK||(UK=1,function(e,t){t.__esModule=!0,t.default=r;function r(n,i){return n.classList?!!i&&n.classList.contains(i):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+i+" ")!==-1}e.exports=t.default}(Vrt,kw)),kw}(function(e,t){var r=l_;t.__esModule=!0,t.default=i;var n=r(zrt());function i(s,o){s.classList?s.classList.add(o):(0,n.default)(s,o)||(typeof s.className=="string"?s.className=s.className+" "+o:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+o))}e.exports=t.default})(jrt,UM);function BK(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Urt=function(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=BK(t.className,r):t.setAttribute("class",BK(t.className&&t.className.baseVal||"",r))},rs={};function epe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function tpe(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function rpe(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}epe.__suppressDeprecationWarning=!0;tpe.__suppressDeprecationWarning=!0;rpe.__suppressDeprecationWarning=!0;function Brt(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var s=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=epe,t.componentWillReceiveProps=tpe),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=rpe;var a=t.componentDidUpdate;t.componentDidUpdate=function(u,d,p){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;a.call(this,u,d,f)}}return e}const Grt=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Brt},Symbol.toStringTag,{value:"Module"})),npe=ND(Grt);rs.__esModule=!0;rs.default=rs.EXITING=rs.ENTERED=rs.ENTERING=rs.EXITED=rs.UNMOUNTED=void 0;var qrt=Krt(Ye),Kk=ipe(q),Wrt=ipe(jw),Hrt=npe;function ipe(e){return e&&e.__esModule?e:{default:e}}function Krt(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function Jrt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Yrt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Hb="unmounted";rs.UNMOUNTED=Hb;var cf="exited";rs.EXITED=cf;var df="entering";rs.ENTERING=df;var eg="entered";rs.ENTERED=eg;var F5="exiting";rs.EXITING=F5;var hu=function(e){Yrt(t,e);function t(n,i){var s;s=e.call(this,n,i)||this;var o=i.transitionGroup,a=o&&!o.isMounting?n.enter:n.appear,l;return s.appearStatus=null,n.in?a?(l=cf,s.appearStatus=df):l=eg:n.unmountOnExit||n.mountOnEnter?l=Hb:l=cf,s.state={status:l},s.nextCallback=null,s}var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Hb?{status:cf}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==df&&o!==eg&&(s=df):(o===df||o===eg)&&(s=F5)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},r.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null){this.cancelNextCallback();var o=Wrt.default.findDOMNode(this);s===df?this.performEnter(o,i):this.performExit(o)}else this.props.unmountOnExit&&this.state.status===cf&&this.setState({status:Hb})},r.performEnter=function(i,s){var o=this,a=this.props.enter,l=this.context.transitionGroup?this.context.transitionGroup.isMounting:s,u=this.getTimeouts(),d=l?u.appear:u.enter;if(!s&&!a){this.safeSetState({status:eg},function(){o.props.onEntered(i)});return}this.props.onEnter(i,l),this.safeSetState({status:df},function(){o.props.onEntering(i,l),o.onTransitionEnd(i,d,function(){o.safeSetState({status:eg},function(){o.props.onEntered(i,l)})})})},r.performExit=function(i){var s=this,o=this.props.exit,a=this.getTimeouts();if(!o){this.safeSetState({status:cf},function(){s.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:F5},function(){s.props.onExiting(i),s.onTransitionEnd(i,a.exit,function(){s.safeSetState({status:cf},function(){s.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},r.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(i,s,o){this.setNextCallback(o);var a=s==null&&!this.props.addEndListener;if(!i||a){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(i,this.nextCallback),s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var i=this.state.status;if(i===Hb)return null;var s=this.props,o=s.children,a=Jrt(s,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,typeof o=="function")return o(i,a);var l=Kk.default.Children.only(o);return Kk.default.cloneElement(l,a)},t}(Kk.default.Component);hu.contextTypes={transitionGroup:qrt.object};hu.childContextTypes={transitionGroup:function(){}};hu.propTypes={};function dy(){}hu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:dy,onEntering:dy,onEntered:dy,onExit:dy,onExiting:dy,onExited:dy};hu.UNMOUNTED=0;hu.EXITED=1;hu.ENTERING=2;hu.ENTERED=3;hu.EXITING=4;var Zrt=(0,Hrt.polyfill)(hu);rs.default=Zrt;(function(e,t){t.__esModule=!0,t.default=void 0,a(Ye);var r=o(UM),n=o(Urt),i=o(q),s=o(rs);function o(v){return v&&v.__esModule?v:{default:v}}function a(v){if(v&&v.__esModule)return v;var g={};if(v!=null){for(var b in v)if(Object.prototype.hasOwnProperty.call(v,b)){var w=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(v,b):{};w.get||w.set?Object.defineProperty(g,b,w):g[b]=v[b]}}return g.default=v,g}function l(){return l=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(v[w]=b[w])}return v},l.apply(this,arguments)}function u(v,g){v.prototype=Object.create(g.prototype),v.prototype.constructor=v,v.__proto__=g}var d=function(g,b){return g&&b&&b.split(" ").forEach(function(w){return(0,r.default)(g,w)})},p=function(g,b){return g&&b&&b.split(" ").forEach(function(w){return(0,n.default)(g,w)})},f=function(v){u(g,v);function g(){for(var w,S=arguments.length,_=new Array(S),x=0;x<S;x++)_[x]=arguments[x];return w=v.call.apply(v,[this].concat(_))||this,w.onEnter=function($,E){var T=w.getClassNames(E?"appear":"enter"),M=T.className;w.removeClasses($,"exit"),d($,M),w.props.onEnter&&w.props.onEnter($,E)},w.onEntering=function($,E){var T=w.getClassNames(E?"appear":"enter"),M=T.activeClassName;w.reflowAndAddClass($,M),w.props.onEntering&&w.props.onEntering($,E)},w.onEntered=function($,E){var T=w.getClassNames("appear").doneClassName,M=w.getClassNames("enter").doneClassName,A=E?T+" "+M:M;w.removeClasses($,E?"appear":"enter"),d($,A),w.props.onEntered&&w.props.onEntered($,E)},w.onExit=function($){var E=w.getClassNames("exit"),T=E.className;w.removeClasses($,"appear"),w.removeClasses($,"enter"),d($,T),w.props.onExit&&w.props.onExit($)},w.onExiting=function($){var E=w.getClassNames("exit"),T=E.activeClassName;w.reflowAndAddClass($,T),w.props.onExiting&&w.props.onExiting($)},w.onExited=function($){var E=w.getClassNames("exit"),T=E.doneClassName;w.removeClasses($,"exit"),d($,T),w.props.onExited&&w.props.onExited($)},w.getClassNames=function($){var E=w.props.classNames,T=typeof E=="string",M=T&&E?E+"-":"",A=T?M+$:E[$],k=T?A+"-active":E[$+"Active"],P=T?A+"-done":E[$+"Done"];return{className:A,activeClassName:k,doneClassName:P}},w}var b=g.prototype;return b.removeClasses=function(S,_){var x=this.getClassNames(_),$=x.className,E=x.activeClassName,T=x.doneClassName;$&&p(S,$),E&&p(S,E),T&&p(S,T)},b.reflowAndAddClass=function(S,_){_&&(S&&S.scrollTop,d(S,_))},b.render=function(){var S=l({},this.props);return delete S.classNames,i.default.createElement(s.default,l({},S,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},g}(i.default.Component);f.defaultProps={classNames:""},f.propTypes={};var y=f;t.default=y,e.exports=t.default})(Drt,zM);var BM={},Xrt={get exports(){return BM},set exports(e){BM=e}},q_={},Qrt={get exports(){return q_},set exports(e){q_=e}},Nv={};Nv.__esModule=!0;Nv.getChildMapping=_V;Nv.mergeChildMappings=spe;Nv.getInitialChildMapping=ent;Nv.getNextChildMapping=tnt;var Zu=q;function _V(e,t){var r=function(s){return t&&(0,Zu.isValidElement)(s)?t(s):s},n=Object.create(null);return e&&Zu.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function spe(e,t){e=e||{},t=t||{};function r(d){return d in t?t[d]:e[d]}var n=Object.create(null),i=[];for(var s in e)s in t?i.length&&(n[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(n[l])for(o=0;o<n[l].length;o++){var u=n[l][o];a[n[l][o]]=r(u)}a[l]=r(l)}for(o=0;o<i.length;o++)a[i[o]]=r(i[o]);return a}function jf(e,t,r){return r[t]!=null?r[t]:e.props[t]}function ent(e,t){return _V(e.children,function(r){return(0,Zu.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:jf(r,"appear",e),enter:jf(r,"enter",e),exit:jf(r,"exit",e)})})}function tnt(e,t,r){var n=_V(e.children),i=spe(t,n);return Object.keys(i).forEach(function(s){var o=i[s];if((0,Zu.isValidElement)(o)){var a=s in t,l=s in n,u=t[s],d=(0,Zu.isValidElement)(u)&&!u.props.in;l&&(!a||d)?i[s]=(0,Zu.cloneElement)(o,{onExited:r.bind(null,o),in:!0,exit:jf(o,"exit",e),enter:jf(o,"enter",e)}):!l&&a&&!d?i[s]=(0,Zu.cloneElement)(o,{in:!1}):l&&a&&(0,Zu.isValidElement)(u)&&(i[s]=(0,Zu.cloneElement)(o,{onExited:r.bind(null,o),in:u.props.in,exit:jf(o,"exit",e),enter:jf(o,"enter",e)}))}}),i}(function(e,t){t.__esModule=!0,t.default=void 0;var r=o(Ye),n=o(q),i=npe,s=Nv;function o(g){return g&&g.__esModule?g:{default:g}}function a(g,b){if(g==null)return{};var w={},S=Object.keys(g),_,x;for(x=0;x<S.length;x++)_=S[x],!(b.indexOf(_)>=0)&&(w[_]=g[_]);return w}function l(){return l=Object.assign||function(g){for(var b=1;b<arguments.length;b++){var w=arguments[b];for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(g[S]=w[S])}return g},l.apply(this,arguments)}function u(g,b){g.prototype=Object.create(b.prototype),g.prototype.constructor=g,g.__proto__=b}function d(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}var p=Object.values||function(g){return Object.keys(g).map(function(b){return g[b]})},f={component:"div",childFactory:function(b){return b}},y=function(g){u(b,g);function b(S,_){var x;x=g.call(this,S,_)||this;var $=x.handleExited.bind(d(d(x)));return x.state={handleExited:$,firstRender:!0},x}var w=b.prototype;return w.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},w.componentDidMount=function(){this.appeared=!0,this.mounted=!0},w.componentWillUnmount=function(){this.mounted=!1},b.getDerivedStateFromProps=function(_,x){var $=x.children,E=x.handleExited,T=x.firstRender;return{children:T?(0,s.getInitialChildMapping)(_,E):(0,s.getNextChildMapping)(_,$,E),firstRender:!1}},w.handleExited=function(_,x){var $=(0,s.getChildMapping)(this.props.children);_.key in $||(_.props.onExited&&_.props.onExited(x),this.mounted&&this.setState(function(E){var T=l({},E.children);return delete T[_.key],{children:T}}))},w.render=function(){var _=this.props,x=_.component,$=_.childFactory,E=a(_,["component","childFactory"]),T=p(this.state.children).map($);return delete E.appear,delete E.enter,delete E.exit,x===null?T:n.default.createElement(x,E,T)},b}(n.default.Component);y.childContextTypes={transitionGroup:r.default.object.isRequired},y.propTypes={},y.defaultProps=f;var v=(0,i.polyfill)(y);t.default=v,e.exports=t.default})(Qrt,q_);(function(e,t){t.__esModule=!0,t.default=void 0,s(Ye);var r=s(q),n=jw,i=s(q_);function s(d){return d&&d.__esModule?d:{default:d}}function o(d,p){if(d==null)return{};var f={},y=Object.keys(d),v,g;for(g=0;g<y.length;g++)v=y[g],!(p.indexOf(v)>=0)&&(f[v]=d[v]);return f}function a(d,p){d.prototype=Object.create(p.prototype),d.prototype.constructor=d,d.__proto__=p}var l=function(d){a(p,d);function p(){for(var y,v=arguments.length,g=new Array(v),b=0;b<v;b++)g[b]=arguments[b];return y=d.call.apply(d,[this].concat(g))||this,y.handleEnter=function(){for(var w=arguments.length,S=new Array(w),_=0;_<w;_++)S[_]=arguments[_];return y.handleLifecycle("onEnter",0,S)},y.handleEntering=function(){for(var w=arguments.length,S=new Array(w),_=0;_<w;_++)S[_]=arguments[_];return y.handleLifecycle("onEntering",0,S)},y.handleEntered=function(){for(var w=arguments.length,S=new Array(w),_=0;_<w;_++)S[_]=arguments[_];return y.handleLifecycle("onEntered",0,S)},y.handleExit=function(){for(var w=arguments.length,S=new Array(w),_=0;_<w;_++)S[_]=arguments[_];return y.handleLifecycle("onExit",1,S)},y.handleExiting=function(){for(var w=arguments.length,S=new Array(w),_=0;_<w;_++)S[_]=arguments[_];return y.handleLifecycle("onExiting",1,S)},y.handleExited=function(){for(var w=arguments.length,S=new Array(w),_=0;_<w;_++)S[_]=arguments[_];return y.handleLifecycle("onExited",1,S)},y}var f=p.prototype;return f.handleLifecycle=function(v,g,b){var w,S=this.props.children,_=r.default.Children.toArray(S)[g];_.props[v]&&(w=_.props)[v].apply(w,b),this.props[v]&&this.props[v]((0,n.findDOMNode)(this))},f.render=function(){var v=this.props,g=v.children,b=v.in,w=o(v,["children","in"]),S=r.default.Children.toArray(g),_=S[0],x=S[1];return delete w.onEnter,delete w.onEntering,delete w.onEntered,delete w.onExit,delete w.onExiting,delete w.onExited,r.default.createElement(i.default,w,b?r.default.cloneElement(_,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(x,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},p}(r.default.Component);l.propTypes={};var u=l;t.default=u,e.exports=t.default})(Xrt,BM);var rnt=BC(zM),nnt=BC(BM),int=BC(q_),snt=BC(rs);function BC(e){return e&&e.__esModule?e:{default:e}}var ont={Transition:snt.default,TransitionGroup:int.default,ReplaceTransition:nnt.default,CSSTransition:rnt.default},ant=["children","appearOptions","enterOptions","leaveOptions"];function F0(e){return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function D5(){return D5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D5.apply(this,arguments)}function lnt(e,t){if(e==null)return{};var r=unt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function unt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function GK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GK(Object(r),!0).forEach(function(n){Rw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ope(n.key),n)}}function dnt(e,t,r){return t&&WK(e.prototype,t),r&&WK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hnt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j5(e,t)}function j5(e,t){return j5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j5(e,t)}function pnt(e){var t=mnt();return function(){var n=GM(e),i;if(t){var s=GM(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return fnt(this,i)}}function fnt(e,t){if(t&&(F0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RE(e)}function RE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mnt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function GM(e){return GM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},GM(e)}function Rw(e,t,r){return t=ope(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ope(e){var t=ynt(e,"string");return F0(t)==="symbol"?t:String(t)}function ynt(e,t){if(F0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(F0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});var Jk=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.steps,n=t.duration;return r&&r.length?r.reduce(function(i,s){return i+(Number.isFinite(s.duration)&&s.duration>0?s.duration:0)},0):Number.isFinite(n)?n:0},gnt=function(e){hnt(r,e);var t=pnt(r);function r(){var n;cnt(this,r);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s)),Rw(RE(n),"state",{isActive:!1}),Rw(RE(n),"handleEnter",function(a,l){var u=n.props,d=u.appearOptions,p=u.enterOptions;n.handleStyleActive(l?d:p)}),Rw(RE(n),"handleExit",function(){n.handleStyleActive(n.props.leaveOptions)}),n}return dnt(r,[{key:"handleStyleActive",value:function(i){if(i){var s=i.onAnimationEnd?function(){i.onAnimationEnd()}:null;this.setState(qK(qK({},i),{},{onAnimationEnd:s,isActive:!0}))}}},{key:"parseTimeout",value:function(){var i=this.props,s=i.appearOptions,o=i.enterOptions,a=i.leaveOptions;return Jk(s)+Jk(o)+Jk(a)}},{key:"render",value:function(){var i=this,s=this.props,o=s.children;s.appearOptions,s.enterOptions,s.leaveOptions;var a=lnt(s,ant);return K.createElement(ont.Transition,D5({},a,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),function(){return K.createElement(Mm,i.state,q.Children.only(o))})}}]),r}(q.Component);Rw(gnt,"propTypes",{appearOptions:Ye.object,enterOptions:Ye.object,leaveOptions:Ye.object,children:Ye.element});Ye.object,Ye.object,Ye.object,Ye.oneOfType([Ye.array,Ye.element]),Ye.any;var HK=tx,vnt=hV,bnt=zt,KK=HK?HK.isConcatSpreadable:void 0;function wnt(e){return bnt(e)||vnt(e)||!!(KK&&e&&e[KK])}var _nt=wnt,Snt=the,xnt=_nt;function ape(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=xnt),i||(i=[]);++s<o;){var a=e[s];t>0&&r(a)?t>1?ape(a,t-1,r,n,i):Snt(i,a):n||(i[i.length]=a)}return i}var lpe=ape;function $nt(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[e?a:++i];if(r(s[l],l,s)===!1)break}return t}}var Ent=$nt,Tnt=Ent,Mnt=Tnt(),Int=Mnt,Ont=Int,Cnt=RC;function Ant(e,t){return e&&Ont(e,t,Cnt)}var upe=Ant,Pnt=ix;function knt(e,t){return function(r,n){if(r==null)return r;if(!Pnt(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var Rnt=knt,Lnt=upe,Nnt=Rnt,Fnt=Nnt(Lnt),SV=Fnt,Dnt=SV,jnt=ix;function Vnt(e,t){var r=-1,n=jnt(e)?Array(e.length):[];return Dnt(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var cpe=Vnt;function znt(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Unt=znt,JK=Ov;function Bnt(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=JK(e),o=t!==void 0,a=t===null,l=t===t,u=JK(t);if(!a&&!u&&!s&&e>t||s&&o&&l&&!a&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||a&&r&&i||!o&&i||!l)return-1}return 0}var Gnt=Bnt,qnt=Gnt;function Wnt(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,a=r.length;++n<o;){var l=qnt(i[n],s[n]);if(l){if(n>=a)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var Hnt=Wnt,Yk=iV,Knt=sV,Jnt=ep,Ynt=cpe,Znt=Unt,Xnt=nhe,Qnt=Hnt,eit=Lv,tit=zt;function rit(e,t,r){t.length?t=Yk(t,function(s){return tit(s)?function(o){return Knt(o,s.length===1?s[0]:s)}:s}):t=[eit];var n=-1;t=Yk(t,Xnt(Jnt));var i=Ynt(e,function(s,o,a){var l=Yk(t,function(u){return u(s)});return{criteria:l,index:++n,value:s}});return Znt(i,function(s,o){return Qnt(s,o,r)})}var nit=rit;function iit(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var sit=iit,oit=sit,YK=Math.max;function ait(e,t,r){return t=YK(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=YK(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),oit(e,this,a)}}var lit=ait;function uit(e){return function(){return e}}var cit=uit,dit=Vm,hit=function(){try{var e=dit(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dpe=hit,pit=cit,ZK=dpe,fit=Lv,mit=ZK?function(e,t){return ZK(e,"toString",{configurable:!0,enumerable:!1,value:pit(t),writable:!0})}:fit,yit=mit,git=800,vit=16,bit=Date.now;function wit(e){var t=0,r=0;return function(){var n=bit(),i=vit-(n-r);if(r=n,i>0){if(++t>=git)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _it=wit,Sit=yit,xit=_it,$it=xit(Sit),Eit=$it,Tit=Lv,Mit=lit,Iit=Eit;function Oit(e,t){return Iit(Mit(e,t,Tit),e+"")}var Cit=Oit,Ait=eV,Pit=ix,kit=pV,Rit=po;function Lit(e,t,r){if(!Rit(r))return!1;var n=typeof t;return(n=="number"?Pit(r)&&kit(t,r.length):n=="string"&&t in r)?Ait(r[t],e):!1}var GC=Lit,Nit=lpe,Fit=nit,Dit=Cit,XK=GC,jit=Dit(function(e,t){if(e==null)return[];var r=t.length;return r>1&&XK(e,t[0],t[1])?t=[]:r>2&&XK(t[0],t[1],t[2])&&(t=[t[0]]),Fit(e,Nit(t,1),[])}),xV=jit;function D0(e){return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}function Vit(e,t){return Git(e)||Bit(e,t)||Uit(e,t)||zit()}function zit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uit(e,t){if(e){if(typeof e=="string")return QK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QK(e,t)}}function QK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bit(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Git(e){if(Array.isArray(e))return e}function eJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eJ(Object(r),!0).forEach(function(n){$V(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hpe(n.key),n)}}function Wit(e,t,r){return t&&tJ(e.prototype,t),r&&tJ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V5(e,t)}function V5(e,t){return V5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V5(e,t)}function Kit(e){var t=Zit();return function(){var n=qM(e),i;if(t){var s=qM(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Jit(this,i)}}function Jit(e,t){if(t&&(D0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yit(e)}function Yit(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zit(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qM(e){return qM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qM(e)}function $V(e,t,r){return t=hpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hpe(e){var t=Xit(e,"string");return D0(t)==="symbol"?t:String(t)}function Xit(e,t){if(D0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qit(e){return zt(e)&&In(e[0])&&In(e[1])?e.join(" ~ "):e}var EV=function(e){Hit(r,e);var t=Kit(r);function r(){return qit(this,r),t.apply(this,arguments)}return Wit(r,[{key:"renderContent",value:function(){var i=this.props,s=i.payload,o=i.separator,a=i.formatter,l=i.itemStyle,u=i.itemSorter;if(s&&s.length){var d={padding:0,margin:0},p=(u?xV(s,u):s).map(function(f,y){if(f.type==="none")return null;var v=Zk({display:"block",paddingTop:4,paddingBottom:4,color:f.color||"#000"},l),g=f.formatter||a||Qit,b=f.value,w=f.name;if(g&&b!=null&&w!=null){var S=g(b,w,f,y,s);if(Array.isArray(S)){var _=S,x=Vit(_,2);b=x[0],w=x[1]}else b=S}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(y),style:v},In(w)?K.createElement("span",{className:"recharts-tooltip-item-name"},w):null,In(w)?K.createElement("span",{className:"recharts-tooltip-item-separator"},o):null,K.createElement("span",{className:"recharts-tooltip-item-value"},b),K.createElement("span",{className:"recharts-tooltip-item-unit"},f.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:d},p)}return null}},{key:"render",value:function(){var i=this.props,s=i.wrapperClassName,o=i.contentStyle,a=i.labelClassName,l=i.labelStyle,u=i.label,d=i.labelFormatter,p=i.payload,f=Zk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),y=Zk({margin:0},l),v=!it(u),g=v?u:"",b=Rr("recharts-default-tooltip",s),w=Rr("recharts-tooltip-label",a);return v&&d&&p!==void 0&&p!==null&&(g=d(u,p)),K.createElement("div",{className:b,style:f},K.createElement("p",{className:w,style:y},K.isValidElement(g)?g:"".concat(g)),this.renderContent())}}]),r}(q.PureComponent);$V(EV,"displayName","DefaultTooltipContent");$V(EV,"defaultProps",{separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}});var est=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mh={isSsr:est(),get:function(t){return Mh[t]},set:function(t,r){if(typeof t=="string")Mh[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){Mh[i]=t[i]})}}};function j0(e){return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j0(e)}function rJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rJ(Object(r),!0).forEach(function(n){Xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ppe(n.key),n)}}function rst(e,t,r){return t&&nJ(e.prototype,t),r&&nJ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z5(e,t)}function z5(e,t){return z5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z5(e,t)}function ist(e){var t=ost();return function(){var n=WM(e),i;if(t){var s=WM(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return sst(this,i)}}function sst(e,t){if(t&&(j0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U5(e)}function U5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ost(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function WM(e){return WM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},WM(e)}function Xu(e,t,r){return t=ppe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ppe(e){var t=ast(e,"string");return j0(t)==="symbol"?t:String(t)}function ast(e,t){if(j0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N1="recharts-tooltip-wrapper",iJ=1;function lst(e){return e.dataKey}function ust(e,t){return e===!0?IM(t,lst):Ze(e)?IM(t,e):t}function cst(e,t){return K.isValidElement(e)?K.cloneElement(e,t):Ze(e)?K.createElement(e,t):K.createElement(EV,t)}var xg=function(e){nst(r,e);var t=ist(r);function r(){var n;tst(this,r);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s)),Xu(U5(n),"state",{boxWidth:-1,boxHeight:-1,dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Xu(U5(n),"getTranslate",function(a){var l=a.key,u=a.tooltipDimension,d=a.viewBoxDimension,p=n.props,f=p.allowEscapeViewBox,y=p.reverseDirection,v=p.coordinate,g=p.offset,b=p.position,w=p.viewBox;if(b&&ve(b[l]))return b[l];var S=v[l]-u-g,_=v[l]+g;if(f[l])return y[l]?S:_;if(y[l]){var x=S,$=w[l];return x<$?Math.max(_,w[l]):Math.max(S,w[l])}var E=_+u,T=w[l]+d;return E>T?Math.max(S,w[l]):Math.max(_,w[l])}),n}return rst(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var i=this.state,s=i.boxWidth,o=i.boxHeight,a=i.dismissed;if(a?(this.wrapperNode.blur(),(this.props.coordinate.x!==this.state.dismissedAtCoordinate.x||this.props.coordinate.y!==this.state.dismissedAtCoordinate.y)&&this.setState({dismissed:!1})):this.wrapperNode.focus({preventScroll:!0}),this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var l=this.wrapperNode.getBoundingClientRect();(Math.abs(l.width-s)>iJ||Math.abs(l.height-o)>iJ)&&this.setState({boxWidth:l.width,boxHeight:l.height})}else(s!==-1||o!==-1)&&this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var i,s=this,o=this.props,a=o.payload,l=o.isAnimationActive,u=o.animationDuration,d=o.animationEasing,p=o.filterNull,f=o.payloadUniqBy,y=ust(f,p&&a&&a.length?a.filter(function(D){return!it(D.value)}):a),v=y&&y.length,g=this.props,b=g.content,w=g.viewBox,S=g.coordinate,_=g.position,x=g.active,$=g.wrapperStyle,E=$u({pointerEvents:"none",visibility:!this.state.dismissed&&x&&v?"visible":"hidden",position:"absolute",top:0,left:0},$),T,M;if(_&&ve(_.x)&&ve(_.y))T=_.x,M=_.y;else{var A=this.state,k=A.boxWidth,P=A.boxHeight;k>0&&P>0&&S?(T=this.getTranslate({key:"x",tooltipDimension:k,viewBoxDimension:w.width}),M=this.getTranslate({key:"y",tooltipDimension:P,viewBoxDimension:w.height})):E.visibility="hidden"}E=$u($u({},I5({transform:this.props.useTranslate3d?"translate3d(".concat(T,"px, ").concat(M,"px, 0)"):"translate(".concat(T,"px, ").concat(M,"px)")})),E),l&&x&&(E=$u($u({},I5({transition:"transform ".concat(u,"ms ").concat(d)})),E));var L=Rr(N1,(i={},Xu(i,"".concat(N1,"-right"),ve(T)&&S&&ve(S.x)&&T>=S.x),Xu(i,"".concat(N1,"-left"),ve(T)&&S&&ve(S.x)&&T<S.x),Xu(i,"".concat(N1,"-bottom"),ve(M)&&S&&ve(S.y)&&M>=S.y),Xu(i,"".concat(N1,"-top"),ve(M)&&S&&ve(S.y)&&M<S.y),i));return K.createElement("div",{tabIndex:-1,role:"dialog",onKeyDown:function(j){j.key==="Escape"&&s.setState({dismissed:!0,dismissedAtCoordinate:$u($u({},s.state.dismissedAtCoordinate),{},{x:s.props.coordinate.x,y:s.props.coordinate.y})})},className:L,style:E,ref:function(j){s.wrapperNode=j}},cst(b,$u($u({},this.props),{},{payload:y})))}}]),r}(q.PureComponent);Xu(xg,"displayName","Tooltip");Xu(xg,"defaultProps",{active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!Mh.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1});var dst=du,hst=function(){return dst.Date.now()},pst=hst,fst=/\s/;function mst(e){for(var t=e.length;t--&&fst.test(e.charAt(t)););return t}var yst=mst,gst=yst,vst=/^\s+/;function bst(e){return e&&e.slice(0,gst(e)+1).replace(vst,"")}var wst=bst,_st=wst,sJ=po,Sst=Ov,oJ=0/0,xst=/^[-+]0x[0-9a-f]+$/i,$st=/^0b[01]+$/i,Est=/^0o[0-7]+$/i,Tst=parseInt;function Mst(e){if(typeof e=="number")return e;if(Sst(e))return oJ;if(sJ(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=sJ(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_st(e);var r=$st.test(e);return r||Est.test(e)?Tst(e.slice(2),r?2:8):xst.test(e)?oJ:+e}var fpe=Mst,Ist=po,Xk=pst,aJ=fpe,Ost="Expected a function",Cst=Math.max,Ast=Math.min;function Pst(e,t,r){var n,i,s,o,a,l,u=0,d=!1,p=!1,f=!0;if(typeof e!="function")throw new TypeError(Ost);t=aJ(t)||0,Ist(r)&&(d=!!r.leading,p="maxWait"in r,s=p?Cst(aJ(r.maxWait)||0,t):s,f="trailing"in r?!!r.trailing:f);function y(E){var T=n,M=i;return n=i=void 0,u=E,o=e.apply(M,T),o}function v(E){return u=E,a=setTimeout(w,t),d?y(E):o}function g(E){var T=E-l,M=E-u,A=t-T;return p?Ast(A,s-M):A}function b(E){var T=E-l,M=E-u;return l===void 0||T>=t||T<0||p&&M>=s}function w(){var E=Xk();if(b(E))return S(E);a=setTimeout(w,g(E))}function S(E){return a=void 0,f&&n?y(E):(n=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),u=0,n=l=i=a=void 0}function x(){return a===void 0?o:S(Xk())}function $(){var E=Xk(),T=b(E);if(n=arguments,i=this,l=E,T){if(a===void 0)return v(l);if(p)return clearTimeout(a),a=setTimeout(w,t),y(l)}return a===void 0&&(a=setTimeout(w,t)),o}return $.cancel=_,$.flush=x,$}var kst=Pst,Rst=kst,Lst=po,Nst="Expected a function";function Fst(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Nst);return Lst(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Rst(e,t,{leading:n,maxWait:t,trailing:i})}var Dst=Fst,TV=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},mpe=function(t){return null};mpe.displayName="Cell";var HM={},jst={get exports(){return HM},set exports(e){HM=e}},Qk="(".charCodeAt(0),eR=")".charCodeAt(0),B$="'".charCodeAt(0),tR='"'.charCodeAt(0),rR="\\".charCodeAt(0),G$="/".charCodeAt(0),nR=",".charCodeAt(0),iR=":".charCodeAt(0),lJ="*".charCodeAt(0),Vst=function(e){for(var t=[],r=e,n,i,s,o,a,l,u,d=0,p=r.charCodeAt(d),f=r.length,y=[{nodes:t}],v=0,g,b="",w="",S="";d<f;)if(p<=32){n=d;do n+=1,p=r.charCodeAt(n);while(p<=32);o=r.slice(d,n),s=t[t.length-1],p===eR&&v?S=o:s&&s.type==="div"?s.after=o:p===nR||p===iR||p===G$&&r.charCodeAt(n+1)!==lJ?w=o:t.push({type:"space",sourceIndex:d,value:o}),d=n}else if(p===B$||p===tR){n=d,i=p===B$?"'":'"',o={type:"string",sourceIndex:d,quote:i};do if(a=!1,n=r.indexOf(i,n+1),~n)for(l=n;r.charCodeAt(l-1)===rR;)l-=1,a=!a;else r+=i,n=r.length-1,o.unclosed=!0;while(a);o.value=r.slice(d+1,n),t.push(o),d=n+1,p=r.charCodeAt(d)}else if(p===G$&&r.charCodeAt(d+1)===lJ)o={type:"comment",sourceIndex:d},n=r.indexOf("*/",d),n===-1&&(o.unclosed=!0,n=r.length),o.value=r.slice(d+2,n),t.push(o),d=n+2,p=r.charCodeAt(d);else if(p===G$||p===nR||p===iR)o=r[d],t.push({type:"div",sourceIndex:d-w.length,value:o,before:w,after:""}),w="",d+=1,p=r.charCodeAt(d);else if(Qk===p){n=d;do n+=1,p=r.charCodeAt(n);while(p<=32);if(o={type:"function",sourceIndex:d-b.length,value:b,before:r.slice(d+1,n)},d=n,b==="url"&&p!==B$&&p!==tR){n-=1;do if(a=!1,n=r.indexOf(")",n+1),~n)for(l=n;r.charCodeAt(l-1)===rR;)l-=1,a=!a;else r+=")",n=r.length-1,o.unclosed=!0;while(a);u=n;do u-=1,p=r.charCodeAt(u);while(p<=32);d!==u+1?o.nodes=[{type:"word",sourceIndex:d,value:r.slice(d,u+1)}]:o.nodes=[],o.unclosed&&u+1!==n?(o.after="",o.nodes.push({type:"space",sourceIndex:u+1,value:r.slice(u+1,n)})):o.after=r.slice(u+1,n),d=n+1,p=r.charCodeAt(d),t.push(o)}else v+=1,o.after="",t.push(o),y.push(o),t=o.nodes=[],g=o;b=""}else if(eR===p&&v)d+=1,p=r.charCodeAt(d),g.after=S,S="",v-=1,y.pop(),g=y[v],t=g.nodes;else{n=d;do p===rR&&(n+=1),n+=1,p=r.charCodeAt(n);while(n<f&&!(p<=32||p===B$||p===tR||p===nR||p===iR||p===G$||p===Qk||p===eR&&v));o=r.slice(d,n),Qk===p?b=o:t.push({type:"word",sourceIndex:d,value:o}),d=n}for(d=y.length-1;d;d-=1)y[d].unclosed=!0;return y[0].nodes},zst=function e(t,r,n){var i,s,o,a;for(i=0,s=t.length;i<s;i+=1)o=t[i],n||(a=r(o,i,t)),a!==!1&&o.type==="function"&&Array.isArray(o.nodes)&&e(o.nodes,r,n),n&&r(o,i,t)};function uJ(e,t){var r=e.type,n=e.value,i,s;return t&&(s=t(e))!==void 0?s:r==="word"||r==="space"?n:r==="string"?(i=e.quote||"",i+n+(e.unclosed?"":i)):r==="comment"?"/*"+n+(e.unclosed?"":"*/"):r==="div"?(e.before||"")+n+(e.after||""):Array.isArray(e.nodes)?(i=ype(e.nodes),r!=="function"?i:n+"("+(e.before||"")+i+(e.after||"")+(e.unclosed?"":")")):n}function ype(e,t){var r,n;if(Array.isArray(e)){for(r="",n=e.length-1;~n;n-=1)r=uJ(e[n],t)+r;return r}return uJ(e,t)}var Ust=ype,sR,cJ;function Bst(){if(cJ)return sR;cJ=1;var e="-".charCodeAt(0),t="+".charCodeAt(0),r=".".charCodeAt(0),n="e".charCodeAt(0),i="E".charCodeAt(0);return sR=function(s){for(var o=0,a=s.length,l=!1,u=-1,d=!1,p;o<a;){if(p=s.charCodeAt(o),p>=48&&p<=57)d=!0;else if(p===n||p===i){if(u>-1)break;u=o}else if(p===r){if(l)break;l=!0}else if(p===t||p===e){if(o!==0)break}else break;o+=1}return u+1===o&&o--,d?{number:s.slice(0,o),unit:s.slice(o)}:!1},sR}var Gst=Vst,gpe=zst,vpe=Ust;function Vh(e){return this instanceof Vh?(this.nodes=Gst(e),this):new Vh(e)}Vh.prototype.toString=function(){return Array.isArray(this.nodes)?vpe(this.nodes):""};Vh.prototype.walk=function(e,t){return gpe(this.nodes,e,t),this};Vh.unit=Bst();Vh.walk=gpe;Vh.stringify=vpe;var qst=Vh;function Wst(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bpe={};(function(e){var t=function(){function r(f,y){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),f==null&&(f="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:f}),this.hash=y;var v;if(y&&y.exception instanceof Error){var g=y.exception;this.message=g.message||f,v=g.stack}v||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):v=new Error(f).stack),v&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:v})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(r.prototype,Error.prototype):r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.name="JisonParserError";function n(f){for(var y=[],v=f.pop,g=f.rule,b=0,w=v.length;b<w;b++)y.push([v[b],g[b]]);return y}function i(f){for(var y={},v=f.idx,g=f.goto,b=0,w=v.length;b<w;b++){var S=v[b];y[S]=g[b]}return y}function s(f){for(var y=[],v=f.len,g=f.symbol,b=f.type,w=f.state,S=f.mode,_=f.goto,x=0,$=v.length;x<$;x++){for(var E=v[x],T={},M=0;M<E;M++){var A=g.shift();switch(b.shift()){case 2:T[A]=[S.shift(),_.shift()];break;case 0:T[A]=w.shift();break;default:T[A]=[3]}}y.push(T)}return y}function o(f,y,v){v=v||0;for(var g=0;g<y;g++)this.push(f),f+=v}function a(f,y){for(f=this.length-f,y+=f;f<y;f++)this.push(this[f])}function l(f){for(var y=[],v=0,g=f.length;v<g;v++){var b=f[v];typeof b=="function"?(v++,b.apply(y,f[v])):y.push(b)}return y}var u={trace:function(){},JisonParserError:r,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(y){return'"'+y+'"'},getSymbolName:function(y){if(this.terminals_[y])return this.terminals_[y];var v=this.symbols_;for(var g in v)if(v[g]===y)return g;return null},describeSymbol:function(y){if(y!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[y])return this.terminal_descriptions_[y];if(y===this.EOF)return"end of input";var v=this.getSymbolName(y);return v?this.quoteName(v):null},collect_expected_token_set:function(y,v){var g=this.TERROR,b=[],w={};if(!v&&this.state_descriptions_&&this.state_descriptions_[y])return[this.state_descriptions_[y]];for(var S in this.table[y])if(S=+S,S!==g){var _=v?S:this.describeSymbol(S);_&&!w[_]&&(b.push(_),w[_]=!0)}return b},productions_:n({pop:l([29,o,[30,10],31,31,32,32,o,[33,15]]),rule:l([2,o,[3,5],4,7,o,[1,4],2,4,6,o,[1,14],2])}),performAction:function(y,v,g){var b=this.yy;switch(b.parser,b.lexer,y){case 0:this.$=g[v-1];break;case 1:return this.$=g[v-1],g[v-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:g[v-1],left:g[v-2],right:g[v]};break;case 6:this.$=g[v-1];break;case 7:this.$={type:"Calc",value:g[v-1]};break;case 8:this.$={type:"Calc",value:g[v-1],prefix:g[v-5]};break;case 9:case 10:case 11:this.$=g[v];break;case 12:this.$={type:"Value",value:parseFloat(g[v])};break;case 13:this.$={type:"Value",value:parseFloat(g[v])*-1};break;case 14:this.$={type:"CssVariable",value:g[v-1]};break;case 15:this.$={type:"CssVariable",value:g[v-3],fallback:g[v-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(g[v]),unit:/[a-z]+/.exec(g[v])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(g[v]),unit:/[a-z]+/.exec(g[v])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(g[v]),unit:/[a-z]+/.exec(g[v])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(g[v]),unit:/[a-z]+/.exec(g[v])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(g[v]),unit:/[a-z]+/.exec(g[v])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(g[v]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(g[v]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(g[v]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(g[v]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(g[v]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(g[v]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(g[v]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(g[v]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(g[v]),unit:"%"};break;case 30:var w=g[v];w.value*=-1,this.$=w;break}},table:s({len:l([24,1,5,23,1,18,o,[0,3],1,o,[0,16],o,[23,4],a,[28,3],0,0,16,1,6,6,o,[0,3],5,1,2,a,[37,3],a,[20,3],5,0,0]),symbol:l([4,7,9,11,12,o,[15,19,1],1,1,o,[3,4,1],a,[30,19],a,[29,4],7,4,10,11,a,[22,14],a,[19,3],a,[43,22],a,[23,69],a,[139,4],8,a,[51,24],4,a,[138,15],13,a,[186,5],8,a,[6,6],a,[5,5],9,8,14,a,[159,47],a,[60,10]]),type:l([o,[2,19],o,[0,5],1,o,[2,24],o,[0,4],a,[22,19],a,[43,42],a,[23,70],a,[28,25],a,[45,25],a,[113,54]]),state:l([1,2,8,6,7,30,a,[4,3],33,37,a,[5,3],38,a,[4,3],39,a,[4,3],40,a,[4,3],42,a,[21,4],50,a,[5,3],51,a,[4,3]]),mode:l([o,[1,179],o,[2,3],a,[5,5],a,[6,4],o,[1,57]]),goto:l([5,3,4,24,o,[9,15,1],o,[25,5,1],a,[24,19],31,35,32,34,a,[18,14],36,a,[38,19],a,[19,57],a,[118,4],41,a,[24,19],43,35,a,[16,14],44,o,[2,3],28,29,2,o,[3,3],28,29,3,a,[53,4],o,[45,5,1],a,[100,42],52,a,[5,4],53])}),defaultActions:i({idx:l([6,7,8,o,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:l([9,10,11,o,[16,14,1],12,1,30,13,o,[4,4,1],14,15,8])}),parseError:function(y,v,g){if(v.recoverable)typeof this.trace=="function"&&this.trace(y),v.destroy();else throw typeof this.trace=="function"&&this.trace(y),g||(g=this.JisonParserError),new g(y,v)},parse:function(y){var v=this,g=new Array(128),b=new Array(128),w=new Array(128),S=this.table,_=0,x=0;this.TERROR;var $=this.EOF;this.options.errorRecoveryTokenDiscardCount|0;var E=[0,54],T;this.__lexer__?T=this.__lexer__:T=this.__lexer__=Object.create(this.lexer);var M={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};typeof assert!="function"||assert,this.yyGetSharedState=function(){return M};function A(tt,le){for(var Oe in le)typeof tt[Oe]>"u"&&Object.prototype.hasOwnProperty.call(le,Oe)&&(tt[Oe]=le[Oe])}A(M,this.yy),M.lexer=T,M.parser=this,typeof M.parseError=="function"?this.parseError=function(le,Oe,Ue){return Ue||(Ue=this.JisonParserError),M.parseError.call(this,le,Oe,Ue)}:this.parseError=this.originalParseError,typeof M.quoteName=="function"?this.quoteName=function(le){return M.quoteName.call(this,le)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(le,Oe,Ue){var re;if(Oe){var rt;(M.post_parse||this.post_parse)&&(rt=this.constructParseErrorInfo(null,null,null,!1)),M.post_parse&&(re=M.post_parse.call(this,M,le,rt),typeof re<"u"&&(le=re)),this.post_parse&&(re=this.post_parse.call(this,M,le,rt),typeof re<"u"&&(le=re)),rt&&rt.destroy&&rt.destroy()}if(this.__reentrant_call_depth>1)return le;if(T.cleanupAfterLex&&T.cleanupAfterLex(Ue),M&&(M.lexer=void 0,M.parser=void 0,T.yy===M&&(T.yy=void 0)),M=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,g.length=0,b.length=0,w.length=0,_=0,!Ue){for(var Ae=this.__error_infos.length-1;Ae>=0;Ae--){var We=this.__error_infos[Ae];We&&typeof We.destroy=="function"&&We.destroy()}this.__error_infos.length=0}return le},this.constructParseErrorInfo=function(le,Oe,Ue,re){var rt={errStr:le,exception:Oe,text:T.match,value:T.yytext,token:this.describeSymbol(x)||x,token_id:x,line:T.yylineno,expected:Ue,recoverable:re,state:D,action:j,new_state:we,symbol_stack:g,state_stack:b,value_stack:w,stack_pointer:_,yy:M,lexer:T,parser:this,destroy:function(){var We=!!this.recoverable;for(var Ft in this)this.hasOwnProperty(Ft)&&typeof Ft=="object"&&(this[Ft]=void 0);this.recoverable=We}};return this.__error_infos.push(rt),rt};function k(){var tt=T.lex();return typeof tt!="number"&&(tt=v.symbols_[tt]||tt),tt||$}function P(){var tt=T.fastLex();return typeof tt!="number"&&(tt=v.symbols_[tt]||tt),tt||$}var L=k,D,j,W,te,ae={$:!0,_$:void 0,yy:M},z,J,me,we,Se=!1;try{if(this.__reentrant_call_depth++,T.setInput(y,M),typeof T.canIUse=="function"){var xe=T.canIUse();xe.fastLex&&typeof P=="function"&&(L=P)}for(w[_]=null,b[_]=0,g[_]=0,++_,this.pre_parse&&this.pre_parse.call(this,M),M.pre_parse&&M.pre_parse.call(this,M),we=b[_-1];;){if(D=we,this.defaultActions[D])j=2,we=this.defaultActions[D];else if(x||(x=L()),te=S[D]&&S[D][x]||E,we=te[1],j=te[0],!j){var Ne,wt=this.describeSymbol(x)||x,Ut=this.collect_expected_token_set(D);typeof T.yylineno=="number"?Ne="Parse error on line "+(T.yylineno+1)+": ":Ne="Parse error: ",typeof T.showPosition=="function"&&(Ne+=`
`+T.showPosition(79-10,10)+`
`),Ut.length?Ne+="Expecting "+Ut.join(", ")+", got unexpected "+wt:Ne+="Unexpected "+wt,z=this.constructParseErrorInfo(Ne,null,Ut,!1),W=this.parseError(z.errStr,z,this.JisonParserError),typeof W<"u"&&(Se=W);break}switch(j){default:if(j instanceof Array){z=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+D+", token: "+x,null,null,!1),W=this.parseError(z.errStr,z,this.JisonParserError),typeof W<"u"&&(Se=W);break}z=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),W=this.parseError(z.errStr,z,this.JisonParserError),typeof W<"u"&&(Se=W);break;case 1:g[_]=x,w[_]=T.yytext,b[_]=we,++_,x=0;continue;case 2:if(me=this.productions_[we-1],J=me[1],W=this.performAction.call(ae,we,_-1,w),typeof W<"u"){Se=W;break}_-=J;var Ht=me[0];g[_]=Ht,w[_]=ae.$,we=S[b[_-1]][Ht],b[_]=we,++_;continue;case 3:_!==-2&&(Se=!0,_--,typeof w[_]<"u"&&(Se=w[_]));break}break}}catch(tt){if(tt instanceof this.JisonParserError)throw tt;if(T&&typeof T.JisonLexerError=="function"&&tt instanceof T.JisonLexerError)throw tt;z=this.constructParseErrorInfo("Parsing aborted due to exception.",tt,null,!1),Se=!1,W=this.parseError(z.errStr,z,this.JisonParserError),typeof W<"u"&&(Se=W)}finally{Se=this.cleanupAfterParse(Se,!0,!0),this.__reentrant_call_depth--}return Se}};u.originalParseError=u.parseError,u.originalQuoteName=u.quoteName;var d=function(){function f(v,g){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),v==null&&(v="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:v}),this.hash=g;var b;if(g&&g.exception instanceof Error){var w=g.exception;this.message=w.message||v,b=w.stack}b||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):b=new Error(v).stack),b&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:b})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(f.prototype,Error.prototype):f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.name="JisonLexerError";var y={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(g,b,w){if(g=""+g,w==null&&(w=!(g.indexOf(`
`)>0&&g.indexOf("^")>0)),this.yylloc&&w){if(typeof this.prettyPrintRange=="function")this.prettyPrintRange(this.yylloc),/\n\s*$/.test(g)||(g+=`
`),g+=`
  Erroneous area:
`+this.prettyPrintRange(this.yylloc);else if(typeof this.showPosition=="function"){var S=this.showPosition();S&&(g.length&&g[g.length-1]!==`
`&&S[0]!==`
`?g+=`
`+S:g+=S)}}var _={errStr:g,recoverable:!!b,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var $=!!this.recoverable;for(var E in this)this.hasOwnProperty(E)&&typeof E=="object"&&(this[E]=void 0);this.recoverable=$}};return this.__error_infos.push(_),_},parseError:function(g,b,w){if(w||(w=this.JisonLexerError),this.yy){if(this.yy.parser&&typeof this.yy.parser.parseError=="function")return this.yy.parser.parseError.call(this,g,b,w)||this.ERROR;if(typeof this.yy.parseError=="function")return this.yy.parseError.call(this,g,b,w)||this.ERROR}throw new w(g,b)},yyerror:function(g){var b="";this.yylloc&&(b=" on line "+(this.yylineno+1));var w=this.constructLexErrorInfo("Lexical error"+b+": "+g,this.options.lexerErrorsAreRecoverable),S=Array.prototype.slice.call(arguments,1);return S.length&&(w.extra_error_attributes=S),this.parseError(w.errStr,w,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(g){if(this.setInput("",{}),!g){for(var b=this.__error_infos.length-1;b>=0;b--){var w=this.__error_infos[b];w&&typeof w.destroy=="function"&&w.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var g=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:g,last_line:this.yylineno+1,last_column:g,range:[this.offset,this.offset]}},setInput:function(g,b){if(this.yy=b||this.yy||{},!this.__decompressed){for(var w=this.rules,S=0,_=w.length;S<_;S++){var x=w[S];typeof x=="number"&&(w[S]=w[x])}var $=this.conditions;for(var E in $){for(var T=$[E],M=T.rules,_=M.length,A=new Array(_+1),k=new Array(_+1),S=0;S<_;S++){var P=M[S],x=w[P];A[S+1]=x,k[S+1]=P}T.rules=k,T.__rule_regexes=A,T.__rule_count=_}this.__decompressed=!0}return this._input=g||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(g,b){var w=g.call(this,this._input,b);return typeof w!="string"?w&&(this._input=""+w):this._input=w,this},input:function(){if(!this._input)return null;var g=this._input[0];this.yytext+=g,this.yyleng++,this.offset++,this.match+=g,this.matched+=g;var b=1,w=!1;if(g===`
`)w=!0;else if(g==="\r"){w=!0;var S=this._input[1];S===`
`&&(b++,g+=S,this.yytext+=S,this.yyleng++,this.offset++,this.match+=S,this.matched+=S,this.yylloc.range[1]++)}return w?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(b),g},unput:function(g){var b=g.length,w=g.split(/(?:\r\n?|\n)/g);if(this._input=g+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.yyleng=this.yytext.length,this.offset-=b,this.match=this.match.substr(0,this.match.length-b),this.matched=this.matched.substr(0,this.matched.length-b),w.length>1){this.yylineno-=w.length-1,this.yylloc.last_line=this.yylineno+1;var S=this.match,_=S.split(/(?:\r\n?|\n)/g);_.length===1&&(S=this.matched,_=S.split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=_[_.length-1].length}else this.yylloc.last_column-=b;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var g="";this.yylloc&&(g=" on line "+(this.yylineno+1));var b=this.constructLexErrorInfo("Lexical error"+g+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(b.errStr,b,this.JisonLexerError)||this.ERROR}return this},less:function(g){return this.unput(this.match.slice(g))},pastInput:function(g,b){var w=this.matched.substring(0,this.matched.length-this.match.length);g<0?g=w.length:g||(g=20),b<0?b=w.length:b||(b=1),w=w.substr(-g*2-2);var S=w.replace(/\r\n|\r/g,`
`).split(`
`);return S=S.slice(-b),w=S.join(`
`),w.length>g&&(w="..."+w.substr(-g)),w},upcomingInput:function(g,b){var w=this.match;g<0?g=w.length+this._input.length:g||(g=20),b<0?b=g:b||(b=1),w.length<g*2+2&&(w+=this._input.substring(0,g*2+2));var S=w.replace(/\r\n|\r/g,`
`).split(`
`);return S=S.slice(0,b),w=S.join(`
`),w.length>g&&(w=w.substring(0,g)+"..."),w},showPosition:function(g,b){var w=this.pastInput(g).replace(/\s/g," "),S=new Array(w.length+1).join("-");return w+this.upcomingInput(b).replace(/\s/g," ")+`
`+S+"^"},deriveLocationInfo:function(g,b,w,S){var _={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return g&&(_.first_line=g.first_line|0,_.last_line=g.last_line|0,_.first_column=g.first_column|0,_.last_column=g.last_column|0,g.range&&(_.range[0]=g.range[0]|0,_.range[1]=g.range[1]|0)),(_.first_line<=0||_.last_line<_.first_line)&&(_.first_line<=0&&b&&(_.first_line=b.last_line|0,_.first_column=b.last_column|0,b.range&&(_.range[0]=g.range[1]|0)),(_.last_line<=0||_.last_line<_.first_line)&&w&&(_.last_line=w.first_line|0,_.last_column=w.first_column|0,w.range&&(_.range[1]=g.range[0]|0)),_.first_line<=0&&S&&(_.last_line<=0||S.last_line<=_.last_line)&&(_.first_line=S.first_line|0,_.first_column=S.first_column|0,S.range&&(_.range[0]=S.range[0]|0)),_.last_line<=0&&S&&(_.first_line<=0||S.first_line>=_.first_line)&&(_.last_line=S.last_line|0,_.last_column=S.last_column|0,S.range&&(_.range[1]=S.range[1]|0))),_.last_line<=0&&(_.first_line<=0?(_.first_line=this.yylloc.first_line,_.last_line=this.yylloc.last_line,_.first_column=this.yylloc.first_column,_.last_column=this.yylloc.last_column,_.range[0]=this.yylloc.range[0],_.range[1]=this.yylloc.range[1]):(_.last_line=this.yylloc.last_line,_.last_column=this.yylloc.last_column,_.range[1]=this.yylloc.range[1])),_.first_line<=0&&(_.first_line=_.last_line,_.first_column=0,_.range[1]=_.range[0]),_.first_column<0&&(_.first_column=0),_.last_column<0&&(_.last_column=_.first_column>0?_.first_column:80),_},prettyPrintRange:function(g,b,w){g=this.deriveLocationInfo(g,b,w);const S=3,_=1,x=2;var $=this.matched+this._input,E=$.split(`
`),T=Math.max(1,b?b.first_line:g.first_line-S),M=Math.max(1,w?w.last_line:g.last_line+_),A=1+Math.log10(M|1)|0,k=new Array(A).join(" "),P=[],L=E.slice(T-1,M+1).map(function(ae,z){var J=z+T,me=(k+J).substr(-A),we=me+": "+ae,Se=new Array(A+1).join("^"),xe=2+1,Ne=0;if(J===g.first_line?(xe+=g.first_column,Ne=Math.max(2,(J===g.last_line?g.last_column:ae.length)-g.first_column+1)):J===g.last_line?Ne=Math.max(2,g.last_column+1):J>g.first_line&&J<g.last_line&&(Ne=Math.max(2,ae.length+1)),Ne){var wt=new Array(xe).join("."),Ut=new Array(Ne).join("^");we+=`
`+Se+wt+Ut,ae.trim().length>0&&P.push(z)}return we=we.replace(/\t/g," "),we});if(P.length>2*x){var D=P[x-1]+1,j=P[P.length-x]-1,W=new Array(A+1).join(" ")+"  (...continued...)";W+=`
`+new Array(A+1).join("-")+"  (---------------)",L.splice(D,j-D+1,W)}return L.join(`
`)},describeYYLLOC:function(g,b){var w=g.first_line,S=g.last_line,_=g.first_column,x=g.last_column,$=S-w,E=x-_,T;if($===0?(T="line "+w+", ",E<=1?T+="column "+_:T+="columns "+_+" .. "+x):T="lines "+w+"(column "+_+") .. "+S+"(column "+x+")",g.range&&b){var M=g.range[0],A=g.range[1]-1;A<=M?T+=" {String Offset: "+M+"}":T+=" {String Offset range: "+M+" .. "+A+"}"}return T},test_match:function(g,b){var w,S,_,x,$;if(this.options.backtrack_lexer&&(_={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),x=g[0],$=x.length,S=x.split(/(?:\r\n?|\n)/g),S.length>1?(this.yylineno+=S.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=S[S.length-1].length):this.yylloc.last_column+=$,this.yytext+=x,this.match+=x,this.matched+=x,this.matches=g,this.yyleng=this.yytext.length,this.yylloc.range[1]+=$,this.offset+=$,this._more=!1,this._backtrack=!1,this._input=this._input.slice($),w=this.performAction.call(this,this.yy,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),w)return w;if(this._backtrack){for(var E in _)this[E]=_[E];return this.__currentRuleSet__=null,!1}else if(this._signaled_error_token)return w=this._signaled_error_token,this._signaled_error_token=!1,w;return!1},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var g,b,w,S;this._more||this.clear();var _=this.__currentRuleSet__;if(!_&&(_=this.__currentRuleSet__=this._currentRules(),!_||!_.rules)){var x="";this.options.trackPosition&&(x=" on line "+(this.yylineno+1));var $=this.constructLexErrorInfo("Internal lexer engine error"+x+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError($.errStr,$,this.JisonLexerError)||this.ERROR}for(var E=_.rules,T=_.__rule_regexes,M=_.__rule_count,A=1;A<=M;A++)if(w=this._input.match(T[A]),w&&(!b||w[0].length>b[0].length)){if(b=w,S=A,this.options.backtrack_lexer){if(g=this.test_match(w,E[A]),g!==!1)return g;if(this._backtrack){b=void 0;continue}else return!1}else if(!this.options.flex)break}if(b)return g=this.test_match(b,E[S]),g!==!1?g:!1;if(this._input){var x="";this.options.trackPosition&&(x=" on line "+(this.yylineno+1));var $=this.constructLexErrorInfo("Lexical error"+x+": Unrecognized text.",this.options.lexerErrorsAreRecoverable),k=this._input,P=this.topState(),L=this.conditionStack.length;return g=this.parseError($.errStr,$,this.JisonLexerError)||this.ERROR,g===this.ERROR&&!this.matches&&k===this._input&&P===this.topState()&&L===this.conditionStack.length&&this.input(),g}else return this.done=!0,this.clear(),this.EOF},lex:function(){var g;for(typeof this.pre_lex=="function"&&(g=this.pre_lex.call(this,0)),typeof this.options.pre_lex=="function"&&(g=this.options.pre_lex.call(this,g)||g),this.yy&&typeof this.yy.pre_lex=="function"&&(g=this.yy.pre_lex.call(this,g)||g);!g;)g=this.next();return this.yy&&typeof this.yy.post_lex=="function"&&(g=this.yy.post_lex.call(this,g)||g),typeof this.options.post_lex=="function"&&(g=this.options.post_lex.call(this,g)||g),typeof this.post_lex=="function"&&(g=this.post_lex.call(this,g)||g),g},fastLex:function(){for(var g;!g;)g=this.next();return g},canIUse:function(){var g={fastLex:!(typeof this.pre_lex=="function"||typeof this.options.pre_lex=="function"||this.yy&&typeof this.yy.pre_lex=="function"||this.yy&&typeof this.yy.post_lex=="function"||typeof this.options.post_lex=="function"||typeof this.post_lex=="function")&&typeof this.fastLex=="function"};return g},begin:function(g){return this.pushState(g)},pushState:function(g){return this.conditionStack.push(g),this.__currentRuleSet__=null,this},popState:function(){var g=this.conditionStack.length-1;return g>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:f,performAction:function(g,b,w){switch(b){case 1:break;default:return this.simpleCaseActionClusters[b]}},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return y}();u.lexer=d;function p(){this.yy={}}return p.prototype=u,u.Parser=p,new p}();typeof Wst<"u"&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)})})(bpe);var sx={},KM={},Hst={get exports(){return KM},set exports(e){KM=e}},oR={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:1/1e3},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:1/1e3,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}},Kst=function(e,t,r,n){if(!oR.hasOwnProperty(r))throw new Error("Cannot convert to "+r);if(!oR[r].hasOwnProperty(t))throw new Error("Cannot convert from "+t+" to "+r);var i=oR[r][t]*e;return n!==!1?(n=Math.pow(10,parseInt(n)||5),Math.round(i*n)/n):i};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Kst,n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}function s(a,l,u){switch(a.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return o(a,l,u);default:return{left:a,right:l}}}function o(a,l,u){return l.type===a.type&&(l={type:a.type,value:(0,n.default)(l.value,l.unit,a.unit,u),unit:a.unit}),{left:a,right:l}}t.default=s,e.exports=t.default})(Hst,KM);Object.defineProperty(sx,"__esModule",{value:!0});sx.flip=B5;var Jst=KM,aR=Yst(Jst);function Yst(e){return e&&e.__esModule?e:{default:e}}function Ai(e,t){return e.type==="MathExpression"?tot(e,t):e.type==="Calc"?Ai(e.value,t):e}function dJ(e,t){return e.type===t.type&&e.value===t.value}function xs(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function Zst(e,t){var r=(0,aR.default)(e.left,e.right,t),n=Ai(r.left,t),i=Ai(r.right,t);return n.type==="MathExpression"&&i.type==="MathExpression"&&(n.operator==="/"&&i.operator==="*"||n.operator==="-"&&i.operator==="+"||n.operator==="*"&&i.operator==="/"||n.operator==="+"&&i.operator==="-")&&(dJ(n.right,i.right)?r=(0,aR.default)(n.left,i.left,t):dJ(n.right,i.left)&&(r=(0,aR.default)(n.left,i.right,t)),n=Ai(r.left,t),i=Ai(r.right,t)),e.left=n,e.right=i,e}function B5(e){return e==="+"?"-":"+"}function G5(e){return xs(e.type)?e.value=-e.value:e.type=="MathExpression"&&(e.left=G5(e.left),e.right=G5(e.right)),e}function Xst(e,t){var r=e,n=r.left,i=r.right,s=r.operator;if(n.type==="CssVariable"||i.type==="CssVariable")return e;if(i.value===0)return n;if(n.value===0&&s==="+")return i;if(n.value===0&&s==="-")return G5(i);if(n.type===i.type&&xs(n.type)&&(e=Object.assign({},n),s==="+"?e.value=n.value+i.value:e.value=n.value-i.value),xs(n.type)&&(i.operator==="+"||i.operator==="-")&&i.type==="MathExpression"){if(n.type===i.left.type)return e=Object.assign({},e),e.left=Ai({type:"MathExpression",operator:s,left:n,right:i.left},t),e.right=i.right,e.operator=s==="-"?B5(i.operator):i.operator,Ai(e,t);if(n.type===i.right.type)return e=Object.assign({},e),e.left=Ai({type:"MathExpression",operator:s==="-"?B5(i.operator):i.operator,left:n,right:i.right},t),e.right=i.left,Ai(e,t)}if(n.type==="MathExpression"&&(n.operator==="+"||n.operator==="-")&&xs(i.type)){if(i.type===n.left.type)return e=Object.assign({},n),e.left=Ai({type:"MathExpression",operator:s,left:n.left,right:i},t),Ai(e,t);if(i.type===n.right.type)return e=Object.assign({},n),n.operator==="-"?(e.right=Ai({type:"MathExpression",operator:s==="-"?"+":"-",left:i,right:n.right},t),e.operator=s==="-"?"-":"+"):e.right=Ai({type:"MathExpression",operator:s,left:n.right,right:i},t),e.right.value<0&&(e.right.value*=-1,e.operator=e.operator==="-"?"+":"-"),Ai(e,t)}return e}function Qst(e,t){if(!xs(e.right.type))return e;if(e.right.type!=="Value")throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(e.right.value===0)throw new Error("Cannot divide by zero");return e.left.type==="MathExpression"?xs(e.left.left.type)&&xs(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,Ai(e.left,t)):e:xs(e.left.type)?(e.left.value/=e.right.value,e.left):e}function eot(e){if(e.left.type==="MathExpression"&&e.right.type==="Value"){if(xs(e.left.left.type)&&xs(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(xs(e.left.type)&&e.right.type==="Value")return e.left.value*=e.right.value,e.left;if(e.left.type==="Value"&&e.right.type==="MathExpression"){if(xs(e.right.left.type)&&xs(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if(e.left.type==="Value"&&xs(e.right.type))return e.right.value*=e.left.value,e.right}return e}function tot(e,t){switch(e=Zst(e,t),e.operator){case"+":case"-":return Xst(e,t);case"/":return Qst(e,t);case"*":return eot(e)}return e}sx.default=Ai;var JM={},rot={get exports(){return JM},set exports(e){JM=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o,a,l){var u=s(a,l);return a.type==="MathExpression"&&(u=o+"("+u+")"),u};var r=sx,n={"*":0,"/":0,"+":1,"-":1};function i(o,a){if(a!==!1){var l=Math.pow(10,a);return Math.round(o*l)/l}return o}function s(o,a){switch(o.type){case"MathExpression":{var l=o.left,u=o.right,d=o.operator,p="";return l.type==="MathExpression"&&n[d]<n[l.operator]?p+="("+s(l,a)+")":p+=s(l,a),p+=" "+o.operator+" ",u.type==="MathExpression"&&n[d]<n[u.operator]?p+="("+s(u,a)+")":(u.type==="MathExpression"&&d==="-"&&["+","-"].includes(u.operator)&&(u.operator=(0,r.flip)(u.operator)),p+=s(u,a)),p}case"Value":return i(o.value,a);case"CssVariable":return o.fallback?"var("+o.value+", "+s(o.fallback,a)+")":"var("+o.value+")";case"Calc":return o.prefix?"-"+o.prefix+"-calc("+s(o.value,a)+")":"calc("+s(o.value,a)+")";default:return i(o.value,a)+o.unit}}e.exports=t.default})(rot,JM);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=qst,n=u(r),i=bpe,s=sx,o=u(s),a=JM,l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}var d=/((?:\-[a-z]+\-)?calc)/;t.default=function(p){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return(0,n.default)(p).walk(function(y){if(!(y.type!=="function"||!d.test(y.value))){var v=n.default.stringify(y.nodes);if(!(v.indexOf("constant")>=0||v.indexOf("env")>=0)){var g=i.parser.parse(v),b=(0,o.default)(g,f);y.type="word",y.value=(0,l.default)(y.value,b,f)}}},!0).toString()},e.exports=t.default})(jst,HM);const lR=EZ(HM);function W_(e){return W_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W_(e)}function hJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hJ(Object(r),!0).forEach(function(n){not(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function not(e,t,r){return t=iot(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iot(e){var t=sot(e,"string");return W_(t)==="symbol"?t:String(t)}function sot(e,t){if(W_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(W_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fJ(e){return uot(e)||lot(e)||aot(e)||oot()}function oot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aot(e,t){if(e){if(typeof e=="string")return q5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q5(e,t)}}function lot(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uot(e){if(Array.isArray(e))return q5(e)}function q5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hy={widthCache:{},cacheCount:0},cot=2e3,dot={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hot=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],mJ="recharts_measurement_span";function pot(e,t){return hot.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}function fot(e){var t=e.split(""),r=t.reduce(function(n,i){return i===i.toUpperCase()?[].concat(fJ(n),["-",i.toLowerCase()]):[].concat(fJ(n),[i])},[]);return r.join("")}var mot=function(t){return Object.keys(t).reduce(function(r,n){return"".concat(r).concat(fot(n),":").concat(pot(n,t[n]),";")},"")},Qf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mh.isSsr)return{width:0,height:0};var n="".concat(t),i=mot(r),s="".concat(n,"-").concat(i);if(hy.widthCache[s])return hy.widthCache[s];try{var o=document.getElementById(mJ);o||(o=document.createElement("span"),o.setAttribute("id",mJ),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=pJ(pJ({},dot),r);Object.keys(a).map(function(d){return o.style[d]=a[d],d}),o.textContent=n;var l=o.getBoundingClientRect(),u={width:l.width,height:l.height};return hy.widthCache[s]=u,++hy.cacheCount>cot&&(hy.cacheCount=0,hy.widthCache={}),u}catch{return{width:0,height:0}}},yot=function(t){var r=t.ownerDocument.documentElement,n={top:0,left:0};return typeof t.getBoundingClientRect<"u"&&(n=t.getBoundingClientRect()),{top:n.top+window.pageYOffset-r.clientTop,left:n.left+window.pageXOffset-r.clientLeft}},got=function(t,r){return{chartX:Math.round(t.pageX-r.left),chartY:Math.round(t.pageY-r.top)}},vot=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function V0(e){return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function W5(){return W5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W5.apply(this,arguments)}function bot(e,t){if(e==null)return{};var r=wot(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wot(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function _ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_pe(n.key),n)}}function Sot(e,t,r){return t&&yJ(e.prototype,t),r&&yJ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H5(e,t)}function H5(e,t){return H5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H5(e,t)}function $ot(e){var t=Tot();return function(){var n=YM(e),i;if(t){var s=YM(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Eot(this,i)}}function Eot(e,t){if(t&&(V0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wpe(e)}function wpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function YM(e){return YM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},YM(e)}function gJ(e,t){return Cot(e)||Oot(e,t)||Iot(e,t)||Mot()}function Mot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iot(e,t){if(e){if(typeof e=="string")return vJ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vJ(e,t)}}function vJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oot(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Cot(e){if(Array.isArray(e))return e}function bJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bJ(Object(r),!0).forEach(function(n){MV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MV(e,t,r){return t=_pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _pe(e){var t=Aot(e,"string");return V0(t)==="symbol"?t:String(t)}function Aot(e,t){if(V0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(V0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Spe=/[ \f\n\r\t\v\u2028\u2029]+/,xpe=function(t){try{var r=[];it(t.children)||(t.breakAll?r=t.children.toString().split(""):r=t.children.toString().split(Spe));var n=r.map(function(s){return{word:s,width:Qf(s,t.style).width}}),i=t.breakAll?0:Qf(" ",t.style).width;return{wordsWithComputedWidth:n,spaceWidth:i}}catch{return null}},Pot=function(t,r,n,i,s){var o=ve(t.maxLines),a=t.children,l=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function(L,D){var j=D.word,W=D.width,te=L[L.length-1];if(te&&(i==null||s||te.width+W+n<i))te.words.push(j),te.width+=W+n;else{var ae={words:[j],width:W};L.push(ae)}return L},[])},u=l(r),d=function(P){return P.reduce(function(L,D){return L.width>D.width?L:D})};if(!o)return u;for(var p="…",f=function(P){var L=a.slice(0,P),D=xpe(wJ(wJ({},t),{},{children:L+p})).wordsWithComputedWidth,j=l(D),W=j.length>t.maxLines||d(j).width>i;return[W,j]},y=0,v=a.length-1,g=0,b;y<=v&&g<=a.length-1;){var w=Math.floor((y+v)/2),S=w-1,_=f(S),x=gJ(_,2),$=x[0],E=x[1],T=f(w),M=gJ(T,1),A=M[0];if(!$&&!A&&(y=w+1),$&&A&&(v=w-1),!$&&A){b=E;break}g++}return b||u},_J=function(t){var r=it(t)?[]:t.toString().split(Spe);return[{words:r}]},kot=function(t,r){if((t.width||t.scaleToFit)&&!Mh.isSsr){var n,i;if(r){var s=xpe(t);if(s){var o=s.wordsWithComputedWidth,a=s.spaceWidth;n=o,i=a}else return _J(t.children);return Pot(t,n,i,t.width,t.scaleToFit)}}return _J(t.children)},H_=function(e){xot(r,e);var t=$ot(r);function r(){var n;_ot(this,r);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s)),MV(wpe(n),"state",{}),n}return Sot(r,[{key:"render",value:function(){var i=this.props,s=i.dx,o=i.dy,a=i.textAnchor,l=i.verticalAnchor,u=i.scaleToFit,d=i.angle,p=i.lineHeight,f=i.capHeight,y=i.className,v=i.breakAll,g=bot(i,vot),b=this.state.wordsByLines;if(!In(g.x)||!In(g.y))return null;var w=g.x+(ve(s)?s:0),S=g.y+(ve(o)?o:0),_;switch(l){case"start":_=lR("calc(".concat(f,")"));break;case"middle":_=lR("calc(".concat((b.length-1)/2," * -").concat(p," + (").concat(f," / 2))"));break;default:_=lR("calc(".concat(b.length-1," * -").concat(p,")"));break}var x=[];if(u){var $=b[0].width,E=this.props.width;x.push("scale(".concat((ve(E)?E/$:1)/$,")"))}return d&&x.push("rotate(".concat(d,", ").concat(w,", ").concat(S,")")),x.length&&(g.transform=x.join(" ")),K.createElement("text",W5({},Xt(g,!0),{x:w,y:S,className:Rr("recharts-text",y),textAnchor:a,fill:g.fill.includes("url")?r.defaultProps.fill:g.fill}),b.map(function(T,M){return K.createElement("tspan",{x:w,dy:M===0?_:p,key:M},T.words.join(v?"":" "))}))}}],[{key:"getDerivedStateFromProps",value:function(i,s){if(i.width!==s.prevWidth||i.scaleToFit!==s.prevScaleToFit||i.children!==s.prevChildren||i.style!==s.prevStyle||i.breakAll!==s.prevBreakAll){var o=i.children!==s.prevChildren||i.style!==s.prevStyle||i.breakAll!==s.prevBreakAll;return{prevWidth:i.width,prevScaleToFit:i.scaleToFit,prevChildren:i.children,prevStyle:i.style,wordsByLines:kot(i,o)}}return null}}]),r}(q.Component);MV(H_,"defaultProps",{x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"});var Rot=mV;function Lot(e,t){return Rot(e,t)}var $pe=Lot,Not=Ov;function Fot(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(a===void 0?o===o&&!Not(o):r(o,a)))var a=o,l=s}return l}var Epe=Fot;function Dot(e,t){return e>t}var jot=Dot,Vot=Epe,zot=jot,Uot=Lv;function Bot(e){return e&&e.length?Vot(e,Uot,zot):void 0}var qC=Bot;function Got(e,t){return e<t}var qot=Got,Wot=Epe,Hot=qot,Kot=Lv;function Jot(e){return e&&e.length?Wot(e,Kot,Hot):void 0}var WC=Jot,Yot=iV,Zot=ep,Xot=cpe,Qot=zt;function eat(e,t){var r=Qot(e)?Yot:Xot;return r(e,Zot(t))}var tat=eat,rat=lpe,nat=tat;function iat(e,t){return rat(nat(e,t),1)}var sat=iat;function Ih(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oat(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IV(e){let t,r,n;e.length!==2?(t=Ih,r=(a,l)=>Ih(e(a),l),n=(a,l)=>e(a)-l):(t=e===Ih||e===oat?e:aat,r=e,n=e);function i(a,l,u=0,d=a.length){if(u<d){if(t(l,l)!==0)return d;do{const p=u+d>>>1;r(a[p],l)<0?u=p+1:d=p}while(u<d)}return u}function s(a,l,u=0,d=a.length){if(u<d){if(t(l,l)!==0)return d;do{const p=u+d>>>1;r(a[p],l)<=0?u=p+1:d=p}while(u<d)}return u}function o(a,l,u=0,d=a.length){const p=i(a,l,u,d-1);return p>u&&n(a[p-1],l)>-n(a[p],l)?p-1:p}return{left:i,center:o,right:s}}function aat(){return 0}function Tpe(e){return e===null?NaN:+e}function*lat(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const uat=IV(Ih),cat=uat.right;IV(Tpe).center;const ox=cat;class SJ extends Map{constructor(t,r=pat){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(xJ(this,t))}has(t){return super.has(xJ(this,t))}set(t,r){return super.set(dat(this,t),r)}delete(t){return super.delete(hat(this,t))}}function xJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function dat({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function hat({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function pat(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fat(e=Ih){if(e===Ih)return Mpe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Mpe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mat=Math.sqrt(50),yat=Math.sqrt(10),gat=Math.sqrt(2);function ZM(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=mat?10:s>=yat?5:s>=gat?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=r&&r<2?ZM(e,t,r*2):[a,l,u]}function K5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?ZM(t,e,r):ZM(e,t,r);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(n)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function J5(e,t,r){return t=+t,e=+e,r=+r,ZM(e,t,r)[2]}function Y5(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?J5(t,e,r):J5(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function $J(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function EJ(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function Ipe(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Mpe:fat(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),p=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*p*(l-p)/l)*(u-l/2<0?-1:1),y=Math.max(r,Math.floor(t-u*p/l+f)),v=Math.min(n,Math.floor(t+(l-u)*p/l+f));Ipe(e,t,y,v,i)}const s=e[t];let o=r,a=n;for(F1(e,r,t),i(e[n],s)>0&&F1(e,r,n);o<a;){for(F1(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[r],s)===0?F1(e,r,a):(++a,F1(e,a,n)),a<=t&&(r=a+1),t<=a&&(n=a-1)}return e}function F1(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function vat(e,t,r){if(e=Float64Array.from(lat(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return EJ(e);if(t>=1)return $J(e);var n,i=(n-1)*t,s=Math.floor(i),o=$J(Ipe(e,s).subarray(0,s+1)),a=EJ(e.subarray(s+1));return o+(a-o)*(i-s)}}function bat(e,t,r=Tpe){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),a=+r(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function wat(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function oa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Z5=Symbol("implicit");function OV(){var e=new SJ,t=[],r=[],n=Z5;function i(s){let o=e.get(s);if(o===void 0){if(n!==Z5)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new SJ;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return OV(t,r).unknown(n)},oa.apply(i,arguments),i}function K_(){var e=OV().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,a=!1,l=0,u=0,d=.5;delete e.unknown;function p(){var f=t().length,y=i<n,v=y?i:n,g=y?n:i;s=(g-v)/Math.max(1,f-l+u*2),a&&(s=Math.floor(s)),v+=(g-v-s*(f-l))*d,o=s*(1-l),a&&(v=Math.round(v),o=Math.round(o));var b=wat(f).map(function(w){return v+s*w});return r(y?b.reverse():b)}return e.domain=function(f){return arguments.length?(t(f),p()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,a=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(a=!!f,p()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),p()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),p()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,p()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),p()):d},e.copy=function(){return K_(t(),[n,i]).round(a).paddingInner(l).paddingOuter(u).align(d)},oa.apply(p(),arguments)}function Ope(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Ope(t())},e}function Lw(){return Ope(K_.apply(null,arguments).paddingInner(1))}function CV(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Cpe(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ax(){}var J_=.7,XM=1/J_,Zg="\\s*([+-]?\\d+)\\s*",Y_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_at=/^#([0-9a-f]{3,8})$/,Sat=new RegExp(`^rgb\\(${Zg},${Zg},${Zg}\\)$`),xat=new RegExp(`^rgb\\(${Xl},${Xl},${Xl}\\)$`),$at=new RegExp(`^rgba\\(${Zg},${Zg},${Zg},${Y_}\\)$`),Eat=new RegExp(`^rgba\\(${Xl},${Xl},${Xl},${Y_}\\)$`),Tat=new RegExp(`^hsl\\(${Y_},${Xl},${Xl}\\)$`),Mat=new RegExp(`^hsla\\(${Y_},${Xl},${Xl},${Y_}\\)$`),TJ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};CV(ax,Z_,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MJ,formatHex:MJ,formatHex8:Iat,formatHsl:Oat,formatRgb:IJ,toString:IJ});function MJ(){return this.rgb().formatHex()}function Iat(){return this.rgb().formatHex8()}function Oat(){return Ape(this).formatHsl()}function IJ(){return this.rgb().formatRgb()}function Z_(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_at.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?OJ(t):r===3?new Es(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?q$(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?q$(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sat.exec(e))?new Es(t[1],t[2],t[3],1):(t=xat.exec(e))?new Es(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$at.exec(e))?q$(t[1],t[2],t[3],t[4]):(t=Eat.exec(e))?q$(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tat.exec(e))?PJ(t[1],t[2]/100,t[3]/100,1):(t=Mat.exec(e))?PJ(t[1],t[2]/100,t[3]/100,t[4]):TJ.hasOwnProperty(e)?OJ(TJ[e]):e==="transparent"?new Es(NaN,NaN,NaN,0):null}function OJ(e){return new Es(e>>16&255,e>>8&255,e&255,1)}function q$(e,t,r,n){return n<=0&&(e=t=r=NaN),new Es(e,t,r,n)}function Cat(e){return e instanceof ax||(e=Z_(e)),e?(e=e.rgb(),new Es(e.r,e.g,e.b,e.opacity)):new Es}function X5(e,t,r,n){return arguments.length===1?Cat(e):new Es(e,t,r,n??1)}function Es(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}CV(Es,X5,Cpe(ax,{brighter(e){return e=e==null?XM:Math.pow(XM,e),new Es(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?J_:Math.pow(J_,e),new Es(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Es(em(this.r),em(this.g),em(this.b),QM(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CJ,formatHex:CJ,formatHex8:Aat,formatRgb:AJ,toString:AJ}));function CJ(){return`#${Vf(this.r)}${Vf(this.g)}${Vf(this.b)}`}function Aat(){return`#${Vf(this.r)}${Vf(this.g)}${Vf(this.b)}${Vf((isNaN(this.opacity)?1:this.opacity)*255)}`}function AJ(){const e=QM(this.opacity);return`${e===1?"rgb(":"rgba("}${em(this.r)}, ${em(this.g)}, ${em(this.b)}${e===1?")":`, ${e})`}`}function QM(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function em(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vf(e){return e=em(e),(e<16?"0":"")+e.toString(16)}function PJ(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new za(e,t,r,n)}function Ape(e){if(e instanceof za)return new za(e.h,e.s,e.l,e.opacity);if(e instanceof ax||(e=Z_(e)),!e)return new za;if(e instanceof za)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-t)/a+2:o=(t-r)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new za(o,a,l,e.opacity)}function Pat(e,t,r,n){return arguments.length===1?Ape(e):new za(e,t,r,n??1)}function za(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}CV(za,Pat,Cpe(ax,{brighter(e){return e=e==null?XM:Math.pow(XM,e),new za(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?J_:Math.pow(J_,e),new za(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Es(uR(e>=240?e-240:e+120,i,n),uR(e,i,n),uR(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new za(kJ(this.h),W$(this.s),W$(this.l),QM(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=QM(this.opacity);return`${e===1?"hsl(":"hsla("}${kJ(this.h)}, ${W$(this.s)*100}%, ${W$(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kJ(e){return e=(e||0)%360,e<0?e+360:e}function W$(e){return Math.max(0,Math.min(1,e||0))}function uR(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const AV=e=>()=>e;function kat(e,t){return function(r){return e+r*t}}function Rat(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Lat(e){return(e=+e)==1?Ppe:function(t,r){return r-t?Rat(t,r,e):AV(isNaN(t)?r:t)}}function Ppe(e,t){var r=t-e;return r?kat(e,r):AV(isNaN(e)?t:e)}const RJ=function e(t){var r=Lat(t);function n(i,s){var o=r((i=X5(i)).r,(s=X5(s)).r),a=r(i.g,s.g),l=r(i.b,s.b),u=Ppe(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function Nat(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function Fat(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dat(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Fv(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(a){for(o=0;o<n;++o)s[o]=i[o](a);return s}}function jat(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function eI(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Vat(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Fv(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Q5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cR=new RegExp(Q5.source,"g");function zat(e){return function(){return e}}function Uat(e){return function(t){return e(t)+""}}function Bat(e,t){var r=Q5.lastIndex=cR.lastIndex=0,n,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(n=Q5.exec(e))&&(i=cR.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:eI(n,i)})),r=cR.lastIndex;return r<t.length&&(s=t.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Uat(l[0].x):zat(t):(t=l.length,function(u){for(var d=0,p;d<t;++d)a[(p=l[d]).i]=p.x(u);return a.join("")})}function Fv(e,t){var r=typeof t,n;return t==null||r==="boolean"?AV(t):(r==="number"?eI:r==="string"?(n=Z_(t))?(t=n,RJ):Bat:t instanceof Z_?RJ:t instanceof Date?jat:Fat(t)?Nat:Array.isArray(t)?Dat:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Vat:eI)(e,t)}function PV(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Gat(e,t){t===void 0&&(t=e,e=Fv);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var a=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[a](o-a)}}function qat(e){return function(){return e}}function tI(e){return+e}var LJ=[0,1];function ss(e){return e}function eD(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:qat(isNaN(t)?NaN:.5)}function Wat(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Hat(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=eD(i,n),s=r(o,s)):(n=eD(n,i),s=r(s,o)),function(a){return s(n(a))}}function Kat(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=eD(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(a){var l=ox(e,a,1,n)-1;return s[l](i[l](a))}}function lx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function HC(){var e=LJ,t=LJ,r=Fv,n,i,s,o=ss,a,l,u;function d(){var f=Math.min(e.length,t.length);return o!==ss&&(o=Wat(e[0],e[f-1])),a=f>2?Kat:Hat,l=u=null,p}function p(f){return f==null||isNaN(f=+f)?s:(l||(l=a(e.map(n),t,r)))(n(o(f)))}return p.invert=function(f){return o(i((u||(u=a(t,e.map(n),eI)))(f)))},p.domain=function(f){return arguments.length?(e=Array.from(f,tI),d()):e.slice()},p.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},p.rangeRound=function(f){return t=Array.from(f),r=PV,d()},p.clamp=function(f){return arguments.length?(o=f?!0:ss,d()):o!==ss},p.interpolate=function(f){return arguments.length?(r=f,d()):r},p.unknown=function(f){return arguments.length?(s=f,p):s},function(f,y){return n=f,i=y,d()}}function kV(){return HC()(ss,ss)}function Jat(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rI(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function z0(e){return e=rI(Math.abs(e)),e?e[1]:NaN}function Yat(e,t){return function(r,n){for(var i=r.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),s.push(r.substring(i-=a,i+a)),!((l+=a+1)>n));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Zat(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Xat=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function X_(e){if(!(t=Xat.exec(e)))throw new Error("invalid format: "+e);var t;return new RV({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}X_.prototype=RV.prototype;function RV(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}RV.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qat(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var kpe;function elt(e,t){var r=rI(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(kpe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+rI(e,Math.max(0,t+s-1))[0]}function NJ(e,t){var r=rI(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const FJ={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Jat,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>NJ(e*100,t),r:NJ,s:elt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DJ(e){return e}var jJ=Array.prototype.map,VJ=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tlt(e){var t=e.grouping===void 0||e.thousands===void 0?DJ:Yat(jJ.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?DJ:Zat(jJ.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(p){p=X_(p);var f=p.fill,y=p.align,v=p.sign,g=p.symbol,b=p.zero,w=p.width,S=p.comma,_=p.precision,x=p.trim,$=p.type;$==="n"?(S=!0,$="g"):FJ[$]||(_===void 0&&(_=12),x=!0,$="g"),(b||f==="0"&&y==="=")&&(b=!0,f="0",y="=");var E=g==="$"?r:g==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",T=g==="$"?n:/[%p]/.test($)?o:"",M=FJ[$],A=/[defgprs%]/.test($);_=_===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function k(P){var L=E,D=T,j,W,te;if($==="c")D=M(P)+D,P="";else{P=+P;var ae=P<0||1/P<0;if(P=isNaN(P)?l:M(Math.abs(P),_),x&&(P=Qat(P)),ae&&+P==0&&v!=="+"&&(ae=!1),L=(ae?v==="("?v:a:v==="-"||v==="("?"":v)+L,D=($==="s"?VJ[8+kpe/3]:"")+D+(ae&&v==="("?")":""),A){for(j=-1,W=P.length;++j<W;)if(te=P.charCodeAt(j),48>te||te>57){D=(te===46?i+P.slice(j+1):P.slice(j))+D,P=P.slice(0,j);break}}}S&&!b&&(P=t(P,1/0));var z=L.length+P.length+D.length,J=z<w?new Array(w-z+1).join(f):"";switch(S&&b&&(P=t(J+P,J.length?w-D.length:1/0),J=""),y){case"<":P=L+P+D+J;break;case"=":P=L+J+P+D;break;case"^":P=J.slice(0,z=J.length>>1)+L+P+D+J.slice(z);break;default:P=J+L+P+D;break}return s(P)}return k.toString=function(){return p+""},k}function d(p,f){var y=u((p=X_(p),p.type="f",p)),v=Math.max(-8,Math.min(8,Math.floor(z0(f)/3)))*3,g=Math.pow(10,-v),b=VJ[8+v/3];return function(w){return y(g*w)+b}}return{format:u,formatPrefix:d}}var H$,LV,Rpe;rlt({thousands:",",grouping:[3],currency:["$",""]});function rlt(e){return H$=tlt(e),LV=H$.format,Rpe=H$.formatPrefix,H$}function nlt(e){return Math.max(0,-z0(Math.abs(e)))}function ilt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(z0(t)/3)))*3-z0(Math.abs(e)))}function slt(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,z0(t)-z0(e))+1}function Lpe(e,t,r,n){var i=Y5(e,t,r),s;switch(n=X_(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=ilt(i,o))&&(n.precision=s),Rpe(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=slt(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=nlt(i))&&(n.precision=s-(n.type==="%")*2);break}}return LV(n)}function tp(e){var t=e.domain;return e.ticks=function(r){var n=t();return K5(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Lpe(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],a=n[s],l,u,d=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);d-- >0;){if(u=J5(o,a,r),u===l)return n[i]=o,n[s]=a,t(n);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function nI(){var e=kV();return e.copy=function(){return lx(e,nI())},oa.apply(e,arguments),tp(e)}function Npe(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,tI),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Npe(e).unknown(t)},e=arguments.length?Array.from(e,tI):[0,1],tp(r)}function Fpe(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function zJ(e){return Math.log(e)}function UJ(e){return Math.exp(e)}function olt(e){return-Math.log(-e)}function alt(e){return-Math.exp(-e)}function llt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ult(e){return e===10?llt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function clt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function BJ(e){return(t,r)=>-e(-t,r)}function NV(e){const t=e(zJ,UJ),r=t.domain;let n=10,i,s;function o(){return i=clt(n),s=ult(n),r()[0]<0?(i=BJ(i),s=BJ(s),e(olt,alt)):e(zJ,UJ),t}return t.base=function(a){return arguments.length?(n=+a,o()):n},t.domain=function(a){return arguments.length?(r(a),o()):r()},t.ticks=a=>{const l=r();let u=l[0],d=l[l.length-1];const p=d<u;p&&([u,d]=[d,u]);let f=i(u),y=i(d),v,g;const b=a==null?10:+a;let w=[];if(!(n%1)&&y-f<b){if(f=Math.floor(f),y=Math.ceil(y),u>0){for(;f<=y;++f)for(v=1;v<n;++v)if(g=f<0?v/s(-f):v*s(f),!(g<u)){if(g>d)break;w.push(g)}}else for(;f<=y;++f)for(v=n-1;v>=1;--v)if(g=f>0?v/s(-f):v*s(f),!(g<u)){if(g>d)break;w.push(g)}w.length*2<b&&(w=K5(u,d,b))}else w=K5(f,y,Math.min(y-f,b)).map(s);return p?w.reverse():w},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=X_(l)).precision==null&&(l.trim=!0),l=LV(l)),a===1/0)return l;const u=Math.max(1,n*a/t.ticks().length);return d=>{let p=d/s(Math.round(i(d)));return p*n<n-.5&&(p*=n),p<=u?l(d):""}},t.nice=()=>r(Fpe(r(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function Dpe(){const e=NV(HC()).domain([1,10]);return e.copy=()=>lx(e,Dpe()).base(e.base()),oa.apply(e,arguments),e}function GJ(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qJ(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function FV(e){var t=1,r=e(GJ(t),qJ(t));return r.constant=function(n){return arguments.length?e(GJ(t=+n),qJ(t)):t},tp(r)}function jpe(){var e=FV(HC());return e.copy=function(){return lx(e,jpe()).constant(e.constant())},oa.apply(e,arguments)}function WJ(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dlt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hlt(e){return e<0?-e*e:e*e}function DV(e){var t=e(ss,ss),r=1;function n(){return r===1?e(ss,ss):r===.5?e(dlt,hlt):e(WJ(r),WJ(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},tp(t)}function jV(){var e=DV(HC());return e.copy=function(){return lx(e,jV()).exponent(e.exponent())},oa.apply(e,arguments),e}function plt(){return jV.apply(null,arguments).exponent(.5)}function HJ(e){return Math.sign(e)*e*e}function flt(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Vpe(){var e=kV(),t=[0,1],r=!1,n;function i(s){var o=flt(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(HJ(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,tI)).map(HJ)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Vpe(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},oa.apply(i,arguments),tp(i)}function zpe(){var e=[],t=[],r=[],n;function i(){var o=0,a=Math.max(1,t.length);for(r=new Array(a-1);++o<a;)r[o-1]=bat(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?n:t[ox(r,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ih),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return zpe().domain(e).range(t).unknown(n)},oa.apply(s,arguments)}function Upe(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[ox(n,l,0,r)]:s}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Upe().domain([e,t]).range(i).unknown(s)},oa.apply(tp(o),arguments)}function Bpe(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[ox(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Bpe().domain(e).range(t).unknown(r)},oa.apply(i,arguments)}const dR=new Date,hR=new Date;function Rn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),t(s,a),e(s);while(u<s&&s<o);return l},i.filter=s=>Rn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(dR.setTime(+s),hR.setTime(+o),e(dR),e(hR),Math.floor(r(dR,hR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const iI=Rn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);iI.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):iI);iI.range;const oc=1e3,Ko=oc*60,ac=Ko*60,Oc=ac*24,VV=Oc*7,KJ=Oc*30,pR=Oc*365,zf=Rn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oc)},(e,t)=>(t-e)/oc,e=>e.getUTCSeconds());zf.range;const zV=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oc)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getMinutes());zV.range;const UV=Rn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getUTCMinutes());UV.range;const BV=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oc-e.getMinutes()*Ko)},(e,t)=>{e.setTime(+e+t*ac)},(e,t)=>(t-e)/ac,e=>e.getHours());BV.range;const GV=Rn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ac)},(e,t)=>(t-e)/ac,e=>e.getUTCHours());GV.range;const ux=Rn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ko)/Oc,e=>e.getDate()-1);ux.range;const KC=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oc,e=>e.getUTCDate()-1);KC.range;const Gpe=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oc,e=>Math.floor(e/Oc));Gpe.range;function zm(e){return Rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ko)/VV)}const JC=zm(0),sI=zm(1),mlt=zm(2),ylt=zm(3),U0=zm(4),glt=zm(5),vlt=zm(6);JC.range;sI.range;mlt.range;ylt.range;U0.range;glt.range;vlt.range;function Um(e){return Rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/VV)}const YC=Um(0),oI=Um(1),blt=Um(2),wlt=Um(3),B0=Um(4),_lt=Um(5),Slt=Um(6);YC.range;oI.range;blt.range;wlt.range;B0.range;_lt.range;Slt.range;const qV=Rn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qV.range;const WV=Rn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());WV.range;const Cc=Rn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Cc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Cc.range;const Ac=Rn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ac.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ac.range;function qpe(e,t,r,n,i,s){const o=[[zf,1,oc],[zf,5,5*oc],[zf,15,15*oc],[zf,30,30*oc],[s,1,Ko],[s,5,5*Ko],[s,15,15*Ko],[s,30,30*Ko],[i,1,ac],[i,3,3*ac],[i,6,6*ac],[i,12,12*ac],[n,1,Oc],[n,2,2*Oc],[r,1,VV],[t,1,KJ],[t,3,3*KJ],[e,1,pR]];function a(u,d,p){const f=d<u;f&&([u,d]=[d,u]);const y=p&&typeof p.range=="function"?p:l(u,d,p),v=y?y.range(u,+d+1):[];return f?v.reverse():v}function l(u,d,p){const f=Math.abs(d-u)/p,y=IV(([,,b])=>b).right(o,f);if(y===o.length)return e.every(Y5(u/pR,d/pR,p));if(y===0)return iI.every(Math.max(Y5(u,d,p),1));const[v,g]=o[f/o[y-1][2]<o[y][2]/f?y-1:y];return v.every(g)}return[a,l]}const[xlt,$lt]=qpe(Ac,WV,YC,Gpe,GV,UV),[Elt,Tlt]=qpe(Cc,qV,JC,ux,BV,zV);function fR(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mR(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function D1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Mlt(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,u=j1(i),d=V1(i),p=j1(s),f=V1(s),y=j1(o),v=V1(o),g=j1(a),b=V1(a),w=j1(l),S=V1(l),_={a:ae,A:z,b:J,B:me,c:null,d:eY,e:eY,f:Ylt,g:out,G:lut,H:Hlt,I:Klt,j:Jlt,L:Wpe,m:Zlt,M:Xlt,p:we,q:Se,Q:nY,s:iY,S:Qlt,u:eut,U:tut,V:rut,w:nut,W:iut,x:null,X:null,y:sut,Y:aut,Z:uut,"%":rY},x={a:xe,A:Ne,b:wt,B:Ut,c:null,d:tY,e:tY,f:put,g:xut,G:Eut,H:cut,I:dut,j:hut,L:Kpe,m:fut,M:mut,p:Ht,q:tt,Q:nY,s:iY,S:yut,u:gut,U:vut,V:but,w:wut,W:_ut,x:null,X:null,y:Sut,Y:$ut,Z:Tut,"%":rY},$={a:k,A:P,b:L,B:D,c:j,d:XJ,e:XJ,f:Blt,g:ZJ,G:YJ,H:QJ,I:QJ,j:jlt,L:Ult,m:Dlt,M:Vlt,p:A,q:Flt,Q:qlt,s:Wlt,S:zlt,u:Plt,U:klt,V:Rlt,w:Alt,W:Llt,x:W,X:te,y:ZJ,Y:YJ,Z:Nlt,"%":Glt};_.x=E(r,_),_.X=E(n,_),_.c=E(t,_),x.x=E(r,x),x.X=E(n,x),x.c=E(t,x);function E(le,Oe){return function(Ue){var re=[],rt=-1,Ae=0,We=le.length,Ft,Mr,Qn;for(Ue instanceof Date||(Ue=new Date(+Ue));++rt<We;)le.charCodeAt(rt)===37&&(re.push(le.slice(Ae,rt)),(Mr=JJ[Ft=le.charAt(++rt)])!=null?Ft=le.charAt(++rt):Mr=Ft==="e"?" ":"0",(Qn=Oe[Ft])&&(Ft=Qn(Ue,Mr)),re.push(Ft),Ae=rt+1);return re.push(le.slice(Ae,rt)),re.join("")}}function T(le,Oe){return function(Ue){var re=D1(1900,void 0,1),rt=M(re,le,Ue+="",0),Ae,We;if(rt!=Ue.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Oe&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ae=mR(D1(re.y,0,1)),We=Ae.getUTCDay(),Ae=We>4||We===0?oI.ceil(Ae):oI(Ae),Ae=KC.offset(Ae,(re.V-1)*7),re.y=Ae.getUTCFullYear(),re.m=Ae.getUTCMonth(),re.d=Ae.getUTCDate()+(re.w+6)%7):(Ae=fR(D1(re.y,0,1)),We=Ae.getDay(),Ae=We>4||We===0?sI.ceil(Ae):sI(Ae),Ae=ux.offset(Ae,(re.V-1)*7),re.y=Ae.getFullYear(),re.m=Ae.getMonth(),re.d=Ae.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),We="Z"in re?mR(D1(re.y,0,1)).getUTCDay():fR(D1(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(We+5)%7:re.w+re.U*7-(We+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,mR(re)):fR(re)}}function M(le,Oe,Ue,re){for(var rt=0,Ae=Oe.length,We=Ue.length,Ft,Mr;rt<Ae;){if(re>=We)return-1;if(Ft=Oe.charCodeAt(rt++),Ft===37){if(Ft=Oe.charAt(rt++),Mr=$[Ft in JJ?Oe.charAt(rt++):Ft],!Mr||(re=Mr(le,Ue,re))<0)return-1}else if(Ft!=Ue.charCodeAt(re++))return-1}return re}function A(le,Oe,Ue){var re=u.exec(Oe.slice(Ue));return re?(le.p=d.get(re[0].toLowerCase()),Ue+re[0].length):-1}function k(le,Oe,Ue){var re=y.exec(Oe.slice(Ue));return re?(le.w=v.get(re[0].toLowerCase()),Ue+re[0].length):-1}function P(le,Oe,Ue){var re=p.exec(Oe.slice(Ue));return re?(le.w=f.get(re[0].toLowerCase()),Ue+re[0].length):-1}function L(le,Oe,Ue){var re=w.exec(Oe.slice(Ue));return re?(le.m=S.get(re[0].toLowerCase()),Ue+re[0].length):-1}function D(le,Oe,Ue){var re=g.exec(Oe.slice(Ue));return re?(le.m=b.get(re[0].toLowerCase()),Ue+re[0].length):-1}function j(le,Oe,Ue){return M(le,t,Oe,Ue)}function W(le,Oe,Ue){return M(le,r,Oe,Ue)}function te(le,Oe,Ue){return M(le,n,Oe,Ue)}function ae(le){return o[le.getDay()]}function z(le){return s[le.getDay()]}function J(le){return l[le.getMonth()]}function me(le){return a[le.getMonth()]}function we(le){return i[+(le.getHours()>=12)]}function Se(le){return 1+~~(le.getMonth()/3)}function xe(le){return o[le.getUTCDay()]}function Ne(le){return s[le.getUTCDay()]}function wt(le){return l[le.getUTCMonth()]}function Ut(le){return a[le.getUTCMonth()]}function Ht(le){return i[+(le.getUTCHours()>=12)]}function tt(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Oe=E(le+="",_);return Oe.toString=function(){return le},Oe},parse:function(le){var Oe=T(le+="",!1);return Oe.toString=function(){return le},Oe},utcFormat:function(le){var Oe=E(le+="",x);return Oe.toString=function(){return le},Oe},utcParse:function(le){var Oe=T(le+="",!0);return Oe.toString=function(){return le},Oe}}}var JJ={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,Ilt=/^%/,Olt=/[\\^$*+?|[\]().{}]/g;function Nt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function Clt(e){return e.replace(Olt,"\\$&")}function j1(e){return new RegExp("^(?:"+e.map(Clt).join("|")+")","i")}function V1(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Alt(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Plt(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function klt(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Rlt(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Llt(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function YJ(e,t,r){var n=Xn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ZJ(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Nlt(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Flt(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Dlt(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function XJ(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function jlt(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function QJ(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Vlt(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function zlt(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Ult(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Blt(e,t,r){var n=Xn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Glt(e,t,r){var n=Ilt.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function qlt(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Wlt(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function eY(e,t){return Nt(e.getDate(),t,2)}function Hlt(e,t){return Nt(e.getHours(),t,2)}function Klt(e,t){return Nt(e.getHours()%12||12,t,2)}function Jlt(e,t){return Nt(1+ux.count(Cc(e),e),t,3)}function Wpe(e,t){return Nt(e.getMilliseconds(),t,3)}function Ylt(e,t){return Wpe(e,t)+"000"}function Zlt(e,t){return Nt(e.getMonth()+1,t,2)}function Xlt(e,t){return Nt(e.getMinutes(),t,2)}function Qlt(e,t){return Nt(e.getSeconds(),t,2)}function eut(e){var t=e.getDay();return t===0?7:t}function tut(e,t){return Nt(JC.count(Cc(e)-1,e),t,2)}function Hpe(e){var t=e.getDay();return t>=4||t===0?U0(e):U0.ceil(e)}function rut(e,t){return e=Hpe(e),Nt(U0.count(Cc(e),e)+(Cc(e).getDay()===4),t,2)}function nut(e){return e.getDay()}function iut(e,t){return Nt(sI.count(Cc(e)-1,e),t,2)}function sut(e,t){return Nt(e.getFullYear()%100,t,2)}function out(e,t){return e=Hpe(e),Nt(e.getFullYear()%100,t,2)}function aut(e,t){return Nt(e.getFullYear()%1e4,t,4)}function lut(e,t){var r=e.getDay();return e=r>=4||r===0?U0(e):U0.ceil(e),Nt(e.getFullYear()%1e4,t,4)}function uut(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nt(t/60|0,"0",2)+Nt(t%60,"0",2)}function tY(e,t){return Nt(e.getUTCDate(),t,2)}function cut(e,t){return Nt(e.getUTCHours(),t,2)}function dut(e,t){return Nt(e.getUTCHours()%12||12,t,2)}function hut(e,t){return Nt(1+KC.count(Ac(e),e),t,3)}function Kpe(e,t){return Nt(e.getUTCMilliseconds(),t,3)}function put(e,t){return Kpe(e,t)+"000"}function fut(e,t){return Nt(e.getUTCMonth()+1,t,2)}function mut(e,t){return Nt(e.getUTCMinutes(),t,2)}function yut(e,t){return Nt(e.getUTCSeconds(),t,2)}function gut(e){var t=e.getUTCDay();return t===0?7:t}function vut(e,t){return Nt(YC.count(Ac(e)-1,e),t,2)}function Jpe(e){var t=e.getUTCDay();return t>=4||t===0?B0(e):B0.ceil(e)}function but(e,t){return e=Jpe(e),Nt(B0.count(Ac(e),e)+(Ac(e).getUTCDay()===4),t,2)}function wut(e){return e.getUTCDay()}function _ut(e,t){return Nt(oI.count(Ac(e)-1,e),t,2)}function Sut(e,t){return Nt(e.getUTCFullYear()%100,t,2)}function xut(e,t){return e=Jpe(e),Nt(e.getUTCFullYear()%100,t,2)}function $ut(e,t){return Nt(e.getUTCFullYear()%1e4,t,4)}function Eut(e,t){var r=e.getUTCDay();return e=r>=4||r===0?B0(e):B0.ceil(e),Nt(e.getUTCFullYear()%1e4,t,4)}function Tut(){return"+0000"}function rY(){return"%"}function nY(e){return+e}function iY(e){return Math.floor(+e/1e3)}var py,Ype,Zpe;Mut({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mut(e){return py=Mlt(e),Ype=py.format,py.parse,Zpe=py.utcFormat,py.utcParse,py}function Iut(e){return new Date(e)}function Out(e){return e instanceof Date?+e:+new Date(+e)}function HV(e,t,r,n,i,s,o,a,l,u){var d=kV(),p=d.invert,f=d.domain,y=u(".%L"),v=u(":%S"),g=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),S=u("%b %d"),_=u("%B"),x=u("%Y");function $(E){return(l(E)<E?y:a(E)<E?v:o(E)<E?g:s(E)<E?b:n(E)<E?i(E)<E?w:S:r(E)<E?_:x)(E)}return d.invert=function(E){return new Date(p(E))},d.domain=function(E){return arguments.length?f(Array.from(E,Out)):f().map(Iut)},d.ticks=function(E){var T=f();return e(T[0],T[T.length-1],E??10)},d.tickFormat=function(E,T){return T==null?$:u(T)},d.nice=function(E){var T=f();return(!E||typeof E.range!="function")&&(E=t(T[0],T[T.length-1],E??10)),E?f(Fpe(T,E)):d},d.copy=function(){return lx(d,HV(e,t,r,n,i,s,o,a,l,u))},d}function Cut(){return oa.apply(HV(Elt,Tlt,Cc,qV,JC,ux,BV,zV,zf,Ype).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Aut(){return oa.apply(HV(xlt,$lt,Ac,WV,YC,KC,GV,UV,zf,Zpe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ZC(){var e=0,t=1,r,n,i,s,o=ss,a=!1,l;function u(p){return p==null||isNaN(p=+p)?l:o(i===0?.5:(p=(s(p)-r)*i,a?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(a=!!p,u):a},u.interpolator=function(p){return arguments.length?(o=p,u):o};function d(p){return function(f){var y,v;return arguments.length?([y,v]=f,o=p(y,v),u):[o(0),o(1)]}}return u.range=d(Fv),u.rangeRound=d(PV),u.unknown=function(p){return arguments.length?(l=p,u):l},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),u}}function rp(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Xpe(){var e=tp(ZC()(ss));return e.copy=function(){return rp(e,Xpe())},jc.apply(e,arguments)}function Qpe(){var e=NV(ZC()).domain([1,10]);return e.copy=function(){return rp(e,Qpe()).base(e.base())},jc.apply(e,arguments)}function efe(){var e=FV(ZC());return e.copy=function(){return rp(e,efe()).constant(e.constant())},jc.apply(e,arguments)}function KV(){var e=DV(ZC());return e.copy=function(){return rp(e,KV()).exponent(e.exponent())},jc.apply(e,arguments)}function Put(){return KV.apply(null,arguments).exponent(.5)}function tfe(){var e=[],t=ss;function r(n){if(n!=null&&!isNaN(n=+n))return t((ox(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ih),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>vat(e,s/n))},r.copy=function(){return tfe(t).domain(e)},jc.apply(r,arguments)}function XC(){var e=0,t=.5,r=1,n=1,i,s,o,a,l,u=ss,d,p=!1,f;function y(g){return isNaN(g=+g)?f:(g=.5+((g=+d(g))-s)*(n*g<n*s?a:l),u(p?Math.max(0,Math.min(1,g)):g))}y.domain=function(g){return arguments.length?([e,t,r]=g,i=d(e=+e),s=d(t=+t),o=d(r=+r),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),n=s<i?-1:1,y):[e,t,r]},y.clamp=function(g){return arguments.length?(p=!!g,y):p},y.interpolator=function(g){return arguments.length?(u=g,y):u};function v(g){return function(b){var w,S,_;return arguments.length?([w,S,_]=b,u=Gat(g,[w,S,_]),y):[u(0),u(.5),u(1)]}}return y.range=v(Fv),y.rangeRound=v(PV),y.unknown=function(g){return arguments.length?(f=g,y):f},function(g){return d=g,i=g(e),s=g(t),o=g(r),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),n=s<i?-1:1,y}}function rfe(){var e=tp(XC()(ss));return e.copy=function(){return rp(e,rfe())},jc.apply(e,arguments)}function nfe(){var e=NV(XC()).domain([.1,1,10]);return e.copy=function(){return rp(e,nfe()).base(e.base())},jc.apply(e,arguments)}function ife(){var e=FV(XC());return e.copy=function(){return rp(e,ife()).constant(e.constant())},jc.apply(e,arguments)}function JV(){var e=DV(XC());return e.copy=function(){return rp(e,JV()).exponent(e.exponent())},jc.apply(e,arguments)}function kut(){return JV.apply(null,arguments).exponent(.5)}const sY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:K_,scaleDiverging:rfe,scaleDivergingLog:nfe,scaleDivergingPow:JV,scaleDivergingSqrt:kut,scaleDivergingSymlog:ife,scaleIdentity:Npe,scaleImplicit:Z5,scaleLinear:nI,scaleLog:Dpe,scaleOrdinal:OV,scalePoint:Lw,scalePow:jV,scaleQuantile:zpe,scaleQuantize:Upe,scaleRadial:Vpe,scaleSequential:Xpe,scaleSequentialLog:Qpe,scaleSequentialPow:KV,scaleSequentialQuantile:tfe,scaleSequentialSqrt:Put,scaleSequentialSymlog:efe,scaleSqrt:plt,scaleSymlog:jpe,scaleThreshold:Bpe,scaleTime:Cut,scaleUtc:Aut,tickFormat:Lpe},Symbol.toStringTag,{value:"Module"}));var Dv=1e9,Rut={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZV,Pr=!0,na="[DecimalError] ",tm=na+"Invalid argument: ",YV=na+"Exponent out of range: ",jv=Math.floor,hf=Math.pow,Lut=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zs,Bn=1e7,$r=7,sfe=9007199254740991,aI=jv(sfe/$r),Te={};Te.absoluteValue=Te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Te.comparedTo=Te.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$r;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(e){return gc(this,new this.constructor(e))};Te.dividedToIntegerBy=Te.idiv=function(e){var t=this,r=t.constructor;return or(gc(t,new r(e),0,1),r.precision)};Te.equals=Te.eq=function(e){return!this.cmp(e)};Te.exponent=function(){return mn(this)};Te.greaterThan=Te.gt=function(e){return this.cmp(e)>0};Te.greaterThanOrEqualTo=Te.gte=function(e){return this.cmp(e)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(e){return this.cmp(e)<0};Te.lessThanOrEqualTo=Te.lte=function(e){return this.cmp(e)<1};Te.logarithm=Te.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zs))throw Error(na+"NaN");if(r.s<1)throw Error(na+(r.s?"NaN":"-Infinity"));return r.eq(Zs)?new n(0):(Pr=!1,t=gc(Q_(r,s),Q_(e,s),s),Pr=!0,or(t,i))};Te.minus=Te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lfe(t,e):ofe(t,(e.s=-e.s,e))};Te.modulo=Te.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(na+"NaN");return r.s?(Pr=!1,t=gc(r,e,0,1).times(e),Pr=!0,r.minus(t)):or(new n(r),i)};Te.naturalExponential=Te.exp=function(){return afe(this)};Te.naturalLogarithm=Te.ln=function(){return Q_(this)};Te.negated=Te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Te.plus=Te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ofe(t,e):lfe(t,(e.s=-e.s,e))};Te.precision=Te.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(tm+e);if(t=mn(i)+1,n=i.d.length-1,r=n*$r+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Te.squareRoot=Te.sqrt=function(){var e,t,r,n,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(na+"NaN")}for(e=mn(a),Pr=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=ql(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=jv((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(s=n,n=s.plus(gc(a,s,o+2)).times(.5),ql(s.d).slice(0,o)===(t=ql(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(or(s,r+1,0),s.times(s).eq(a)){n=s;break}}else if(t!="9999")break;o+=4}return Pr=!0,or(n,r)};Te.times=Te.mul=function(e){var t,r,n,i,s,o,a,l,u,d=this,p=d.constructor,f=d.d,y=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,r=d.e+e.e,l=f.length,u=y.length,l<u&&(s=f,f=y,y=s,o=l,l=u,u=o),s=[],o=l+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)a=s[i]+y[n]*f[i-n-1]+t,s[i--]=a%Bn|0,t=a/Bn|0;s[i]=(s[i]+t)%Bn|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Pr?or(e,p.precision):e};Te.toDecimalPlaces=Te.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(nu(e,0,Dv),t===void 0?t=n.rounding:nu(t,0,8),or(r,e+mn(r)+1,t))};Te.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Im(n,!0):(nu(e,0,Dv),t===void 0?t=i.rounding:nu(t,0,8),n=or(new i(n),e+1,t),r=Im(n,!0,e+1)),r};Te.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Im(i):(nu(e,0,Dv),t===void 0?t=s.rounding:nu(t,0,8),n=or(new s(i),e+mn(i)+1,t),r=Im(n.abs(),!1,e+mn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var e=this,t=e.constructor;return or(new t(e),mn(e)+1,t.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(e){var t,r,n,i,s,o,a=this,l=a.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Zs);if(a=new l(a),!a.s){if(e.s<1)throw Error(na+"Infinity");return a}if(a.eq(Zs))return a;if(n=l.precision,e.eq(Zs))return or(a,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=a.s,o){if((r=d<0?-d:d)<=sfe){for(i=new l(Zs),t=Math.ceil(n/$r+4),Pr=!1;r%2&&(i=i.times(a),aY(i.d,t)),r=jv(r/2),r!==0;)a=a.times(a),aY(a.d,t);return Pr=!0,e.s<0?new l(Zs).div(i):or(i,n)}}else if(s<0)throw Error(na+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,Pr=!1,i=e.times(Q_(a,n+u)),Pr=!0,i=afe(i),i.s=s,i};Te.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=mn(i),n=Im(i,r<=s.toExpNeg||r>=s.toExpPos)):(nu(e,1,Dv),t===void 0?t=s.rounding:nu(t,0,8),i=or(new s(i),e,t),r=mn(i),n=Im(i,e<=r||r<=s.toExpNeg,e)),n};Te.toSignificantDigits=Te.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(nu(e,1,Dv),t===void 0?t=n.rounding:nu(t,0,8)),or(new n(r),e,t)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mn(e),r=e.constructor;return Im(e,t<=r.toExpNeg||t>=r.toExpPos)};function ofe(e,t){var r,n,i,s,o,a,l,u,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Pr?or(t,p):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),s=o-i,s){for(s<0?(n=l,s=-s,a=u.length):(n=u,i=o,a=l.length),o=Math.ceil(p/$r),a=o>a?o+1:a+1,s>a&&(s=a,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(a=l.length,s=u.length,a-s<0&&(s=a,n=u,u=l,l=n),r=0;s;)r=(l[--s]=l[s]+u[s]+r)/Bn|0,l[s]%=Bn;for(r&&(l.unshift(r),++i),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=i,Pr?or(t,p):t}function nu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(tm+e)}function ql(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=$r-n.length,r&&(s+=Jd(r)),s+=n;o=e[t],n=o+"",r=$r-n.length,r&&(s+=Jd(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var gc=function(){function e(n,i){var s,o=0,a=n.length;for(n=n.slice();a--;)s=n[a]*i+o,n[a]=s%Bn|0,o=s/Bn|0;return o&&n.unshift(o),n}function t(n,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(n[a]!=i[a]){l=n[a]>i[a]?1:-1;break}return l}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Bn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var a,l,u,d,p,f,y,v,g,b,w,S,_,x,$,E,T,M,A=n.constructor,k=n.s==i.s?1:-1,P=n.d,L=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(na+"Division by zero");for(l=n.e-i.e,T=L.length,$=P.length,y=new A(k),v=y.d=[],u=0;L[u]==(P[u]||0);)++u;if(L[u]>(P[u]||0)&&--l,s==null?S=s=A.precision:o?S=s+(mn(n)-mn(i))+1:S=s,S<0)return new A(0);if(S=S/$r+2|0,u=0,T==1)for(d=0,L=L[0],S++;(u<$||d)&&S--;u++)_=d*Bn+(P[u]||0),v[u]=_/L|0,d=_%L|0;else{for(d=Bn/(L[0]+1)|0,d>1&&(L=e(L,d),P=e(P,d),T=L.length,$=P.length),x=T,g=P.slice(0,T),b=g.length;b<T;)g[b++]=0;M=L.slice(),M.unshift(0),E=L[0],L[1]>=Bn/2&&++E;do d=0,a=t(L,g,T,b),a<0?(w=g[0],T!=b&&(w=w*Bn+(g[1]||0)),d=w/E|0,d>1?(d>=Bn&&(d=Bn-1),p=e(L,d),f=p.length,b=g.length,a=t(p,g,f,b),a==1&&(d--,r(p,T<f?M:L,f))):(d==0&&(a=d=1),p=L.slice()),f=p.length,f<b&&p.unshift(0),r(g,p,b),a==-1&&(b=g.length,a=t(L,g,T,b),a<1&&(d++,r(g,T<b?M:L,b))),b=g.length):a===0&&(d++,g=[0]),v[u++]=d,a&&g[0]?g[b++]=P[x]||0:(g=[P[x]],b=1);while((x++<$||g[0]!==void 0)&&S--)}return v[0]||v.shift(),y.e=l,or(y,o?s+mn(y)+1:s)}}();function afe(e,t){var r,n,i,s,o,a,l=0,u=0,d=e.constructor,p=d.precision;if(mn(e)>16)throw Error(YV+mn(e));if(!e.s)return new d(Zs);for(t==null?(Pr=!1,a=p):a=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(hf(2,u))/Math.LN10*2+5|0,a+=n,r=i=s=new d(Zs),d.precision=a;;){if(i=or(i.times(e),a),r=r.times(++l),o=s.plus(gc(i,r,a)),ql(o.d).slice(0,a)===ql(s.d).slice(0,a)){for(;u--;)s=or(s.times(s),a);return d.precision=p,t==null?(Pr=!0,or(s,p)):s}s=o}}function mn(e){for(var t=e.e*$r,r=e.d[0];r>=10;r/=10)t++;return t}function yR(e,t,r){if(t>e.LN10.sd())throw Pr=!0,r&&(e.precision=r),Error(na+"LN10 precision limit exceeded");return or(new e(e.LN10),t)}function Jd(e){for(var t="";e--;)t+="0";return t}function Q_(e,t){var r,n,i,s,o,a,l,u,d,p=1,f=10,y=e,v=y.d,g=y.constructor,b=g.precision;if(y.s<1)throw Error(na+(y.s?"NaN":"-Infinity"));if(y.eq(Zs))return new g(0);if(t==null?(Pr=!1,u=b):u=t,y.eq(10))return t==null&&(Pr=!0),yR(g,u);if(u+=f,g.precision=u,r=ql(v),n=r.charAt(0),s=mn(y),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=ql(y.d),n=r.charAt(0),p++;s=mn(y),n>1?(y=new g("0."+r),s++):y=new g(n+"."+r.slice(1))}else return l=yR(g,u+2,b).times(s+""),y=Q_(new g(n+"."+r.slice(1)),u-f).plus(l),g.precision=b,t==null?(Pr=!0,or(y,b)):y;for(a=o=y=gc(y.minus(Zs),y.plus(Zs),u),d=or(y.times(y),u),i=3;;){if(o=or(o.times(d),u),l=a.plus(gc(o,new g(i),u)),ql(l.d).slice(0,u)===ql(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(yR(g,u+2,b).times(s+""))),a=gc(a,new g(p),u),g.precision=b,t==null?(Pr=!0,or(a,b)):a;a=l,i+=2}}function oY(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=jv(r/$r),e.d=[],n=(r+1)%$r,r<0&&(n+=$r),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=$r;n<i;)e.d.push(+t.slice(n,n+=$r));t=t.slice(n),n=$r-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Pr&&(e.e>aI||e.e<-aI))throw Error(YV+r)}else e.s=0,e.e=0,e.d=[0];return e}function or(e,t,r){var n,i,s,o,a,l,u,d,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=$r,i=t,u=p[d=0];else{if(d=Math.ceil((n+1)/$r),s=p.length,d>=s)return e;for(u=s=p[d],o=1;s>=10;s/=10)o++;n%=$r,i=n-$r+o}if(r!==void 0&&(s=hf(10,o-i-1),a=u/s%10|0,l=t<0||p[d+1]!==void 0||u%s,l=r<4?(a||l)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||l||r==6&&(n>0?i>0?u/hf(10,o-i):0:p[d-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return l?(s=mn(e),p.length=1,t=t-s-1,p[0]=hf(10,($r-t%$r)%$r),e.e=jv(-t/$r)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=d,s=1,d--):(p.length=d+1,s=hf(10,$r-n),p[d]=i>0?(u/hf(10,o-i)%hf(10,i)|0)*s:0),l)for(;;)if(d==0){(p[0]+=s)==Bn&&(p[0]=1,++e.e);break}else{if(p[d]+=s,p[d]!=Bn)break;p[d--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Pr&&(e.e>aI||e.e<-aI))throw Error(YV+mn(e));return e}function lfe(e,t){var r,n,i,s,o,a,l,u,d,p,f=e.constructor,y=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Pr?or(t,y):t;if(l=e.d,p=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,a=p.length):(r=p,n=u,a=l.length),i=Math.max(Math.ceil(y/$r),a)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,a=p.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=p[i]){d=l[i]<p[i];break}o=0}for(d&&(r=l,l=p,p=r,t.s=-t.s),a=l.length,i=p.length-a;i>0;--i)l[a++]=0;for(i=p.length;i>o;){if(l[--i]<p[i]){for(s=i;s&&l[--s]===0;)l[s]=Bn-1;--l[s],l[i]+=Bn}l[i]-=p[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Pr?or(t,y):t):new f(0)}function Im(e,t,r){var n,i=mn(e),s=ql(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Jd(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Jd(-i-1)+s,r&&(n=r-o)>0&&(s+=Jd(n))):i>=o?(s+=Jd(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Jd(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Jd(n))),e.s<0?"-"+s:s}function aY(e,t){if(e.length>t)return e.length=t,!0}function ufe(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(tm+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return oY(o,s.toString())}else if(typeof s!="string")throw Error(tm+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Lut.test(s))oY(o,s);else throw Error(tm+s)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ufe,i.config=i.set=Nut,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Nut(e){if(!e||typeof e!="object")throw Error(na+"Object expected");var t,r,n,i=["precision",1,Dv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(jv(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(tm+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(tm+r+": "+n);return this}var ZV=ufe(Rut);Zs=new ZV(1);const nr=ZV;function Fut(e){return zut(e)||Vut(e)||jut(e)||Dut()}function Dut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jut(e,t){if(e){if(typeof e=="string")return tD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tD(e,t)}}function Vut(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function zut(e){if(Array.isArray(e))return tD(e)}function tD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Uut=function(t){return t},cfe={"@@functional/placeholder":!0},dfe=function(t){return t===cfe},lY=function(t){return function r(){return arguments.length===0||arguments.length===1&&dfe(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},But=function e(t,r){return t===1?r:lY(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==cfe}).length;return o>=t?r.apply(void 0,i):e(t-o,lY(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=i.map(function(p){return dfe(p)?l.shift():p});return r.apply(void 0,Fut(d).concat(l))}))})},QC=function(t){return But(t.length,t)},rD=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Gut=QC(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),qut=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Uut;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},nD=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},hfe=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(a,l){return a===r[l]})||(r=s,n=t.apply(void 0,s)),n}};function Wut(e){var t;return e===0?t=1:t=Math.floor(new nr(e).abs().log(10).toNumber())+1,t}function Hut(e,t,r){for(var n=new nr(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Kut=QC(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),Jut=QC(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Yut=QC(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const eA={rangeStep:Hut,getDigitCount:Wut,interpolateNumber:Kut,uninterpolateNumber:Jut,uninterpolateTruncation:Yut};function iD(e){return Qut(e)||Xut(e)||pfe(e)||Zut()}function Zut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xut(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Qut(e){if(Array.isArray(e))return sD(e)}function eS(e,t){return rct(e)||tct(e,t)||pfe(e,t)||ect()}function ect(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pfe(e,t){if(e){if(typeof e=="string")return sD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sD(e,t)}}function sD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tct(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),a;!(n=(a=o.next()).done)&&(r.push(a.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function rct(e){if(Array.isArray(e))return e}function ffe(e){var t=eS(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function mfe(e,t,r){if(e.lte(0))return new nr(0);var n=eA.getDigitCount(e.toNumber()),i=new nr(10).pow(n),s=e.div(i),o=n!==1?.05:.1,a=new nr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),l=a.mul(i);return t?l:new nr(Math.ceil(l))}function nct(e,t,r){var n=1,i=new nr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new nr(10).pow(eA.getDigitCount(e)-1),i=new nr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new nr(Math.floor(e)))}else e===0?i=new nr(Math.floor((t-1)/2)):r||(i=new nr(Math.floor(e)));var o=Math.floor((t-1)/2),a=qut(Gut(function(l){return i.add(new nr(l-o).mul(n)).toNumber()}),rD);return a(0,t)}function yfe(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new nr(0),tickMin:new nr(0),tickMax:new nr(0)};var s=mfe(new nr(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new nr(0):(o=new nr(e).add(t).div(2),o=o.sub(new nr(o).mod(s)));var a=Math.ceil(o.sub(e).div(s).toNumber()),l=Math.ceil(new nr(t).sub(o).div(s).toNumber()),u=a+l+1;return u>r?yfe(e,t,r,n,i+1):(u<r&&(l=t>0?l+(r-u):l,a=t>0?a:a+(r-u)),{step:s,tickMin:o.sub(new nr(a).mul(s)),tickMax:o.add(new nr(l).mul(s))})}function ict(e){var t=eS(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=ffe([r,n]),l=eS(a,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var p=d===1/0?[u].concat(iD(rD(0,i-1).map(function(){return 1/0}))):[].concat(iD(rD(0,i-1).map(function(){return-1/0})),[d]);return r>n?nD(p):p}if(u===d)return nct(u,i,s);var f=yfe(u,d,o,s),y=f.step,v=f.tickMin,g=f.tickMax,b=eA.rangeStep(v,g.add(new nr(.1).mul(y)),y);return r>n?nD(b):b}function sct(e,t){var r=eS(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=ffe([n,i]),a=eS(o,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(t,2),p=mfe(new nr(u).sub(l).div(d-1),s,0),f=[].concat(iD(eA.rangeStep(new nr(l),new nr(u).sub(new nr(.99).mul(p)),p)),[u]);return n>i?nD(f):f}var oct=hfe(ict),act=hfe(sct),lct=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function lI(){return lI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lI.apply(this,arguments)}function uct(e,t){return pct(e)||hct(e,t)||dct(e,t)||cct()}function cct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dct(e,t){if(e){if(typeof e=="string")return uY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uY(e,t)}}function uY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hct(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function pct(e){if(Array.isArray(e))return e}function fct(e,t){if(e==null)return{};var r=mct(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mct(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function tA(e){var t=e.offset,r=e.layout,n=e.width,i=e.dataKey,s=e.data,o=e.dataPointFormatter,a=e.xAxis,l=e.yAxis,u=fct(e,lct),d=Xt(u),p=s.map(function(f,y){var v=o(f,i),g=v.x,b=v.y,w=v.value,S=v.errorVal;if(!S)return null;var _=[],x,$;if(Array.isArray(S)){var E=uct(S,2);x=E[0],$=E[1]}else x=$=S;if(r==="vertical"){var T=a.scale,M=b+t,A=M+n,k=M-n,P=T(w-x),L=T(w+$);_.push({x1:L,y1:A,x2:L,y2:k}),_.push({x1:P,y1:M,x2:L,y2:M}),_.push({x1:P,y1:A,x2:P,y2:k})}else if(r==="horizontal"){var D=l.scale,j=g+t,W=j-n,te=j+n,ae=D(w-x),z=D(w+$);_.push({x1:W,y1:z,x2:te,y2:z}),_.push({x1:j,y1:ae,x2:j,y2:z}),_.push({x1:W,y1:ae,x2:te,y2:ae})}return K.createElement(li,lI({className:"recharts-errorBar",key:"bar-".concat(y)},d),_.map(function(J,me){return K.createElement("line",lI({},J,{key:"line-".concat(me)}))}))});return K.createElement(li,{className:"recharts-errorBars"},p)}tA.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};tA.displayName="ErrorBar";function tS(e){return tS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tS(e)}function cY(e){return bct(e)||vct(e)||gct(e)||yct()}function yct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gct(e,t){if(e){if(typeof e=="string")return oD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oD(e,t)}}function vct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bct(e){if(Array.isArray(e))return oD(e)}function oD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dY(Object(r),!0).forEach(function(n){Xg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xg(e,t,r){return t=wct(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wct(e){var t=_ct(e,"string");return tS(t)==="symbol"?t:String(t)}function _ct(e,t){if(tS(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tS(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iu(e,t,r){return it(e)||it(t)?r:In(t)?oo(e,t,r):Ze(t)?t(e):r}function Nw(e,t,r,n){var i=sat(e,function(a){return iu(a,t)});if(r==="number"){var s=i.filter(function(a){return ve(a)||parseFloat(a)});return s.length?[WC(s),qC(s)]:[1/0,-1/0]}var o=n?i.filter(function(a){return!it(a)}):i;return o.map(function(a){return In(a)||a instanceof Date?a:""})}var Sct=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<a;u++){var d=u>0?i[u-1].coordinate:i[a-1].coordinate,p=i[u].coordinate,f=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Ho(p-d)!==Ho(f-p)){var v=[];if(Ho(f-p)===Ho(l[1]-l[0])){y=f;var g=p+l[1]-l[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{y=d;var b=f+l[1]-l[0];v[0]=Math.min(p,(b+p)/2),v[1]=Math.max(p,(b+p)/2)}var w=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(t>w[0]&&t<=w[1]||t>=v[0]&&t<=v[1]){o=i[u].index;break}}else{var S=Math.min(d,f),_=Math.max(d,f);if(t>(S+p)/2&&t<=(_+p)/2){o=i[u].index;break}}}else for(var x=0;x<a;x++)if(x===0&&t<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<a-1&&t>(n[x].coordinate+n[x-1].coordinate)/2&&t<=(n[x].coordinate+n[x+1].coordinate)/2||x===a-1&&t>(n[x].coordinate+n[x-1].coordinate)/2){o=n[x].index;break}return o},XV=function(t){var r=t,n=r.type.displayName,i=t.props,s=i.stroke,o=i.fill,a;switch(n){case"Line":a=s;break;case"Area":case"Radar":a=s&&s!=="none"?s:o;break;default:a=o;break}return a},gfe=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=sc(r,U_);if(!o)return null;var a;return o.props&&o.props.payload?a=o.props&&o.props.payload:s==="children"?a=(n||[]).reduce(function(l,u){var d=u.item,p=u.props,f=p.sectors||p.data||[];return l.concat(f.map(function(y){return{type:o.props.iconType||d.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):a=(n||[]).map(function(l){var u=l.item,d=u.props,p=d.dataKey,f=d.name,y=d.legendType,v=d.hide;return{inactive:v,dataKey:p,type:o.props.iconType||y||"square",color:XV(u),value:f||p,payload:u.props}}),ns(ns(ns({},o.props),U_.getWithHeight(o,i)),{},{payload:a,item:o})},xct=function(t){var r=t.barSize,n=t.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var s={},o=Object.keys(i),a=0,l=o.length;a<l;a++)for(var u=i[o[a]].stackGroups,d=Object.keys(u),p=0,f=d.length;p<f;p++){var y=u[d[p]],v=y.items,g=y.cateAxisId,b=v.filter(function(_){return Th(_.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].props.barSize,S=b[0].props[g];s[S]||(s[S]=[]),s[S].push({item:b[0],stackList:b.slice(1),barSize:it(w)?r:w})}}return s},$ct=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,a=t.maxBarSize,l=o.length;if(l<1)return null;var u=C0(r,i,0,!0),d;if(o[0].barSize===+o[0].barSize){var p=!1,f=i/l,y=o.reduce(function(_,x){return _+x.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&f>0&&(p=!0,f*=.9,y=l*f);var v=(i-y)/2>>0,g={offset:v-u,size:0};d=o.reduce(function(_,x){var $=[].concat(cY(_),[{item:x.item,position:{offset:g.offset+g.size+u,size:p?f:x.barSize}}]);return g=$[$.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(E){$.push({item:E,position:g})}),$},[])}else{var b=C0(n,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var w=(i-2*b-(l-1)*u)/l;w>1&&(w>>=0);var S=a===+a?Math.min(w,a):w;d=o.reduce(function(_,x,$){var E=[].concat(cY(_),[{item:x.item,position:{offset:b+(w+u)*$+(w-S)/2,size:S}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},[])}return d},Ect=function(t,r,n,i){var s=n.children,o=n.width,a=n.margin,l=o-(a.left||0)-(a.right||0),u=gfe({children:s,legendWidth:l}),d=t;if(u){var p=i||{},f=u.align,y=u.verticalAlign,v=u.layout;(v==="vertical"||v==="horizontal"&&y==="middle")&&ve(t[f])&&(d=ns(ns({},t),{},Xg({},f,d[f]+(p.width||0)))),(v==="horizontal"||v==="vertical"&&f==="center")&&ve(t[y])&&(d=ns(ns({},t),{},Xg({},y,d[y]+(p.height||0))))}return d},Tct=function(t,r,n){return it(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vfe=function(t,r,n,i,s){var o=r.props.children,a=Ja(o,tA).filter(function(u){return Tct(i,s,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var p=iu(d,n,0),f=zt(p)?[WC(p),qC(p)]:[p,p],y=l.reduce(function(v,g){var b=iu(d,g,0),w=f[0]-Math.abs(zt(b)?b[0]:b),S=f[1]+Math.abs(zt(b)?b[1]:b);return[Math.min(w,v[0]),Math.max(S,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},Mct=function(t,r,n,i,s){var o=r.map(function(a){return vfe(t,a,n,s,i)}).filter(function(a){return!it(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},bfe=function(t,r,n,i,s){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&vfe(t,l,u,i)||Nw(t,u,n,s)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,u){for(var d=0,p=u.length;d<p;d++)a[u[d]]||(a[u[d]]=!0,l.push(u[d]));return l},[])},wfe=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},hY=function(t,r,n){var i,s,o=t.map(function(a){return a.coordinate===r&&(i=!0),a.coordinate===n&&(s=!0),a.coordinate});return i||o.push(r),s||o.push(n),o},jd=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,a=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Ho(a[0]-a[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(p){var f=s?s.indexOf(p):p;return{coordinate:i(f)+u,value:p,offset:u}});return d.filter(function(p){return!nx(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,f){return{coordinate:i(p)+u,value:p,index:f,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+u,value:p,offset:u}}):i.domain().map(function(p,f){return{coordinate:i(p)+u,value:s?s[p]:p,index:f,offset:u}})},K$=function(t,r,n){var i;return Ze(n)?i=n:Ze(r)&&(i=r),Ze(t)||i?function(s,o,a,l){Ze(t)&&t(s,o,a,l),Ze(i)&&i(s,o,a,l)}:null},Ict=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,a=t.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:K_(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:nI(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Lw(),realScaleType:"point"}:s==="category"?{scale:K_(),realScaleType:"band"}:{scale:nI(),realScaleType:"linear"};if(rx(i)){var l="scale".concat(LC(i));return{scale:(sY[l]||Lw)(),realScaleType:sY[l]?l:"point"}}return Ze(i)?{scale:i}:{scale:Lw(),realScaleType:"point"}},pY=1e-4,Oct=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-pY,o=Math.max(i[0],i[1])+pY,a=t(r[0]),l=t(r[n-1]);(a<s||a>o||l<s||l>o)&&t.domain([r[0],r[n-1]])}},Cct=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},Act=function(t,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!ve(t[0])||t[0]<n)&&(s[0]=n),(!ve(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Pct=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,a=0;a<r;++a){var l=nx(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+l,o=t[a][n][1])}},kct=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var a=nx(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=s,t[o][n][1]=s+a,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Rct={sign:Pct,expand:Bet,none:A0,silhouette:Get,wiggle:qet,positive:kct},Lct=function(t,r,n){var i=r.map(function(o){return o.props.dataKey}),s=Uet().keys(i).value(function(o,a){return+iu(o,a,0)}).order(_5).offset(Rct[n]);return s(t)},Nct=function(t,r,n,i,s,o){if(!t)return null;var a=o?r.reverse():r,l=a.reduce(function(u,d){var p=d.props,f=p.stackId,y=p.hide;if(y)return u;var v=d.props[n],g=u[v]||{hasStack:!1,stackGroups:{}};if(In(f)){var b=g.stackGroups[f]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(d),g.hasStack=!0,g.stackGroups[f]=b}else g.stackGroups[kC("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[d]};return ns(ns({},u),{},Xg({},v,g))},{});return Object.keys(l).reduce(function(u,d){var p=l[d];return p.hasStack&&(p.stackGroups=Object.keys(p.stackGroups).reduce(function(f,y){var v=p.stackGroups[y];return ns(ns({},f),{},Xg({},y,{numericAxisId:n,cateAxisId:i,items:v.items,stackedData:Lct(t,v.items,s)}))},{})),ns(ns({},u),{},Xg({},d,p))},{})},Fct=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,a=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=oct(u,s,a);return t.domain([WC(d),qC(d)]),{niceTicks:d}}if(s&&i==="number"){var p=t.domain(),f=act(p,s,a);return{niceTicks:f}}return null},fY=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,a=t.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var l=iu(o,r.dataKey,r.domain[a]);return it(l)?null:r.scale(l)-s/2+i},Dct=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},jct=function(t,r){var n=t.props.stackId;if(In(n)){var i=r[n];if(i&&i.items.length){for(var s=-1,o=0,a=i.items.length;o<a;o++)if(i.items[o]===t){s=o;break}return s>=0?i.stackedData[s]:null}}return null},Vct=function(t){return t.reduce(function(r,n){return[WC(n.concat([r[0]]).filter(ve)),qC(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},_fe=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],a=o.stackedData,l=a.reduce(function(u,d){var p=Vct(d.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},mY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aD=function(t,r,n){if(Ze(t))return t(r,n);if(!zt(t))return r;var i=[];if(ve(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(mY.test(t[0])){var s=+mY.exec(t[0])[1];i[0]=r[0]-s}else Ze(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(ve(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(yY.test(t[1])){var o=+yY.exec(t[1])[1];i[1]=r[1]+o}else Ze(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},uI=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=xV(r,function(p){return p.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var u=s[a],d=s[a-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},gY=function(t,r,n){return!t||!t.length||$pe(t,oo(n,"type.defaultProps.domain"))?r:t},Sfe=function(t,r){var n=t.props,i=n.dataKey,s=n.name,o=n.unit,a=n.formatter,l=n.tooltipType,u=n.chartType;return ns(ns({},Xt(t)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:XV(t),value:iu(r,i),type:l,payload:r,chartType:u})};function rS(e){return rS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rS(e)}function vY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vY(Object(r),!0).forEach(function(n){zct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zct(e,t,r){return t=Uct(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uct(e){var t=Bct(e,"string");return rS(t)==="symbol"?t:String(t)}function Bct(e,t){if(rS(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rS(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cI=Math.PI/180,Gct=function(t){return t*180/Math.PI},ui=function(t,r,n,i){return{x:t+Math.cos(-cI*i)*n,y:r+Math.sin(-cI*i)*n}},qct=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},Wct=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,a=qct({x:n,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(n-s)/a,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:a,angle:Gct(u),angleInRadian:u}},Hct=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},Kct=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),a=Math.min(s,o);return t+a*360},wY=function(t,r){var n=t.x,i=t.y,s=Wct({x:n,y:i},r),o=s.radius,a=s.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=Hct(r),p=d.startAngle,f=d.endAngle,y=a,v;if(p<=f){for(;y>f;)y-=360;for(;y<p;)y+=360;v=y>=p&&y<=f}else{for(;y>p;)y-=360;for(;y<f;)y+=360;v=y>=f&&y<=p}return v?bY(bY({},r),{},{radius:o,angle:Kct(y,r)}):null};function nS(e){return nS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nS(e)}function Jct(e){return Qct(e)||Xct(e)||Zct(e)||Yct()}function Yct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zct(e,t){if(e){if(typeof e=="string")return lD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lD(e,t)}}function Xct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qct(e){if(Array.isArray(e))return lD(e)}function lD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_Y(Object(r),!0).forEach(function(n){edt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_Y(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function edt(e,t,r){return t=tdt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tdt(e){var t=rdt(e,"string");return nS(t)==="symbol"?t:String(t)}function rdt(e,t){if(nS(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nS(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iS.apply(this,arguments)}var ndt=function(t){var r=t.value,n=t.formatter,i=it(t.children)?r:t.children;return Ze(n)?n(i):i},idt=function(t,r){var n=Ho(r-t),i=Math.min(Math.abs(r-t),360);return n*i},sdt=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,a=t.className,l=s,u=l.cx,d=l.cy,p=l.innerRadius,f=l.outerRadius,y=l.startAngle,v=l.endAngle,g=l.clockWise,b=(p+f)/2,w=idt(y,v),S=w>=0?1:-1,_,x;i==="insideStart"?(_=y+S*o,x=g):i==="insideEnd"?(_=v-S*o,x=!g):i==="end"&&(_=v+S*o,x=g),x=w<=0?x:!x;var $=ui(u,d,b,_),E=ui(u,d,b,_+(x?1:-1)*359),T="M".concat($.x,",").concat($.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(x?0:1,`,
    `).concat(E.x,",").concat(E.y),M=it(t.id)?kC("recharts-radial-line-"):t.id;return K.createElement("text",iS({},n,{dominantBaseline:"central",className:Rr("recharts-radial-bar-label",a)}),K.createElement("defs",null,K.createElement("path",{id:M,d:T})),K.createElement("textPath",{xlinkHref:"#".concat(M)},r))},odt=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,a=s.cy,l=s.innerRadius,u=s.outerRadius,d=s.startAngle,p=s.endAngle,f=(d+p)/2;if(i==="outside"){var y=ui(o,a,u+n,f),v=y.x,g=y.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,w=ui(o,a,b,f),S=w.x,_=w.y;return{x:S,y:_,textAnchor:"middle",verticalAnchor:"middle"}},adt=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,a=o.x,l=o.y,u=o.width,d=o.height,p=d>=0?1:-1,f=p*i,y=p>0?"end":"start",v=p>0?"start":"end",g=u>=0?1:-1,b=g*i,w=g>0?"end":"start",S=g>0?"start":"end";if(s==="top"){var _={x:a+u/2,y:l-p*i,textAnchor:"middle",verticalAnchor:y};return Dn(Dn({},_),n?{height:Math.max(l-n.y,0),width:u}:{})}if(s==="bottom"){var x={x:a+u/2,y:l+d+f,textAnchor:"middle",verticalAnchor:v};return Dn(Dn({},x),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(s==="left"){var $={x:a-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return Dn(Dn({},$),n?{width:Math.max($.x-n.x,0),height:d}:{})}if(s==="right"){var E={x:a+u+b,y:l+d/2,textAnchor:S,verticalAnchor:"middle"};return Dn(Dn({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:d}:{})}var T=n?{width:u,height:d}:{};return s==="insideLeft"?Dn({x:a+b,y:l+d/2,textAnchor:S,verticalAnchor:"middle"},T):s==="insideRight"?Dn({x:a+u-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},T):s==="insideTop"?Dn({x:a+u/2,y:l+f,textAnchor:"middle",verticalAnchor:v},T):s==="insideBottom"?Dn({x:a+u/2,y:l+d-f,textAnchor:"middle",verticalAnchor:y},T):s==="insideTopLeft"?Dn({x:a+b,y:l+f,textAnchor:S,verticalAnchor:v},T):s==="insideTopRight"?Dn({x:a+u-b,y:l+f,textAnchor:w,verticalAnchor:v},T):s==="insideBottomLeft"?Dn({x:a+b,y:l+d-f,textAnchor:S,verticalAnchor:y},T):s==="insideBottomRight"?Dn({x:a+u-b,y:l+d-f,textAnchor:w,verticalAnchor:y},T):po(s)&&(ve(s.x)||s5(s.x))&&(ve(s.y)||s5(s.y))?Dn({x:a+C0(s.x,u),y:l+C0(s.y,d),textAnchor:"end",verticalAnchor:"end"},T):Dn({x:a+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},ldt=function(t){return"cx"in t&&ve(t.cx)};function Tn(e){var t=e.viewBox,r=e.position,n=e.value,i=e.children,s=e.content,o=e.className,a=o===void 0?"":o,l=e.textBreakAll;if(!t||it(n)&&it(i)&&!q.isValidElement(s)&&!Ze(s))return null;if(q.isValidElement(s))return q.cloneElement(s,e);var u;if(Ze(s)){if(u=q.createElement(s,e),q.isValidElement(u))return u}else u=ndt(e);var d=ldt(t),p=Xt(e,!0);if(d&&(r==="insideStart"||r==="insideEnd"||r==="end"))return sdt(e,u,p);var f=d?odt(e):adt(e);return K.createElement(H_,iS({className:Rr("recharts-label",a)},p,f,{breakAll:l}),u)}Tn.displayName="Label";Tn.defaultProps={offset:5};var xfe=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,a=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,p=t.x,f=t.y,y=t.top,v=t.left,g=t.width,b=t.height,w=t.clockWise,S=t.labelViewBox;if(S)return S;if(ve(g)&&ve(b)){if(ve(p)&&ve(f))return{x:p,y:f,width:g,height:b};if(ve(y)&&ve(v))return{x:y,y:v,width:g,height:b}}return ve(p)&&ve(f)?{x:p,y:f,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||l||a||0,clockWise:w}:t.viewBox?t.viewBox:{}},udt=function(t,r){return t?t===!0?K.createElement(Tn,{key:"label-implicit",viewBox:r}):In(t)?K.createElement(Tn,{key:"label-implicit",viewBox:r,value:t}):q.isValidElement(t)?t.type===Tn?q.cloneElement(t,{key:"label-implicit",viewBox:r}):K.createElement(Tn,{key:"label-implicit",content:t,viewBox:r}):Ze(t)?K.createElement(Tn,{key:"label-implicit",content:t,viewBox:r}):po(t)?K.createElement(Tn,iS({viewBox:r},t,{key:"label-implicit"})):null:null},cdt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=xfe(t),o=Ja(i,Tn).map(function(l,u){return q.cloneElement(l,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var a=udt(t.label,r||s);return[a].concat(Jct(o))};Tn.parseViewBox=xfe;Tn.renderCallByParent=cdt;function ddt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var hdt=ddt;function sS(e){return sS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sS(e)}var pdt=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function fdt(e){return vdt(e)||gdt(e)||ydt(e)||mdt()}function mdt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ydt(e,t){if(e){if(typeof e=="string")return uD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uD(e,t)}}function gdt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vdt(e){if(Array.isArray(e))return uD(e)}function uD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dI(){return dI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dI.apply(this,arguments)}function SY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SY(Object(r),!0).forEach(function(n){bdt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bdt(e,t,r){return t=wdt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wdt(e){var t=_dt(e,"string");return sS(t)==="symbol"?t:String(t)}function _dt(e,t){if(sS(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sS(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sdt(e,t){if(e==null)return{};var r=xdt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xdt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var $dt={valueAccessor:function(t){return zt(t.value)?hdt(t.value):t.value}};function Oh(e){var t=e.data,r=e.valueAccessor,n=e.dataKey,i=e.clockWise,s=e.id,o=e.textBreakAll,a=Sdt(e,pdt);return!t||!t.length?null:K.createElement(li,{className:"recharts-label-list"},t.map(function(l,u){var d=it(n)?r(l,u):iu(l&&l.payload,n),p=it(s)?{}:{id:"".concat(s,"-").concat(u)};return K.createElement(Tn,dI({},Xt(l,!0),a,p,{parentViewBox:l.parentViewBox,index:u,value:d,textBreakAll:o,viewBox:Tn.parseViewBox(it(i)?l:xY(xY({},l),{},{clockWise:i})),key:"label-".concat(u)}))}))}Oh.displayName="LabelList";function Edt(e,t){return e?e===!0?K.createElement(Oh,{key:"labelList-implicit",data:t}):K.isValidElement(e)||Ze(e)?K.createElement(Oh,{key:"labelList-implicit",data:t,content:e}):po(e)?K.createElement(Oh,dI({data:t},e,{key:"labelList-implicit"})):null:null}function Tdt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Ja(n,Oh).map(function(o,a){return q.cloneElement(o,{data:t,key:"labelList-".concat(a)})});if(!r)return i;var s=Edt(e.label,t);return[s].concat(fdt(i))}Oh.renderCallByParent=Tdt;Oh.defaultProps=$dt;function G0(e){return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function cD(){return cD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cD.apply(this,arguments)}function Mdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$fe(n.key),n)}}function Idt(e,t,r){return t&&$Y(e.prototype,t),r&&$Y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Odt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dD(e,t)}function dD(e,t){return dD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dD(e,t)}function Cdt(e){var t=kdt();return function(){var n=hI(e),i;if(t){var s=hI(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Adt(this,i)}}function Adt(e,t){if(t&&(G0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pdt(e)}function Pdt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kdt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hI(e){return hI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hI(e)}function Rdt(e,t,r){return t=$fe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $fe(e){var t=Ldt(e,"string");return G0(t)==="symbol"?t:String(t)}function Ldt(e,t){if(G0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(G0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ndt=function(t,r){var n=Ho(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},J$=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,a=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(a?1:-1)+i,p=Math.asin(l/d)/cI,f=u?s:s+o*p,y=ui(r,n,d,f),v=ui(r,n,i,f),g=u?s-o*p:s,b=ui(r,n,d*Math.cos(p*cI),g);return{center:y,circleTangency:v,lineTangency:b,theta:p}},Efe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,a=t.endAngle,l=Ndt(o,a),u=o+l,d=ui(r,n,s,o),p=ui(r,n,s,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var y=ui(r,n,i,o),v=ui(r,n,i,u);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},Fdt=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,a=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,p=Ho(d-u),f=J$({cx:r,cy:n,radius:s,angle:u,sign:p,cornerRadius:o,cornerIsExternal:l}),y=f.circleTangency,v=f.lineTangency,g=f.theta,b=J$({cx:r,cy:n,radius:s,angle:d,sign:-p,cornerRadius:o,cornerIsExternal:l}),w=b.circleTangency,S=b.lineTangency,_=b.theta,x=l?Math.abs(u-d):Math.abs(u-d)-g-_;if(x<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Efe({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var $="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(x>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var E=J$({cx:r,cy:n,radius:i,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=E.circleTangency,M=E.lineTangency,A=E.theta,k=J$({cx:r,cy:n,radius:i,angle:d,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=k.circleTangency,L=k.lineTangency,D=k.theta,j=l?Math.abs(u-d):Math.abs(u-d)-A-D;if(j<0&&o===0)return"".concat($,"L").concat(r,",").concat(n,"Z");$+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(p>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,"Z")}else $+="L".concat(r,",").concat(n,"Z");return $},Tfe=function(e){Odt(r,e);var t=Cdt(r);function r(){return Mdt(this,r),t.apply(this,arguments)}return Idt(r,[{key:"render",value:function(){var i=this.props,s=i.cx,o=i.cy,a=i.innerRadius,l=i.outerRadius,u=i.cornerRadius,d=i.forceCornerRadius,p=i.cornerIsExternal,f=i.startAngle,y=i.endAngle,v=i.className;if(l<a||f===y)return null;var g=Rr("recharts-sector",v),b=l-a,w=C0(u,b,0,!0),S;return w>0&&Math.abs(f-y)<360?S=Fdt({cx:s,cy:o,innerRadius:a,outerRadius:l,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:p,startAngle:f,endAngle:y}):S=Efe({cx:s,cy:o,innerRadius:a,outerRadius:l,startAngle:f,endAngle:y}),K.createElement("path",cD({},Xt(this.props,!0),{className:g,d:S,role:"img"}))}}]),r}(q.PureComponent);Rdt(Tfe,"defaultProps",{cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1});function q0(e){return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function hD(){return hD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hD.apply(this,arguments)}function EY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EY(Object(r),!0).forEach(function(n){Mfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ddt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ife(n.key),n)}}function jdt(e,t,r){return t&&MY(e.prototype,t),r&&MY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pD(e,t)}function pD(e,t){return pD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pD(e,t)}function zdt(e){var t=Gdt();return function(){var n=pI(e),i;if(t){var s=pI(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Udt(this,i)}}function Udt(e,t){if(t&&(q0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bdt(e)}function Bdt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gdt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pI(e){return pI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pI(e)}function Mfe(e,t,r){return t=Ife(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ife(e){var t=qdt(e,"string");return q0(t)==="symbol"?t:String(t)}function qdt(e,t){if(q0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(q0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IY={curveBasisClosed:Aet,curveBasisOpen:Pet,curveBasis:Cet,curveLinearClosed:ket,curveLinear:FC,curveMonotoneX:Ret,curveMonotoneY:Let,curveNatural:Net,curveStep:Fet,curveStepAfter:jet,curveStepBefore:Det},Y$=function(t){return t.x===+t.x&&t.y===+t.y},z1=function(t){return t.x},U1=function(t){return t.y},Wdt=function(t,r){if(Ze(t))return t;var n="curve".concat(LC(t));return n==="curveMonotone"&&r?IY["".concat(n).concat(r==="vertical"?"Y":"X")]:IY[n]||FC},fD=function(e){Vdt(r,e);var t=zdt(r);function r(){return Ddt(this,r),t.apply(this,arguments)}return jdt(r,[{key:"getPath",value:function(){var i=this.props,s=i.type,o=i.points,a=i.baseLine,l=i.layout,u=i.connectNulls,d=Wdt(s,l),p=u?o.filter(function(g){return Y$(g)}):o,f;if(zt(a)){var y=u?a.filter(function(g){return Y$(g)}):a,v=p.map(function(g,b){return TY(TY({},g),{},{base:y[b]})});return l==="vertical"?f=U$().y(U1).x1(z1).x0(function(g){return g.base.x}):f=U$().x(z1).y1(U1).y0(function(g){return g.base.y}),f.defined(Y$).curve(d),f(v)}return l==="vertical"&&ve(a)?f=U$().y(U1).x1(z1).x0(a):ve(a)?f=U$().x(z1).y1(U1).y0(a):f=xhe().x(z1).y(U1),f.defined(Y$).curve(d),f(p)}},{key:"render",value:function(){var i=this.props,s=i.className,o=i.points,a=i.path,l=i.pathRef;if((!o||!o.length)&&!a)return null;var u=o&&o.length?this.getPath():a;return K.createElement("path",hD({},Xt(this.props),$M(this.props),{className:Rr("recharts-curve",s),d:u,ref:l}))}}]),r}(q.PureComponent);Mfe(fD,"defaultProps",{type:"linear",points:[],connectNulls:!1});function W0(e){return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function fI(){return fI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fI.apply(this,arguments)}function Hdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Afe(n.key),n)}}function Kdt(e,t,r){return t&&OY(e.prototype,t),r&&OY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mD(e,t)}function mD(e,t){return mD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mD(e,t)}function Ydt(e){var t=Xdt();return function(){var n=mI(e),i;if(t){var s=mI(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Zdt(this,i)}}function Zdt(e,t){if(t&&(W0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ofe(e)}function Ofe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xdt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mI(e){return mI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mI(e)}function Cfe(e,t,r){return t=Afe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Afe(e){var t=Qdt(e,"string");return W0(t)==="symbol"?t:String(t)}function Qdt(e,t){if(W0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(W0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CY=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],f=0,y=4;f<y;f++)p[f]=s[f]>o?o:s[f];d="M".concat(t,",").concat(r+a*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+l*p[0],",").concat(r)),d+="L ".concat(t+n-l*p[1],",").concat(r),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+a*p[1])),d+="L ".concat(t+n,",").concat(r+i-a*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+n-l*p[2],",").concat(r+i)),d+="L ".concat(t+l*p[3],",").concat(r+i),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-a*p[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);d="M ".concat(t,",").concat(r+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(r,`
            L `).concat(t+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+a*v,`
            L `).concat(t+n,",").concat(r+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(r+i,`
            L `).concat(t+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+i-a*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},eht=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,a=r.width,l=r.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(s,s+a),d=Math.max(s,s+a),p=Math.min(o,o+l),f=Math.max(o,o+l);return n>=u&&n<=d&&i>=p&&i<=f}return!1},rA=function(e){Jdt(r,e);var t=Ydt(r);function r(){var n;Hdt(this,r);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s)),Cfe(Ofe(n),"state",{totalLength:-1}),n}return Kdt(r,[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var i=this.node.getTotalLength();i&&this.setState({totalLength:i})}catch{}}},{key:"render",value:function(){var i=this,s=this.props,o=s.x,a=s.y,l=s.width,u=s.height,d=s.radius,p=s.className,f=this.state.totalLength,y=this.props,v=y.animationEasing,g=y.animationDuration,b=y.animationBegin,w=y.isAnimationActive,S=y.isUpdateAnimationActive;if(o!==+o||a!==+a||l!==+l||u!==+u||l===0||u===0)return null;var _=Rr("recharts-rectangle",p);return S?K.createElement(Mm,{canBegin:f>0,from:{width:l,height:u,x:o,y:a},to:{width:l,height:u,x:o,y:a},duration:g,animationEasing:v,isActive:S},function(x){var $=x.width,E=x.height,T=x.x,M=x.y;return K.createElement(Mm,{canBegin:f>0,from:"0px ".concat(f===-1?1:f,"px"),to:"".concat(f,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:w,easing:v},K.createElement("path",fI({},Xt(i.props,!0),{className:_,d:CY(T,M,$,E,d),ref:function(k){i.node=k}})))}):K.createElement("path",fI({},Xt(this.props,!0),{className:_,d:CY(o,a,l,u,d)}))}}]),r}(q.PureComponent);Cfe(rA,"defaultProps",{x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"});function H0(e){return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function yD(){return yD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yD.apply(this,arguments)}function tht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nht(n.key),n)}}function rht(e,t,r){return t&&AY(e.prototype,t),r&&AY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nht(e){var t=iht(e,"string");return H0(t)==="symbol"?t:String(t)}function iht(e,t){if(H0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(H0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gD(e,t)}function gD(e,t){return gD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gD(e,t)}function oht(e){var t=uht();return function(){var n=yI(e),i;if(t){var s=yI(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return aht(this,i)}}function aht(e,t){if(t&&(H0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lht(e)}function lht(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uht(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yI(e){return yI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yI(e)}var Pfe=function(e){sht(r,e);var t=oht(r);function r(){return tht(this,r),t.apply(this,arguments)}return rht(r,[{key:"render",value:function(){var i=this.props,s=i.cx,o=i.cy,a=i.r,l=i.className,u=Rr("recharts-dot",l);return s===+s&&o===+o&&a===+a?K.createElement("circle",yD({},Xt(this.props),$M(this.props),{className:u,cx:s,cy:o,r:a})):null}}]),r}(q.PureComponent);function K0(e){return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function vD(){return vD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vD.apply(this,arguments)}function cht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kfe(n.key),n)}}function dht(e,t,r){return t&&PY(e.prototype,t),r&&PY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bD(e,t)}function bD(e,t){return bD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bD(e,t)}function pht(e){var t=yht();return function(){var n=gI(e),i;if(t){var s=gI(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return fht(this,i)}}function fht(e,t){if(t&&(K0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mht(e)}function mht(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yht(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gI(e){return gI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gI(e)}function ght(e,t,r){return t=kfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kfe(e){var t=vht(e,"string");return K0(t)==="symbol"?t:String(t)}function vht(e,t){if(K0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(K0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rfe=function(e){hht(r,e);var t=pht(r);function r(){return cht(this,r),t.apply(this,arguments)}return dht(r,[{key:"render",value:function(){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,u=i.top,d=i.left,p=i.className;return!ve(s)||!ve(o)||!ve(a)||!ve(l)||!ve(u)||!ve(d)?null:K.createElement("path",vD({},Xt(this.props,!0),{className:Rr("recharts-cross",p),d:r.getPath(s,o,a,l,u,d)}))}}],[{key:"getPath",value:function(i,s,o,a,l,u){return"M".concat(i,",").concat(l,"v").concat(a,"M").concat(u,",").concat(s,"h").concat(o)}}]),r}(q.PureComponent);ght(Rfe,"defaultProps",{x:0,y:0,top:0,left:0,width:0,height:0});var bht=Math.ceil,wht=Math.max;function _ht(e,t,r,n){for(var i=-1,s=wht(bht((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var Sht=_ht,xht=fpe,kY=1/0,$ht=17976931348623157e292;function Eht(e){if(!e)return e===0?e:0;if(e=xht(e),e===kY||e===-kY){var t=e<0?-1:1;return t*$ht}return e===e?e:0}var Lfe=Eht,Tht=Sht,Mht=GC,gR=Lfe;function Iht(e){return function(t,r,n){return n&&typeof n!="number"&&Mht(t,r,n)&&(r=n=void 0),t=gR(t),r===void 0?(r=t,t=0):r=gR(r),n=n===void 0?t<r?1:-1:gR(n),Tht(t,r,n,e)}}var Oht=Iht,Cht=Oht,Aht=Cht(),vI=Aht;function oS(e){return oS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oS(e)}function RY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RY(Object(r),!0).forEach(function(n){Nfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nfe(e,t,r){return t=Pht(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pht(e){var t=kht(e,"string");return oS(t)==="symbol"?t:String(t)}function kht(e,t){if(oS(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oS(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rht=["Webkit","Moz","O","ms"],Lht=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Rht.reduce(function(s,o){return LY(LY({},s),{},Nfe({},o+n,r))},{});return i[t]=r,i};function J0(e){return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function bI(){return bI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bI.apply(this,arguments)}function NY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NY(Object(r),!0).forEach(function(n){Lo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ffe(n.key),n)}}function Fht(e,t,r){return t&&FY(e.prototype,t),r&&FY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wD(e,t)}function wD(e,t){return wD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wD(e,t)}function jht(e){var t=zht();return function(){var n=wI(e),i;if(t){var s=wI(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Vht(this,i)}}function Vht(e,t){if(t&&(J0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ol(e)}function Ol(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zht(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wI(e){return wI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wI(e)}function Lo(e,t,r){return t=Ffe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ffe(e){var t=Uht(e,"string");return J0(t)==="symbol"?t:String(t)}function Uht(e,t){if(J0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bht=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,a=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Lw().domain(vI(0,l)).range([s,s+o-a]),d=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},DY=function(t){return t.changedTouches&&!!t.changedTouches.length},aS=function(e){Dht(r,e);var t=jht(r);function r(n){var i;return Nht(this,r),i=t.call(this,n),Lo(Ol(i),"handleDrag",function(s){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(s):i.state.isSlideMoving&&i.handleSlideDrag(s)}),Lo(Ol(i),"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&i.handleDrag(s.changedTouches[0])}),Lo(Ol(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1}),i.detachDragEndListener()}),Lo(Ol(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Lo(Ol(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Lo(Ol(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Lo(Ol(i),"handleSlideDragStart",function(s){var o=DY(s)?s.changedTouches[0]:s;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(Ol(i),"startX"),endX:i.handleTravellerDragStart.bind(Ol(i),"endX")},i.state={},i}return Fht(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var s=i.startX,o=i.endX,a=this.state.scaleValues,l=this.props,u=l.gap,d=l.data,p=d.length-1,f=Math.min(s,o),y=Math.max(s,o),v=r.getIndexInRange(a,f),g=r.getIndexInRange(a,y);return{startIndex:v-v%u,endIndex:g===p?p:g-g%u}}},{key:"getTextOfTick",value:function(i){var s=this.props,o=s.data,a=s.tickFormatter,l=s.dataKey,u=iu(o[i],l,i);return Ze(a)?a(u,i):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var s=this.state,o=s.slideMoveStartX,a=s.startX,l=s.endX,u=this.props,d=u.x,p=u.width,f=u.travellerWidth,y=u.startIndex,v=u.endIndex,g=u.onChange,b=i.pageX-o;b>0?b=Math.min(b,d+p-f-l,d+p-f-a):b<0&&(b=Math.max(b,d-a,d-l));var w=this.getIndex({startX:a+b,endX:l+b});(w.startIndex!==y||w.endIndex!==v)&&g&&g(w),this.setState({startX:a+b,endX:l+b,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,s){var o=DY(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var s,o=this.state,a=o.brushMoveStartX,l=o.movingTravellerId,u=o.endX,d=o.startX,p=this.state[l],f=this.props,y=f.x,v=f.width,g=f.travellerWidth,b=f.onChange,w=f.gap,S=f.data,_={startX:this.state.startX,endX:this.state.endX},x=i.pageX-a;x>0?x=Math.min(x,y+v-g-p):x<0&&(x=Math.max(x,y-p)),_[l]=p+x;var $=this.getIndex(_),E=$.startIndex,T=$.endIndex,M=function(){var k=S.length-1;return l==="startX"&&(u>d?E%w===0:T%w===0)||u<d&&T===k||l==="endX"&&(u>d?T%w===0:E%w===0)||u>d&&T===k};this.setState((s={},Lo(s,l,p+x),Lo(s,"brushMoveStartX",i.pageX),s),function(){b&&M()&&b($)})}},{key:"renderBackground",value:function(){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,u=i.fill,d=i.stroke;return K.createElement("rect",{stroke:d,fill:u,x:s,y:o,width:a,height:l})}},{key:"renderPanorama",value:function(){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,u=i.data,d=i.children,p=i.padding,f=q.Children.only(d);return f?K.cloneElement(f,{x:s,y:o,width:a,height:l,margin:p,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(i,s){var o=this.props,a=o.y,l=o.travellerWidth,u=o.height,d=o.traveller,p=Math.max(i,this.props.x),f=vR(vR({},Xt(this.props)),{},{x:p,y:a,width:l,height:u});return K.createElement(li,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],style:{cursor:"col-resize"}},r.renderTraveller(d,f))}},{key:"renderSlide",value:function(i,s){var o=this.props,a=o.y,l=o.height,u=o.stroke,d=o.travellerWidth,p=Math.min(i,s)+d,f=Math.max(Math.abs(s-i)-d,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:p,y:a,width:f,height:l})}},{key:"renderText",value:function(){var i=this.props,s=i.startIndex,o=i.endIndex,a=i.y,l=i.height,u=i.travellerWidth,d=i.stroke,p=this.state,f=p.startX,y=p.endX,v=5,g={pointerEvents:"none",fill:d};return K.createElement(li,{className:"recharts-brush-texts"},K.createElement(H_,bI({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,y)-v,y:a+l/2},g),this.getTextOfTick(s)),K.createElement(H_,bI({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,y)+u+v,y:a+l/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var i=this.props,s=i.data,o=i.className,a=i.children,l=i.x,u=i.y,d=i.width,p=i.height,f=i.alwaysShowText,y=this.state,v=y.startX,g=y.endX,b=y.isTextActive,w=y.isSlideMoving,S=y.isTravellerMoving;if(!s||!s.length||!ve(l)||!ve(u)||!ve(d)||!ve(p)||d<=0||p<=0)return null;var _=Rr("recharts-brush",o),x=K.Children.count(a)===1,$=Lht("userSelect","none");return K.createElement(li,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:$},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(v,g),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(g,"endX"),(b||w||S||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var s=i.x,o=i.y,a=i.width,l=i.height,u=i.stroke,d=Math.floor(o+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:s,y:o,width:a,height:l,fill:u,stroke:"none"}),K.createElement("line",{x1:s+1,y1:d,x2:s+a-1,y2:d,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:s+1,y1:d+2,x2:s+a-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,s){var o;return K.isValidElement(i)?o=K.cloneElement(i,s):Ze(i)?o=i(s):o=r.renderDefaultTraveller(s),o}},{key:"getDerivedStateFromProps",value:function(i,s){var o=i.data,a=i.width,l=i.x,u=i.travellerWidth,d=i.updateId,p=i.startIndex,f=i.endIndex;if(o!==s.prevData||d!==s.prevUpdateId)return vR({prevData:o,prevTravellerWidth:u,prevUpdateId:d,prevX:l,prevWidth:a},o&&o.length?Bht({data:o,width:a,x:l,travellerWidth:u,startIndex:p,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(a!==s.prevWidth||l!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([l,l+a-u]);var y=s.scale.domain().map(function(v){return s.scale(v)});return{prevData:o,prevTravellerWidth:u,prevUpdateId:d,prevX:l,prevWidth:a,startX:s.scale(i.startIndex),endX:s.scale(i.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(i,s){for(var o=i.length,a=0,l=o-1;l-a>1;){var u=Math.floor((a+l)/2);i[u]>s?l=u:a=u}return s>=i[l]?l:a}}]),r}(q.PureComponent);Lo(aS,"displayName","Brush");Lo(aS,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ght=SV;function qht(e,t){var r;return Ght(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var Wht=qht,Hht=Xde,Kht=ep,Jht=Wht,Yht=zt,Zht=GC;function Xht(e,t,r){var n=Yht(e)?Hht:Jht;return r&&Zht(e,t,r)&&(t=void 0),n(e,Kht(t))}var Qht=Xht,Ql=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r};function ept(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var tpt=ept,rpt=SV;function npt(e,t){var r=!0;return rpt(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var ipt=npt,spt=tpt,opt=ipt,apt=ep,lpt=zt,upt=GC;function cpt(e,t,r){var n=lpt(e)?spt:opt;return r&&upt(e,t,r)&&(t=void 0),n(e,apt(t))}var Dfe=cpt,jY=dpe;function dpt(e,t,r){t=="__proto__"&&jY?jY(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var hpt=dpt,ppt=hpt,fpt=upe,mpt=ep;function ypt(e,t){var r={};return t=mpt(t),fpt(e,function(n,i,s){ppt(r,i,t(n,i,s))}),r}var gpt=ypt,vpt=["value","background"];function Y0(e){return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}function bpt(e,t){if(e==null)return{};var r=wpt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wpt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function _D(){return _D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_D.apply(this,arguments)}function VY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VY(Object(r),!0).forEach(function(n){ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jfe(n.key),n)}}function Spt(e,t,r){return t&&zY(e.prototype,t),r&&zY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xpt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SD(e,t)}function SD(e,t){return SD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SD(e,t)}function $pt(e){var t=Tpt();return function(){var n=_I(e),i;if(t){var s=_I(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Ept(this,i)}}function Ept(e,t){if(t&&(Y0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kb(e)}function Kb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tpt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _I(e){return _I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_I(e)}function ph(e,t,r){return t=jfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jfe(e){var t=Mpt(e,"string");return Y0(t)==="symbol"?t:String(t)}function Mpt(e,t){if(Y0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Y0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vv=function(e){xpt(r,e);var t=$pt(r);function r(){var n;_pt(this,r);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s)),ph(Kb(n),"state",{isAnimationFinished:!1}),ph(Kb(n),"id",kC("recharts-bar-")),ph(Kb(n),"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ph(Kb(n),"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Spt(r,[{key:"renderRectanglesStatically",value:function(i){var s=this,o=this.props.shape,a=Xt(this.props);return i&&i.map(function(l,u){var d=zn(zn(zn({},a),l),{},{index:u});return K.createElement(li,_D({className:"recharts-bar-rectangle"},EM(s.props,l,u),{key:"rectangle-".concat(u),role:"img"}),r.renderRectangle(o,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,s=this.props,o=s.data,a=s.layout,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,p=s.animationEasing,f=s.animationId,y=this.state.prevData;return K.createElement(Mm,{begin:u,duration:d,isActive:l,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var g=v.t,b=o.map(function(w,S){var _=y&&y[S];if(_){var x=uy(_.x,w.x),$=uy(_.y,w.y),E=uy(_.width,w.width),T=uy(_.height,w.height);return zn(zn({},w),{},{x:x(g),y:$(g),width:E(g),height:T(g)})}if(a==="horizontal"){var M=uy(0,w.height),A=M(g);return zn(zn({},w),{},{y:w.y+w.height-A,height:A})}var k=uy(0,w.width),P=k(g);return zn(zn({},w),{},{width:P})});return K.createElement(li,null,i.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var i=this.props,s=i.data,o=i.isAnimationActive,a=this.state.prevData;return o&&s&&s.length&&(!a||!$pe(a,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var i=this,s=this.props.data,o=Xt(this.props.background);return s.map(function(a,l){a.value;var u=a.background,d=bpt(a,vpt);if(!u)return null;var p=zn(zn(zn(zn(zn({},d),{},{fill:"#eee"},u),o),EM(i.props,a,l)),{},{index:l,key:"background-bar-".concat(l),className:"recharts-bar-background-rectangle"});return r.renderRectangle(i.props.background,p)})}},{key:"renderErrorBar",value:function(i,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,l=o.xAxis,u=o.yAxis,d=o.layout,p=o.children,f=Ja(p,tA);if(!f)return null;var y=d==="vertical"?a[0].height/2:a[0].width/2;function v(b,w){return{x:b.x,y:b.y,value:b.value,errorVal:iu(b,w)}}var g={clipPath:i?"url(#clipPath-".concat(s,")"):null};return K.createElement(li,g,f.map(function(b,w){return K.cloneElement(b,{key:"error-bar-".concat(w),data:a,xAxis:l,yAxis:u,layout:d,offset:y,dataPointFormatter:v})}))}},{key:"render",value:function(){var i=this.props,s=i.hide,o=i.data,a=i.className,l=i.xAxis,u=i.yAxis,d=i.left,p=i.top,f=i.width,y=i.height,v=i.isAnimationActive,g=i.background,b=i.id;if(s||!o||!o.length)return null;var w=this.state.isAnimationFinished,S=Rr("recharts-bar",a),_=l&&l.allowDataOverflow||u&&u.allowDataOverflow,x=it(b)?this.id:b;return K.createElement(li,{className:S},_?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(x)},K.createElement("rect",{x:d,y:p,width:f,height:y}))):null,K.createElement(li,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(x,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,x),(!v||w)&&Oh.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(i,s){return i.animationId!==s.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:s.curData}:i.data!==s.curData?{curData:i.data}:null}},{key:"renderRectangle",value:function(i,s){var o;return K.isValidElement(i)?o=K.cloneElement(i,s):Ze(i)?o=i(s):o=K.createElement(rA,s),o}}]),r}(q.PureComponent);ph(Vv,"displayName","Bar");ph(Vv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!Mh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ph(Vv,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,a=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,p=e.displayedData,f=e.offset,y=Cct(n,r);if(!y)return null;var v=t.layout,g=r.props,b=g.dataKey,w=g.children,S=g.minPointSize,_=v==="horizontal"?o:s,x=u?_.scale.domain():null,$=Dct({numericAxis:_}),E=Ja(w,mpe),T=p.map(function(M,A){var k,P,L,D,j,W;if(u?k=Act(u[d+A],x):(k=iu(M,b),zt(k)||(k=[$,k])),v==="horizontal"){var te,ae=[o.scale(k[0]),o.scale(k[1])],z=ae[0],J=ae[1];P=fY({axis:s,ticks:a,bandSize:i,offset:y.offset,entry:M,index:A}),L=(te=J??z)!==null&&te!==void 0?te:void 0,D=y.size;var me=z-J;if(j=Number.isNaN(me)?0:me,W={x:P,y:o.y,width:D,height:o.height},Math.abs(S)>0&&Math.abs(j)<Math.abs(S)){var we=Ho(j||S)*(Math.abs(S)-Math.abs(j));L-=we,j+=we}}else{var Se=[s.scale(k[0]),s.scale(k[1])],xe=Se[0],Ne=Se[1];if(P=xe,L=fY({axis:o,ticks:l,bandSize:i,offset:y.offset,entry:M,index:A}),D=Ne-xe,j=y.size,W={x:s.x,y:L,width:s.width,height:j},Math.abs(S)>0&&Math.abs(D)<Math.abs(S)){var wt=Ho(D||S)*(Math.abs(S)-Math.abs(D));D+=wt}}return zn(zn(zn({},M),{},{x:P,y:L,width:D,height:j,value:u?k:k[1],payload:M,background:W},E&&E[A]&&E[A].props),{},{tooltipPayload:[Sfe(r,M)],tooltipPosition:{x:P+D/2,y:L+j/2}})});return zn({data:T,layout:v},f)});function lS(e){return lS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lS(e)}function Ipt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vfe(n.key),n)}}function Opt(e,t,r){return t&&UY(e.prototype,t),r&&UY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BY(Object(r),!0).forEach(function(n){nA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nA(e,t,r){return t=Vfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vfe(e){var t=Cpt(e,"string");return lS(t)==="symbol"?t:String(t)}function Cpt(e,t){if(lS(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lS(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Apt=function(t,r,n,i,s){var o=t.width,a=t.height,l=t.layout,u=t.children,d=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},f=!!sc(u,Vv);return d.reduce(function(y,v){var g=r[v],b=g.orientation,w=g.domain,S=g.padding,_=S===void 0?{}:S,x=g.mirror,$=g.reversed,E="".concat(b).concat(x?"Mirror":""),T,M,A,k,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var L=w[1]-w[0],D=1/0,j=g.categoricalDomain.sort();j.forEach(function(Ne,wt){wt>0&&(D=Math.min((Ne||0)-(j[wt-1]||0),D))});var W=D/L,te=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(T=W*te/2),g.padding==="no-gap"){var ae=C0(t.barCategoryGap,W*te),z=W*te/2;T=z-ae-(z-ae)/te*ae}}i==="xAxis"?M=[n.left+(_.left||0)+(T||0),n.left+n.width-(_.right||0)-(T||0)]:i==="yAxis"?M=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(T||0),n.top+n.height-(_.bottom||0)-(T||0)]:M=g.range,$&&(M=[M[1],M[0]]);var J=Ict(g,s,f),me=J.scale,we=J.realScaleType;me.domain(w).range(M),Oct(me);var Se=Fct(me,Da(Da({},g),{},{realScaleType:we}));i==="xAxis"?(P=b==="top"&&!x||b==="bottom"&&x,A=n.left,k=p[E]-P*g.height):i==="yAxis"&&(P=b==="left"&&!x||b==="right"&&x,A=p[E]-P*g.width,k=n.top);var xe=Da(Da(Da({},g),Se),{},{realScaleType:we,x:A,y:k,scale:me,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return xe.bandSize=uI(xe,Se),!g.hide&&i==="xAxis"?p[E]+=(P?-1:1)*xe.height:g.hide||(p[E]+=(P?-1:1)*xe.width),Da(Da({},y),{},nA({},v,xe))},{})},zfe=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},Ppt=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return zfe({x:r,y:n},{x:i,y:s})},Ufe=function(){function e(t){Ipt(this,e),this.scale=t}return Opt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}]),e}();nA(Ufe,"EPS",1e-4);var QV=function(t){var r=Object.keys(t).reduce(function(n,i){return Da(Da({},n),{},nA({},i,Ufe.create(t[i])))},{});return Da(Da({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return gpt(i,function(l,u){return r[u].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return Dfe(i,function(s,o){return r[o].isInRange(s)})}})};function uS(e){return uS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uS(e)}function GY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GY(Object(r),!0).forEach(function(n){kpt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kpt(e,t,r){return t=Rpt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rpt(e){var t=Lpt(e,"string");return uS(t)==="symbol"?t:String(t)}function Lpt(e,t){if(uS(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uS(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Npt(e,t){return Vpt(e)||jpt(e,t)||Dpt(e,t)||Fpt()}function Fpt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dpt(e,t){if(e){if(typeof e=="string")return WY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WY(e,t)}}function WY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jpt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Vpt(e){if(Array.isArray(e))return e}function xD(){return xD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xD.apply(this,arguments)}var zpt=function(t,r){var n;return K.isValidElement(t)?n=K.cloneElement(t,r):Ze(t)?n=t(r):n=K.createElement("line",xD({},r,{className:"recharts-reference-line-line"})),n},Upt=function(t,r,n,i,s){var o=s.viewBox,a=o.x,l=o.y,u=o.width,d=o.height,p=s.position;if(n){var f=s.y,y=s.yAxis.orientation,v=t.y.apply(f,{position:p});if(Ql(s,"discard")&&!t.y.isInRange(v))return null;var g=[{x:a+u,y:v},{x:a,y:v}];return y==="left"?g.reverse():g}if(r){var b=s.x,w=s.xAxis.orientation,S=t.x.apply(b,{position:p});if(Ql(s,"discard")&&!t.x.isInRange(S))return null;var _=[{x:S,y:l+d},{x:S,y:l}];return w==="top"?_.reverse():_}if(i){var x=s.segment,$=x.map(function(E){return t.apply(E,{position:p})});return Ql(s,"discard")&&Qht($,function(E){return!t.isInRange(E)})?null:$}return null};function ez(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxis,s=e.yAxis,o=e.shape,a=e.className,l=e.alwaysShow,u=e.clipPathId;TV(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=QV({x:i.scale,y:s.scale}),p=In(t),f=In(r),y=n&&n.length===2,v=Upt(d,p,f,y,e);if(!v)return null;var g=Npt(v,2),b=g[0],w=b.x,S=b.y,_=g[1],x=_.x,$=_.y,E=Ql(e,"hidden")?"url(#".concat(u,")"):void 0,T=qY(qY({clipPath:E},Xt(e,!0)),{},{x1:w,y1:S,x2:x,y2:$});return K.createElement(li,{className:Rr("recharts-reference-line",a)},zpt(o,T),Tn.renderCallByParent(e,Ppt({x1:w,y1:S,x2:x,y2:$})))}ez.displayName="ReferenceLine";ez.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function cS(e){return cS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cS(e)}function $D(){return $D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$D.apply(this,arguments)}function HY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HY(Object(r),!0).forEach(function(n){Bpt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bpt(e,t,r){return t=Gpt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gpt(e){var t=qpt(e,"string");return cS(t)==="symbol"?t:String(t)}function qpt(e,t){if(cS(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cS(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wpt=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=QV({x:i.scale,y:s.scale}),a=o.apply({x:r,y:n},{bandAware:!0});return Ql(t,"discard")&&!o.isInRange(a)?null:a};function cx(e){var t=e.x,r=e.y,n=e.r,i=e.alwaysShow,s=e.clipPathId,o=In(t),a=In(r);if(TV(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!a)return null;var l=Wpt(e);if(!l)return null;var u=l.x,d=l.y,p=e.shape,f=e.className,y=Ql(e,"hidden")?"url(#".concat(s,")"):void 0,v=KY(KY({clipPath:y},Xt(e,!0)),{},{cx:u,cy:d});return K.createElement(li,{className:Rr("recharts-reference-dot",f)},cx.renderDot(p,v),Tn.renderCallByParent(e,{x:u-n,y:d-n,width:2*n,height:2*n}))}cx.displayName="ReferenceDot";cx.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};cx.renderDot=function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):Ze(e)?r=e(t):r=K.createElement(Pfe,$D({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r};function dS(e){return dS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dS(e)}function ED(){return ED=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ED.apply(this,arguments)}function JY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JY(Object(r),!0).forEach(function(n){Hpt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hpt(e,t,r){return t=Kpt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kpt(e){var t=Jpt(e,"string");return dS(t)==="symbol"?t:String(t)}function Jpt(e,t){if(dS(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dS(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ypt=function(t,r,n,i,s){var o=s.x1,a=s.x2,l=s.y1,u=s.y2,d=s.xAxis,p=s.yAxis;if(!d||!p)return null;var f=QV({x:d.scale,y:p.scale}),y={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(l,{position:"start"}):f.y.rangeMin},v={x:r?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Ql(s,"discard")&&(!f.isInRange(y)||!f.isInRange(v))?null:zfe(y,v)};function dx(e){var t=e.x1,r=e.x2,n=e.y1,i=e.y2,s=e.className,o=e.alwaysShow,a=e.clipPathId;TV(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=In(t),u=In(r),d=In(n),p=In(i),f=e.shape;if(!l&&!u&&!d&&!p&&!f)return null;var y=Ypt(l,u,d,p,e);if(!y&&!f)return null;var v=Ql(e,"hidden")?"url(#".concat(a,")"):void 0;return K.createElement(li,{className:Rr("recharts-reference-area",s)},dx.renderRect(f,YY(YY({clipPath:v},Xt(e,!0)),y)),Tn.renderCallByParent(e,y))}dx.displayName="ReferenceArea";dx.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};dx.renderRect=function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):Ze(e)?r=e(t):r=K.createElement(rA,ED({},t,{className:"recharts-reference-area-rect"})),r};function TD(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)if(r===void 0||r(e[i])===!0)n.push(e[i]);else return;return n}function hS(e){return hS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hS(e)}function ZY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZY(Object(r),!0).forEach(function(n){Zpt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zpt(e,t,r){return t=Xpt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xpt(e){var t=Qpt(e,"string");return hS(t)==="symbol"?t:String(t)}function Qpt(e,t){if(hS(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hS(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eft(e){for(var t=1,r=TD(e,t,function(n){return n.isShow});t<=e.length;){if(r!==void 0)return r;t++,r=TD(e,t,function(n){return n.isShow})}return e.slice(0,1)}function tft(e,t){return TD(e,t+1)}function rft(e){var t=e.ticks,r=e.tickFormatter,n=e.viewBox,i=e.orientation,s=e.minTickGap,o=e.unit,a=e.fontSize,l=e.letterSpacing,u=n.x,d=n.y,p=n.width,f=n.height,y=i==="top"||i==="bottom"?"width":"height",v=o&&y==="width"?Qf(o,{fontSize:a,letterSpacing:l})[y]:0,g=(t||[]).slice(),b=g.length,w=b>=2?Ho(g[1].coordinate-g[0].coordinate):1,S,_;w===1?(S=y==="width"?u:d,_=y==="width"?u+p:d+f):(S=y==="width"?u+p:d+f,_=y==="width"?u:d);for(var x=b-1;x>=0;x--){var $=g[x],E=Ze(r)?r($.value,b-x-1):$.value,T=Qf(E,{fontSize:a,letterSpacing:l})[y]+v;if(x===b-1){var M=w*($.coordinate+w*T/2-_);g[x]=$=Ci(Ci({},$),{},{tickCoord:M>0?$.coordinate-M*w:$.coordinate})}else g[x]=$=Ci(Ci({},$),{},{tickCoord:$.coordinate});var A=w*($.tickCoord-w*T/2-S)>=0&&w*($.tickCoord+w*T/2-_)<=0;A&&(_=$.tickCoord-w*(T/2+s),g[x]=Ci(Ci({},$),{},{isShow:!0}))}return g}function XY(e,t){var r=e.ticks,n=e.tickFormatter,i=e.viewBox,s=e.orientation,o=e.minTickGap,a=e.unit,l=e.fontSize,u=e.letterSpacing,d=i.x,p=i.y,f=i.width,y=i.height,v=s==="top"||s==="bottom"?"width":"height",g=(r||[]).slice(),b=a&&v==="width"?Qf(a,{fontSize:l,letterSpacing:u})[v]:0,w=g.length,S=w>=2?Ho(g[1].coordinate-g[0].coordinate):1,_,x;if(S===1?(_=v==="width"?d:p,x=v==="width"?d+f:p+y):(_=v==="width"?d+f:p+y,x=v==="width"?d:p),t){var $=r[w-1],E=Ze(n)?n($.value,w-1):$.value,T=Qf(E,{fontSize:l,letterSpacing:u})[v]+b,M=S*($.coordinate+S*T/2-x);g[w-1]=$=Ci(Ci({},$),{},{tickCoord:M>0?$.coordinate-M*S:$.coordinate});var A=S*($.tickCoord-S*T/2-_)>=0&&S*($.tickCoord+S*T/2-x)<=0;A&&(x=$.tickCoord-S*(T/2+o),g[w-1]=Ci(Ci({},$),{},{isShow:!0}))}for(var k=t?w-1:w,P=0;P<k;P++){var L=g[P],D=Ze(n)?n(L.value,P):L.value,j=Qf(D,{fontSize:l,letterSpacing:u})[v]+b;if(P===0){var W=S*(L.coordinate-S*j/2-_);g[P]=L=Ci(Ci({},L),{},{tickCoord:W<0?L.coordinate-W*S:L.coordinate})}else g[P]=L=Ci(Ci({},L),{},{tickCoord:L.coordinate});var te=S*(L.tickCoord-S*j/2-_)>=0&&S*(L.tickCoord+S*j/2-x)<=0;te&&(_=L.tickCoord+S*(j/2+o),g[P]=Ci(Ci({},L),{},{isShow:!0}))}return g}function MD(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,a=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit;if(!i||!i.length||!n)return[];if(ve(l)||Mh.isSsr)return tft(i,typeof l=="number"&&ve(l)?l:0);var p=[];return l==="equidistantPreserveStart"?(p=XY({ticks:i,tickFormatter:u,viewBox:s,orientation:a,minTickGap:o,unit:d,fontSize:t,letterSpacing:r}),eft(p)):(l==="preserveStart"||l==="preserveStartEnd"?p=XY({ticks:i,tickFormatter:u,viewBox:s,orientation:a,minTickGap:o,unit:d,fontSize:t,letterSpacing:r},l==="preserveStartEnd"):p=rft({ticks:i,tickFormatter:u,viewBox:s,orientation:a,minTickGap:o,unit:d,fontSize:t,letterSpacing:r}),p.filter(function(f){return f.isShow}))}var nft=["viewBox"],ift=["viewBox"],sft=["ticks"];function Z0(e){return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(this,arguments)}function QY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QY(Object(r),!0).forEach(function(n){tz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bR(e,t){if(e==null)return{};var r=oft(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oft(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function aft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bfe(n.key),n)}}function lft(e,t,r){return t&&eZ(e.prototype,t),r&&eZ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ID(e,t)}function ID(e,t){return ID=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ID(e,t)}function cft(e){var t=pft();return function(){var n=SI(e),i;if(t){var s=SI(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return dft(this,i)}}function dft(e,t){if(t&&(Z0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hft(e)}function hft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pft(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function SI(e){return SI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},SI(e)}function tz(e,t,r){return t=Bfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bfe(e){var t=fft(e,"string");return Z0(t)==="symbol"?t:String(t)}function fft(e,t){if(Z0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Z0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fw=function(e){uft(r,e);var t=cft(r);function r(n){var i;return aft(this,r),i=t.call(this,n),i.state={fontSize:"",letterSpacing:""},i}return lft(r,[{key:"shouldComponentUpdate",value:function(i,s){var o=i.viewBox,a=bR(i,nft),l=this.props,u=l.viewBox,d=bR(l,ift);return!Yg(o,u)||!Yg(a,d)||!Yg(s,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var s=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var s=this.props,o=s.x,a=s.y,l=s.width,u=s.height,d=s.orientation,p=s.tickSize,f=s.mirror,y=s.tickMargin,v,g,b,w,S,_,x=f?-1:1,$=i.tickSize||p,E=ve(i.tickCoord)?i.tickCoord:i.coordinate;switch(d){case"top":v=g=i.coordinate,w=a+ +!f*u,b=w-x*$,_=b-x*y,S=E;break;case"left":b=w=i.coordinate,g=o+ +!f*l,v=g-x*$,S=v-x*y,_=E;break;case"right":b=w=i.coordinate,g=o+ +f*l,v=g+x*$,S=v+x*y,_=E;break;default:v=g=i.coordinate,w=a+ +f*u,b=w+x*$,_=b+x*y,S=E;break}return{line:{x1:v,y1:b,x2:g,y2:w},tick:{x:S,y:_}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,s=i.orientation,o=i.mirror,a;switch(s){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,s=i.orientation,o=i.mirror,a="end";switch(s){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,u=i.orientation,d=i.mirror,p=i.axisLine,f=Wi(Wi(Wi({},Xt(this.props)),Xt(p)),{},{fill:"none"});if(u==="top"||u==="bottom"){var y=+(u==="top"&&!d||u==="bottom"&&d);f=Wi(Wi({},f),{},{x1:s,y1:o+y*l,x2:s+a,y2:o+y*l})}else{var v=+(u==="left"&&!d||u==="right"&&d);f=Wi(Wi({},f),{},{x1:s+v*a,y1:o,x2:s+v*a,y2:o+l})}return K.createElement("line",$g({},f,{className:Rr("recharts-cartesian-axis-line",oo(p,"className"))}))}},{key:"renderTicks",value:function(i,s,o){var a=this,l=this.props,u=l.tickLine,d=l.stroke,p=l.tick,f=l.tickFormatter,y=l.unit,v=MD(Wi(Wi({},this.props),{},{ticks:i}),s,o),g=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=Xt(this.props),S=Xt(p),_=Wi(Wi({},w),{},{fill:"none"},Xt(u)),x=v.map(function($,E){var T=a.getTickLineCoord($),M=T.line,A=T.tick,k=Wi(Wi(Wi(Wi({textAnchor:g,verticalAnchor:b},w),{},{stroke:"none",fill:d},S),A),{},{index:E,payload:$,visibleTicksCount:v.length,tickFormatter:f});return K.createElement(li,$g({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E)},EM(a.props,$,E)),u&&K.createElement("line",$g({},_,M,{className:Rr("recharts-cartesian-axis-tick-line",oo(u,"className"))})),p&&r.renderTickItem(p,k,"".concat(Ze(f)?f($.value,E):$.value).concat(y||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var i=this,s=this.props,o=s.axisLine,a=s.width,l=s.height,u=s.ticksGenerator,d=s.className,p=s.hide;if(p)return null;var f=this.props,y=f.ticks,v=bR(f,sft),g=y;return Ze(u)&&(g=y&&y.length>0?u(this.props):u(v)),a<=0||l<=0||!g||!g.length?null:K.createElement(li,{className:Rr("recharts-cartesian-axis",d),ref:function(w){i.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,s,o){var a;return K.isValidElement(i)?a=K.cloneElement(i,s):Ze(i)?a=i(s):a=K.createElement(H_,$g({},s,{className:"recharts-cartesian-axis-tick-value"}),o),a}}]),r}(q.Component);tz(Fw,"displayName","CartesianAxis");tz(Fw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mft=["x1","y1","x2","y2","key"];function X0(e){return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function OD(){return OD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OD.apply(this,arguments)}function yft(e,t){if(e==null)return{};var r=gft(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gft(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function tZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tZ(Object(r),!0).forEach(function(n){rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gfe(n.key),n)}}function bft(e,t,r){return t&&rZ(e.prototype,t),r&&rZ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CD(e,t)}function CD(e,t){return CD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CD(e,t)}function _ft(e){var t=$ft();return function(){var n=xI(e),i;if(t){var s=xI(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Sft(this,i)}}function Sft(e,t){if(t&&(X0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xft(e)}function xft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $ft(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xI(e){return xI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xI(e)}function rz(e,t,r){return t=Gfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gfe(e){var t=Eft(e,"string");return X0(t)==="symbol"?t:String(t)}function Eft(e,t){if(X0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(X0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nz=function(e){wft(r,e);var t=_ft(r);function r(){return vft(this,r),t.apply(this,arguments)}return bft(r,[{key:"renderHorizontal",value:function(i){var s=this,o=this.props,a=o.x,l=o.width,u=o.horizontal;if(!i||!i.length)return null;var d=i.map(function(p,f){var y=Z$(Z$({},s.props),{},{x1:a,y1:p,x2:a+l,y2:p,key:"line-".concat(f),index:f});return r.renderLineItem(u,y)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}},{key:"renderVertical",value:function(i){var s=this,o=this.props,a=o.y,l=o.height,u=o.vertical;if(!i||!i.length)return null;var d=i.map(function(p,f){var y=Z$(Z$({},s.props),{},{x1:p,y1:a,x2:p,y2:a+l,key:"line-".concat(f),index:f});return r.renderLineItem(u,y)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}},{key:"renderVerticalStripes",value:function(i){var s=this.props.verticalFill;if(!s||!s.length)return null;var o=this.props,a=o.fillOpacity,l=o.x,u=o.y,d=o.width,p=o.height,f=i.map(function(v){return Math.round(v+l-l)}).sort(function(v,g){return v-g});l!==f[0]&&f.unshift(0);var y=f.map(function(v,g){var b=!f[g+1],w=b?l+d-v:f[g+1]-v;if(w<=0)return null;var S=g%s.length;return K.createElement("rect",{key:"react-".concat(g),x:v,y:u,width:w,height:p,stroke:"none",fill:s[S],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},y)}},{key:"renderHorizontalStripes",value:function(i){var s=this.props.horizontalFill;if(!s||!s.length)return null;var o=this.props,a=o.fillOpacity,l=o.x,u=o.y,d=o.width,p=o.height,f=i.map(function(v){return Math.round(v+u-u)}).sort(function(v,g){return v-g});u!==f[0]&&f.unshift(0);var y=f.map(function(v,g){var b=!f[g+1],w=b?u+p-v:f[g+1]-v;if(w<=0)return null;var S=g%s.length;return K.createElement("rect",{key:"react-".concat(g),y:v,x:l,height:w,width:d,stroke:"none",fill:s[S],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},y)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var s=this.props,o=s.fillOpacity,a=s.x,l=s.y,u=s.width,d=s.height;return K.createElement("rect",{x:a,y:l,width:u,height:d,stroke:"none",fill:i,fillOpacity:o,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,u=i.horizontal,d=i.vertical,p=i.horizontalCoordinatesGenerator,f=i.verticalCoordinatesGenerator,y=i.xAxis,v=i.yAxis,g=i.offset,b=i.chartWidth,w=i.chartHeight;if(!ve(a)||a<=0||!ve(l)||l<=0||!ve(s)||s!==+s||!ve(o)||o!==+o)return null;var S=this.props,_=S.horizontalPoints,x=S.verticalPoints;return(!_||!_.length)&&Ze(p)&&(_=p({yAxis:v,width:b,height:w,offset:g})),(!x||!x.length)&&Ze(f)&&(x=f({xAxis:y,width:b,height:w,offset:g})),K.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),u&&this.renderHorizontal(_),d&&this.renderVertical(x),u&&this.renderHorizontalStripes(_),d&&this.renderVerticalStripes(x))}}],[{key:"renderLineItem",value:function(i,s){var o;if(K.isValidElement(i))o=K.cloneElement(i,s);else if(Ze(i))o=i(s);else{var a=s.x1,l=s.y1,u=s.x2,d=s.y2,p=s.key,f=yft(s,mft);o=K.createElement("line",OD({},Xt(f),{x1:a,y1:l,x2:u,y2:d,fill:"none",key:p}))}return o}}]),r}(q.PureComponent);rz(nz,"displayName","CartesianGrid");rz(nz,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var iA=function(){return null};iA.displayName="XAxis";iA.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var sA=function(){return null};sA.displayName="YAxis";sA.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var Tft=ep,Mft=ix,Ift=RC;function Oft(e){return function(t,r,n){var i=Object(t);if(!Mft(t)){var s=Tft(r);t=Ift(t),r=function(a){return s(i[a],a,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var Cft=Oft,Aft=Lfe;function Pft(e){var t=Aft(e),r=t%1;return t===t?r?t-r:t:0}var kft=Pft,Rft=che,Lft=ep,Nft=kft,Fft=Math.max;function Dft(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Nft(r);return i<0&&(i=Fft(n+i,0)),Rft(e,Lft(t),i)}var jft=Dft,Vft=Cft,zft=jft,Uft=Vft(zft),Bft=Uft,Gft=Xh,qft=Qh,Wft="[object Boolean]";function Hft(e){return e===!0||e===!1||qft(e)&&Gft(e)==Wft}var Kft=Hft;function nZ(e){return Xft(e)||Zft(e)||Yft(e)||Jft()}function Jft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yft(e,t){if(e){if(typeof e=="string")return AD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AD(e,t)}}function Zft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xft(e){if(Array.isArray(e))return AD(e)}function AD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PD=function(t,r,n,i,s){var o=Ja(t,ez),a=Ja(t,cx),l=[].concat(nZ(o),nZ(a)),u=Ja(t,dx),d="".concat(i,"Id"),p=i[0],f=r;if(l.length&&(f=l.reduce(function(g,b){if(b.props[d]===n&&Ql(b.props,"extendDomain")&&ve(b.props[p])){var w=b.props[p];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},f)),u.length){var y="".concat(p,"1"),v="".concat(p,"2");f=u.reduce(function(g,b){if(b.props[d]===n&&Ql(b.props,"extendDomain")&&ve(b.props[y])&&ve(b.props[v])){var w=b.props[y],S=b.props[v];return[Math.min(g[0],w,S),Math.max(g[1],w,S)]}return g},f)}return s&&s.length&&(f=s.reduce(function(g,b){return ve(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},f)),f},kD={},Qft={get exports(){return kD},set exports(e){kD=e}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,p,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||l,f),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)t.call(d,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=r?r+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var f=0,y=p.length,v=new Array(y);f<y;f++)v[f]=p[f].fn;return v},a.prototype.listenerCount=function(u){var d=r?r+u:u,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(u,d,p,f,y,v){var g=r?r+u:u;if(!this._events[g])return!1;var b=this._events[g],w=arguments.length,S,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,p),!0;case 4:return b.fn.call(b.context,d,p,f),!0;case 5:return b.fn.call(b.context,d,p,f,y),!0;case 6:return b.fn.call(b.context,d,p,f,y,v),!0}for(_=1,S=new Array(w-1);_<w;_++)S[_-1]=arguments[_];b.fn.apply(b.context,S)}else{var x=b.length,$;for(_=0;_<x;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),w){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,d);break;case 3:b[_].fn.call(b[_].context,d,p);break;case 4:b[_].fn.call(b[_].context,d,p,f);break;default:if(!S)for($=1,S=new Array(w-1);$<w;$++)S[$-1]=arguments[$];b[_].fn.apply(b[_].context,S)}}return!0},a.prototype.on=function(u,d,p){return s(this,u,d,p,!1)},a.prototype.once=function(u,d,p){return s(this,u,d,p,!0)},a.prototype.removeListener=function(u,d,p,f){var y=r?r+u:u;if(!this._events[y])return this;if(!d)return o(this,y),this;var v=this._events[y];if(v.fn)v.fn===d&&(!f||v.once)&&(!p||v.context===p)&&o(this,y);else{for(var g=0,b=[],w=v.length;g<w;g++)(v[g].fn!==d||f&&!v[g].once||p&&v[g].context!==p)&&b.push(v[g]);b.length?this._events[y]=b.length===1?b[0]:b:o(this,y)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(Qft);const emt=kD;var qs=new emt;qs.setMaxListeners&&qs.setMaxListeners(10);var wR="recharts.syncMouseEvents",tmt=["item"],rmt=["children","className","width","height","style","compact","title","desc"];function Q0(e){return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function iZ(e,t){return smt(e)||imt(e,t)||qfe(e,t)||nmt()}function nmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function imt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function smt(e){if(Array.isArray(e))return e}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function sZ(e,t){if(e==null)return{};var r=omt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function omt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function amt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wfe(n.key),n)}}function lmt(e,t,r){return t&&oZ(e.prototype,t),r&&oZ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function umt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RD(e,t)}function RD(e,t){return RD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RD(e,t)}function cmt(e){var t=hmt();return function(){var n=$I(e),i;if(t){var s=$I(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return dmt(this,i)}}function dmt(e,t){if(t&&(Q0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gt(e)}function gt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hmt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $I(e){return $I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$I(e)}function ev(e){return mmt(e)||fmt(e)||qfe(e)||pmt()}function pmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qfe(e,t){if(e){if(typeof e=="string")return LD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LD(e,t)}}function fmt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mmt(e){if(Array.isArray(e))return LD(e)}function LD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aZ(Object(r),!0).forEach(function(n){He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function He(e,t,r){return t=Wfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wfe(e){var t=ymt(e,"string");return Q0(t)==="symbol"?t:String(t)}function ymt(e,t){if(Q0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gmt={xAxis:["bottom","top"],yAxis:["left","right"]},Hfe={x:0,y:0},vmt=Number.isFinite?Number.isFinite:isFinite,lZ=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:setTimeout,uZ=typeof cancelAnimationFrame=="function"?cancelAnimationFrame:typeof clearImmediate=="function"?clearImmediate:clearTimeout,bmt=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},wmt=function(t,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,a=i.radius;return se(se(se({},i),ui(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,u=i.angle;return se(se(se({},i),ui(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Hfe},oA=function(t,r,n){var i=r.graphicalItems,s=r.dataStartIndex,o=r.dataEndIndex,a=(i||[]).reduce(function(l,u){var d=u.props.data;return d&&d.length?[].concat(ev(l),ev(d)):l},[]);return a&&a.length>0?a:n&&n.props&&n.props.data&&n.props.data.length>0?n.props.data:t&&t.length&&ve(s)&&ve(o)?t.slice(s,o+1):[]};function _mt(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&ve(n)&&ve(i))return!0}return!1}function Kfe(e){return e==="number"?[0,"auto"]:void 0}var Jfe=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,a=oA(r,t);return n<0||!s||!s.length||n>=a.length?null:s.reduce(function(l,u){var d=u.props.hide;if(d)return l;var p=u.props.data,f;if(o.dataKey&&!o.allowDuplicatedCategory){var y=p===void 0?a:p;f=o5(y,o.dataKey,i)}else f=p&&p[n]||a[n];return f?[].concat(ev(l),[Sfe(u,f)]):l},[])},cZ=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=bmt(s,n),a=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=Sct(o,a,u,l);if(d>=0&&u){var p=u[d]&&u[d].value,f=Jfe(t,r,d,p),y=wmt(n,a,d,s);return{activeTooltipIndex:d,activeLabel:p,activePayload:f,activeCoordinate:y}}return null},Smt=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,p=t.children,f=t.stackOffset,y=wfe(d,s),v=n.reduce(function(g,b){var w,S=b.props,_=S.type,x=S.dataKey,$=S.allowDataOverflow,E=S.allowDuplicatedCategory,T=S.scale,M=S.ticks,A=S.includeHidden,k=b.props[o];if(g[k])return g;var P=oA(t.data,{graphicalItems:i.filter(function(xe){return xe.props[o]===k}),dataStartIndex:l,dataEndIndex:u}),L=P.length,D,j,W;_mt(b.props.domain,$,_)&&(D=aD(b.props.domain,null,$),y&&(_==="number"||T!=="auto")&&(W=Nw(P,x,"category")));var te=Kfe(_);if(!D||D.length===0){var ae,z=(ae=b.props.domain)!==null&&ae!==void 0?ae:te;if(x){if(D=Nw(P,x,_),_==="category"&&y){var J=kHe(D);E&&J?(j=D,D=vI(0,L)):E||(D=gY(z,D,b).reduce(function(xe,Ne){return xe.indexOf(Ne)>=0?xe:[].concat(ev(xe),[Ne])},[]))}else if(_==="category")E?D=D.filter(function(xe){return xe!==""&&!it(xe)}):D=gY(z,D,b).reduce(function(xe,Ne){return xe.indexOf(Ne)>=0||Ne===""||it(Ne)?xe:[].concat(ev(xe),[Ne])},[]);else if(_==="number"){var me=Mct(P,i.filter(function(xe){return xe.props[o]===k&&(A||!xe.props.hide)}),x,s,d);me&&(D=me)}y&&(_==="number"||T!=="auto")&&(W=Nw(P,x,"category"))}else y?D=vI(0,L):a&&a[k]&&a[k].hasStack&&_==="number"?D=f==="expand"?[0,1]:_fe(a[k].stackGroups,l,u):D=bfe(P,i.filter(function(xe){return xe.props[o]===k&&(A||!xe.props.hide)}),_,d,!0);if(_==="number")D=PD(p,D,k,s,M),z&&(D=aD(z,D,$));else if(_==="category"&&z){var we=z,Se=D.every(function(xe){return we.indexOf(xe)>=0});Se&&(D=we)}}return se(se({},g),{},He({},k,se(se({},b.props),{},{axisType:s,domain:D,categoricalDomain:W,duplicateDomain:j,originalDomain:(w=b.props.domain)!==null&&w!==void 0?w:te,isCategorical:y,layout:d})))},{});return v},xmt=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,p=t.children,f=oA(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),y=f.length,v=wfe(d,s),g=-1,b=n.reduce(function(w,S){var _=S.props[o],x=Kfe("number");if(!w[_]){g++;var $;return v?$=vI(0,y):a&&a[_]&&a[_].hasStack?($=_fe(a[_].stackGroups,l,u),$=PD(p,$,_,s)):($=aD(x,bfe(f,n.filter(function(E){return E.props[o]===_&&!E.props.hide}),"number",d),i.defaultProps.allowDataOverflow),$=PD(p,$,_,s)),se(se({},w),{},He({},_,se(se({axisType:s},i.defaultProps),{},{hide:!0,orientation:oo(gmt,"".concat(s,".").concat(g%2),null),domain:$,originalDomain:x,isCategorical:v,layout:d})))}return w},{});return b},$mt=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,a=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,p="".concat(i,"Id"),f=Ja(d,s),y={};return f&&f.length?y=Smt(t,{axes:f,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(y=xmt(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},Emt=function(t){var r=Dd(t),n=jd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xV(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:uI(r,n)}},dZ=function(t){var r,n,i=t.children,s=t.defaultShowTooltip,o=sc(i,aS),a=o&&o.props&&o.props.startIndex||0,l=(o==null||(r=o.props)===null||r===void 0?void 0:r.endIndex)!==void 0?o==null||(n=o.props)===null||n===void 0?void 0:n.endIndex:t.data&&t.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:it(s)?!1:s}},Tmt=function(t){return!t||!t.length?!1:t.some(function(r){var n=Th(r&&r.type);return n&&n.indexOf("Bar")>=0})},hZ=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Mmt=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,a=t.yAxisMap,l=a===void 0?{}:a,u=n.width,d=n.height,p=n.children,f=n.margin||{},y=sc(p,aS),v=sc(p,U_),g=Object.keys(l).reduce(function(_,x){var $=l[x],E=$.orientation;return!$.mirror&&!$.hide?se(se({},_),{},He({},E,_[E]+$.width)):_},{left:f.left||0,right:f.right||0}),b=Object.keys(o).reduce(function(_,x){var $=o[x],E=$.orientation;return!$.mirror&&!$.hide?se(se({},_),{},He({},E,oo(_,"".concat(E))+$.height)):_},{top:f.top||0,bottom:f.bottom||0}),w=se(se({},b),g),S=w.bottom;return y&&(w.bottom+=y.props.height||aS.defaultProps.height),v&&r&&(w=Ect(w,i,n,r)),se(se({brushBottom:S},w),{},{width:u-w.left-w.right,height:d-w.top-w.bottom})},Imt=function(t){var r,n=t.chartName,i=t.GraphicalChild,s=t.defaultTooltipEventType,o=s===void 0?"axis":s,a=t.validateTooltipEventTypes,l=a===void 0?["axis"]:a,u=t.axisComponents,d=t.legendContent,p=t.formatAxisMap,f=t.defaultProps,y=function(b,w){var S=w.graphicalItems,_=w.stackGroups,x=w.offset,$=w.updateId,E=w.dataStartIndex,T=w.dataEndIndex,M=b.barSize,A=b.layout,k=b.barGap,P=b.barCategoryGap,L=b.maxBarSize,D=hZ(A),j=D.numericAxisName,W=D.cateAxisName,te=Tmt(S),ae=te&&xct({barSize:M,stackGroups:_}),z=[];return S.forEach(function(J,me){var we=oA(b.data,{dataStartIndex:E,dataEndIndex:T},J),Se=J.props,xe=Se.dataKey,Ne=Se.maxBarSize,wt=J.props["".concat(j,"Id")],Ut=J.props["".concat(W,"Id")],Ht=u.reduce(function(ir,ei){var aa,pu=w["".concat(ei.axisType,"Map")],be=J.props["".concat(ei.axisType,"Id")],Ce=pu&&pu[be];return se(se({},ir),{},(aa={},He(aa,ei.axisType,Ce),He(aa,"".concat(ei.axisType,"Ticks"),jd(Ce)),aa))},{}),tt=Ht[W],le=Ht["".concat(W,"Ticks")],Oe=_&&_[wt]&&_[wt].hasStack&&jct(J,_[wt].stackGroups),Ue=Th(J.type).indexOf("Bar")>=0,re=uI(tt,le),rt=[];if(Ue){var Ae,We,Ft=it(Ne)?L:Ne,Mr=(Ae=(We=uI(tt,le,!0))!==null&&We!==void 0?We:Ft)!==null&&Ae!==void 0?Ae:0;rt=$ct({barGap:k,barCategoryGap:P,bandSize:Mr!==re?Mr:re,sizeList:ae[Ut],maxBarSize:Ft}),Mr!==re&&(rt=rt.map(function(ir){return se(se({},ir),{},{position:se(se({},ir.position),{},{offset:ir.position.offset-Mr/2})})}))}var Qn=J&&J.type&&J.type.getComposedData;if(Qn){var Rs;z.push({props:se(se({},Qn(se(se({},Ht),{},{displayedData:we,props:b,dataKey:xe,item:J,bandSize:re,barPosition:rt,offset:x,stackedData:Oe,layout:A,dataStartIndex:E,dataEndIndex:T}))),{},(Rs={key:J.key||"item-".concat(me)},He(Rs,j,Ht[j]),He(Rs,W,Ht[W]),He(Rs,"animationId",$),Rs)),childIndex:GHe(J,b.children),item:J})}}),z},v=function(b,w){var S=b.props,_=b.dataStartIndex,x=b.dataEndIndex,$=b.updateId;if(!YH({props:S}))return null;var E=S.children,T=S.layout,M=S.stackOffset,A=S.data,k=S.reverseStackOrder,P=hZ(T),L=P.numericAxisName,D=P.cateAxisName,j=Ja(E,i),W=Nct(A,j,"".concat(L,"Id"),"".concat(D,"Id"),M,k),te=u.reduce(function(we,Se){var xe="".concat(Se.axisType,"Map");return se(se({},we),{},He({},xe,$mt(S,se(se({},Se),{},{graphicalItems:j,stackGroups:Se.axisType===L&&W,dataStartIndex:_,dataEndIndex:x}))))},{}),ae=Mmt(se(se({},te),{},{props:S,graphicalItems:j}),w==null?void 0:w.legendBBox);Object.keys(te).forEach(function(we){te[we]=p(S,te[we],ae,we.replace("Map",""),n)});var z=te["".concat(D,"Map")],J=Emt(z),me=y(S,se(se({},te),{},{dataStartIndex:_,dataEndIndex:x,updateId:$,graphicalItems:j,stackGroups:W,offset:ae}));return se(se({formattedGraphicalItems:me,graphicalItems:j,offset:ae,stackGroups:W},J),te)};return r=function(g){umt(w,g);var b=cmt(w);function w(S){var _;return amt(this,w),_=b.call(this,S),He(gt(_),"clearDeferId",function(){!it(_.deferId)&&uZ&&uZ(_.deferId),_.deferId=null}),He(gt(_),"handleLegendBBoxUpdate",function(x){if(x){var $=_.state,E=$.dataStartIndex,T=$.dataEndIndex,M=$.updateId;_.setState(se({legendBBox:x},v({props:_.props,dataStartIndex:E,dataEndIndex:T,updateId:M},se(se({},_.state),{},{legendBBox:x}))))}}),He(gt(_),"handleReceiveSyncEvent",function(x,$,E){var T=_.props.syncId;T===x&&$!==_.uniqueChartId&&(_.clearDeferId(),_.deferId=lZ&&lZ(_.applySyncEvent.bind(gt(_),E)))}),He(gt(_),"handleBrushChange",function(x){var $=x.startIndex,E=x.endIndex;if($!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var T=_.state.updateId;_.setState(function(){return se({dataStartIndex:$,dataEndIndex:E},v({props:_.props,dataStartIndex:$,dataEndIndex:E,updateId:T},_.state))}),_.triggerSyncEvent({dataStartIndex:$,dataEndIndex:E})}}),He(gt(_),"handleMouseEnter",function(x){var $=_.props.onMouseEnter,E=_.getMouseInfo(x);if(E){var T=se(se({},E),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T),Ze($)&&$(T,x)}}),He(gt(_),"triggeredAfterMouseMove",function(x){var $=_.props.onMouseMove,E=_.getMouseInfo(x),T=E?se(se({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(T),_.triggerSyncEvent(T),Ze($)&&$(T,x)}),He(gt(_),"handleItemMouseEnter",function(x){_.setState(function(){return{isTooltipActive:!0,activeItem:x,activePayload:x.tooltipPayload,activeCoordinate:x.tooltipPosition||{x:x.cx,y:x.cy}}})}),He(gt(_),"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),He(gt(_),"handleMouseMove",function(x){x&&Ze(x.persist)&&x.persist(),_.triggeredAfterMouseMove(x)}),He(gt(_),"handleMouseLeave",function(x){var $=_.props.onMouseLeave,E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E),Ze($)&&$(E,x),_.cancelThrottledTriggerAfterMouseMove()}),He(gt(_),"handleOuterEvent",function(x){var $=BHe(x),E=oo(_.props,"".concat($));if($&&Ze(E)){var T;/.*touch.*/i.test($)?T=_.getMouseInfo(x.changedTouches[0]):T=_.getMouseInfo(x);var M=E;M(T,x)}}),He(gt(_),"handleClick",function(x){var $=_.props.onClick,E=_.getMouseInfo(x);if(E){var T=se(se({},E),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T),Ze($)&&$(T,x)}}),He(gt(_),"handleMouseDown",function(x){var $=_.props.onMouseDown;if(Ze($)){var E=_.getMouseInfo(x);$(E,x)}}),He(gt(_),"handleMouseUp",function(x){var $=_.props.onMouseUp;if(Ze($)){var E=_.getMouseInfo(x);$(E,x)}}),He(gt(_),"handleTouchMove",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&_.handleMouseMove(x.changedTouches[0])}),He(gt(_),"handleTouchStart",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&_.handleMouseDown(x.changedTouches[0])}),He(gt(_),"handleTouchEnd",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&_.handleMouseUp(x.changedTouches[0])}),He(gt(_),"verticalCoordinatesGenerator",function(x){var $=x.xAxis,E=x.width,T=x.height,M=x.offset;return hY(MD(se(se(se({},Fw.defaultProps),$),{},{ticks:jd($,!0),viewBox:{x:0,y:0,width:E,height:T}})),M.left,M.left+M.width)}),He(gt(_),"horizontalCoordinatesGenerator",function(x){var $=x.yAxis,E=x.width,T=x.height,M=x.offset;return hY(MD(se(se(se({},Fw.defaultProps),$),{},{ticks:jd($,!0),viewBox:{x:0,y:0,width:E,height:T}})),M.top,M.top+M.height)}),He(gt(_),"axesTicksGenerator",function(x){return jd(x,!0)}),He(gt(_),"renderCursor",function(x){var $=_.state,E=$.isTooltipActive,T=$.activeCoordinate,M=$.activePayload,A=$.offset,k=$.activeTooltipIndex,P=_.getTooltipEventType();if(!x||!x.props.cursor||!E||!T||n!=="ScatterChart"&&P!=="axis")return null;var L=_.props.layout,D,j=fD;if(n==="ScatterChart")D=T,j=Rfe;else if(n==="BarChart")D=_.getCursorRectangle(),j=rA;else if(L==="radial"){var W=_.getCursorPoints(),te=W.cx,ae=W.cy,z=W.radius,J=W.startAngle,me=W.endAngle;D={cx:te,cy:ae,startAngle:J,endAngle:me,innerRadius:z,outerRadius:z},j=Tfe}else D={points:_.getCursorPoints()},j=fD;var we=x.key||"_recharts-cursor",Se=se(se(se(se({stroke:"#ccc",pointerEvents:"none"},A),D),Xt(x.props.cursor)),{},{payload:M,payloadIndex:k,key:we,className:"recharts-tooltip-cursor"});return q.isValidElement(x.props.cursor)?q.cloneElement(x.props.cursor,Se):q.createElement(j,Se)}),He(gt(_),"renderPolarAxis",function(x,$,E){var T=oo(x,"type.axisType"),M=oo(_.state,"".concat(T,"Map")),A=M&&M[x.props["".concat(T,"Id")]];return q.cloneElement(x,se(se({},A),{},{className:T,key:x.key||"".concat($,"-").concat(E),ticks:jd(A,!0)}))}),He(gt(_),"renderXAxis",function(x,$,E){var T=_.state.xAxisMap,M=T[x.props.xAxisId];return _.renderAxis(M,x,$,E)}),He(gt(_),"renderYAxis",function(x,$,E){var T=_.state.yAxisMap,M=T[x.props.yAxisId];return _.renderAxis(M,x,$,E)}),He(gt(_),"renderGrid",function(x){var $=_.state,E=$.xAxisMap,T=$.yAxisMap,M=$.offset,A=_.props,k=A.width,P=A.height,L=Dd(E),D=Bft(T,function(te){return Dfe(te.domain,vmt)}),j=D||Dd(T),W=x.props||{};return q.cloneElement(x,{key:x.key||"grid",x:ve(W.x)?W.x:M.left,y:ve(W.y)?W.y:M.top,width:ve(W.width)?W.width:M.width,height:ve(W.height)?W.height:M.height,xAxis:L,yAxis:j,offset:M,chartWidth:k,chartHeight:P,verticalCoordinatesGenerator:W.verticalCoordinatesGenerator||_.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:W.horizontalCoordinatesGenerator||_.horizontalCoordinatesGenerator})}),He(gt(_),"renderPolarGrid",function(x){var $=x.props,E=$.radialLines,T=$.polarAngles,M=$.polarRadius,A=_.state,k=A.radiusAxisMap,P=A.angleAxisMap,L=Dd(k),D=Dd(P),j=D.cx,W=D.cy,te=D.innerRadius,ae=D.outerRadius;return q.cloneElement(x,{polarAngles:zt(T)?T:jd(D,!0).map(function(z){return z.coordinate}),polarRadius:zt(M)?M:jd(L,!0).map(function(z){return z.coordinate}),cx:j,cy:W,innerRadius:te,outerRadius:ae,key:x.key||"polar-grid",radialLines:E})}),He(gt(_),"renderLegend",function(){var x=_.state.formattedGraphicalItems,$=_.props,E=$.children,T=$.width,M=$.height,A=_.props.margin||{},k=T-(A.left||0)-(A.right||0),P=gfe({children:E,formattedGraphicalItems:x,legendWidth:k,legendContent:d});if(!P)return null;var L=P.item,D=sZ(P,tmt);return q.cloneElement(L,se(se({},D),{},{chartWidth:T,chartHeight:M,margin:A,ref:function(W){_.legendInstance=W},onBBoxUpdate:_.handleLegendBBoxUpdate}))}),He(gt(_),"renderTooltip",function(){var x=_.props.children,$=sc(x,xg);if(!$)return null;var E=_.state,T=E.isTooltipActive,M=E.activeCoordinate,A=E.activePayload,k=E.activeLabel,P=E.offset;return q.cloneElement($,{viewBox:se(se({},P),{},{x:P.left,y:P.top}),active:T,label:k,payload:T?A:[],coordinate:M})}),He(gt(_),"renderBrush",function(x){var $=_.props,E=$.margin,T=$.data,M=_.state,A=M.offset,k=M.dataStartIndex,P=M.dataEndIndex,L=M.updateId;return q.cloneElement(x,{key:x.key||"_recharts-brush",onChange:K$(_.handleBrushChange,null,x.props.onChange),data:T,x:ve(x.props.x)?x.props.x:A.left,y:ve(x.props.y)?x.props.y:A.top+A.height+A.brushBottom-(E.bottom||0),width:ve(x.props.width)?x.props.width:A.width,startIndex:k,endIndex:P,updateId:"brush-".concat(L)})}),He(gt(_),"renderReferenceElement",function(x,$,E){if(!x)return null;var T=gt(_),M=T.clipPathId,A=_.state,k=A.xAxisMap,P=A.yAxisMap,L=A.offset,D=x.props,j=D.xAxisId,W=D.yAxisId;return q.cloneElement(x,{key:x.key||"".concat($,"-").concat(E),xAxis:k[j],yAxis:P[W],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:M})}),He(gt(_),"renderActivePoints",function(x){var $=x.item,E=x.activePoint,T=x.basePoint,M=x.childIndex,A=x.isRange,k=[],P=$.props.key,L=$.item.props,D=L.activeDot,j=L.dataKey,W=se(se({index:M,dataKey:j,cx:E.x,cy:E.y,r:4,fill:XV($.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value,key:"".concat(P,"-activePoint-").concat(M)},Xt(D)),$M(D));return k.push(w.renderActiveDot(D,W)),T?k.push(w.renderActiveDot(D,se(se({},W),{},{cx:T.x,cy:T.y,key:"".concat(P,"-basePoint-").concat(M)}))):A&&k.push(null),k}),He(gt(_),"renderGraphicChild",function(x,$,E){var T=_.filterFormatItem(x,$,E);if(!T)return null;var M=_.getTooltipEventType(),A=_.state,k=A.isTooltipActive,P=A.tooltipAxis,L=A.activeTooltipIndex,D=A.activeLabel,j=_.props.children,W=sc(j,xg),te=T.props,ae=te.points,z=te.isRange,J=te.baseLine,me=T.item.props,we=me.activeDot,Se=me.hide,xe=!Se&&k&&W&&we&&L>=0,Ne={};M!=="axis"&&W&&W.props.trigger==="click"?Ne={onClick:K$(_.handleItemMouseEnter,null,x.props.onCLick)}:M!=="axis"&&(Ne={onMouseLeave:K$(_.handleItemMouseLeave,null,x.props.onMouseLeave),onMouseEnter:K$(_.handleItemMouseEnter,null,x.props.onMouseEnter)});var wt=q.cloneElement(x,se(se({},T.props),Ne));function Ut(Oe){return typeof P.dataKey=="function"?P.dataKey(Oe.payload):null}if(xe){var Ht,tt;if(P.dataKey&&!P.allowDuplicatedCategory){var le=typeof P.dataKey=="function"?Ut:"payload.".concat(P.dataKey.toString());Ht=o5(ae,le,D),tt=z&&J&&o5(J,le,D)}else Ht=ae[L],tt=z&&J&&J[L];if(!it(Ht))return[wt].concat(ev(_.renderActivePoints({item:T,activePoint:Ht,basePoint:tt,childIndex:L,isRange:z})))}return z?[wt,null,null]:[wt,null]}),He(gt(_),"renderCustomized",function(x,$,E){return q.cloneElement(x,se(se({key:"recharts-customized-".concat(E)},_.props),_.state))}),_.uniqueChartId=it(S.id)?kC("recharts"):S.id,_.clipPathId="".concat(_.uniqueChartId,"-clip"),S.throttleDelay&&(_.triggeredAfterMouseMove=Dst(_.triggeredAfterMouseMove,S.throttleDelay)),_.state={},_}return lmt(w,[{key:"componentDidMount",value:function(){it(this.props.syncId)||this.addListener()}},{key:"componentDidUpdate",value:function(_){it(_.syncId)&&!it(this.props.syncId)&&this.addListener(),!it(_.syncId)&&it(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),it(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=sc(this.props.children,xg);if(_&&Kft(_.props.shared)){var x=_.props.shared?"axis":"item";return l.indexOf(x)>=0?x:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var x=yot(this.container),$=got(_,x),E=this.inRange($.chartX,$.chartY);if(!E)return null;var T=this.state,M=T.xAxisMap,A=T.yAxisMap,k=this.getTooltipEventType();if(k!=="axis"&&M&&A){var P=Dd(M).scale,L=Dd(A).scale,D=P&&P.invert?P.invert($.chartX):null,j=L&&L.invert?L.invert($.chartY):null;return se(se({},$),{},{xValue:D,yValue:j})}var W=cZ(this.state,this.props.data,this.props.layout,E);return W?se(se({},$),W):null}},{key:"getCursorRectangle",value:function(){var _=this.props.layout,x=this.state,$=x.activeCoordinate,E=x.offset,T=x.tooltipAxisBandSize,M=T/2;return{stroke:"none",fill:"#ccc",x:_==="horizontal"?$.x-M:E.left+.5,y:_==="horizontal"?E.top+.5:$.y-M,width:_==="horizontal"?T:E.width-1,height:_==="horizontal"?E.height-1:T}}},{key:"getCursorPoints",value:function(){var _=this.props.layout,x=this.state,$=x.activeCoordinate,E=x.offset,T,M,A,k;if(_==="horizontal")T=$.x,A=T,M=E.top,k=E.top+E.height;else if(_==="vertical")M=$.y,k=M,T=E.left,A=E.left+E.width;else if(!it($.cx)||!it($.cy))if(_==="centric"){var P=$.cx,L=$.cy,D=$.innerRadius,j=$.outerRadius,W=$.angle,te=ui(P,L,D,W),ae=ui(P,L,j,W);T=te.x,M=te.y,A=ae.x,k=ae.y}else{var z=$.cx,J=$.cy,me=$.radius,we=$.startAngle,Se=$.endAngle,xe=ui(z,J,me,we),Ne=ui(z,J,me,Se);return{points:[xe,Ne],cx:z,cy:J,radius:me,startAngle:we,endAngle:Se}}return[{x:T,y:M},{x:A,y:k}]}},{key:"inRange",value:function(_,x){var $=this.props.layout;if($==="horizontal"||$==="vertical"){var E=this.state.offset,T=_>=E.left&&_<=E.left+E.width&&x>=E.top&&x<=E.top+E.height;return T?{x:_,y:x}:null}var M=this.state,A=M.angleAxisMap,k=M.radiusAxisMap;if(A&&k){var P=Dd(A);return wY({x:_,y:x},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,x=this.getTooltipEventType(),$=sc(_,xg),E={};$&&x==="axis"&&($.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var T=$M(this.props,this.handleOuterEvent);return se(se({},T),E)}},{key:"addListener",value:function(){qs.on(wR,this.handleReceiveSyncEvent),qs.setMaxListeners&&qs._maxListeners&&qs.setMaxListeners(qs._maxListeners+1)}},{key:"removeListener",value:function(){qs.removeListener(wR,this.handleReceiveSyncEvent),qs.setMaxListeners&&qs._maxListeners&&qs.setMaxListeners(qs._maxListeners-1)}},{key:"triggerSyncEvent",value:function(_){var x=this.props.syncId;it(x)||qs.emit(wR,x,this.uniqueChartId,_)}},{key:"applySyncEvent",value:function(_){var x=this.props,$=x.layout,E=x.syncMethod,T=this.state.updateId,M=_.dataStartIndex,A=_.dataEndIndex;if(!it(_.dataStartIndex)||!it(_.dataEndIndex))this.setState(se({dataStartIndex:M,dataEndIndex:A},v({props:this.props,dataStartIndex:M,dataEndIndex:A,updateId:T},this.state)));else if(it(_.activeTooltipIndex))this.setState(_);else{var k=_.chartX,P=_.chartY,L=_.activeTooltipIndex,D=this.state,j=D.offset,W=D.tooltipTicks;if(!j)return;if(typeof E=="function")L=E(W,_);else if(E==="value"){L=-1;for(var te=0;te<W.length;te++)if(W[te].value===_.activeLabel){L=te;break}}var ae=se(se({},j),{},{x:j.left,y:j.top}),z=Math.min(k,ae.x+ae.width),J=Math.min(P,ae.y+ae.height),me=W[L]&&W[L].value,we=Jfe(this.state,this.props.data,L),Se=W[L]?{x:$==="horizontal"?W[L].coordinate:z,y:$==="horizontal"?J:W[L].coordinate}:Hfe;this.setState(se(se({},_),{},{activeLabel:me,activeCoordinate:Se,activePayload:we,activeTooltipIndex:L}))}}},{key:"filterFormatItem",value:function(_,x,$){for(var E=this.state.formattedGraphicalItems,T=0,M=E.length;T<M;T++){var A=E[T];if(A.item===_||A.props.key===_.key||x===Th(A.item.type)&&$===A.childIndex)return A}return null}},{key:"renderAxis",value:function(_,x,$,E){var T=this.props,M=T.width,A=T.height;return K.createElement(Fw,Eg({},_,{className:"recharts-".concat(_.axisType," ").concat(_.axisType),key:x.key||"".concat($,"-").concat(E),viewBox:{x:0,y:0,width:M,height:A},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var _=this.clipPathId,x=this.state.offset,$=x.left,E=x.top,T=x.height,M=x.width;return K.createElement("defs",null,K.createElement("clipPath",{id:_},K.createElement("rect",{x:$,y:E,height:T,width:M})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(x,$){var E=iZ($,2),T=E[0],M=E[1];return se(se({},x),{},He({},T,M.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(x,$){var E=iZ($,2),T=E[0],M=E[1];return se(se({},x),{},He({},T,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var x,$;return(x=this.state.xAxisMap)===null||x===void 0||($=x[_])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(_){var x,$;return(x=this.state.yAxisMap)===null||x===void 0||($=x[_])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(_){var x=this.state.formattedGraphicalItems;if(x&&x.length)for(var $=0,E=x.length;$<E;$++){var T=x[$],M=T.props,A=T.item,k=Th(A.type);if(k==="Bar"){var P=(M.data||[]).find(function(D){return eht(_,D)});if(P)return{graphicalItem:T,payload:P}}else if(k==="RadialBar"){var L=(M.data||[]).find(function(D){return wY(_,D)});if(L)return{graphicalItem:T,payload:L}}}return null}},{key:"render",value:function(){var _=this;if(!YH(this))return null;var x=this.props,$=x.children,E=x.className,T=x.width,M=x.height,A=x.style,k=x.compact,P=x.title,L=x.desc,D=sZ(x,rmt),j=Xt(D),W={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(k)return K.createElement(u5,Eg({},j,{width:T,height:M,title:P,desc:L}),this.renderClipPath(),XH($,W));var te=this.parseEventsOfWrapper();return K.createElement("div",Eg({className:Rr("recharts-wrapper",E),style:se({position:"relative",cursor:"default",width:T,height:M},A)},te,{ref:function(z){_.container=z},role:"region"}),K.createElement(u5,Eg({},j,{width:T,height:M,title:P,desc:L}),this.renderClipPath(),XH($,W)),this.renderLegend(),this.renderTooltip())}}]),w}(q.Component),He(r,"displayName",n),He(r,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),He(r,"getDerivedStateFromProps",function(g,b){var w=g.data,S=g.children,_=g.width,x=g.height,$=g.layout,E=g.stackOffset,T=g.margin;if(it(b.updateId)){var M=dZ(g);return se(se(se({},M),{},{updateId:0},v(se(se({props:g},M),{},{updateId:0}),b)),{},{prevData:w,prevWidth:_,prevHeight:x,prevLayout:$,prevStackOffset:E,prevMargin:T,prevChildren:S})}if(w!==b.prevData||_!==b.prevWidth||x!==b.prevHeight||$!==b.prevLayout||E!==b.prevStackOffset||!Yg(T,b.prevMargin)){var A=dZ(g),k={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},P=se(se({},cZ(b,w,$)),{},{updateId:b.updateId+1}),L=se(se(se({},A),k),P);return se(se(se({},L),v(se({props:g},L),b)),{},{prevData:w,prevWidth:_,prevHeight:x,prevLayout:$,prevStackOffset:E,prevMargin:T,prevChildren:S})}if(!Jde(S,b.prevChildren)){var D=!it(w),j=D?b.updateId:b.updateId+1;return se(se({updateId:j},v(se(se({props:g},b),{},{updateId:j}),b)),{},{prevChildren:S})}return null}),He(r,"renderActiveDot",function(g,b){var w;return q.isValidElement(g)?w=q.cloneElement(g,b):Ze(g)?w=g(b):w=K.createElement(Pfe,b),K.createElement(li,{className:"recharts-active-dot",key:b.key},w)}),r},Omt=Imt({chartName:"BarChart",GraphicalChild:Vv,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:iA},{axisType:"yAxis",AxisComp:sA}],formatAxisMap:Apt});const Cmt=q.createContext(void 0),Amt=Cmt;function iz(){return q.useContext(Amt)}function Pmt(e){return nl("PrivateSwitchBase",e)}il("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const kmt=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Rmt=e=>{const{classes:t,checked:r,disabled:n,edge:i}=e,s={root:["root",r&&"checked",n&&"disabled",i&&`edge${st(i)}`],input:["input"]};return su(s,Pmt,t)},Lmt=Lr(l6)(({ownerState:e})=>ee({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),Nmt=Lr("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Fmt=q.forwardRef(function(t,r){const{autoFocus:n,checked:i,checkedIcon:s,className:o,defaultChecked:a,disabled:l,disableFocusRipple:u=!1,edge:d=!1,icon:p,id:f,inputProps:y,inputRef:v,name:g,onBlur:b,onChange:w,onFocus:S,readOnly:_,required:x=!1,tabIndex:$,type:E,value:T}=t,M=Tr(t,kmt),[A,k]=jj({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),P=iz(),L=J=>{S&&S(J),P&&P.onFocus&&P.onFocus(J)},D=J=>{b&&b(J),P&&P.onBlur&&P.onBlur(J)},j=J=>{if(J.nativeEvent.defaultPrevented)return;const me=J.target.checked;k(me),w&&w(J,me)};let W=l;P&&typeof W>"u"&&(W=P.disabled);const te=E==="checkbox"||E==="radio",ae=ee({},t,{checked:A,disabled:W,disableFocusRipple:u,edge:d}),z=Rmt(ae);return rr(Lmt,ee({component:"span",className:Zt(z.root,o),centerRipple:!0,focusRipple:!u,disabled:W,tabIndex:null,role:void 0,onFocus:L,onBlur:D,ownerState:ae,ref:r},M,{children:[de(Nmt,ee({autoFocus:n,checked:i,defaultChecked:a,className:z.input,disabled:W,id:te?f:void 0,name:g,onChange:j,readOnly:_,ref:v,required:x,ownerState:ae,tabIndex:$,type:E},E==="checkbox"&&T===void 0?{}:{value:T},y)),A?s:p]}))}),Dmt=Fmt;function jmt(e){return nl("MuiSwitch",e)}const Vmt=il("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Qi=Vmt,zmt=["className","color","edge","size","sx"],Umt=e=>{const{classes:t,edge:r,size:n,color:i,checked:s,disabled:o}=e,a={root:["root",r&&`edge${st(r)}`,`size${st(n)}`],switchBase:["switchBase",`color${st(i)}`,s&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=su(a,jmt,t);return ee({},t,l)},Bmt=Lr("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${st(r.edge)}`],t[`size${st(r.size)}`]]}})(({ownerState:e})=>ee({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${Qi.thumb}`]:{width:16,height:16},[`& .${Qi.switchBase}`]:{padding:4,[`&.${Qi.checked}`]:{transform:"translateX(16px)"}}})),Gmt=Lr(Dmt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${Qi.input}`]:t.input},r.color!=="default"&&t[`color${st(r.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Qi.checked}`]:{transform:"translateX(20px)"},[`&.${Qi.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Qi.checked} + .${Qi.track}`]:{opacity:.5},[`&.${Qi.disabled} + .${Qi.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Qi.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>ee({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ul(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Qi.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ul(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Qi.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?i6(e.palette[t.color].main,.62):n6(e.palette[t.color].main,.55)}`}},[`&.${Qi.checked} + .${Qi.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),qmt=Lr("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),Wmt=Lr("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Hmt=q.forwardRef(function(t,r){const n=ou({props:t,name:"MuiSwitch"}),{className:i,color:s="primary",edge:o=!1,size:a="medium",sx:l}=n,u=Tr(n,zmt),d=ee({},n,{color:s,edge:o,size:a}),p=Umt(d),f=de(Wmt,{className:p.thumb,ownerState:d});return rr(Bmt,{className:Zt(p.root,i),sx:l,ownerState:d,children:[de(Gmt,ee({type:"checkbox",icon:f,checkedIcon:f,ref:r,ownerState:d},u,{classes:ee({},p,{root:p.switchBase})})),de(qmt,{className:p.track,ownerState:d})]})}),Kmt=Hmt;function Jmt(){return t6(s6)}const Ymt=Mee(),Zmt=Gbe({defaultTheme:Ymt,defaultClassName:"MuiBox-root",generateClassName:Uj.generate}),Xmt=Zmt,Qmt=e=>!e||!iw(e),eyt=Qmt;function tyt(e){return nl("MuiSlider",e)}const ryt=il("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Ga=ryt,nyt=e=>{const{open:t}=e;return{offset:Zt(t&&Ga.valueLabelOpen),circle:Ga.valueLabelCircle,label:Ga.valueLabelLabel}};function iyt(e){const{children:t,className:r,value:n}=e,i=nyt(e);return t?q.cloneElement(t,{className:Zt(t.props.className)},rr(q.Fragment,{children:[t.props.children,de("span",{className:Zt(i.offset,r),"aria-hidden":!0,children:de("span",{className:i.circle,children:de("span",{className:i.label,children:n})})})]})):null}const syt=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function pZ(e){return e}const oyt=Lr("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${st(r.color)}`],r.size!=="medium"&&t[`size${st(r.size)}`],r.marked&&t.marked,r.orientation==="vertical"&&t.vertical,r.track==="inverted"&&t.trackInverted,r.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>ee({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&ee({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&ee({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${Ga.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Ga.dragging}`]:{[`& .${Ga.thumb}, & .${Ga.track}`]:{transition:"none"}}})),ayt=Lr("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>ee({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),lyt=Lr("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?i6(e.palette[t.color].main,.62):n6(e.palette[t.color].main,.5);return ee({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r})}),uyt=Lr("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.thumb,t[`thumbColor${st(r.color)}`],r.size!=="medium"&&t[`thumbSize${st(r.size)}`]]}})(({theme:e,ownerState:t})=>ee({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":ee({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${Ga.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Ul(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Ga.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Ul(e.palette[t.color].main,.16)}`},[`&.${Ga.disabled}`]:{"&:hover":{boxShadow:"none"}}})),cyt=Lr(iyt,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>ee({[`&.${Ga.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),dyt=Lr("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Oee(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:r}=e;return[t.mark,r&&t.markActive]}})(({theme:e,ownerState:t,markActive:r})=>ee({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),hyt=Lr("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Oee(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:r})=>ee({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:(e.vars||e).palette.text.primary})),pyt=e=>{const{disabled:t,dragging:r,marked:n,orientation:i,track:s,classes:o,color:a,size:l}=e,u={root:["root",t&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",a&&`color${st(a)}`,l&&`size${st(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${st(l)}`,a&&`thumbColor${st(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return su(u,tyt,o)},fyt=({children:e})=>e,myt=q.forwardRef(function(t,r){var n,i,s,o,a,l,u,d,p,f,y,v,g,b,w,S,_,x,$,E,T,M,A,k;const P=ou({props:t,name:"MuiSlider"}),D=Jmt().direction==="rtl",{"aria-label":j,"aria-valuetext":W,"aria-labelledby":te,component:ae="span",components:z={},componentsProps:J={},color:me="primary",classes:we,className:Se,disableSwap:xe=!1,disabled:Ne=!1,getAriaLabel:wt,getAriaValueText:Ut,marks:Ht=!1,max:tt=100,min:le=0,orientation:Oe="horizontal",size:Ue="medium",step:re=1,scale:rt=pZ,slotProps:Ae,slots:We,track:Ft="normal",valueLabelDisplay:Mr="off",valueLabelFormat:Qn=pZ}=P,Rs=Tr(P,syt),ir=ee({},P,{isRtl:D,max:tt,min:le,classes:we,disabled:Ne,disableSwap:xe,orientation:Oe,marks:Ht,color:me,size:Ue,step:re,scale:rt,track:Ft,valueLabelDisplay:Mr,valueLabelFormat:Qn}),{axisProps:ei,getRootProps:aa,getHiddenInputProps:pu,getThumbProps:be,open:Ce,active:ot,axis:Je,focusedThumbIndex:on,range:De,dragging:sr,marks:Ln,values:_t,trackOffset:Ls,trackLeap:np}=Lve(ee({},ir,{ref:r}));ir.marked=Ln.length>0&&Ln.some(ht=>ht.label),ir.dragging=sr,ir.focusedThumbIndex=on;const Ui=pyt(ir),zv=(n=(i=We==null?void 0:We.root)!=null?i:z.Root)!=null?n:oyt,hx=(s=(o=We==null?void 0:We.rail)!=null?o:z.Rail)!=null?s:ayt,px=(a=(l=We==null?void 0:We.track)!=null?l:z.Track)!=null?a:lyt,fx=(u=(d=We==null?void 0:We.thumb)!=null?d:z.Thumb)!=null?u:uyt,mx=(p=(f=We==null?void 0:We.valueLabel)!=null?f:z.ValueLabel)!=null?p:cyt,Uv=(y=(v=We==null?void 0:We.mark)!=null?v:z.Mark)!=null?y:dyt,Bv=(g=(b=We==null?void 0:We.markLabel)!=null?b:z.MarkLabel)!=null?g:hyt,yx=(w=(S=We==null?void 0:We.input)!=null?S:z.Input)!=null?w:"input",Gv=(_=Ae==null?void 0:Ae.root)!=null?_:J.root,aA=(x=Ae==null?void 0:Ae.rail)!=null?x:J.rail,qv=($=Ae==null?void 0:Ae.track)!=null?$:J.track,Wv=(E=Ae==null?void 0:Ae.thumb)!=null?E:J.thumb,Hv=(T=Ae==null?void 0:Ae.valueLabel)!=null?T:J.valueLabel,lA=(M=Ae==null?void 0:Ae.mark)!=null?M:J.mark,uA=(A=Ae==null?void 0:Ae.markLabel)!=null?A:J.markLabel,cA=(k=Ae==null?void 0:Ae.input)!=null?k:J.input,dA=Bc({elementType:zv,getSlotProps:aa,externalSlotProps:Gv,externalForwardedProps:Rs,additionalProps:ee({},eyt(zv)&&{as:ae}),ownerState:ee({},ir,Gv==null?void 0:Gv.ownerState),className:[Ui.root,Se]}),H=Bc({elementType:hx,externalSlotProps:aA,ownerState:ir,className:Ui.rail}),lr=Bc({elementType:px,externalSlotProps:qv,additionalProps:{style:ee({},ei[Je].offset(Ls),ei[Je].leap(np))},ownerState:ee({},ir,qv==null?void 0:qv.ownerState),className:Ui.track}),Vc=Bc({elementType:fx,getSlotProps:be,externalSlotProps:Wv,ownerState:ee({},ir,Wv==null?void 0:Wv.ownerState),className:Ui.thumb}),mo=Bc({elementType:mx,externalSlotProps:Hv,ownerState:ee({},ir,Hv==null?void 0:Hv.ownerState),className:Ui.valueLabel}),ip=Bc({elementType:Uv,externalSlotProps:lA,ownerState:ir,className:Ui.mark}),$e=Bc({elementType:Bv,externalSlotProps:uA,ownerState:ir,className:Ui.markLabel}),Bm=Bc({elementType:yx,getSlotProps:pu,externalSlotProps:cA,ownerState:ir});return rr(zv,ee({},dA,{children:[de(hx,ee({},H)),de(px,ee({},lr)),Ln.filter(ht=>ht.value>=le&&ht.value<=tt).map((ht,Nr)=>{const Kv=oT(ht.value,le,tt),ds=ei[Je].offset(Kv);let yo;return Ft===!1?yo=_t.indexOf(ht.value)!==-1:yo=Ft==="normal"&&(De?ht.value>=_t[0]&&ht.value<=_t[_t.length-1]:ht.value<=_t[0])||Ft==="inverted"&&(De?ht.value<=_t[0]||ht.value>=_t[_t.length-1]:ht.value>=_t[0]),rr(q.Fragment,{children:[de(Uv,ee({"data-index":Nr},ip,!iw(Uv)&&{markActive:yo},{style:ee({},ds,ip.style),className:Zt(ip.className,yo&&Ui.markActive)})),ht.label!=null?de(Bv,ee({"aria-hidden":!0,"data-index":Nr},$e,!iw(Bv)&&{markLabelActive:yo},{style:ee({},ds,$e.style),className:Zt(Ui.markLabel,$e.className,yo&&Ui.markLabelActive),children:ht.label})):null]},Nr)}),_t.map((ht,Nr)=>{const Kv=oT(ht,le,tt),ds=ei[Je].offset(Kv),yo=Mr==="off"?fyt:mx;return de(yo,ee({},!iw(yo)&&{valueLabelFormat:Qn,valueLabelDisplay:Mr,value:typeof Qn=="function"?Qn(rt(ht),Nr):Qn,index:Nr,open:Ce===Nr||ot===Nr||Mr==="on",disabled:Ne},mo,{children:de(fx,ee({"data-index":Nr},Vc,{className:Zt(Ui.thumb,Vc.className,ot===Nr&&Ui.active,on===Nr&&Ui.focusVisible),style:ee({},ds,{pointerEvents:xe&&ot!==Nr?"none":void 0},Vc.style),children:de(yx,ee({"data-index":Nr,"aria-label":wt?wt(Nr):j,"aria-valuenow":rt(ht),"aria-labelledby":te,"aria-valuetext":Ut?Ut(rt(ht),Nr):W,value:_t[Nr]},Bm))}))}),Nr)})]}))}),fZ=myt;function yyt(e){return nl("MuiFormGroup",e)}il("MuiFormGroup",["root","row","error"]);function Yfe({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const gyt=["className","row"],vyt=e=>{const{classes:t,row:r,error:n}=e;return su({root:["root",r&&"row",n&&"error"]},yyt,t)},byt=Lr("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})(({ownerState:e})=>ee({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),wyt=q.forwardRef(function(t,r){const n=ou({props:t,name:"MuiFormGroup"}),{className:i,row:s=!1}=n,o=Tr(n,gyt),a=iz(),l=Yfe({props:n,muiFormControl:a,states:["error"]}),u=ee({},n,{row:s,error:l.error}),d=vyt(u);return de(byt,ee({className:Zt(d.root,i),ownerState:u,ref:r},o))}),_yt=wyt;function Syt(e){return nl("MuiTypography",e)}il("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const xyt=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],$yt=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:s,classes:o}=e,a={root:["root",s,e.align!=="inherit"&&`align${st(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return su(a,Syt,o)},Eyt=Lr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${st(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>ee({margin:0},t.variant&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),mZ={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Tyt={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Myt=e=>Tyt[e]||e,Iyt=q.forwardRef(function(t,r){const n=ou({props:t,name:"MuiTypography"}),i=Myt(n.color),s=Eee(ee({},n,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:d=!1,paragraph:p=!1,variant:f="body1",variantMapping:y=mZ}=s,v=Tr(s,xyt),g=ee({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:d,paragraph:p,variant:f,variantMapping:y}),b=l||(p?"p":y[f]||mZ[f])||"span",w=$yt(g);return de(Eyt,ee({as:b,ref:r,ownerState:g,className:Zt(w.root,a)},v))}),yZ=Iyt;function Oyt(e){return nl("MuiFormControlLabel",e)}const Cyt=il("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),X$=Cyt,Ayt=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","slotProps","value"],Pyt=e=>{const{classes:t,disabled:r,labelPlacement:n,error:i}=e,s={root:["root",r&&"disabled",`labelPlacement${st(n)}`,i&&"error"],label:["label",r&&"disabled"]};return su(s,Oyt,t)},kyt=Lr("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${X$.label}`]:t.label},t.root,t[`labelPlacement${st(r.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>ee({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${X$.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${X$.label}`]:{[`&.${X$.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Ryt=q.forwardRef(function(t,r){var n;const i=ou({props:t,name:"MuiFormControlLabel"}),{className:s,componentsProps:o={},control:a,disabled:l,disableTypography:u,label:d,labelPlacement:p="end",slotProps:f={}}=i,y=Tr(i,Ayt),v=iz();let g=l;typeof g>"u"&&typeof a.props.disabled<"u"&&(g=a.props.disabled),typeof g>"u"&&v&&(g=v.disabled);const b={disabled:g};["checked","name","onChange","value","inputRef"].forEach(E=>{typeof a.props[E]>"u"&&typeof i[E]<"u"&&(b[E]=i[E])});const w=Yfe({props:i,muiFormControl:v,states:["error"]}),S=ee({},i,{disabled:g,labelPlacement:p,error:w.error}),_=Pyt(S),x=(n=f.typography)!=null?n:o.typography;let $=d;return $!=null&&$.type!==yZ&&!u&&($=de(yZ,ee({component:"span"},x,{className:Zt(_.label,x==null?void 0:x.className),children:$}))),rr(kyt,ee({className:Zt(_.root,s),ownerState:S,ref:r},y,{children:[q.cloneElement(a,b),$]}))}),Lyt=Ryt;class Q$ extends K.Component{render(){return rr("div",{className:"checkbox_container",children:[de("input",{className:"checkbox",id:this.props.id,type:"checkbox",checked:this.props.checked,onChange:this.props.onChange.bind(this),disabled:this.props.disabled}),de("label",{for:this.props.id,className:"checkbox_label",children:this.props.label})]})}}function Nyt(e){var t=1/0,r=-1/0,n;if(e.sort(),e.length===1)t=0,r=e[0],n=2;else if(e.length===2)t=e[0],r=e[1],n=(r-t)/2;else{n=25;for(const o of e)o<t?t=o:o>r&&(r=o)}const i=Math.ceil((r-t+1)/n),s=new Array(i).fill(0);for(const o of e)s[Math.floor((o-t)/n)]++;return{histogram:s,size:n}}class Fyt extends q.Component{getHistogram(t){if(this.props.feature_collection&&this.props.feature_collection.features){const r=this.props.feature_collection.features.map(i=>i.properties.area),n=Nyt(r);return n.histogram.map((i,s)=>({area:(s+1)*n.size,count:i}))}}get_slider_values(t,r,n,i){const s=t.map(l=>l.properties[r]),o=parseInt(s.sort(function(l,u){return l-u})[s.length-1],10)+1,a=[{value:0,label:"0"+i},{value:o/2,label:n},{value:o,label:o+i}];return{max:o,marks:a}}render(){if(this.props.feature_collection&&this.props.feature_collection.features){const t=this.get_slider_values(this.props.feature_collection.features,"area","Tree crown area","m2"),r=this.props.feature_collection.features.length>0&&this.props.feature_collection.features[0].hasOwnProperty("properties")&&this.props.feature_collection.features[0].properties.hasOwnProperty("area"),n=r?this.getHistogram(this.props.feature_collection):[],i=r?rr(Omt,{width:600,height:355,data:n,margin:{top:5,right:20,left:10,bottom:5},style:{left:"-32px"},children:[de(iA,{dataKey:"area",type:"number",tick:{fontSize:14},axisLine:{strokeWidth:2},children:de(Tn,{value:"Canopy area (m2)",offset:0,position:"insideBottom",style:{fontSize:17,fill:"rgba(0, 0, 0, 0.87)"}})}),de(sA,{tick:{fontSize:14},axisLine:{strokeWidth:2},children:de(Tn,{value:"Count",angle:"-90",style:{fontSize:17,fill:"rgba(0, 0, 0, 0.87)"}})}),de(nz,{stroke:"#f5f5f5"}),de(Vv,{dataKey:"count",barSize:20,fill:"#1976d2",isAnimationActive:!1})]}):null,s=this.props.mode!=="static_image"&&this.props.feature_collection.features.length>0?rr(Xmt,{sx:{width:200},className:"controls_container",children:[de(_yt,{children:de(Lyt,{control:de(Kmt,{checked:this.props.show_crowns,size:"small",onChange:this.props.changeCrowns}),label:""})}),rr("div",{children:[de("div",{className:"checkbox",children:de(Q$,{id:"show_boxes_cb",label:"Boxes",checked:this.props.show_boxes,size:"small",onChange:this.props.changeBoxes,disabled:!this.props.show_crowns})}),de("div",{className:"checkbox",children:de(Q$,{id:"show_masks_cb",label:"Masks",checked:this.props.show_masks,size:"small",onChange:this.props.changeMasks,disabled:!this.props.show_crowns})}),rr("div",{className:"checkbox",children:[de(Q$,{id:"show_scores_cb",label:"Scores",checked:this.props.show_scores,size:"small",onChange:this.props.changeScores,disabled:!this.props.show_crowns}),de("span",{className:"slider_container",children:de(fZ,{value:this.props.score_range_value,onChange:this.props.change_score_range,step:.01,valueLabelDisplay:"auto",size:"small",max:1,style:{display:this.props.show_crowns&&this.props.show_scores?"block":"none",marginBottom:"0px"}})})]}),rr("div",{className:"checkbox",children:[de(Q$,{id:"show_areas_cb",label:"Areas",checked:this.props.show_areas,size:"small",onChange:this.props.changeAreas,disabled:!this.props.show_crowns}),de("span",{className:"slider_container",children:de(fZ,{value:this.props.area_range_value,onChange:this.props.change_area_range,valueLabelDisplay:"auto",size:"small",min:0,max:t.max,style:{display:this.props.show_crowns&&this.props.show_areas?"block":"none",marginBottom:"0px"}})})]})]})]}):null;return rr("div",{className:"tree_crown_outer",children:[rr("div",{className:"trees_detected",children:[de("div",{className:"trees_detected_count",children:this.props.feature_collection.features.length}),de("span",{className:"trees_detected_count2",children:" trees detected"})]}),i,de("div",{className:"center"}),s]})}else return de("div",{})}}function Dyt(e){if(e.canvas){const r=e.canvas.getContext("2d").getImageData(0,0,e.canvas.width,e.canvas.height);console.log(r)}return de("div",{})}class jyt extends q.Component{constructor(t){super(t),this.state={image_url:null,detecting_tree_crowns:!1,getting_dynamic_image:!1,status_text:"",mode:"static_image",show_crowns:!0,show_boxes:!0,show_masks:!0,show_scores:!0,show_areas:!0,area_range_value:[0,800],score_range_value:[.08,1],gee_copyright:"© 2014 WWF Aerial Survey of the Congo. WWF/NASA JPL/KfW/BMUB/BMZ",wms_copyright:"Imagery from OpenAerialMap. Maxar Products. WorldView2 © 2021 Maxar Technologies.",lng:112.84350452926209,lat:-8.054735059174224,wms_endpoint:"",b_and_w:!1,canvas:void 0},this.area_threshold=1e3}componentDidMount(){this.setModel("cambridge")}setModel(t){let r=t==="cambridge"?"Alejandro Coca-Castro, Matt Allen, 2021 Tree crown detection (The Enviromental AI Book). http://acocac.github.io/environmental-ai-book/forest/modelling/forest-modelling-treecrown_deepforest.html Online; accessed Mon Nov 01 2021":"Restor Tree Detection model 2023";this.setState({model:t,model_copyright:r}),this.SERVER=document.location.hostname==="localhost"?"http://localhost:8081":"https://"+t+"---tree-detection-server-ny43uciwwa-oc.a.run.app",this.GET_INSTANCES_IMAGE_ENDPOINT=this.SERVER+"/getInstancesImage",this.GET_INSTANCES_ENDPOINT=this.SERVER+"/getInstances"}handleMapLoad(t,r){this.setState({map:t,view:r}),this.searchWidget||(this.searchWidget=new hke({view:r}),r.ui.add(this.searchWidget,{position:"top-right",index:2}))}changeToGeeImage(){this.state.view.goTo({center:[22.624934,-1.781699],zoom:19}).then(t=>{this.setState({mode:"gee_layer",status_text:"Getting image from Google Earth Engine..",feature_collection:void 0})})}changeToMaxarImage(){this.state.view.goTo({center:[112.84350452926209,-8.054735059174224],zoom:18}).then(t=>{this.setState({mode:"webtile_layer",status_text:"Getting image from OpenAerialMap..",feature_collection:void 0,wms_endpoint:"https://tiles.openaerialmap.org/61b94e69b26de1000596d605/1/61b94e69b26de1000596d607/{z}/{x}/{y}",wms_copyright:"Imagery from OpenAerialMap. Maxar Products. WorldView2 © 2021 Maxar Technologies."})})}changeToWaybackImage(){this.state.view.goTo({center:[-2.503135,10.064652],zoom:18}).then(t=>{this.setState({mode:"webtile_layer",status_text:"Getting image from Wayback..",feature_collection:void 0,wms_endpoint:"https://wayback.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/WMTS/1.0.0/default028mm/MapServer/tile/8249/{level}/{row}/{col}",wms_copyright:"ESRI Wayback"})})}startTCD(){this.setState({detecting_tree_crowns:!0})}openFilePicker(t){this.inputElement.click()}imageChosen(t){this.setState({mode:"static_image"}),this.raw_image_url=URL.createObjectURL(t.target.files[0]),this.selectedFile=t.target.files[0],this.setState({image_url:this.raw_image_url},this.processImage)}processImage(t){this.startTCD();const r=new FormData;r.append("data",this.selectedFile),M7.post(this.GET_INSTANCES_IMAGE_ENDPOINT,r,{withCredentials:!0}).then(n=>{this.classified_image_url=this.SERVER+"/outputs/"+n.data.instances_image,this.active_image_is_classified=!0,this.setState({image_url:this.classified_image_url}),this.fc=n.data.instances_geojson})}imageLoaded(t){t.currentTarget.src.substr(0,5)!=="blob:"&&this.setState({detecting_tree_crowns:!1,feature_collection:this.fc})}switchImages(){this.active_image_is_classified?this.setState({image_url:this.raw_image_url}):this.setState({image_url:this.classified_image_url}),this.active_image_is_classified=!this.active_image_is_classified}canvas_set(t){this.setState({getting_dynamic_image:!t,canvas:t}),t&&t.toBlob(r=>{this.blob=r})}processDynamicImage(){return new Promise((t,r)=>{this.startTCD();const n=new FormData;n.append("data",this.blob),n.append("ul",Wf(this.state.view.extent.xmin,this.state.view.extent.ymax)),n.append("lr",Wf(this.state.view.extent.xmax,this.state.view.extent.ymin)),M7.post(this.GET_INSTANCES_ENDPOINT,n,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(i=>{const s=this.filterFeatures(i.data.instances_geojson),o=this.mergeFeatureCollections(s);this.setState({feature_collection:o,detecting_tree_crowns:!1,b_and_w:!0}),t(i)})})}filterFeatures(t){return t.features=t.features.filter(r=>r.properties.area<this.area_threshold),t}mergeFeatureCollections(t){const r={type:"FeatureCollection"};return this.state.feature_collection===void 0?r.features=t.features:r.features=this.state.feature_collection.features.concat(t.features),r}downloadInstances(){const t=new File([JSON.stringify(this.state.feature_collection)],"tree_crowns.geojson",{type:"text/plain"}),r=document.createElement("a"),n=URL.createObjectURL(t);r.href=n,r.download=t.name,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}changeCrowns(t){this.setState({show_crowns:t.nativeEvent.srcElement.checked})}changeBoxes(t){this.setState({show_boxes:t.nativeEvent.srcElement.checked})}changeMasks(t){this.setState({show_masks:t.nativeEvent.srcElement.checked})}changeScores(t){this.setState({show_scores:t.nativeEvent.srcElement.checked})}changeAreas(t){this.setState({show_areas:t.nativeEvent.srcElement.checked})}change_area_range(t,r){this.setState({area_range_value:r})}change_score_range(t,r){this.setState({score_range_value:r})}changeModel(t){this.inputElement.value="",this.setModel(t)}render(){return rr("div",{className:"App",children:[de("table",{children:de("tbody",{children:rr("tr",{children:[rr("td",{className:"imageCell",children:[de("input",{ref:t=>this.inputElement=t,type:"file",onChange:this.imageChosen.bind(this),style:{display:"none"}}),de("div",{className:"imageBackground"}),rr(HBe,{onLoad:this.handleMapLoad.bind(this),mapProperties:{basemap:{portalItem:{id:"96cff8b8e48d45548833f19e29f09943"}}},viewProperties:{center:[this.state.lng,this.state.lat],zoom:19},children:[de(JBe,{detecting_tree_crowns:this.state.detecting_tree_crowns,canvas_set:this.canvas_set.bind(this),visible:this.state.mode==="gee_layer",layers:"WWF/carbon-maps/raw-data/imagery",bands:"b1,b2,b3",copyright:this.state.gee_copyright}),de(ZBe,{detecting_tree_crowns:this.state.detecting_tree_crowns,canvas_set:this.canvas_set.bind(this),visible:this.state.mode==="webtile_layer",urlTemplate:this.state.wms_endpoint,copyright:this.state.wms_copyright}),de(XBe,{feature_collection:this.state.feature_collection,visible:this.state.mode!=="static_image"&&this.state.show_crowns,show_boxes:this.state.show_boxes,show_masks:this.state.show_masks,show_scores:this.state.show_scores,show_areas:this.state.show_areas,area_range_value:this.state.area_range_value,score_range_value:this.state.score_range_value})]}),de("img",{src:this.state.image_url,className:"image",alt:"drone",style:{width:"700px",height:"700px",display:this.state.image_url&&this.state.mode==="static_image"?"block":"none"},onLoad:this.imageLoaded.bind(this)}),rr("div",{className:"status_box",style:{display:this.state.detecting_tree_crowns?"block":"none"},children:[de(M3,{sx:{fontSize:60},className:"spin"}),de("div",{className:"status_text",children:"Detecting trees.."}),de("div",{className:"geeLoading",style:{display:this.state.mode!=="static_image"&&this.state.getting_dynamic_image?"block":"none"},children:this.state.status_text})]}),rr("div",{className:"status_box",style:{display:this.state.mode!=="static_image"&&this.state.getting_dynamic_image?"block":"none"},children:[de(M3,{sx:{fontSize:60},className:"spin",style:{color:"gray"}}),de("div",{className:"geeLoading",children:this.state.status_text})]})]}),de("td",{className:"buttonCell",children:rr("div",{children:[de(l1,{variant:"contained",type:"file",onClick:this.openFilePicker.bind(this),disabled:this.state.getting_dynamic_image||this.state.detecting_tree_crowns,title:"Upload drone image for tree detection",children:"Drone"}),de("span",{className:"span"}),de(l1,{variant:"contained",onClick:this.changeToGeeImage.bind(this),disabled:this.state.getting_dynamic_image||this.state.detecting_tree_crowns,title:"Use aerial imagery from Google Earth Engine for tree detection",children:"Aerial"}),de("span",{className:"span"}),de(l1,{variant:"contained",onClick:this.changeToMaxarImage.bind(this),disabled:this.state.getting_dynamic_image||this.state.detecting_tree_crowns,title:"Use Maxar WorldView2 imagery for tree detection",children:"Satelllite"}),de("span",{className:"span"}),de(l1,{variant:"contained",onClick:this.changeToWaybackImage.bind(this),disabled:this.state.getting_dynamic_image||this.state.detecting_tree_crowns,title:"Use ESRI Wayback for tree detection",children:"Wayback"}),de("span",{className:"span"}),de(l1,{variant:"contained",onClick:this.processDynamicImage.bind(this),disabled:this.state.mode==="static_image"||this.state.getting_dynamic_image||this.state.detecting_tree_crowns,color:"error",title:"Start tree detection on the imagery",children:"Go"}),de("span",{className:"span"}),de(G_e,{"aria-label":"delete",color:"primary",onClick:this.downloadInstances.bind(this),disabled:!this.state.feature_collection,title:"Download the detected trees as Geojson",children:de(Ree,{})}),de(Fyt,{mode:this.state.mode,feature_collection:this.state.feature_collection,changeCrowns:this.changeCrowns.bind(this),changeBoxes:this.changeBoxes.bind(this),changeMasks:this.changeMasks.bind(this),changeScores:this.changeScores.bind(this),changeAreas:this.changeAreas.bind(this),show_crowns:this.state.show_crowns,show_boxes:this.state.show_boxes,show_masks:this.state.show_masks,show_scores:this.state.show_scores,show_areas:this.state.show_areas,change_area_range:this.change_area_range.bind(this),area_range_value:this.state.area_range_value,score_range_value:this.state.score_range_value,change_score_range:this.change_score_range.bind(this)}),de(Dyt,{canvas:this.state.canvas})]})})]})})}),rr("div",{className:"model",children:[rr("span",{className:"modelname",children:[de("label",{htmlFor:"model",children:"Tree detection model:  "}),rr("select",{name:"model",id:"model",onChange:t=>this.changeModel(t.target.value),value:this.state.model,children:[de("option",{value:"cambridge",children:"Cambridge"}),de("option",{value:"restor",children:"Restor"})]})]}),de("span",{className:"citation",children:this.state.model_copyright})]})]})}}SR.createRoot(document.getElementById("root")).render(de(jyt,{}));export{Dee as $,d0 as A,rSt as B,zi as C,PSe as D,Ur as E,uT as F,ue as G,mt as H,Ps as I,Koe as J,cgt as K,c as L,H4 as M,h as N,On as O,O as P,N as Q,No as R,oh as S,av as T,Tt as U,Woe as V,Yn as W,Q as X,au as Y,Ct as Z,Y as _,rn as a,UCe as a$,Vi as a0,Zo as a1,Xa as a2,c0 as a3,dc as a4,ote as a5,ogt as a6,c_ as a7,USe as a8,yt as a9,Fe as aA,Rm as aB,Fbt as aC,$0 as aD,Pn as aE,hse as aF,h0 as aG,wm as aH,Ie as aI,rte as aJ,Pt as aK,rM as aL,wp as aM,Ybt as aN,Zl as aO,Ve as aP,sde as aQ,I0 as aR,O7e as aS,Y9 as aT,Hze as aU,Lh as aV,u7e as aW,vBe as aX,V8 as aY,Wn as aZ,ide as a_,Xo as aa,bO as ab,xS as ac,Bo as ad,YA as ae,hgt as af,Nke as ag,oe as ah,rSe as ai,V5e as aj,Wue as ak,Jue as al,v9 as am,Uyt as an,Nl as ao,he as ap,sC as aq,Q5e as ar,xm as as,Zf as at,hUe as au,C_t as av,P_t as aw,An as ax,Tm as ay,n9 as az,lu as b,Hf as b$,Fm as b0,Sm as b1,Ge as b2,gte as b3,yv as b4,hv as b5,nh as b6,h6 as b7,ES as b8,uv as b9,H0t as bA,k3 as bB,cF as bC,kr as bD,pde as bE,lde as bF,En as bG,p9 as bH,Dm as bI,Bg as bJ,$h as bK,g8 as bL,Pie as bM,Yl as bN,yC as bO,tvt as bP,Zce as bQ,Nce as bR,Xce as bS,e7e as bT,g_t as bU,d7e as bV,D_ as bW,v_t as bX,T_ as bY,ra as bZ,Z1t as b_,Uvt as ba,p5e as bb,km as bc,as as bd,cu as be,R6 as bf,ge as bg,EB as bh,gae as bi,WO as bj,qO as bk,As as bl,Jh as bm,zte as bn,Lc as bo,iPe as bp,Ec as bq,en as br,Ni as bs,W0t as bt,Un as bu,is as bv,j1t as bw,Ka as bx,kne as by,XMe as bz,Iie as c,aSe as c$,hIe as c0,fvt as c1,kae as c2,ibt as c3,GG as c4,Aae as c5,el as c6,SM as c7,mvt as c8,avt as c9,w_ as cA,no as cB,lOe as cC,koe as cD,B as cE,Gue as cF,que as cG,dwt as cH,x8e as cI,_8e as cJ,h_ as cK,xt as cL,X4e as cM,$wt as cN,Xe as cO,T4e as cP,K7e as cQ,Z4e as cR,uvt as cS,Sbt as cT,Be as cU,Wh as cV,wde as cW,TO as cX,oae as cY,MLe as cZ,ILe as c_,w0t as ca,cv as cb,uAe as cc,cAe as cd,d6 as ce,i8 as cf,Xne as cg,g0t as ch,n8 as ci,r8 as cj,uwt as ck,cwt as cl,lwt as cm,_O as cn,G5e as co,CT as cp,Lg as cq,O0 as cr,q5e as cs,rie as ct,I0t as cu,R0t as cv,O0t as cw,A0t as cx,C0t as cy,P0t as cz,w6 as d,G9e as d$,uSe as d0,Hyt as d1,Js as d2,JA as d3,Fne as d4,Q6 as d5,pIe as d6,aIe as d7,cL as d8,Dne as d9,M2 as dA,rG as dB,lbt as dC,Q1t as dD,B9 as dE,n5e as dF,Nbt as dG,i5e as dH,Rbt as dI,pi as dJ,pv as dK,Lbt as dL,i8e as dM,s8e as dN,o8e as dO,xFe as dP,Fae as dQ,tbt as dR,X1t as dS,FNe as dT,abt as dU,qG as dV,Byt as dW,Gyt as dX,G8e as dY,SFe as dZ,Nae as d_,y0t as da,b0t as db,pce as dc,yce as dd,mce as de,z9e as df,Fl as dg,N_ as dh,fC as di,lAe as dj,Tc as dk,Gh as dl,cvt as dm,M0t as dn,v6 as dp,a8 as dq,fm as dr,c$ as ds,mae as dt,dIe as du,Nf as dv,fg as dw,Wf as dx,RRe as dy,Hn as dz,IE as e,vMe as e$,H1 as e0,$t as e1,KT as e2,Am as e3,M6 as e4,Ic as e5,ut as e6,HS as e7,Li as e8,s6e as e9,XOe as eA,$7e as eB,T7e as eC,mi as eD,ar as eE,Kf as eF,Pe as eG,wf as eH,Z8e as eI,Mw as eJ,R8e as eK,w1t as eL,qbt as eM,pvt as eN,AO as eO,tte as eP,JO as eQ,dAe as eR,xv as eS,L5e as eT,ugt as eU,xSe as eV,hxe as eW,gbt as eX,_0 as eY,yw as eZ,mN as e_,Yyt as ea,eM as eb,Egt as ec,Gf as ed,vt as ee,i3e as ef,Qs as eg,kO as eh,k0t as ei,ft as ej,_m as ek,Fh as el,kN as em,Sr as en,PN as eo,LN as ep,XT as eq,PRe as er,Cgt as es,w8 as et,LB as eu,_0t as ev,bvt as ew,Tvt as ex,lvt as ey,d1t as ez,Qr as f,J6 as f$,Ebt as f0,q4e as f1,zIe as f2,YIe as f3,Dh as f4,bMe as f5,Evt as f6,sbt as f7,lae as f8,R1t as f9,Zyt as fA,kie as fB,FL as fC,Nie as fD,J0t as fE,aCe as fF,WOe as fG,Oie as fH,DL as fI,LOe as fJ,yCe as fK,q0t as fL,egt as fM,qie as fN,nRe as fO,coe as fP,ZOe as fQ,f1t as fR,doe as fS,zS as fT,vRe as fU,sCe as fV,gRe as fW,xOe as fX,S7e as fY,f0t as fZ,c0t as f_,yAe as fa,Ece as fb,I3 as fc,Nee as fd,e8e as fe,t8e as ff,r8e as fg,yvt as fh,S0t as fi,One as fj,_ne as fk,obt as fl,K1t as fm,Rae as fn,Iae as fo,ZLe as fp,L0t as fq,Yne as fr,v0t as fs,JMe as ft,rIe as fu,PO as fv,m0t as fw,Yo as fx,Wyt as fy,JUe as fz,I7e as g,qyt as g$,Z6 as g0,N7e as g1,q7e as g2,Uke as g3,f0 as g4,Mo as g5,SMe as g6,Sne as g7,xne as g8,xMe as g9,xc as gA,Ug as gB,Cle as gC,$Ne as gD,Y1t as gE,u8 as gF,F0t as gG,D0t as gH,N0t as gI,Y0t as gJ,boe as gK,r9 as gL,mbt as gM,cw as gN,eFe as gO,KNe as gP,RG as gQ,iFe as gR,nbt as gS,Ske as gT,Obt as gU,ASe as gV,FP as gW,DP as gX,J1t as gY,mr as gZ,V1t as g_,sa as ga,mCe as gb,gCe as gc,xCe as gd,ICe as ge,Gie as gf,Uie as gg,Bie as gh,MCe as gi,kCe as gj,RCe as gk,pCe as gl,FO as gm,Kbt as gn,P1t as go,mO as gp,Tle as gq,H1t as gr,G1t as gs,U1t as gt,rbt as gu,nFe as gv,W1t as gw,v1t as gx,b1t as gy,hvt as gz,zyt as h,Ygt as h$,eBe as h0,gAe as h1,Lee as h2,ebt as h3,wae as h4,Qyt as h5,QOe as h6,Gt as h7,Wg as h8,cLe as h9,FTe as hA,LTe as hB,Wgt as hC,Hgt as hD,Kgt as hE,Vgt as hF,n0t as hG,zgt as hH,e0t as hI,Zgt as hJ,DEe as hK,s0t as hL,Bgt as hM,Jgt as hN,Xgt as hO,DTe as hP,jgt as hQ,lm as hR,dgt as hS,Rc as hT,Nne as hU,lte as hV,ch as hW,r0t as hX,t0t as hY,roe as hZ,WPe as h_,VN as ha,YFe as hb,ZFe as hc,PB as hd,Rie as he,HOe as hf,BOe as hg,Lie as hh,mT as hi,Wze as hj,EOe as hk,R4e as hl,rC as hm,_v as hn,Kke as ho,Z0t as hp,mgt as hq,axe as hr,O6 as hs,Vxe as ht,TIe as hu,ts as hv,Ugt as hw,Ggt as hx,Dre as hy,Qgt as hz,ode as i,MB as i$,qgt as i0,i0t as i1,_vt as i2,Mvt as i3,Ivt as i4,Mc as i5,I5e as i6,Di as i7,Fa as i8,dFe as i9,q8e as iA,ta as iB,xVe as iC,Yie as iD,P5e as iE,_ce as iF,Zbt as iG,tDe as iH,nDe as iI,N5e as iJ,w9 as iK,D5e as iL,j5e as iM,oSe as iN,lSe as iO,x8 as iP,bm as iQ,PS as iR,TB as iS,pke as iT,zo as iU,ARe as iV,O8e as iW,z5e as iX,E8e as iY,W5e as iZ,U8e as i_,q1t as ia,z8 as ib,fwt as ic,Kyt as id,ice as ie,ywt as ig,mwt as ih,gwt as ii,_1t as ij,Hbt as ik,U5e as il,y3e as im,c2e as io,$bt as ip,iC as iq,hC as ir,L9 as is,YBe as it,Lt as iu,Jbt as iv,bq as iw,e9e as ix,l5e as iy,_9 as iz,ia as j,OT as j$,tie as j0,S9 as j1,cC as j2,SW as j3,eDe as j4,d4 as j5,nC as j6,X5e as j7,N9 as j8,tce as j9,WS as jA,Vae as jB,xw as jC,F5e as jD,h1t as jE,Hte as jF,EO as jG,NS as jH,E_ as jI,sh as jJ,ro as jK,OAe as jL,wO as jM,CAe as jN,Ovt as jO,qt as jP,rgt as jQ,Y_e as jR,_8 as jS,wvt as jT,vvt as jU,M0 as jV,Rue as jW,k6 as jX,ky as jY,GN as jZ,M6e as j_,v_ as ja,ks as jb,ho as jc,DS as jd,Nc as je,BVe as jf,UVe as jg,VVe as jh,UW as ji,ji as jj,tC as jk,VMe as jl,jMe as jm,h0t as jn,NP as jo,L$e as jp,Y8e as jq,bv as jr,h9 as js,Gae as jt,cNe as ju,g4e as jv,dNe as jw,Jae as jx,tle as jy,oM as jz,ex as k,hMe as k$,Lm as k0,dvt as k1,gvt as k2,V$ as k3,RB as k4,E7e as k5,Pze as k6,Mze as k7,p8 as k8,agt as k9,c6e as kA,d6e as kB,h6e as kC,p6e as kD,f6e as kE,m6e as kF,y6e as kG,g6e as kH,v6e as kI,b6e as kJ,w6e as kK,ece as kL,lv as kM,sSe as kN,Ha as kO,Qa as kP,igt as kQ,mU as kR,cse as kS,kOe as kT,K0t as kU,Aie as kV,$Oe as kW,Cie as kX,rDe as kY,Wbt as kZ,sgt as k_,jde as ka,gie as kb,dte as kc,A8 as kd,sU as ke,R_ as kf,B5e as kg,kbt as kh,xh as ki,pW as kj,$_ as kk,sDe as kl,iDe as km,qh as kn,GO as ko,t9 as kp,_6e as kq,E5e as kr,Dc as ks,awt as kt,owt as ku,swt as kv,V6e as kw,$6e as kx,E6e as ky,u6e as kz,C7e as l,cU as l0,I as l1,d0t as l2,Fd as l3,xbt as l4,R9 as l5,T0t as l6,eu as l7,kh as l8,Lue as l9,vae as lA,pgt as lB,p3e as lC,d$ as lD,dF as lE,Mie as lF,lgt as lG,X0t as lH,Lxe as lI,ubt as lJ,m9 as lK,wbt as lL,Ewt as lM,_St as lN,g6 as la,Bue as lb,ey as lc,$ae as ld,x0 as le,Q7e as lf,eUe as lg,J7e as lh,dCe as li,iSe as lj,wxe as lk,Svt as ll,xvt as lm,wRe as ln,bRe as lo,TOe as lp,zke as lq,YO as lr,bM as ls,a3e as lt,$vt as lu,nxe as lv,Jke as lw,Bke as lx,p1t as ly,T6 as lz,y8 as m,_gt as n,nSt as o,Jyt as p,Vyt as q,C as r,V as s,G as t,Jie as u,Z_e as v,Z as w,_de as x,gO as y,sn as z};
