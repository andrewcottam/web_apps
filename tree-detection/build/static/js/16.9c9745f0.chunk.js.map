{"version":3,"sources":["../node_modules/@arcgis/core/renderers/DictionaryRenderer.js","../node_modules/@arcgis/core/renderers/SimpleRenderer.js","../node_modules/@arcgis/core/renderers/support/AttributeColorInfo.js","../node_modules/@arcgis/core/renderers/support/DotDensityLegendOptions.js","../node_modules/@arcgis/core/renderers/DotDensityRenderer.js","../node_modules/@arcgis/core/renderers/support/HeatmapColorStop.js","../node_modules/@arcgis/core/renderers/HeatmapRenderer.js","../node_modules/@arcgis/core/renderers/support/types.js","../node_modules/@arcgis/core/core/LRUCache.js","../node_modules/@arcgis/core/renderers/support/jsonUtils.js"],"names":["_","j","o","getLogger","w","type","lineSymbol","symbolLayers","width","color","S","e","_ongoingRequests","Map","_symbolCache","n","config","fieldMap","scaleExpression","scaleExpressionTitle","url","s","scalingExpressionInfo","expression","returnType","t","r","origin","i","this","visualVariables","a","_dictionaryPromise","fetchResources","l","_symbolFields","attributes","c","toString","p","get","catch","pop","m","split","u","h","length","indexOf","_itemNames","has","push","substr","map","Number","toRgba","primitiveName","propertyName","value","f","geometry","hasZ","y","_cimPartsToCIMSymbol","put","collectVVRequiredFields","add","error","abortOptions","responseType","query","Promise","all","d","data","authoringInfo","_refSymbolUrlTemplate","cimRefTemplateUrl","Set","itemsNames","symbol","configuration","hasOwnProperty","name","fields","filter","g","spatialReference","then","scale","repurposeFeature","evaluate","$feature","$view","reduce","getAttributeHash","JSON","stringify","replace","set","delete","reject","unshift","callout","primitiveOverrides","Array","_getSymbolPart","b","_combineSymbolParts","Object","json","read","source","write","target","prototype","String","overridePolicy","enabled","x","description","label","collectSymbolFields","getSymbols","collectRequiredFields","arcadeRequiredForVisualVariables","clone","simple","field","valueExpression","valueExpressionTitle","arguments","unit","backgroundColor","blendDots","dotBlendingEnabled","dotShape","dotSize","legendOptions","outline","dotValue","referenceDotValue","referenceScale","seed","getSymbol","toJSON","Boolean","default","dotDensity","ratio","blurRadius","colorStops","fieldOffset","maxPixelIntensity","minPixelIntensity","heatmap","key","base","typeMap","dictionary","errorContext","_storage","maxSize","registerRemoveFunc","clearAll","destroy","messages","declaredClass","renderer","context","types","styleName","styleUrl","definition"],"mappings":"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","file":"static/js/16.9c9745f0.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import s from\"../Color.js\";import t from\"../request.js\";import r from\"../core/Error.js\";import{clone as i}from\"../core/lang.js\";import o from\"../core/Logger.js\";import n from\"../core/LRUCache.js\";import{isSome as a}from\"../core/maybe.js\";import{isAbortError as l}from\"../core/promiseUtils.js\";import{numericHash as c}from\"../core/string.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as u}from\"../core/accessorSupport/decorators/writer.js\";import{collectArcadeFieldNames as h}from\"../layers/support/fieldUtils.js\";import f from\"./Renderer.js\";import{VisualVariablesMixin as y}from\"./mixins/VisualVariablesMixin.js\";import{loadArcade as d,createDictionaryExpression as g}from\"../support/arcadeOnDemand.js\";import b from\"../symbols/CIMSymbol.js\";var _;const j=o.getLogger(\"esri.renderers.DictionaryRenderer\"),w={type:\"CIMSimpleLineCallout\",lineSymbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",width:.5,color:[0,0,0,255]}]}};let S=_=class extends(y(f)){constructor(e){super(e),this._ongoingRequests=new Map,this._symbolCache=new n(100),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type=\"dictionary\"}writeData(e,s){e&&(s.scalingExpressionInfo={expression:e,returnType:\"number\"})}writeVisualVariables(e,s,t,r){null!=r&&r.origin||super.writeVisualVariables(e,s,t,r)}clone(){return new _({config:i(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:i(this.fieldMap),url:i(this.url),visualVariables:i(this.visualVariables)})}async getSymbolAsync(e,t){let r;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(t));try{r=await this._dictionaryPromise}catch(d){if(l(d))return this._dictionaryPromise=null,null}const i={};if(this.fieldMap)for(const s of this._symbolFields){const t=this.fieldMap[s];if(t&&null!==e.attributes[t]&&void 0!==e.attributes[t]){const r=\"\"+e.attributes[t];i[s]=r}else i[s]=\"\"}const o=r(i,t);if(!o||\"string\"!=typeof o)return null;const n=c(o).toString(),p=this._symbolCache.get(n);if(p)return p.catch((()=>{this._symbolCache.pop(n)})),p;const m=o.split(\";\"),u=[],h=[];for(const a of m)if(a&&0!==a.length)if(-1===a.indexOf(\"po:\"))if(-1!==a.indexOf(\"|\"))for(const e of a.split(\"|\"))this._itemNames.has(e)&&u.push(e);else this._itemNames.has(a)&&u.push(a);else{const e=a.substr(3).split(\"|\");if(3===e.length){const t=e[0],r=e[1];let i=e[2];if(\"DashTemplate\"===r)i=i.split(\" \").map((e=>Number(e)));else if(\"Color\"===r){const e=new s(i).toRgba();i=[e[0],e[1],e[2],255*e[3]]}else i=Number(i);h.push({primitiveName:t,propertyName:r,value:i})}}const f=!a(e.geometry)||!e.geometry.hasZ&&\"point\"===e.geometry.type,y=this._cimPartsToCIMSymbol(u,h,f,t);return this._symbolCache.put(n,y,1),y}async collectRequiredFields(e,s){await this.collectVVRequiredFields(e,s),this.scaleExpression&&await h(e,s,this.scaleExpression);for(const t in this.fieldMap){const r=this.fieldMap[t];s.has(r)&&e.add(r)}}get arcadeRequired(){return!0}async fetchResources(e){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void j.error(\"no valid URL!\");const s=a(e)?e.abortOptions:null,i=t(this.url+\"/resources/styles/dictionary-info.json\",{responseType:\"json\",query:{f:\"json\"},...s}),[{data:o}]=await Promise.all([i,d()]);if(!o)throw this._dictionaryPromise=null,new r(\"esri.renderers.DictionaryRenderer\",\"Bad dictionary data!\");const n=o.expression,l=o.authoringInfo;this._refSymbolUrlTemplate=this.url+\"/\"+o.cimRefTemplateUrl,this._itemNames=new Set(o.itemsNames),this._symbolFields=l.symbol;const c={};if(this.config){const e=this.config;for(const s in e)c[s]=e[s]}if(l.configuration)for(const t of l.configuration)c.hasOwnProperty(t.name)||(c[t.name]=t.value);const p=[];if(a(e)&&e.fields&&this.fieldMap)for(const t of this._symbolFields){const s=this.fieldMap[t],r=e.fields.filter((e=>e.name===s));r.length>0&&p.push({...r[0],name:t})}return this._dictionaryPromise=g(n,a(e)?e.spatialReference:null,p,c).then((e=>{const s={scale:0};return(t,r)=>{const i=e.repurposeFeature({geometry:null,attributes:t});return s.scale=a(r)?r.scale:void 0,e.evaluate({$feature:i,$view:s})}})).catch((e=>(j.error(\"Creating dictinoary expression failed:\",e),null))),this._dictionaryPromise}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,s)=>e+s.getAttributeHash()),\"\")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._symbolFields}async _getSymbolPart(e,s){if(this._ongoingRequests.has(e))return this._ongoingRequests.get(e).then((e=>e.data));const r=this._refSymbolUrlTemplate.replace(/\\{itemName\\}/gi,e),i=t(r,{responseType:\"json\",query:{f:\"json\"},...s});this._ongoingRequests.set(e,i);try{return(await i).data}catch(o){return this._ongoingRequests.delete(e),Promise.reject(o)}}_combineSymbolParts(e,s,t){if(!e||0===e.length)return null;const r={...e[0]};if(e.length>1){r.symbolLayers=[];for(const s of e){const e=s;r.symbolLayers.unshift(...e.symbolLayers)}}return t&&(r.callout=w),{type:\"CIMSymbolReference\",symbol:r,primitiveOverrides:s}}async _cimPartsToCIMSymbol(e,s,t,r){const i=new Array(e.length);for(let n=0;n<e.length;n++)i[n]=this._getSymbolPart(e[n],r);const o=await Promise.all(i);return new b({data:this._combineSymbolParts(o,s,t)})}};e([p({type:Object,json:{read:{source:\"configuration\"},write:{target:\"configuration\"}}})],S.prototype,\"config\",void 0),e([p({type:Object,json:{write:!0}})],S.prototype,\"fieldMap\",void 0),e([p({type:String,json:{read:{source:\"scalingExpressionInfo.expression\"},write:!0}})],S.prototype,\"scaleExpression\",void 0),e([u(\"scaleExpression\")],S.prototype,\"writeData\",null),e([p({type:String,json:{read:{source:\"scalingExpressionInfo.title\"},write:{target:\"scalingExpressionInfo.title\",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],S.prototype,\"scaleExpressionTitle\",void 0),e([p({type:String,json:{write:!0}})],S.prototype,\"url\",void 0),e([u(\"visualVariables\")],S.prototype,\"writeVisualVariables\",null),S=_=e([m(\"esri.renderers.DictionaryRenderer\")],S);var x=S;export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{clone as s}from\"../core/lang.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"./Renderer.js\";import{VisualVariablesMixin as l}from\"./mixins/VisualVariablesMixin.js\";import{rendererSymbolProperty as a}from\"./support/commonProperties.js\";var c;let p=c=class extends(l(i)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type=\"simple\"}async collectRequiredFields(e,s){await Promise.all([this.collectSymbolFields(e,s),this.collectVVRequiredFields(e,s)])}async collectSymbolFields(e,s){await Promise.all(this.getSymbols().map((r=>r.collectRequiredFields(e,s))))}getSymbol(e,s){return this.symbol}async getSymbolAsync(e,s){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,s)=>e+s.getAttributeHash()),\"\")}getMeshHash(){return this.getSymbols().reduce(((e,s)=>e+JSON.stringify(s)),\"\")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new c({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:s(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};e([r({type:String,json:{write:!0}})],p.prototype,\"description\",void 0),e([r({type:String,json:{write:!0}})],p.prototype,\"label\",void 0),e([r(a)],p.prototype,\"symbol\",void 0),e([t({simple:\"simple\"})],p.prototype,\"type\",void 0),p=c=e([o(\"esri.renderers.SimpleRenderer\")],p);var m=p;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../Color.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import t from\"../../core/Logger.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{cast as i}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{ensureString as p}from\"../../core/accessorSupport/ensureType.js\";var n;const u=t.getLogger(\"esri.renderers.support.AttributeColorInfo\");let c=n=class extends o{constructor(r){super(r),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(r){return null==r?r:\"function\"==typeof r?(u.error(\".field: field must be a string value\"),null):p(r)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new n({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};r([s({type:e,json:{type:[Number],write:!0}})],c.prototype,\"color\",void 0),r([s({type:String,json:{write:!0}})],c.prototype,\"field\",void 0),r([i(\"field\")],c.prototype,\"castField\",null),r([s({type:String,json:{write:!0}})],c.prototype,\"label\",void 0),r([s({type:String,json:{write:!0}})],c.prototype,\"valueExpression\",void 0),r([s({type:String,json:{write:!0}})],c.prototype,\"valueExpressionTitle\",void 0),c=n=r([l(\"esri.renderers.support.AttributeColorInfo\")],c);var a=c;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";var e;let p=e=class extends o{constructor(){super(...arguments),this.unit=null}clone(){return new e({unit:this.unit})}};r([s({type:String,json:{write:!0}})],p.prototype,\"unit\",void 0),p=e=r([t(\"esri.renderers.support.DotDensityLegendOptions\")],p);var c=p;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Color.js\";import{clone as o}from\"../core/lang.js\";import{aliasOf as r}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{enumeration as i}from\"../core/accessorSupport/decorators/enumeration.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import{collectArcadeFieldNames as l}from\"../layers/support/fieldUtils.js\";import p from\"./Renderer.js\";import{VisualVariablesMixin as a}from\"./mixins/VisualVariablesMixin.js\";import u from\"./support/AttributeColorInfo.js\";import d from\"./support/DotDensityLegendOptions.js\";import c from\"../symbols/SimpleFillSymbol.js\";import h from\"../symbols/SimpleLineSymbol.js\";var m;let y=m=class extends(a(p)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new t([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape=\"square\",this.dotSize=1,this.legendOptions=null,this.outline=new h,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type=\"dot-density\"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new c({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce(((e,t)=>e+t.getAttributeHash()),\"\")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new m({attributes:o(this.attributes),backgroundColor:o(this.backgroundColor),dotBlendingEnabled:o(this.dotBlendingEnabled),dotShape:o(this.dotShape),dotSize:o(this.dotSize),dotValue:o(this.dotValue),legendOptions:o(this.legendOptions),outline:o(this.outline),referenceScale:o(this.referenceScale),visualVariables:o(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map((e=>e.field||e.valueExpression||\"\"))}-${this.outline&&JSON.stringify(this.outline.toJSON())||\"\"}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const o of this.attributes)o.valueExpression&&await l(e,t,o.valueExpression),o.field&&e.add(o.field)}};e([s({type:[u],json:{write:!0}})],y.prototype,\"attributes\",void 0),e([s({type:t,json:{write:!0}})],y.prototype,\"backgroundColor\",void 0),e([s({type:Boolean}),r(\"dotBlendingEnabled\")],y.prototype,\"blendDots\",void 0),e([s({type:Boolean,json:{write:!0}})],y.prototype,\"dotBlendingEnabled\",void 0),e([s({type:String,json:{write:!1}})],y.prototype,\"dotShape\",void 0),e([s({type:Number,json:{write:!1}})],y.prototype,\"dotSize\",void 0),e([s({type:d,json:{write:!0}})],y.prototype,\"legendOptions\",void 0),e([s({type:h,json:{default:null,write:!0}})],y.prototype,\"outline\",void 0),e([s({type:Number,json:{write:!0}})],y.prototype,\"dotValue\",void 0),e([s({type:Number}),r(\"dotValue\")],y.prototype,\"referenceDotValue\",void 0),e([s({type:Number,json:{write:!0}})],y.prototype,\"referenceScale\",void 0),e([s({type:Number,json:{write:!0}})],y.prototype,\"seed\",void 0),e([i({dotDensity:\"dot-density\"})],y.prototype,\"type\",void 0),y=m=e([n(\"esri.renderers.DotDensityRenderer\")],y);var b=y;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../Color.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends t{constructor(o){super(o),this.color=null,this.ratio=null}clone(){return new p({color:this.color,ratio:this.ratio})}};o([s({type:r,json:{write:!0}})],c.prototype,\"color\",void 0),o([s({type:Number,json:{write:!0}})],c.prototype,\"ratio\",void 0),c=p=o([e(\"esri.renderers.support.HeatmapColorStop\")],c);var i=c;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../Color.js\";import{clone as r}from\"../core/lang.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{enumeration as s}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import{collectField as p}from\"../layers/support/fieldUtils.js\";import n from\"./Renderer.js\";import l from\"./support/HeatmapColorStop.js\";var a;let m=a=class extends n{constructor(t){super(t),this.blurRadius=10,this.colorStops=[new l({ratio:0,color:new e(\"rgba(255, 140, 0, 0)\")}),new l({ratio:.75,color:new e(\"rgba(255, 140, 0, 1)\")}),new l({ratio:.9,color:new e(\"rgba(255, 0,   0, 1)\")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type=\"heatmap\"}async collectRequiredFields(t,e){const r=this.field;r&&\"string\"==typeof r&&p(t,e,r)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new a({blurRadius:this.blurRadius,colorStops:r(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};t([o({type:Number,json:{write:!0}})],m.prototype,\"blurRadius\",void 0),t([o({type:[l],json:{write:!0}})],m.prototype,\"colorStops\",void 0),t([o({type:String,json:{write:!0}})],m.prototype,\"field\",void 0),t([o({type:Number,json:{write:{overridePolicy:(t,e,r)=>({enabled:null==r})}}})],m.prototype,\"fieldOffset\",void 0),t([o({type:Number,json:{write:!0}})],m.prototype,\"maxPixelIntensity\",void 0),t([o({type:Number,json:{write:!0}})],m.prototype,\"minPixelIntensity\",void 0),t([s({heatmap:\"heatmap\"})],m.prototype,\"type\",void 0),m=a=t([i(\"esri.renderers.HeatmapRenderer\")],m);var c=m;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../ClassBreaksRenderer.js\";import r from\"../DictionaryRenderer.js\";import t from\"../DotDensityRenderer.js\";import o from\"../HeatmapRenderer.js\";import s from\"../Renderer.js\";import a from\"../SimpleRenderer.js\";import i from\"../UniqueValueRenderer.js\";const m={key:\"type\",base:s,typeMap:{heatmap:o,simple:a,\"unique-value\":i,\"class-breaks\":e,\"dot-density\":t,dictionary:r},errorContext:\"renderer\"},n={key:\"type\",base:s,typeMap:{simple:a,\"unique-value\":i,\"class-breaks\":e},errorContext:\"renderer\"};export{m as rendererTypes,n as webSceneRendererTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";class e{constructor(e,s){this._storage=new t,this._storage.maxSize=e,s&&this._storage.registerRemoveFunc(\"\",s)}put(t,e,s){this._storage.put(t,e,s,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import e from\"../../core/Error.js\";import{setDeepValue as r}from\"../../core/object.js\";import n from\"../../core/Warning.js\";import{createTypeReader as s}from\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import{rendererTypes as t}from\"./types.js\";function o(e,n,s,t){const o=i(e,t);o&&r(s,o,n)}function u(e,r){if(!r||\"web-scene\"!==r.origin)return!0;switch(e.type){case\"simple\":case\"unique-value\":case\"class-breaks\":return!0;default:return!1}}function i(r,n){return r?u(r,n)?r.write({},n):(n.messages&&n.messages.push(new e(\"renderer:unsupported\",`Renderer of type '${r.declaredClass}' are not supported in scenes.`,{renderer:r,context:n})),null):null}function c(e,r){return l(e,null,r)}const a=s({types:t});function l(e,r,s){return e?e&&(e.styleName||e.styleUrl)&&\"uniqueValue\"!==e.type?(s&&s.messages&&s.messages.push(new n(\"renderer:unsupported\",\"Only UniqueValueRenderer can be referenced from a web style, but found '\"+e.type+\"'\",{definition:e,context:s})),null):a(e,r,s):null}export{c as fromJSON,l as read,o as write};\n"],"sourceRoot":""}