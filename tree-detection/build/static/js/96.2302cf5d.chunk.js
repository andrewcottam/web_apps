(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[96],{1094:function(e,n,r){"use strict";r.r(n),r.d(n,"createLabelFunction",(function(){return g})),r.d(n,"formatField",(function(){return w}));var t=r(7),a=r.n(t),u=r(21),i=r(12),s=r(29),c=r(15),l=r(106),o=r(117),p=r(209),f=r(693),b=r(237),x=c.a.getLogger("esri.layers.support.labelFormatUtils"),v={type:"simple",evaluate:function(){return null}},d={getAttribute:function(e,n){return e.field(n)}};function g(e,n,r){return y.apply(this,arguments)}function y(){return y=Object(i.a)(a.a.mark((function e(n,t,u){var i,c,l,o,p,g,y;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.symbol){e.next=2;break}return e.abrupt("return",v);case 2:if(i=n.where,c=Object(f.b)(n),!i){e.next=10;break}return e.next=7,Promise.resolve().then(r.bind(null,736));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:if(l=e.t0,"arcade"!==c.type){e.next=19;break}return e.next=15,Object(b.c)(c.expression,u,t);case 15:p=e.sent,o={type:"arcade",evaluate:function(e){try{var n=p.evaluate({$feature:"attributes"in e?p.repurposeFeature(e):p.repurposeAdapter(e)});if(null!=n)return n.toString()}catch(u){x.error(new s.a("bad-arcade-expression","Encountered an error when evaluating label expression for feature",{feature:e,expression:c}))}return null},needsHydrationToEvaluate:function(){return null==Object(f.e)(c.expression)}},e.next=20;break;case 19:o={type:"simple",evaluate:function(e){return c.expression.replace(/{[^}]*}/g,(function(n){var r=n.slice(1,-1),a=t.get(r);if(!a)return n;var u=null;return"attributes"in e?e&&e.attributes&&(u=e.attributes[a.name]):u=e.field(a.name),null==u?"":w(u,a)}))}};case 20:if(!i){e.next=30;break}e.prev=21,g=l.WhereClause.create(i,t),e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(21),e.abrupt("return",v);case 28:y=o.evaluate,o.evaluate=function(e){var n="attributes"in e?void 0:d;return g.testFeature(e,n)?y(e):null};case 30:return e.abrupt("return",o);case 31:case"end":return e.stop()}}),e,null,[[21,25]])}))),y.apply(this,arguments)}function w(e,n){if(null==e)return"";var r=n.domain;if(r)if("codedValue"===r.type||"coded-value"===r.type){var t,a=e,i=Object(u.a)(r.codedValues);try{for(i.s();!(t=i.n()).done;){var s=t.value;if(s.code===a)return s.name}}catch(v){i.e(v)}finally{i.f()}}else if("range"===r.type){var c=+e,f="range"in r?r.range[0]:r.minValue,b="range"in r?r.range[1]:r.maxValue;if(f<=c&&c<=b)return r.name}var x=e;return"date"===n.type||"esriFieldTypeDate"===n.type?x=Object(l.b)(x,Object(l.a)("short-date")):Object(p.i)(n)&&(x=Object(o.b)(+x)),x||""}},693:function(e,n,r){"use strict";r.d(n,"a",(function(){return v})),r.d(n,"b",(function(){return f})),r.d(n,"c",(function(){return b})),r.d(n,"d",(function(){return x})),r.d(n,"e",(function(){return m})),r.d(n,"f",(function(){return p}));var t=r(109),a="__begin__",u="__end__",i=new RegExp(a,"ig"),s=new RegExp(u,"ig"),c=new RegExp("^"+a,"i"),l=new RegExp(u+"$","i"),o='"';function p(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function f(e){var n={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(n.expression=e.labelExpressionInfo.value,n.type="conventional"):e.labelExpressionInfo.expression&&(n.expression=e.labelExpressionInfo.expression,n.type="arcade"):null!=e.labelExpression&&(n.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),n.type="conventional"),n}function b(e){var n=f(e);if(!n)return null;switch(n.type){case"conventional":return v(n.expression);case"arcade":return n.expression}return null}function x(e){var n=f(e);if(!n)return null;switch(n.type){case"conventional":return function(e){var n=e.match(d);return n&&n[1].trim()||null}(n.expression);case"arcade":return m(n.expression)}return null}function v(e){var n;return e?(n=Object(t.c)(e,(function(e){return a+'$feature["'+e+'"]'+u})),n=c.test(n)?n.replace(c,""):o+n,n=(n=l.test(n)?n.replace(l,""):n+o).replace(i,'" + ').replace(s,' + "')):n='""',n}var d=/^\s*\{([^}]+)\}\s*$/i;var g=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,w=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function m(e){if(!e)return null;var n=g.exec(e)||y.exec(e);return n?n[1]||n[3]:(n=w.exec(e))?n[2]:null}}}]);
//# sourceMappingURL=96.2302cf5d.chunk.js.map