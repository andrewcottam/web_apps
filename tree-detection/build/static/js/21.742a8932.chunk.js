(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[21,92],{1059:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return C}));var i=r(7),n=r.n(i),a=r(12),s=r(13),o=r(2),c=r(4),u=r(5),l=r(6),h=r(0),p=r(82),d=r(29),f=r(15),b=r(11),y=r(677),v=r(30),O=r(27),g=r(1),j=(r(19),r(14),r(57)),m=r(10),w=r(742),_=r(682),k=r(917),S=r(710),I=r(709),x=r(699),L=r(671),T=r(21),M=r(137),E=r(185),D=r(727),A=f.a.getLogger("esri.core.workers.WorkerHandle"),z=function(){function e(t,r,i){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(o.a)(this,e),this._mainMethod=r,this._listeners=[],this._promise=Object(D.a)(t,Object(s.a)(Object(s.a)({},a),{},{schedule:i})).then((function(e){if(void 0===n._thread){n._thread=e,n._promise=null,a.hasInitialize&&n.broadcast({},"initialize");var t,r=Object(T.a)(n._listeners);try{for(r.s();!(t=r.n()).done;){var i=t.value;n._connectListener(i)}}catch(s){r.e(s)}finally{r.f()}}else e.close()})),this._promise.catch((function(e){return A.error("Failed to initialize ".concat(t," worker: ").concat(e))}))}return Object(c.a)(e,[{key:"on",value:function(e,t){var r=this,i={removed:!1,eventName:e,callback:t,threadHandle:null};return this._listeners.push(i),this._connectListener(i),Object(E.b)((function(){i.removed=!0,Object(M.f)(r._listeners,i),r._thread&&Object(b.j)(i.threadHandle)&&i.threadHandle.remove()}))}},{key:"destroy",value:function(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}},{key:"invoke",value:function(e,t){return this.invokeMethod(this._mainMethod,e,t)}},{key:"invokeMethod",value:function(e,t,r){var i=this;if(this._thread){var n=this.getTransferList(t,e);return this._thread.invoke(e,t,{transferList:n,signal:r})}return this._promise?this._promise.then((function(){return Object(v.v)(r),i.invokeMethod(e,t,r)})):Promise.reject(null)}},{key:"broadcast",value:function(e,t){var r=this;return this._thread?Promise.all(this._thread.broadcast(t,e)).then((function(){})):this._promise?this._promise.then((function(){return r.broadcast(e,t)})):Promise.reject()}},{key:"promise",get:function(){return this._promise}},{key:"_connectListener",value:function(e){this._thread&&this._thread.on(e.eventName,e.callback).then((function(t){e.removed||(e.threadHandle=t)}))}}]),e}(),R=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(o.a)(this,r),(e=t.call(this,"LercWorker","_decode",i,{strategy:"dedicated"})).schedule=i,e.ref=0,e}return Object(c.a)(r,[{key:"decode",value:function(e,t,r){return e&&0!==e.byteLength?this.invoke({buffer:e,options:t},r):Promise.resolve(null)}},{key:"getTransferList",value:function(e){return[e.buffer]}},{key:"release",value:function(){var e=this;--this.ref<=0&&(F.forEach((function(t,r){t===e&&F.delete(r)})),this.destroy())}}]),r}(z),F=new Map;function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=F.get(Object(b.q)(e));return t||(Object(b.j)(e)?(t=new R((function(t){return e.schedule(t)})),F.set(e,t)):(t=new R,F.set(null,t))),++t.ref,t}var U=f.a.getLogger("esri.layers.ElevationLayer"),N=function(e){Object(u.a)(i,e);var t=Object(l.a)(i);function i(){var e;Object(o.a)(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).copyright=null,e.heightModelInfo=null,e.path=null,e.opacity=1,e.operationalLayerType="ArcGISTiledElevationServiceLayer",e.sourceJSON=null,e.type="elevation",e.url=null,e.version=null,e._lercDecoder=G(),e}return Object(c.a)(i,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?Object(s.a)({url:e},t):e}},{key:"destroy",value:function(){this._lercDecoder=Object(b.o)(this._lercDecoder)}},{key:"minScale",get:function(){},set:function(e){this.constructed&&U.warn("".concat(this.declaredClass,".minScale support has been removed (since 4.5)"))}},{key:"maxScale",get:function(){},set:function(e){this.constructed&&U.warn("".concat(this.declaredClass,".maxScale support has been removed (since 4.5)"))}},{key:"readVersion",value:function(e,t){var r=t.currentVersion;return r||(r=9.3),r}},{key:"load",value:function(e){var t=this,r=Object(b.j)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"],supportsData:!1,validateItem:function(e){for(var t=0;t<e.typeKeywords.length;t++)if("elevation 3d layer"===e.typeKeywords[t].toLowerCase())return!0;throw new d.a("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}' ",{type:"Image Service",expectedType:"Image Service Elevation 3D Layer"})}},e).catch(v.u).then((function(){return t._fetchImageService(r)}))),Promise.resolve(this)}},{key:"fetchTile",value:function(e,t,r,i){var n=this,a=Object(b.j)((i=i||{signal:null}).signal)?i.signal:i.signal=Object(v.d)().signal,s={responseType:"array-buffer",signal:a},o={noDataValue:i.noDataValue,returnFileInfo:!0};return this.load().then((function(){return n._fetchTileAvailability(e,t,r,i)})).then((function(){return Object(p.default)(n.getTileUrl(e,t,r),s)})).then((function(e){return n._lercDecoder.decode(e.data,o,a)})).then((function(e){return{values:e.pixelData,width:e.width,height:e.height,maxZError:e.fileInfo.maxZError,noDataValue:e.noDataValue,minValue:e.minValue,maxValue:e.maxValue}}))}},{key:"getTileUrl",value:function(e,t,r){var i=!this.tilemapCache&&this.supportsBlankTile,n=Object(O.D)(Object(s.a)(Object(s.a)({},this.parsedUrl.query),{},{blankTile:!i&&null}));return"".concat(this.parsedUrl.path,"/tile/").concat(e,"/").concat(t,"/").concat(r).concat(n?"?"+n:"")}},{key:"queryElevation",value:function(){var e=Object(a.a)(n.a.mark((function e(t,i){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(4),r.e(30)]).then(r.bind(null,1109));case 2:return a=e.sent,s=a.ElevationQuery,Object(v.v)(i),e.abrupt("return",(new s).query(this,t,i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"createElevationSampler",value:function(){var e=Object(a.a)(n.a.mark((function e(t,i){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(4),r.e(30)]).then(r.bind(null,1109));case 2:return a=e.sent,s=a.ElevationQuery,Object(v.v)(i),e.abrupt("return",(new s).createSampler(this,t,i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_fetchTileAvailability",value:function(e,t,r,i){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,t,r,i):Promise.resolve("unknown")}},{key:"_fetchImageService",value:function(){var e=Object(a.a)(n.a.mark((function e(t){var r,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.sourceJSON){e.next=2;break}return e.abrupt("return",this.sourceJSON);case 2:return r={query:Object(s.a)({f:"json"},this.parsedUrl.query),responseType:"json",signal:t},e.next=5,Object(p.default)(this.parsedUrl.path,r);case 5:(i=e.sent).ssl&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=i.data,this.read(i.data,{origin:"service",url:this.parsedUrl});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hasOverriddenFetchTile",get:function(){return!this.fetchTile.__isDefault__}}]),i}(Object(k.a)(Object(S.a)(Object(I.a)(Object(x.a)(Object(y.a)(_.a))))));Object(h.a)([Object(g.b)({json:{read:{source:"copyrightText"}}})],N.prototype,"copyright",void 0),Object(h.a)([Object(g.b)({readOnly:!0,type:w.a})],N.prototype,"heightModelInfo",void 0),Object(h.a)([Object(g.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],N.prototype,"path",void 0),Object(h.a)([Object(g.b)({type:["show","hide"]})],N.prototype,"listMode",void 0),Object(h.a)([Object(g.b)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],N.prototype,"minScale",null),Object(h.a)([Object(g.b)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],N.prototype,"maxScale",null),Object(h.a)([Object(g.b)({json:{read:!1,write:!1,origins:{"web-document":{read:!1,write:!1}}}})],N.prototype,"opacity",void 0),Object(h.a)([Object(g.b)({type:["ArcGISTiledElevationServiceLayer"]})],N.prototype,"operationalLayerType",void 0),Object(h.a)([Object(g.b)()],N.prototype,"sourceJSON",void 0),Object(h.a)([Object(g.b)({json:{read:!1},value:"elevation",readOnly:!0})],N.prototype,"type",void 0),Object(h.a)([Object(g.b)(L.n)],N.prototype,"url",void 0),Object(h.a)([Object(g.b)()],N.prototype,"version",void 0),Object(h.a)([Object(j.a)("version",["currentVersion"])],N.prototype,"readVersion",null),(N=Object(h.a)([Object(m.a)("esri.layers.ElevationLayer")],N)).prototype.fetchTile.__isDefault__=!0;var C=N},665:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var i,n=r(2),a=r(4),s=r(5),o=r(6),c=r(0),u=r(26),l=r(11),h=r(692),p=r(1),d=(r(19),r(14),r(15),r(57)),f=r(10),b=r(43),y=i=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).end=null,i.start=null,i}return Object(a.a)(r,[{key:"readEnd",value:function(e,t){return null!=t.end?new Date(t.end):null}},{key:"writeEnd",value:function(e,t){t.end=e?e.getTime():null}},{key:"isAllTime",get:function(){return this.equals(i.allTime)}},{key:"isEmpty",get:function(){return this.equals(i.empty)}},{key:"readStart",value:function(e,t){return null!=t.start?new Date(t.start):null}},{key:"writeStart",value:function(e,t){t.start=e?e.getTime():null}},{key:"clone",value:function(){return new i({end:this.end,start:this.start})}},{key:"equals",value:function(e){if(!e)return!1;var t=Object(l.j)(this.start)?this.start.getTime():this.start,r=Object(l.j)(this.end)?this.end.getTime():this.end,i=Object(l.j)(e.start)?e.start.getTime():e.start,n=Object(l.j)(e.end)?e.end.getTime():e.end;return t===i&&r===n}},{key:"expandTo",value:function(e){if(this.isEmpty||this.isAllTime)return this.clone();var t=Object(l.a)(this.start,(function(t){return Object(h.c)(t,e)})),r=Object(l.a)(this.end,(function(t){return Object(h.b)(Object(h.c)(t,e),1,e)}));return new i({start:t,end:r})}},{key:"intersection",value:function(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return i.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();var t,r,n=Object(l.m)(this.start,-1/0,(function(e){return e.getTime()})),a=Object(l.m)(this.end,1/0,(function(e){return e.getTime()})),s=Object(l.m)(e.start,-1/0,(function(e){return e.getTime()})),o=Object(l.m)(e.end,1/0,(function(e){return e.getTime()}));if(s>=n&&s<=a?t=s:n>=s&&n<=o&&(t=n),a>=s&&a<=o?r=a:o>=n&&o<=a&&(r=o),!isNaN(t)&&!isNaN(r)){var c=new i;return c.start=t===-1/0?null:new Date(t),c.end=r===1/0?null:new Date(r),c}return i.empty}},{key:"offset",value:function(e,t){if(this.isEmpty||this.isAllTime)return this.clone();var r=new i,n=this.start,a=this.end;return Object(l.j)(n)&&(r.start=Object(h.b)(n,e,t)),Object(l.j)(a)&&(r.end=Object(h.b)(a,e,t)),r}},{key:"union",value:function(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return v.clone();var t=Object(l.j)(this.start)&&Object(l.j)(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=Object(l.j)(this.end)&&Object(l.j)(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new i({start:t,end:r})}}],[{key:"allTime",get:function(){return v}},{key:"empty",get:function(){return O}}]),r}(u.a);Object(c.a)([Object(p.b)({type:Date,json:{write:{allowNull:!0}}})],y.prototype,"end",void 0),Object(c.a)([Object(d.a)("end")],y.prototype,"readEnd",null),Object(c.a)([Object(b.a)("end")],y.prototype,"writeEnd",null),Object(c.a)([Object(p.b)({readOnly:!0,json:{read:!1}})],y.prototype,"isAllTime",null),Object(c.a)([Object(p.b)({readOnly:!0,json:{read:!1}})],y.prototype,"isEmpty",null),Object(c.a)([Object(p.b)({type:Date,json:{write:{allowNull:!0}}})],y.prototype,"start",void 0),Object(c.a)([Object(d.a)("start")],y.prototype,"readStart",null),Object(c.a)([Object(b.a)("start")],y.prototype,"writeStart",null);var v=new(y=i=Object(c.a)([Object(f.a)("esri.TimeExtent")],y)),O=new y({start:void 0,end:void 0}),g=y},671:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return _})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return y})),r.d(t,"f",(function(){return S})),r.d(t,"g",(function(){return k})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return j})),r.d(t,"j",(function(){return d})),r.d(t,"k",(function(){return O})),r.d(t,"l",(function(){return w})),r.d(t,"m",(function(){return p})),r.d(t,"n",(function(){return b}));var i=r(13),n=r(665),a=r(58),s=r(45),o=r(87),c=(r(7),r(21),r(12),r(11)),u=(r(30),r(692));var l=r(801),h=r(299),p={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},d={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:function(e,t){return!t.disablePopup}},write:{enabled:!0,writer:function(e,t,r){t[r]=!e}}}},f={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},b={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:o.f}}},y={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},v={value:null,type:l.a,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function O(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}var g={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0},"portal-item":{write:!0}}}},j=Object(i.a)(Object(i.a)({},g),{},{json:Object(i.a)(Object(i.a)({},g.json),{},{origins:{"web-document":Object(i.a)(Object(i.a)({},g.json.origins["web-document"]),{},{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:function(e,t,r){return r&&"service"!==r.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?Object(h.b)(t.layerDefinition.drawingInfo.transparency):void 0:Object(h.b)(t.drawingInfo.transparency)}}})}),m={type:n.a,readOnly:!0,get:function(){var e,t;if(null==(e=this.layer)||!e.timeInfo)return null;var r=this.layer,i=r.datesInUnknownTimezone,a=r.timeOffset,s=r.useViewTime,o=null==(t=this.view)?void 0:t.timeExtent,l=this.layer.timeExtent;i&&(l=function(e){if(!e)return e;var t=e.start,r=e.end;return new n.a({start:Object(c.j)(t)?Object(u.b)(t,t.getTimezoneOffset(),"minutes"):t,end:Object(c.j)(r)?Object(u.b)(r,r.getTimezoneOffset(),"minutes"):r})}(l));var h=s?o&&l?o.intersection(l):o||l:l;if(!h||h.isEmpty||h.isAllTime)return h;a&&(h=h.offset(-a.value,a.unit)),i&&(h=function(e){if(!e)return e;var t=e.start,r=e.end;return new n.a({start:Object(c.j)(t)?Object(u.b)(t,-t.getTimezoneOffset(),"minutes"):t,end:Object(c.j)(r)?Object(u.b)(r,-r.getTimezoneOffset(),"minutes"):r})}(h));var p=this._get("timeExtent");return h.equals(p)?p:h}},w={type:a.a,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:function(e,t){var r=a.a.fromJSON(e);return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(r.spatialReference=s.a.fromJSON(t.spatialReference)),r}}}},read:!1}},_={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},k={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},S={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}}},677:function(e,t,r){"use strict";r.d(t,"a",(function(){return k})),r.d(t,"b",(function(){return S}));var i=r(21),n=r(2),a=r(4),s=r(5),o=r(6),c=r(0),u=r(60),l=r(8),h=r(11),p=r(23),d=r(18),f=r(164),b=function(){function e(){Object(n.a)(this,e),this._propertyOriginMap=new Map,this._originStores=new Array(f.a),this._values=new Map}return Object(a.a)(e,[{key:"clone",value:function(t){var r=this,i=new e,n=this._originStores[0];n&&n.forEach((function(e,t){i.set(t,Object(d.a)(e),0)}));for(var a=function(e){var n=r._originStores[e];n&&n.forEach((function(r,n){t&&t.has(n)||i.set(n,Object(d.a)(r),e)}))},s=2;s<f.a;s++)a(s);return i}},{key:"get",value:function(e,t){var r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0}},{key:"keys",value:function(e){var t=null==e?this._values:this._originStores[e];return t?Object(p.a)(t.keys()):[]}},{key:"set",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(e,t),!this._values.has(e)||Object(h.c)(this._propertyOriginMap.get(e))<=r){var n=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),n!==t}return!1}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=this._originStores[t];if(r){var i=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(var n=t-1;n>=0;n--){var a=this._originStores[n];if(a&&a.has(e)){this._values.set(e,a.get(e)),this._propertyOriginMap.set(e,n);break}}}return i}}},{key:"has",value:function(e,t){var r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)}},{key:"revert",value:function(e,t){for(;t>0&&!this.has(e,t);)--t;var r=this._originStores[t],i=r&&r.get(e),n=this._values.get(e);return this._values.set(e,i),this._propertyOriginMap.set(e,t),n!==i}},{key:"originOf",value:function(e){return this._propertyOriginMap.get(e)||0}},{key:"forEach",value:function(e){this._values.forEach(e)}}]),e}(),y=r(336),v=r(69),O=r(10),g=function(e){var t=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(n.a)(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];e=t.call.apply(t,[this].concat(a));var o=Object(h.c)(Object(v.a)(Object(l.a)(e))),c=o.metadatas,u=o.store,p=new b;return o.store=p,u.keys().forEach((function(e){p.set(e,u.get(e),0)})),Object.keys(c).forEach((function(e){o.internalGet(e)&&p.set(e,o.internalGet(e),0)})),e}return Object(a.a)(r,[{key:"read",value:function(e,t){Object(y.a)(this,e,t)}},{key:"getAtOrigin",value:function(e,t){var r=j(this),i=Object(f.d)(t);if("string"==typeof e)return r.get(e,i);var n={};return e.forEach((function(e){n[e]=r.get(e,i)})),n}},{key:"originOf",value:function(e){return Object(f.b)(this.originIdOf(e))}},{key:"originIdOf",value:function(e){return j(this).originOf(e)}},{key:"revert",value:function(e,t){var r=j(this),i=Object(f.d)(t),n=Object(v.a)(this);("string"==typeof e?"*"===e?r.keys(i):[e]:e).forEach((function(e){n.invalidate(e),r.revert(e,i),n.commit(e)}))}}]),r}(e);return t=Object(c.a)([Object(O.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function j(e){return Object(v.a)(e).store}var m=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(g(u.a));m=Object(c.a)([Object(O.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],m);var w=r(335);function _(e){return Object(v.a)(e).store}var k=function(e){var t=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(){Object(n.a)(this,r);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t.call.apply(t,[this].concat(i))}return r}(function(e){var t=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(){Object(n.a)(this,r);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t.call.apply(t,[this].concat(i))}return Object(a.a)(r,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";return _(this).delete(e,Object(f.d)(t))}},{key:"write",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(w.b)(this,e=e||{},t),e}},{key:"setAtOrigin",value:function(e,t,r){Object(v.a)(this).setAtOrigin(e,t,Object(f.d)(r))}},{key:"removeOrigin",value:function(e){var t,r=_(this),n=Object(f.d)(e),a=r.keys(n),s=Object(i.a)(a);try{for(s.s();!(t=s.n()).done;){var o=t.value;r.originOf(o)===n&&r.set(o,r.get(o,n),6)}}catch(c){s.e(c)}finally{s.f()}}},{key:"updateOrigin",value:function(e,t){for(var r=_(this),i=Object(f.d)(t),n=this.get(e),a=i+1;a<f.a;++a)r.delete(e,a);r.set(e,n,i)}},{key:"toJSON",value:function(e){return this.write({},e)}}]),r}(e);return(t=Object(c.a)([Object(O.a)("esri.core.WriteableMultiOriginJSONSupport")],t)).prototype.toJSON.isDefaultToJSON=!0,t}(g(e)));return t=Object(c.a)([Object(O.a)("esri.core.MultiOriginJSONSupport")],t)},S=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(k(u.a));S=Object(c.a)([Object(O.a)("esri.core.MultiOriginJSONSupport")],S)},682:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var i=r(7),n=r.n(i),a=r(12),s=r(2),o=r(4),c=r(5),u=r(6),l=r(0),h=r(68),p=(r(114),r(82)),d=r(29),f=r(184),b=r(239),y=r(142),v=r(15),O=r(30),g=r(27),j=r(1),m=(r(19),r(14),r(10)),w=r(58),_=r(45),k=0,S=v.a.getLogger("esri.layers.Layer"),I=function(e){Object(c.a)(i,e);var t=Object(u.a)(i);function i(){var e;return Object(s.a)(this,i),(e=t.apply(this,arguments)).attributionDataUrl=null,e.fullExtent=new w.a(-180,-90,180,90,_.a.WGS84),e.id=Date.now().toString(16)+"-layer-"+k++,e.legendEnabled=!0,e.listMode="show",e.opacity=1,e.parent=null,e.popupEnabled=!0,e.attributionVisible=!0,e.spatialReference=_.a.WGS84,e.title=null,e.type=null,e.url=null,e.visible=!0,e}return Object(o.a)(i,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var r,i;Object(O.m)(t)||v.a.getLogger(e.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!=(r=e.title)?r:"no title","', id: '").concat(null!=(i=e.id)?i:"no id","')"),{error:t})}))}},{key:"destroy",value:function(){if(this.parent){var e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){var e=this.url;return e?Object(g.J)(e):null}},{key:"fetchAttributionData",value:function(){var e=Object(a.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.attributionDataUrl,!this.hasAttributionData||!t){e.next=5;break}return e.next=4,Object(p.default)(t,{query:{f:"json"},responseType:"json"});case 4:return e.abrupt("return",e.sent.data);case 5:throw new d.a("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromArcGISServerUrl",value:function(){var e=Object(a.a)(n.a.mark((function e(t){var i,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?{url:t}:t,e.next=3,r.e(85).then(r.bind(null,783));case 3:return a=e.sent,e.prev=4,e.next=7,a.fromUrl(i);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),S.error("#fromArcGISServerUrl({ url: '"+i.url+"'})","Failed to create layer from arcgis server url",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fromPortalItem",value:function(){var e=Object(a.a)(n.a.mark((function e(t){var i,a,s,o,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="portalItem"in t?t:{portalItem:t},e.next=3,Promise.all([r.e(17),r.e(97)]).then(r.bind(null,774));case 3:return a=e.sent,e.prev=4,e.next=7,a.fromItem(i);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),s=i&&i.portalItem,o=s&&s.id||"unset",c=s&&s.portal&&s.portal.url||h.a.portalUrl,S.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+c+"', id: '"+o+"')",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()}]),i}(f.a.EventedMixin(Object(b.a)(y.a)));Object(l.a)([Object(j.b)({type:String})],I.prototype,"attributionDataUrl",void 0),Object(l.a)([Object(j.b)({type:w.a})],I.prototype,"fullExtent",void 0),Object(l.a)([Object(j.b)({readOnly:!0})],I.prototype,"hasAttributionData",null),Object(l.a)([Object(j.b)({type:String})],I.prototype,"id",void 0),Object(l.a)([Object(j.b)({type:Boolean,nonNullable:!0})],I.prototype,"legendEnabled",void 0),Object(l.a)([Object(j.b)({type:["show","hide","hide-children"]})],I.prototype,"listMode",void 0),Object(l.a)([Object(j.b)({type:Number,range:{min:0,max:1},nonNullable:!0})],I.prototype,"opacity",void 0),Object(l.a)([Object(j.b)()],I.prototype,"parent",void 0),Object(l.a)([Object(j.b)({readOnly:!0})],I.prototype,"parsedUrl",null),Object(l.a)([Object(j.b)({type:Boolean})],I.prototype,"popupEnabled",void 0),Object(l.a)([Object(j.b)({type:Boolean})],I.prototype,"attributionVisible",void 0),Object(l.a)([Object(j.b)({type:_.a})],I.prototype,"spatialReference",void 0),Object(l.a)([Object(j.b)({type:String})],I.prototype,"title",void 0),Object(l.a)([Object(j.b)({type:String,readOnly:!0,json:{read:!1}})],I.prototype,"type",void 0),Object(l.a)([Object(j.b)()],I.prototype,"url",void 0),Object(l.a)([Object(j.b)({type:Boolean,nonNullable:!0})],I.prototype,"visible",void 0);var x=I=Object(l.a)([Object(m.a)("esri.layers.Layer")],I)},692:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s}));r(19);var i={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},n={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function a(e,t,r){var i=new Date(e.getTime());if(t&&r){var a=n[r],s=a.getter,o=a.setter,c=a.multiplier;i[o](i[s]()+t*c)}return i}function s(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function o(e,t,r){return 0===e?0:e*i[t]/i[r]}},699:function(e,t,r){"use strict";r.d(t,"a",(function(){return M}));var i=r(13),n=r(7),a=r.n(n),s=r(12),o=r(2),c=r(4),u=r(77),l=r(65),h=r(5),p=r(6),d=r(0),f=r(83),b=r(82),y=r(295),v=r(29),O=r(15),g=r(11),j=r(30),m=r(27),w=r(1),_=(r(19),r(14),r(57)),k=r(10),S=r(43),I=r(85),x=r(334),L=r(338),T=O.a.getLogger("esri.layers.mixins.PortalLayer"),M=function(e){var t=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},e.userHasEditingPrivileges=!0,e}return Object(c.a)(n,[{key:"destroy",value:function(){var e;null==(e=this.portalItem)||e.destroy(),this.portalItem=null}},{key:"portalItem",set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}},{key:"readPortalItem",value:function(e,t,r){if(t.itemId)return new x.default({id:t.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(e,t){e&&e.id&&(t.itemId=e.id)}},{key:"loadFromPortal",value:function(){var e=Object(s.a)(a.a.mark((function e(t,i){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.portalItem||!this.portalItem.id){e.next=14;break}return e.prev=1,e.next=4,r.e(17).then(r.bind(null,781));case 4:return n=e.sent,Object(j.v)(i),e.next=8,n.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},i);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),Object(j.m)(e.t0)||T.warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"finishLoadEditablePortalLayer",value:function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.fetchUserHasEditingPrivileges(t).catch((function(e){return Object(j.u)(e),!0}));case 3:e.t1=e.sent,e.t0._set.call(e.t0,"userHasEditingPrivileges",e.t1);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchUserHasEditingPrivileges",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.url?null==f.b?void 0:f.b.findCredential(this.url):null){e.next=3;break}return e.abrupt("return",!0);case 3:if(E.credential!==r){e.next=7;break}e.t0=E.user,e.next=10;break;case 7:return e.next=9,this.fetchEditingUser(t);case 9:e.t0=e.sent;case 10:return i=e.t0,e.abrupt("return",(E.credential=r,E.user=i,Object(g.i)(i)||null==i.privileges||i.privileges.includes("features:user:edit")));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchEditingUser",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var r,i,n,s,o,c,u,l,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null==(r=this.portalItem)||null==(i=r.portal)?void 0:i.user)){e.next=3;break}return e.abrupt("return",n);case 3:if(null!=(s=f.b.findServerInfo(this.url))&&s.owningSystemUrl){e.next=6;break}return e.abrupt("return",null);case 6:if(o="".concat(s.owningSystemUrl,"/sharing/rest"),!(c=I.a.getDefault())||!c.loaded||Object(m.C)(c.restUrl)!==Object(m.C)(o)){e.next=9;break}return e.abrupt("return",c.user);case 9:return u="".concat(o,"/community/self"),l=Object(g.j)(t)?t.signal:null,e.next=13,Object(y.c)(Object(b.default)(u,{authMode:"no-prompt",query:{f:"json"},signal:l}));case 13:return h=e.sent,e.abrupt("return",h.ok?L.default.fromJSON(h.value.data):null);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(e,t){t&&(t.layer=this),Object(u.a)(Object(l.a)(n.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){var r=t&&t.portal,a=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||I.a.getDefault());return r&&a&&!Object(m.r)(a.restUrl,r.restUrl)?(t.messages&&t.messages.push(new v.a("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer"),{layer:this})),null):Object(u.a)(Object(l.a)(n.prototype),"write",this).call(this,e,Object(i.a)(Object(i.a)({},t),{},{layer:this}))}}]),n}(e);return Object(d.a)([Object(w.b)({type:x.default})],t.prototype,"portalItem",null),Object(d.a)([Object(_.a)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),Object(d.a)([Object(S.a)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),Object(d.a)([Object(w.b)()],t.prototype,"resourceReferences",void 0),Object(d.a)([Object(w.b)({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=Object(d.a)([Object(k.a)("esri.layers.mixins.PortalLayer")],t),t},E={credential:null,user:null}},708:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u}));var i=r(22),n=r(21),a=r(2),s=r(4),o=r(297),c=function(){function e(t,r,i){Object(a.a)(this,e),this._namespace=t,this._storage=r,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",i&&(this._storage.registerRemoveFunc(this._namespace,i),this._removeFunc=!0)}return Object(s.a)(e,[{key:"destroy",value:function(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}},{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"put",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this._namespace+e,t,r,i)}},{key:"get",value:function(e){var t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,r){this._storage.updateSize(this._namespace+e,t,r)}},{key:"clear",value:function(){this._storage.clear(this._namespace)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"getStats",value:function(){return this._storage.getStats()}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;Object(a.a)(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new o.a,this._users=new o.a}return Object(s.a)(e,[{key:"destroy",value:function(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}},{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs.filterInPlace((function(t){return t[0]!==e}))}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}},{key:"put",value:function(e,t,r,i){var n=this._db.get(e);if(n&&(this._size-=n.size,this._db.delete(e),n.entry!==t&&this._notifyRemoved(e,n.entry)),r>this._maxSize)this._notifyRemoved(e,t);else if(void 0!==t)if(!r||r<0)console.warn("Refusing to cache entry with invalid size "+r);else{var a=1+Math.max(i,-3)- -3;this._db.set(e,{entry:t,size:r,lifetime:a,lives:a}),this._size+=r,this._checkSizeLimit()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,r){var i=this._db.get(e);if(i&&i.entry===t){if(this._size-=i.size,r>this._maxSize)return this._db.delete(e),void this._notifyRemoved(e,t);i.size=r,this._size+=r,this._checkSizeLimit()}}},{key:"pop",value:function(e){var t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}},{key:"get",value:function(e){var t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}},{key:"getStats",value:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},i=new Array;this._db.forEach((function(t,n){var a=t.lifetime;i[a]=(i[a]||0)+t.size,e._users.forAll((function(e){var i=e.namespace;if(n.startsWith(i)){var a=r[i]||0;r[i]=a+t.size}}))}));var n={};this._users.forAll((function(e){var t=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){var i=r[t]||0;r[t]=i,n[t]=Math.round(100*e.hitRate)+"%"}else n[t]="0%"}));var a=Object.keys(r);a.forEach((function(t){return r[t]=r[t]/e._size*100})),a.sort((function(e,t){return r[t]-r[e]})),a.forEach((function(e){return t[e]=Math.round(r[e])+"% / "+n[e]}));for(var s=i.length-1;s>=0;--s){var o=i[s];o&&(t["Priority "+(s+-3-1)]=Math.round(o/this.size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this;this._db.forEach((function(r,i){i.startsWith(e)&&(t._size-=r.size,t._db.delete(i),t._notifyRemoved(i,r.entry))}))}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,r){return e._notifyRemoved(r,t.entry)})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemoved",value:function(e,t){this._removeFuncs.forAll((function(r){e.startsWith(r[0])&&r[1](t)}))}},{key:"_checkSizeLimit",value:function(){if(!(this._size<=this._maxSize)){var e,t=Object(n.a)(this._db);try{for(t.s();!(e=t.n()).done;){var r=Object(i.a)(e.value,2),a=r[0],s=r[1];if(this._db.delete(a),s.lives<=1?(this._size-=s.size,this._notifyRemoved(a,s.entry)):(--s.lives,this._db.set(a,s)),this._size<=.9*this.maxSize)return}}catch(o){t.e(o)}finally{t.f()}}}}]),e}()},709:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var i=r(13),n=r(2),a=r(4),s=r(77),o=r(65),c=r(5),u=r(6),l=r(0),h=r(29),p=r(1),d=(r(19),r(14),r(15),r(10)),f=r(43),b=r(336),y=r(335),v={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}},O=r(671),g=function(e){var t=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).title=null,e}return Object(a.a)(r,[{key:"writeListMode",value:function(e,t,r,i){(i&&"ground"===i.layerContainerType||e&&Object(y.a)(this,r,{},i))&&(t[r]=e)}},{key:"writeOperationalLayerType",value:function(e,t,r,i){!e||i&&"tables"===i.layerContainerType||(t.layerType=e)}},{key:"writeTitle",value:function(e,t){t.title=e||"Layer"}},{key:"read",value:function(e,t){var i=this;t&&(t.layer=this),Object(b.b)(this,e,(function(t){return Object(s.a)(Object(o.a)(r.prototype),"read",i).call(i,e,t)}),t)}},{key:"write",value:function(e,t){if(t&&t.origin){var n="".concat(t.origin,"/").concat(t.layerContainerType||"operational-layers"),a=v[n],c=a&&a[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===n&&(c=!1),!c)return t.messages&&t.messages.push(new h.a("layer:unsupported","Layers (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' are not supported in the context of '").concat(n,"'"),{layer:this})),null}var u=Object(s.a)(Object(o.a)(r.prototype),"write",this).call(this,e,Object(i.a)(Object(i.a)({},t),{},{layer:this})),l=!!t&&!!t.messages&&!!t.messages.filter((function(e){return e instanceof h.a&&"web-document-write:property-required"===e.name})).length;return!this.url&&l?null:u}},{key:"beforeSave",value:function(){}}]),r}(e);return Object(l.a)([Object(p.b)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),Object(l.a)([Object(p.b)({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),Object(l.a)([Object(f.a)("listMode")],t.prototype,"writeListMode",null),Object(l.a)([Object(p.b)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),Object(l.a)([Object(f.a)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),Object(l.a)([Object(p.b)(O.h)],t.prototype,"opacity",void 0),Object(l.a)([Object(p.b)({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),Object(l.a)([Object(f.a)("title")],t.prototype,"writeTitle",null),Object(l.a)([Object(p.b)({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],t.prototype,"visible",void 0),t=Object(l.a)([Object(d.a)("esri.layers.mixins.OperationalLayer")],t)}},742:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var i,n=r(13),a=r(2),s=r(4),o=r(77),c=r(65),u=r(5),l=r(6),h=r(0),p=r(137),d=r(42),f=r(26),b=r(135),y=r(165),v=r(1),O=(r(19),r(14),r(15),r(57)),g=r(10),j=r(43),m=Object(d.b)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),w=m.jsonValues.slice();Object(p.g)(w,"orthometric");var _=Object(d.b)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"}),k=i=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var i;return Object(a.a)(this,r),(i=t.call(this,e)).heightModel="gravity-related-height",i.heightUnit="meters",i.vertCRS=null,i}return Object(s.a)(r,[{key:"writeHeightModel",value:function(e,t,r){return m.write(e,t,r)}},{key:"readHeightModel",value:function(e,t,r){return m.read(e)||(r&&r.messages&&r.messages.push(function(e,t){return new y.a("height-model:unsupported","Height model of value '".concat(e,"' is not supported"),t)}(e,{context:r})),null)}},{key:"readHeightUnit",value:function(e,t,r){return _.read(e)||(r&&r.messages&&r.messages.push(S(e,{context:r})),null)}},{key:"readHeightUnitService",value:function(e,t,r){return Object(b.k)(e)||_.read(e)||(r&&r.messages&&r.messages.push(S(e,{context:r})),null)}},{key:"readVertCRS",value:function(e,t){return t.vertCRS||t.ellipsoid||t.geoid}},{key:"clone",value:function(){return new i({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}},{key:"equals",value:function(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}},{key:"write",value:function(e,t){return t=Object(n.a)({origin:"web-scene"},t),Object(o.a)(Object(c.a)(r.prototype),"write",this).call(this,e,t)}}],[{key:"deriveUnitFromSR",value:function(e,t){var r=Object(b.g)(t);return new i({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}},{key:"fromJSON",value:function(e){if(!e)return null;var t=new i;return t.read(e,{origin:"web-scene"}),t}}]),r}(f.a);function S(e,t){return new y.a("height-unit:unsupported","Height unit of value '".concat(e,"' is not supported"),t)}Object(h.a)([Object(v.b)({type:m.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:w,default:"ellipsoidal"}}}})],k.prototype,"heightModel",void 0),Object(h.a)([Object(j.a)("web-scene","heightModel")],k.prototype,"writeHeightModel",null),Object(h.a)([Object(O.a)(["web-scene","service"],"heightModel")],k.prototype,"readHeightModel",null),Object(h.a)([Object(v.b)({type:_.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:_.jsonValues,write:_.write}}}})],k.prototype,"heightUnit",void 0),Object(h.a)([Object(O.a)("web-scene","heightUnit")],k.prototype,"readHeightUnit",null),Object(h.a)([Object(O.a)("service","heightUnit")],k.prototype,"readHeightUnitService",null),Object(h.a)([Object(v.b)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],k.prototype,"vertCRS",void 0),Object(h.a)([Object(O.a)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],k.prototype,"readVertCRS",null);var I=k=i=Object(h.a)([Object(g.a)("esri.geometry.HeightModelInfo")],k)},801:function(e,t,r){"use strict";r.d(t,"a",(function(){return M}));var i,n=r(2),a=r(4),s=r(77),o=r(65),c=r(5),u=r(6),l=r(0),h=r(42),p=r(26),d=r(11),f=r(1),b=(r(19),r(14),r(15),r(57)),y=r(10),v=r(43),O=r(7),g=r.n(O),j=r(12),m=r(209),w=i=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"collectRequiredFields",value:function(){var e=Object(j.a)(g.a.mark((function e(t,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.a)(t,r,this.expression));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"clone",value:function(){return new i({expression:this.expression,title:this.title})}}]),r}(p.a);Object(l.a)([Object(f.b)({type:String,json:{write:!0}})],w.prototype,"expression",void 0),Object(l.a)([Object(f.b)({type:String,json:{write:!0}})],w.prototype,"title",void 0);var _=w=i=Object(l.a)([Object(y.a)("esri.layers.support.FeatureExpressionInfo")],w),k=r(683);var S,I=function(){var e=Object.keys(k.a);return e.sort(),e}(),x=Object(h.b)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),L=new h.a({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),T=S=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).offset=null,e}return Object(a.a)(r,[{key:"readFeatureExpressionInfo",value:function(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}},{key:"writeFeatureExpressionInfo",value:function(e,t,r,i){t[r]=e.write(null,i),"0"===e.expression&&(t.featureExpression={value:0})}},{key:"mode",get:function(){var e=this.offset,t=this.featureExpressionInfo;return this._isOverridden("mode")?this._get("mode"):Object(d.j)(e)||t?"relative-to-ground":"on-the-ground"},set:function(e){this._override("mode",e)}},{key:"unit",set:function(e){this._set("unit",e)}},{key:"write",value:function(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?Object(s.a)(Object(o.a)(r.prototype),"write",this).call(this,e,t):null}},{key:"clone",value:function(){return new S({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}}]),r}(p.a);Object(l.a)([Object(f.b)({type:_,json:{write:!0}})],T.prototype,"featureExpressionInfo",void 0),Object(l.a)([Object(b.a)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],T.prototype,"readFeatureExpressionInfo",null),Object(l.a)([Object(v.a)("featureExpressionInfo",{featureExpressionInfo:{type:_},"featureExpression.value":{type:[0]}})],T.prototype,"writeFeatureExpressionInfo",null),Object(l.a)([Object(f.b)({type:x.apiValues,nonNullable:!0,json:{type:x.jsonValues,read:x.read,write:{writer:x.write,isRequired:!0}}})],T.prototype,"mode",null),Object(l.a)([Object(f.b)({type:Number,json:{write:!0}})],T.prototype,"offset",void 0),Object(l.a)([Object(f.b)({type:I,json:{type:String,read:L.read,write:L.write}})],T.prototype,"unit",null);var M=T=S=Object(l.a)([Object(y.a)("esri.layers.support.ElevationInfo")],T)}}]);
//# sourceMappingURL=21.742a8932.chunk.js.map