(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[46,4,7,16,115],{1069:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return ce}));var n=r(7),a=r.n(n),i=r(12),o=r(21),s=r(2),c=r(4),u=r(8),l=r(5),p=r(6),b=r(0),f=(r(114),r(214)),d=(r(700),r(686),r(688),r(689),r(663),r(687),r(701),r(715)),y=r(691),v=r(677),h=r(66),O=r(27),j=r(1),m=r(19),g=r(14),w=(r(15),r(57)),_=r(10),S=r(43),P=r(236),k=r(682),x=r(22),E=r(13),T=r(29),R=r(726),I=r(142),N=r(11),F=r(30),M=r(99),C=r(727),D=r(776),A=r(954),L=r(668),V=r(58),U=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.apply(this,arguments)).capabilities=Object(D.a)(!1,!1),e.type="wfs",e.refresh=Object(F.i)(Object(i.a)(a.a.mark((function t(){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.load();case 2:return t.next=4,e._connection.invoke("refresh");case 4:return r=t.sent,n=r.extent,t.abrupt("return",(e.sourceJSON.extent=n,{hasUpdates:!0,updates:{extent:e.sourceJSON.extent}}));case 7:case"end":return t.stop()}}),t)})))),e._updateCustomParameters=Object(F.i)((function(){var t,r=e.layer.customParameters;return null==(t=e._connection)?void 0:t.invoke("setCustomParameters",r)})),e}return Object(c.a)(r,[{key:"load",value:function(e){var t,r=null!=(t=Object(N.j)(e)&&e.signal)?t:null;return this.addResolvingPromise(this._startWorker({signal:r})),Promise.resolve(this)}},{key:"destroy",value:function(){var e;null==(e=this._connection)||e.close(),this._connection=null}},{key:"openPorts",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return e.abrupt("return",this._connection.openPorts());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.load(r);case 3:return e.next=5,this._connection.invoke("queryFeatures",t?t.toJSON():null,r);case 5:return n=e.sent,e.abrupt("return",L.default.fromJSON(n));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeaturesJSON",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryFeatures",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryFeatureCount",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryObjectIds",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.load(r);case 3:return e.next=5,this._connection.invoke("queryExtent",t?t.toJSON():null,r);case 5:return n=e.sent,e.abrupt("return",{count:n.count,extent:V.a.fromJSON(n.extent)});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("querySnapping",t,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createLoadOptions",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n,i,o,s,c,u,l,p,b,f,d,y,v=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.layer,n=r.url,i=r.customParameters,o=r.name,s=r.namespaceUri,c=r.spatialReference,u=r.fields,l=r.geometryType,p=r.swapXY,n){e.next=3;break}throw new T.a("wfs-layer:missing-url","WFSLayer must be created with a url");case 3:if(e.t0=this.wfsCapabilities,e.t0){e.next=8;break}return e.next=7,Object(A.c)(n,Object(E.a)({customParameters:i},t));case 7:e.t0=e.sent;case 8:if(this.wfsCapabilities=e.t0,b=["fields","geometryType","name","namespaceUri","spatialReference","swapXY"].some((function(e){return null==v.layer[e]})),!b){e.next=16;break}return e.next=13,Object(A.e)(this.wfsCapabilities,o,s,{spatialReference:c,customParameters:i,signal:null==t?void 0:t.signal});case 13:e.t1=e.sent,e.next=17;break;case 16:e.t1=Object(E.a)(Object(E.a)({},Object(A.f)(u)),{},{geometryType:l,name:o,namespaceUri:s,spatialReference:c,swapXY:p});case 17:return f=e.t1,d=Object(N.q)(Object(A.b)(this.wfsCapabilities.readFeatureTypes(),f.name,f.namespaceUri)),y=P.a.toJSON(f.geometryType),e.abrupt("return",{customParameters:i,featureType:d,fields:f.fields.map((function(e){return e.toJSON()})),geometryField:f.geometryField,geometryType:y,getFeatureUrl:this.wfsCapabilities.operations.GetFeature.url,getFeatureOutputFormat:this.wfsCapabilities.operations.GetFeature.outputFormat,objectIdField:f.objectIdField,spatialReference:f.spatialReference.toJSON(),swapXY:f.swapXY});case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_startWorker",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n,i,o,s,c,u,l,p,b=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.j)([this._createLoadOptions(t),Object(C.a)("WFSSourceWorker",Object(E.a)(Object(E.a)({},t),{},{strategy:Object(m.a)("feature-layers-workers")?"dedicated":"local"}))]);case 2:if(r=e.sent,n=Object(x.a)(r,2),i=n[0],o=n[1],s=i.error||o.error||null,c=o.value||null,!s){e.next=10;break}throw c&&c.close(),s;case 10:return u=i.value,this._connection=o.value,e.next=14,this._connection.invoke("load",u,t);case 14:l=e.sent,p=l.extent,this.sourceJSON={extent:p,fields:u.fields,geometryType:u.geometryType,objectIdField:u.objectIdField,geometryField:u.geometryField,drawingInfo:Object(D.d)(u.geometryType),name:u.featureType.title,wfsInfo:{name:u.featureType.name,featureUrl:u.getFeatureUrl,maxFeatures:3e3,swapXY:u.swapXY,supportedSpatialReferences:u.featureType.supportedSpatialReferences,version:"2.0.0",wfsNamespace:u.featureType.namespaceUri}},this.handles.add(Object(M.a)(this.layer,"customParameters",(function(){return b._updateCustomParameters().catch((function(){}))})));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(Object(R.b)(I.a));Object(b.a)([Object(j.b)()],U.prototype,"capabilities",void 0),Object(b.a)([Object(j.b)({constructOnly:!0})],U.prototype,"layer",void 0),Object(b.a)([Object(j.b)()],U.prototype,"sourceJSON",void 0),Object(b.a)([Object(j.b)()],U.prototype,"type",void 0),Object(b.a)([Object(j.b)()],U.prototype,"wfsCapabilities",void 0);var G,q=U=Object(b.a)([Object(_.a)("esri.layers.graphics.sources.WFSSource")],U),z=r(730),J=r(721),H=r(709),B=r(699),W=r(697),Y=r(716),X=r(719),Q=r(671),Z=r(746),$=r(666),K=r(728),ee=r(209),te=r(675),re=r(740),ne=r(670),ae=r(755),ie=r(45),oe=Object(K.a)(),se=G=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).capabilities=null,n.copyright=null,n.customParameters=null,n.definitionExpression=null,n.displayField=null,n.elevationInfo=null,n.featureReduction=null,n.featureUrl=void 0,n.fields=null,n.fieldsIndex=null,n.fullExtent=null,n.geometryType=null,n.labelsVisible=!0,n.labelingInfo=null,n.legendEnabled=!0,n.objectIdField=null,n.operationalLayerType="WFS",n.maxFeatures=3e3,n.mode=0,n.name=null,n.namespaceUri=null,n.outFields=null,n.popupEnabled=!0,n.popupTemplate=null,n.screenSizePerspectiveEnabled=!0,n.source=new q({layer:Object(u.a)(n)}),n.spatialReference=ie.a.WGS84,n.spatialReferences=[4326],n.swapXY=void 0,n.title="WFS",n.type="wfs",n.url=null,n.version=void 0,n}return Object(c.a)(r,[{key:"destroy",value:function(){var e;null==(e=this.source)||e.destroy()}},{key:"load",value:function(e){var t=this;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WFS"]},e).then((function(){return t.source.load(e)})).then((function(){t.read(t.source.sourceJSON,{origin:"service",url:t.parsedUrl}),t.revert(["objectIdField","fields","timeInfo","spatialReference","name","namespaceUri"],"service"),Object(ee.e)(t.renderer,t.fieldsIndex),Object(ee.f)(t.timeInfo,t.fieldsIndex)}))),Promise.resolve(this)}},{key:"createQueryVersion",get:function(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"readFeatureReduction",value:function(e,t){return Object(Z.b)(e,t)}},{key:"writeWebSceneFeatureReduction",value:function(e,t,r,n){Object(Z.d)(e,t,"layerDefinition.featureReduction",n)}},{key:"writeFields",value:function(e,t,r){var n=e.filter((function(e){return e.name!==A.a}));this.geometryField&&n.unshift(new $.a({name:this.geometryField,alias:this.geometryField,type:"geometry"})),Object(h.c)(r,n.map((function(e){return e.toJSON()})),t)}},{key:"parsedUrl",get:function(){return this.url?Object(O.J)(this.url):null}},{key:"renderer",set:function(e){Object(ee.e)(e,this.fieldsIndex),this._set("renderer",e)}},{key:"createPopupTemplate",value:function(e){return Object(ae.a)(this,e)}},{key:"createQuery",value:function(){var e=new ne.a;e.returnGeometry=!0,e.outFields=["*"],e.where=this.definitionExpression||"1=1";var t=this.timeOffset,r=this.timeExtent;return e.timeExtent=null!=t&&null!=r?r.offset(-t.value,t.unit):r||null,e}},{key:"getFieldDomain",value:function(e,t){var r;return null==(r=this.getField(e))?void 0:r.domain}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"queryFeatures",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatures(ne.a.from(e)||r.createQuery(),t)})).then((function(e){if(null!=e&&e.features){var t,n=Object(o.a)(e.features);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.layer=a.sourceLayer=r}}catch(i){n.e(i)}finally{n.f()}}return e}))}},{key:"queryObjectIds",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryObjectIds(ne.a.from(e)||r.createQuery(),t)}))}},{key:"queryFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatureCount(ne.a.from(e)||r.createQuery(),t)}))}},{key:"queryExtent",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryExtent(ne.a.from(e)||r.createQuery(),t)}))}},{key:"hasDataChanged",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.source.refresh();case 3:return t=e.sent,r=t.hasUpdates,n=t.updates,e.abrupt("return",(r&&this.read(n,{origin:"service",url:this.parsedUrl}),r));case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromWFSLayerInfo",value:function(e){var t=e.customParameters,r=e.fields,n=e.geometryField,a=e.geometryType,i=e.name,o=e.namespaceUri,s=e.objectIdField,c=e.spatialReference,u=e.swapXY,l=e.url,p=e.wfsCapabilities;return new G({customParameters:t,fields:r,geometryField:n,geometryType:a,name:i,namespaceUri:o,objectIdField:s,spatialReference:c,swapXY:u,url:l,wfsCapabilities:p})}}]),r}(Object(J.a)(Object(z.a)(Object(X.a)(Object(W.a)(Object(Y.a)(Object(H.a)(Object(B.a)(Object(v.a)(k.a)))))))));Object(b.a)([Object(j.b)({readOnly:!0,aliasOf:"source.capabilities"})],se.prototype,"capabilities",void 0),Object(b.a)([Object(j.b)({type:String})],se.prototype,"copyright",void 0),Object(b.a)([Object(j.b)({readOnly:!0})],se.prototype,"createQueryVersion",null),Object(b.a)([Object(j.b)({json:{name:"wfsInfo.customParameters",write:{ignoreOrigin:!0}}})],se.prototype,"customParameters",void 0),Object(b.a)([Object(j.b)({readOnly:!0})],se.prototype,"defaultPopupTemplate",null),Object(b.a)([Object(j.b)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],se.prototype,"definitionExpression",void 0),Object(b.a)([Object(j.b)({type:String})],se.prototype,"displayField",void 0),Object(b.a)([Object(j.b)(Q.b)],se.prototype,"elevationInfo",void 0),Object(b.a)([Object(j.b)(Z.a)],se.prototype,"featureReduction",void 0),Object(b.a)([Object(w.a)("featureReduction",["layerDefinition.featureReduction"])],se.prototype,"readFeatureReduction",null),Object(b.a)([Object(S.a)("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:Z.c}})],se.prototype,"writeWebSceneFeatureReduction",null),Object(b.a)([Object(j.b)({type:String,readOnly:!0,json:{name:"wfsInfo.featureUrl",write:{ignoreOrigin:!0,isRequired:!0}}})],se.prototype,"featureUrl",void 0),Object(b.a)([Object(j.b)({type:[$.a],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{read:{source:"fields"}}}}})],se.prototype,"fields",void 0),Object(b.a)([Object(S.a)("fields")],se.prototype,"writeFields",null),Object(b.a)([Object(j.b)(oe.fieldsIndex)],se.prototype,"fieldsIndex",void 0),Object(b.a)([Object(j.b)({type:V.a,json:{origins:{service:{read:{source:"extent"}}}}})],se.prototype,"fullExtent",void 0),Object(b.a)([Object(j.b)()],se.prototype,"geometryField",void 0),Object(b.a)([Object(j.b)({type:String,json:{read:{source:"layerDefinition.geometryType",reader:P.a.read},write:{target:"layerDefinition.geometryType",writer:P.a.write,ignoreOrigin:!0},origins:{service:{read:P.a.read}}}})],se.prototype,"geometryType",void 0),Object(b.a)([Object(j.b)({type:String})],se.prototype,"id",void 0),Object(b.a)([Object(j.b)(Q.d)],se.prototype,"labelsVisible",void 0),Object(b.a)([Object(j.b)({type:[te.a],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:re.a},write:!0}})],se.prototype,"labelingInfo",void 0),Object(b.a)([Object(j.b)(Q.e)],se.prototype,"legendEnabled",void 0),Object(b.a)([Object(j.b)({type:["show","hide"]})],se.prototype,"listMode",void 0),Object(b.a)([Object(j.b)({type:String})],se.prototype,"objectIdField",void 0),Object(b.a)([Object(j.b)({type:["WFS"]})],se.prototype,"operationalLayerType",void 0),Object(b.a)([Object(j.b)({type:g.a,json:{name:"wfsInfo.maxFeatures",write:{ignoreOrigin:!0,isRequired:!0}}})],se.prototype,"maxFeatures",void 0),Object(b.a)([Object(j.b)({type:[0],readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],se.prototype,"mode",void 0),Object(b.a)([Object(j.b)({type:String,json:{name:"wfsInfo.name",write:{ignoreOrigin:!0,isRequired:!0}}})],se.prototype,"name",void 0),Object(b.a)([Object(j.b)({type:String,json:{name:"wfsInfo.wfsNamespace",write:{ignoreOrigin:!0,isRequired:!0}}})],se.prototype,"namespaceUri",void 0),Object(b.a)([Object(j.b)(Q.i)],se.prototype,"opacity",void 0),Object(b.a)([Object(j.b)(oe.outFields)],se.prototype,"outFields",void 0),Object(b.a)([Object(j.b)({readOnly:!0})],se.prototype,"parsedUrl",null),Object(b.a)([Object(j.b)(Q.j)],se.prototype,"popupEnabled",void 0),Object(b.a)([Object(j.b)({type:f.a,json:{name:"popupInfo",write:!0}})],se.prototype,"popupTemplate",void 0),Object(b.a)([Object(j.b)({types:y.a,json:{origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:y.b,name:"layerDefinition.drawingInfo.renderer",write:{writer:d.c}}},name:"layerDefinition.drawingInfo.renderer",write:{ignoreOrigin:!0}}})],se.prototype,"renderer",null),Object(b.a)([Object(j.b)({type:Boolean,json:{write:!0,name:"screenSizePerspective"}})],se.prototype,"screenSizePerspectiveEnabled",void 0),Object(b.a)([Object(j.b)({readOnly:!0})],se.prototype,"source",void 0),Object(b.a)([Object(j.b)({type:ie.a,json:{name:"layerDefinition.spatialReference",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"extent.spatialReference"}}}})],se.prototype,"spatialReference",void 0),Object(b.a)([Object(j.b)({readOnly:!0,type:[g.a],json:{name:"wfsInfo.supportedSpatialReferences",write:{ignoreOrigin:!0,isRequired:!0}}})],se.prototype,"spatialReferences",void 0),Object(b.a)([Object(j.b)({type:Boolean,value:!1,json:{name:"wfsInfo.swapXY",write:{ignoreOrigin:!0,isRequired:!0}}})],se.prototype,"swapXY",void 0),Object(b.a)([Object(j.b)({json:{write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"name"}}}})],se.prototype,"title",void 0),Object(b.a)([Object(j.b)({json:{read:!1},readOnly:!0})],se.prototype,"type",void 0),Object(b.a)([Object(j.b)(Q.n)],se.prototype,"url",void 0),Object(b.a)([Object(j.b)({type:String,readOnly:!0,json:{name:"wfsInfo.version",write:{ignoreOrigin:!0,isRequired:!0}}})],se.prototype,"version",void 0),Object(b.a)([Object(j.b)({aliasOf:"source.wfsCapabilities"})],se.prototype,"wfsCapabilities",void 0);var ce=se=G=Object(b.a)([Object(_.a)("esri.layers.WFSLayer")],se)},660:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(2),a=r(5),i=r(6),o=r(0),s=r(42),c=r(26),u=r(1),l=(r(19),r(14),r(15),r(31)),p=r(10),b=new s.a({inherited:"inherited",codedValue:"coded-value",range:"range"}),f=function(e){Object(a.a)(r,e);var t=Object(i.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).name=null,a.type=null,a}return r}(c.a);Object(o.a)([Object(u.b)({type:String,json:{write:!0}})],f.prototype,"name",void 0),Object(o.a)([Object(l.a)(b)],f.prototype,"type",void 0);var d=f=Object(o.a)([Object(p.a)("esri.layers.support.Domain")],f)},661:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=(r(1),r(19),r(14),r(15),r(31)),l=r(10),p=r(660),b=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).type="inherited",n}return Object(i.a)(r,[{key:"clone",value:function(){return new n}}]),r}(p.a);Object(c.a)([Object(u.a)({inherited:"inherited"})],b.prototype,"type",void 0);var f=b=n=Object(c.a)([Object(l.a)("esri.layers.support.InheritedDomain")],b)},662:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(1),l=(r(19),r(14),r(15),r(31)),p=r(10),b=r(660),f=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).maxValue=null,n.minValue=null,n.type="range",n}return Object(i.a)(r,[{key:"clone",value:function(){return new n({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),r}(b.a);Object(c.a)([Object(u.b)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,r){t[r]=[this.minValue||0,e]}}}})],f.prototype,"maxValue",void 0),Object(c.a)([Object(u.b)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,r){t[r]=[e,this.maxValue||0]}}}})],f.prototype,"minValue",void 0),Object(c.a)([Object(l.a)({range:"range"})],f.prototype,"type",void 0);var d=f=n=Object(c.a)([Object(p.a)("esri.layers.support.RangeDomain")],f)},664:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(18),l=r(1),p=(r(14),r(19),r(15),r(31)),b=r(10),f=r(26),d=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).name=null,n.code=null,n}return Object(i.a)(r,[{key:"clone",value:function(){return new n({name:this.name,code:this.code})}}]),r}(f.a);Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],d.prototype,"name",void 0),Object(c.a)([Object(l.b)({type:[String,Number],json:{write:!0}})],d.prototype,"code",void 0);var y,v=d=n=Object(c.a)([Object(b.a)("esri.layers.support.CodedValue")],d),h=r(660),O=y=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).codedValues=null,n.type="coded-value",n}return Object(i.a)(r,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((function(e){return String(e.code)===r&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new y({codedValues:Object(u.a)(this.codedValues),name:this.name})}}]),r}(h.a);Object(c.a)([Object(l.b)({type:[v],json:{write:!0}})],O.prototype,"codedValues",void 0),Object(c.a)([Object(p.a)({codedValue:"coded-value"})],O.prototype,"type",void 0);var j=O=y=Object(c.a)([Object(b.a)("esri.layers.support.CodedValueDomain")],O)},666:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(42),l=r(26),p=r(1),b=(r(19),r(14)),f=(r(15),r(31)),d=r(57),y=r(10),v=r(679),h=r(690),O=new u.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),j=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).alias=null,n.defaultValue=void 0,n.description=null,n.domain=null,n.editable=!0,n.length=-1,n.name=null,n.nullable=!0,n.type=null,n.valueType=null,n}return Object(i.a)(r,[{key:"readDescription",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(a){}return r?r.value:null}},{key:"readValueType",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(a){}return r?O.fromJSON(r.fieldValueType):null}},{key:"clone",value:function(){return new n({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}}]),r}(l.a);Object(c.a)([Object(p.b)({type:String,json:{write:!0}})],j.prototype,"alias",void 0),Object(c.a)([Object(p.b)({type:[String,Number],json:{write:{allowNull:!0}}})],j.prototype,"defaultValue",void 0),Object(c.a)([Object(p.b)()],j.prototype,"description",void 0),Object(c.a)([Object(d.a)("description")],j.prototype,"readDescription",null),Object(c.a)([Object(p.b)({types:v.b,json:{read:{reader:v.a},write:!0}})],j.prototype,"domain",void 0),Object(c.a)([Object(p.b)({type:Boolean,json:{write:!0}})],j.prototype,"editable",void 0),Object(c.a)([Object(p.b)({type:b.a,json:{write:!0}})],j.prototype,"length",void 0),Object(c.a)([Object(p.b)({type:String,json:{write:!0}})],j.prototype,"name",void 0),Object(c.a)([Object(p.b)({type:Boolean,json:{write:!0}})],j.prototype,"nullable",void 0),Object(c.a)([Object(f.a)(h.a)],j.prototype,"type",void 0),Object(c.a)([Object(p.b)()],j.prototype,"valueType",void 0),Object(c.a)([Object(d.a)("valueType",["description"])],j.prototype,"readValueType",null);var m=j=n=Object(c.a)([Object(y.a)("esri.layers.support.Field")],j)},667:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r(21),a=r(2),i=r(4),o=r(83),s=r(29),c=r(122),u=r(11),l=r(30),p=r(674),b=r(296),f={statsWorker:function(){return r.e(99).then(r.bind(null,787))},geometryEngineWorker:function(){return Promise.all([r.e(9),r.e(82)]).then(r.bind(null,788))},CSVSourceWorker:function(){return Promise.all([r.e(4),r.e(5),r.e(6),r.e(8),r.e(59)]).then(r.bind(null,803))},EdgeProcessingWorker:function(){return Promise.all([r.e(12),r.e(81)]).then(r.bind(null,797))},ElevationSamplerWorker:function(){return Promise.all([r.e(4),r.e(8),r.e(12),r.e(20),r.e(111)]).then(r.bind(null,789))},FeatureServiceSnappingSourceWorker:function(){return Promise.all([r.e(4),r.e(5),r.e(6),r.e(8),r.e(51)]).then(r.bind(null,798))},GeoJSONSourceWorker:function(){return Promise.all([r.e(4),r.e(5),r.e(6),r.e(8),r.e(58)]).then(r.bind(null,790))},LercWorker:function(){return r.e(89).then(r.bind(null,791))},MemorySourceWorker:function(){return Promise.all([r.e(4),r.e(5),r.e(6),r.e(8),r.e(57)]).then(r.bind(null,792))},PBFDecoderWorker:function(){return Promise.all([r.e(6),r.e(65)]).then(r.bind(null,800))},Pipeline:function(){return Promise.all([r.e(2),r.e(4),r.e(5),r.e(6),r.e(39)]).then(r.bind(null,795))},PointCloudWorker:function(){return Promise.all([r.e(4),r.e(27),r.e(75)]).then(r.bind(null,799))},RasterWorker:function(){return r.e(63).then(r.bind(null,793))},SceneLayerWorker:function(){return r.e(121).then(r.bind(null,804))},WFSSourceWorker:function(){return Promise.all([r.e(4),r.e(5),r.e(6),r.e(8),r.e(56)]).then(r.bind(null,794))},WorkerTileHandler:function(){return Promise.all([r.e(26),r.e(23),r.e(93)]).then(r.bind(null,796))}},d=p.a.CLOSE,y=p.a.ABORT,v=p.a.INVOKE,h=p.a.RESPONSE,O=p.a.OPEN_PORT,j=p.a.ON,m=function(){function e(t){Object(a.a)(this,e),this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}return Object(i.a)(e,[{key:"push",value:function(e){e.type===p.a.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}},{key:"clear",value:function(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}},{key:"_process",value:function(){this._timer=null;var e,t=Object(n.a)(this._invokeMessages);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._cancelledJobIds.has(r.jobId)||this._invoke(r)}}catch(a){t.e(a)}finally{t.f()}this._cancelledJobIds.clear(),this._invokeMessages.length=0}}]),e}(),g=function(){function e(t,r){var n=this;Object(a.a)(this,e),this._port=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new m((function(e){return n._onInvokeMessage(e)})),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}return Object(i.a)(e,[{key:"close",value:function(){this._post({type:d}),this._close()}},{key:"isBusy",value:function(){return this._outJobs.size>0}},{key:"invoke",value:function(e,t,r){var n=this,a=r&&r.signal,i=r&&r.transferList;if(!this._port)return Promise.reject(new s.a("worker:port-closed","Cannot call invoke('".concat(e,"'), port is closed"),{methodName:e,data:t}));var o=Object(p.b)();return new Promise((function(r,s){var c=Object(l.r)(a,(function(){var e,t=n._outJobs.get(o);t&&(n._outJobs.delete(o),null==(e=t.abortHandle)||e.remove(),n._post({type:y,jobId:o}),s(Object(l.e)()))})),u={resolve:r,reject:s,abortHandle:c,debugInfo:e};n._outJobs.set(o,u),n._post({type:v,jobId:o,methodName:e,abortable:null!=a},t,i)}))}},{key:"on",value:function(e,t){var r=new MessageChannel;function n(e){t(e.data)}return this._port.postMessage({type:p.a.ON,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",n),r.port1.start(),{remove:function(){r.port1.postMessage({type:p.a.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",n)}}}},{key:"openPort",value:function(){var e=new MessageChannel;return this._post({type:O,port:e.port2}),e.port1}},{key:"_close",value:function(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((function(e){var t;null==(t=e.abortHandle)||t.remove(),e.reject(Object(l.e)("Worker closing, aborting job calling '".concat(e.debugInfo,"'")))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}},{key:"_onMessage",value:function(e){var t=this;Object(u.j)(this._schedule)?this._schedule((function(){return t._processMessage(e)})):this._processMessage(e)}},{key:"_processMessage",value:function(e){var t=Object(p.d)(e);if(t)switch(t.type){case h:this._onResponseMessage(t);break;case v:this._invokeQueue.push(t);break;case y:this._onAbortMessage(t);break;case d:this._onCloseMessage();break;case O:this._onOpenPortMessage(t);break;case j:this._onOnMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,r=e.jobId,n=t.get(r);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),t.delete(r))}},{key:"_onCloseMessage",value:function(){var t=this._client;this._close(),t&&"destroy"in t&&e.clients.get(this)===t&&t.destroy(),e.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}},{key:"_onInvokeMessage",value:function(e){var t,r=this,n=e.methodName,a=e.jobId,i=e.data,o=e.abortable?Object(l.d)():null,s=this._inJobs,c=this._client,u=c[n];try{if(!u&&n&&-1!==n.indexOf("."))for(var b=n.split("."),f=0;f<b.length-1;f++)u=(c=c[b[f]])[b[f+1]];if("function"!=typeof u)throw new TypeError("".concat(n," is not a function"));t=u.call(c,i,{client:this,signal:o?o.signal:null})}catch(d){return void this._post({type:h,jobId:a,error:Object(p.e)(d)})}Object(l.p)(t)?(s.set(a,{controller:o,promise:t}),t.then((function(e){s.has(a)&&(s.delete(a),r._post({type:h,jobId:a},e))}),(function(e){s.has(a)&&(s.delete(a),Object(l.m)(e)||r._post({type:h,jobId:a,error:Object(p.e)(e||{message:"Error encountered at method ".concat(n)})}))}))):this._post({type:h,jobId:a},t)}},{key:"_onOpenPortMessage",value:function(t){new e(t.port,{client:this._client})}},{key:"_onOnMessage",value:function(e){var t=e.port,r=this._client.on(e.eventType,(function(e){t.postMessage(e)})),n=Object(c.c)(e.port,"message",(function(e){Object(p.d)(e).type===p.a.CLOSE&&(n.remove(),r.remove(),t.close())}))}},{key:"_onResponseMessage",value:function(e){var t,r=e.jobId,n=e.error,a=e.data,i=this._outJobs;if(i.has(r)){var o=i.get(r);i.delete(r),null==(t=o.abortHandle)||t.remove(),n?o.reject(s.a.fromJSON(JSON.parse(n))):o.resolve(a)}}},{key:"_post",value:function(e,t,r){return Object(p.c)(this._port,e,t,r)}}],[{key:"connect",value:function(t){var r,n=new MessageChannel;r="function"==typeof t?new t:"default"in t&&"function"==typeof t.default?new t.default:t;var a=new e(n.port1,{channel:n,client:r});return"object"==typeof r&&"remoteClient"in r&&(r.remoteClient=a),e.clients.set(a,r),n.port2}},{key:"loadWorker",value:function(e){var t=f[e];return t?t():Promise.resolve(null)}}]),e}();g.kernelInfo={revision:b.b,version:o.d,buildDate:b.a},g.clients=new Map},668:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return S}));var n=r(22),a=r(21),i=r(2),o=r(4),s=r(5),c=r(6),u=r(0),l=r(114),p=r(210),b=r(42),f=r(26),d=r(11),y=r(1),v=(r(19),r(14),r(15),r(57)),h=r(10),O=r(43),j=r(45),m=r(62),g=r(666),w=new b.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),_=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return Object(o.a)(r,[{key:"readFeatures",value:function(e,t){for(var r=j.a.fromJSON(t.spatialReference),n=[],a=0;a<e.length;a++){var i=e[a],o=p.a.fromJSON(i),s=i.geometry&&i.geometry.spatialReference;Object(d.j)(o.geometry)&&!s&&(o.geometry.spatialReference=r),n.push(o)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)w.write(e,t,r,n);else{var i=this.features;if(i){var o,s=Object(a.a)(i);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c&&Object(d.j)(c.geometry))return void w.write(c.geometry.type,t,r,n)}}catch(u){s.e(u)}finally{s.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=Object(m.a)(e);return!r&&t.spatialReference&&(n.spatialReference=j.a.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n,i=Object(a.a)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o&&Object(d.j)(o.geometry)&&o.geometry.spatialReference)return void(t.spatialReference=o.geometry.spatialReference.toJSON())}}catch(s){i.e(s)}finally{i.f()}}}}},{key:"toJSON",value:function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var a=e&&e[r];n.geometry=a&&a.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=Object(n.a)(e.scale,2),r=t[0],a=t[1],i=Object(n.a)(e.translate,2),o=i[0],s=i[1],c=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-o)/r)}),(function(e){return Math.round((s-e)/a)})),l=0,p=c.length;l<p;l++)u(Object(d.q)(c[l].geometry))||(c.splice(l,1),l--,p--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var i,o=Object(n.a)(r.translate,2),s=o[0],c=o[1],u=Object(n.a)(r.scale,2),l=u[0],p=u[1],b=this._getHydrationFunction(e,(function(e){return e*l+s}),(function(e){return c-e*p})),f=Object(a.a)(t);try{for(f.s();!(i=f.n()).done;){var y=i.value.geometry;Object(d.j)(y)&&b(y)}}catch(v){f.e(v)}finally{f.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,a,i=[],o=0,s=e.length;o<s;o++){var c=e[o];if(o>0){var u=t(c[0]),l=r(c[1]);u===n&&l===a||(i.push([u-n,l-a]),n=u,a=l)}else n=t(c[0]),a=r(c[1]),i.push([n,a])}return i.length>0?i:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var a=Object(m.g)(e)?e.rings:e.paths,i=[],o=0,s=a.length;o<s;o++){var c=a[o],u=n._quantizePoints(c,t,r);u&&i.push(u)}return i.length>0?(Object(m.g)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?function(e){var a=n._quantizePoints(e.points,t,r);return a.length>0?(e.points=a,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,a,i=Object(m.g)(e)?e.rings:e.paths,o=0,s=i.length;o<s;o++)for(var c=i[o],u=0,l=c.length;u<l;u++){var p=c[u];u>0?(n+=p[0],a+=p[1]):(n=p[0],a=p[1]),p[0]=t(n),p[1]=r(a)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,a,i=e.points,o=0,s=i.length;o<s;o++){var c=i[o];o>0?(n+=c[0],a+=c[1]):(n=c[0],a=c[1]),c[0]=t(n),c[1]=r(a)}}:void 0}}]),r}(f.a);Object(u.a)([Object(y.b)({type:String,json:{write:!0}})],_.prototype,"displayFieldName",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],_.prototype,"exceededTransferLimit",void 0),Object(u.a)([Object(y.b)({type:[p.a],json:{write:!0}})],_.prototype,"features",void 0),Object(u.a)([Object(v.a)("features")],_.prototype,"readFeatures",null),Object(u.a)([Object(y.b)({type:[g.a],json:{write:!0}})],_.prototype,"fields",void 0),Object(u.a)([Object(y.b)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:w.read}}})],_.prototype,"geometryType",void 0),Object(u.a)([Object(O.a)("geometryType")],_.prototype,"writeGeometryType",null),Object(u.a)([Object(y.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],_.prototype,"hasM",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],_.prototype,"hasZ",void 0),Object(u.a)([Object(y.b)({types:l.a,json:{write:!0}})],_.prototype,"queryGeometry",void 0),Object(u.a)([Object(v.a)("queryGeometry")],_.prototype,"readQueryGeometry",null),Object(u.a)([Object(y.b)({type:j.a,json:{write:!0}})],_.prototype,"spatialReference",void 0),Object(u.a)([Object(O.a)("spatialReference")],_.prototype,"writeSpatialReference",null),Object(u.a)([Object(y.b)({json:{write:!0}})],_.prototype,"transform",void 0),(_=Object(u.a)([Object(h.a)("esri.rest.support.FeatureSet")],_)).prototype.toJSON.isDefaultToJSON=!0,_||(_={});var S=_},669:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(42),a=Object(n.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},670:function(e,t,r){"use strict";r.d(t,"a",(function(){return R}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(114),l=r(665),p=r(42),b=r(26),f=r(18),d=r(11),y=r(1),v=r(97),h=(r(19),r(15),r(31)),O=r(10),j=r(43),m=r(14),g=r(62),w=r(673),_=r(717),S=r(714),P=r(45),k=r(48),x=new p.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),E=new p.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),T=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).aggregateIds=null,n.cacheHint=void 0,n.datumTransformation=null,n.distance=void 0,n.dynamicDataSource=void 0,n.formatOf3DObjects=null,n.gdbVersion=null,n.geometry=null,n.geometryPrecision=void 0,n.groupByFieldsForStatistics=null,n.having=null,n.historicMoment=null,n.maxAllowableOffset=void 0,n.maxRecordCountFactor=1,n.multipatchOption=null,n.num=void 0,n.objectIds=null,n.orderByFields=null,n.outFields=null,n.outSpatialReference=null,n.outStatistics=null,n.parameterValues=null,n.pixelSize=null,n.quantizationParameters=null,n.rangeValues=null,n.relationParameter=null,n.resultType=null,n.returnCentroid=!1,n.returnDistinctValues=!1,n.returnExceededLimitFeatures=!0,n.returnGeometry=!1,n.returnQueryGeometry=!1,n.returnM=void 0,n.returnZ=void 0,n.sourceSpatialReference=null,n.spatialRelationship="intersects",n.start=void 0,n.sqlFormat=null,n.text=null,n.timeExtent=null,n.timeReferenceUnknownClient=!1,n.units=null,n.where=null,n}return Object(i.a)(r,[{key:"castDatumTransformation",value:function(e){return"number"==typeof e||"object"==typeof e?e:null}},{key:"writeHistoricMoment",value:function(e,t){t.historicMoment=e&&e.getTime()}},{key:"writeParameterValues",value:function(e,t){if(e){var r={};for(var n in e){var a=e[n];Array.isArray(a)?r[n]=a.map((function(e){return e instanceof Date?e.getTime():e})):a instanceof Date?r[n]=a.getTime():r[n]=a}t.parameterValues=r}}},{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}},{key:"writeWhere",value:function(e,t){t.where=e||"1=1"}},{key:"clone",value:function(){return new n(Object(f.a)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:Object(d.j)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}}],[{key:"from",value:function(e){return Object(m.d)(n,e)}}]),r}(b.a);T.MAX_MAX_RECORD_COUNT_FACTOR=5,Object(c.a)([Object(y.b)({json:{write:!0}})],T.prototype,"aggregateIds",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{write:!0}})],T.prototype,"cacheHint",void 0),Object(c.a)([Object(y.b)({json:{write:!0}})],T.prototype,"datumTransformation",void 0),Object(c.a)([Object(v.a)("datumTransformation")],T.prototype,"castDatumTransformation",null),Object(c.a)([Object(y.b)({type:Number,json:{write:{overridePolicy:function(e){return{enabled:e>0}}}}})],T.prototype,"distance",void 0),Object(c.a)([Object(y.b)({type:w.a,json:{write:!0}})],T.prototype,"dynamicDataSource",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],T.prototype,"formatOf3DObjects",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],T.prototype,"gdbVersion",void 0),Object(c.a)([Object(y.b)({types:u.a,json:{read:g.a,write:!0}})],T.prototype,"geometry",void 0),Object(c.a)([Object(y.b)({type:Number,json:{write:!0}})],T.prototype,"geometryPrecision",void 0),Object(c.a)([Object(y.b)({type:[String],json:{write:!0}})],T.prototype,"groupByFieldsForStatistics",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],T.prototype,"having",void 0),Object(c.a)([Object(y.b)({type:Date})],T.prototype,"historicMoment",void 0),Object(c.a)([Object(j.a)("historicMoment")],T.prototype,"writeHistoricMoment",null),Object(c.a)([Object(y.b)({type:Number,json:{write:!0}})],T.prototype,"maxAllowableOffset",void 0),Object(c.a)([Object(y.b)({type:Number,cast:function(e){return e<1?1:e>n.MAX_MAX_RECORD_COUNT_FACTOR?n.MAX_MAX_RECORD_COUNT_FACTOR:e},json:{write:{overridePolicy:function(e){return{enabled:e>1}}}}})],T.prototype,"maxRecordCountFactor",void 0),Object(c.a)([Object(y.b)({type:["xyFootprint"],json:{write:!0}})],T.prototype,"multipatchOption",void 0),Object(c.a)([Object(y.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],T.prototype,"num",void 0),Object(c.a)([Object(y.b)({json:{write:!0}})],T.prototype,"objectIds",void 0),Object(c.a)([Object(y.b)({type:[String],json:{write:!0}})],T.prototype,"orderByFields",void 0),Object(c.a)([Object(y.b)({type:[String],json:{write:!0}})],T.prototype,"outFields",void 0),Object(c.a)([Object(y.b)({type:P.a,json:{name:"outSR",write:!0}})],T.prototype,"outSpatialReference",void 0),Object(c.a)([Object(y.b)({type:[S.a],json:{write:{enabled:!0,overridePolicy:function(){return{enabled:Object(d.j)(this.outStatistics)&&this.outStatistics.length>0}}}}})],T.prototype,"outStatistics",void 0),Object(c.a)([Object(y.b)({json:{write:!0}})],T.prototype,"parameterValues",void 0),Object(c.a)([Object(j.a)("parameterValues")],T.prototype,"writeParameterValues",null),Object(c.a)([Object(y.b)({type:k.a,json:{write:!0}})],T.prototype,"pixelSize",void 0),Object(c.a)([Object(y.b)({type:_.a,json:{write:!0}})],T.prototype,"quantizationParameters",void 0),Object(c.a)([Object(y.b)({type:[Object],json:{write:!0}})],T.prototype,"rangeValues",void 0),Object(c.a)([Object(y.b)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(){return{enabled:"relation"===this.spatialRelationship}}}}})],T.prototype,"relationParameter",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],T.prototype,"resultType",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnCentroid",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnDistinctValues",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!0,write:!0}})],T.prototype,"returnExceededLimitFeatures",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{write:!0}})],T.prototype,"returnGeometry",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnQueryGeometry",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnM",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],T.prototype,"returnZ",void 0),Object(c.a)([Object(y.b)({type:P.a,json:{write:!0}})],T.prototype,"sourceSpatialReference",void 0),Object(c.a)([Object(h.a)(x,{ignoreUnknown:!1,name:"spatialRel"})],T.prototype,"spatialRelationship",void 0),Object(c.a)([Object(y.b)({type:Number,json:{read:{source:"resultOffset"}}})],T.prototype,"start",void 0),Object(c.a)([Object(j.a)("start"),Object(j.a)("num")],T.prototype,"writeStart",null),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],T.prototype,"sqlFormat",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],T.prototype,"text",void 0),Object(c.a)([Object(y.b)({type:l.a,json:{write:!0}})],T.prototype,"timeExtent",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"timeReferenceUnknownClient",void 0),Object(c.a)([Object(h.a)(E,{ignoreUnknown:!1}),Object(y.b)({json:{write:{overridePolicy:function(e){return{enabled:e&&this.distance>0}}}}})],T.prototype,"units",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:{overridePolicy:function(e){return{enabled:null!=e||this.start>0}}}}})],T.prototype,"where",void 0),Object(c.a)([Object(j.a)("where")],T.prototype,"writeWhere",null);var R=T=n=Object(c.a)([Object(O.a)("esri.rest.support.Query")],T)},672:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(21),a=r(2),i=r(4);function o(e){return"date"===e.type||"esriFieldTypeDate"===e.type}var s=function(){function e(t){if(Object(a.a)(this,e),this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],t){var r,i=[],s=Object(n.a)(t);try{for(s.s();!(r=s.n()).done;){var u=r.value,l=u&&u.name;if(l){var p=c(l);this._fieldsMap.set(l,u),this._fieldsMap.set(p,u),i.push(p),o(u)&&(this.dateFields.push(u),this._dateFieldsSet.add(u))}}}catch(b){s.e(b)}finally{s.f()}i.sort(),this.uid=i.join(",")}}return Object(i.a)(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(c(e)):void 0}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t=this.get(e);if(t)return t.name}}]),e}();function c(e){return e.toLowerCase().trim()}},673:function(e,t,r){"use strict";r.d(t,"a",(function(){return D}));var n,a,i=r(2),o=r(4),s=r(5),c=r(6),u=r(0),l=r(42),p=r(26),b=r(1),f=(r(19),r(97)),d=(r(15),r(31)),y=r(57),v=r(10),h=r(14),O=r(212),j=r(666),m=r(711),g=(r(114),r(45)),w=r(236),_=n=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="query-table",n}return Object(o.a)(r,[{key:"clone",value:function(){var e,t=this.workspaceId,r=this.query,a=this.oidFields,i=this.spatialReference,o=this.geometryType,s={workspaceId:t,query:r,oidFields:a,spatialReference:null!=(e=null==i?void 0:i.clone())?e:void 0,geometryType:o};return new n(s)}}]),r}(p.a);Object(u.a)([Object(d.a)({queryTable:"query-table"})],_.prototype,"type",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],_.prototype,"workspaceId",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],_.prototype,"query",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],_.prototype,"oidFields",void 0),Object(u.a)([Object(b.b)({type:g.a,json:{write:!0}})],_.prototype,"spatialReference",void 0),Object(u.a)([Object(d.a)(w.a)],_.prototype,"geometryType",void 0),_=n=Object(u.a)([Object(v.a)("esri.layers.support.source.QueryTableDataSource")],_);var S,P=a=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="raster",n}return Object(o.a)(r,[{key:"clone",value:function(){var e=this.workspaceId,t=this.dataSourceName;return new a({workspaceId:e,dataSourceName:t})}}]),r}(p.a);Object(u.a)([Object(d.a)({raster:"raster"})],P.prototype,"type",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],P.prototype,"dataSourceName",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],P.prototype,"workspaceId",void 0),P=a=Object(u.a)([Object(v.a)("esri.layers.support.source.RasterDataSource")],P);var k,x,E=S=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="table",n}return Object(o.a)(r,[{key:"clone",value:function(){var e=this.workspaceId,t=this.gdbVersion,r=this.dataSourceName;return new S({workspaceId:e,gdbVersion:t,dataSourceName:r})}}]),r}(p.a);Object(u.a)([Object(d.a)({table:"table"})],E.prototype,"type",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],E.prototype,"workspaceId",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],E.prototype,"gdbVersion",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],E.prototype,"dataSourceName",void 0),E=S=Object(u.a)([Object(v.a)("esri.layers.support.source.TableDataSource")],E);var T=Object(l.b)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"}),R=k=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="join-table",n}return Object(o.a)(r,[{key:"readLeftTableSource",value:function(e,t,r){return N()(e,t,r)}},{key:"castLeftTableSource",value:function(e){return Object(h.k)(M(),e)}},{key:"readRightTableSource",value:function(e,t,r){return N()(e,t,r)}},{key:"castRightTableSource",value:function(e){return Object(h.k)(M(),e)}},{key:"clone",value:function(){var e,t,r=this.leftTableKey,n=this.rightTableKey,a=this.leftTableSource,i=this.rightTableSource,o=this.joinType,s={leftTableKey:r,rightTableKey:n,leftTableSource:null!=(e=null==a?void 0:a.clone())?e:void 0,rightTableSource:null!=(t=null==i?void 0:i.clone())?t:void 0,joinType:o};return new k(s)}}]),r}(p.a);Object(u.a)([Object(d.a)({joinTable:"join-table"})],R.prototype,"type",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],R.prototype,"leftTableKey",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],R.prototype,"rightTableKey",void 0),Object(u.a)([Object(b.b)({json:{write:!0}})],R.prototype,"leftTableSource",void 0),Object(u.a)([Object(y.a)("leftTableSource")],R.prototype,"readLeftTableSource",null),Object(u.a)([Object(f.a)("leftTableSource")],R.prototype,"castLeftTableSource",null),Object(u.a)([Object(b.b)({json:{write:!0}})],R.prototype,"rightTableSource",void 0),Object(u.a)([Object(y.a)("rightTableSource")],R.prototype,"readRightTableSource",null),Object(u.a)([Object(f.a)("rightTableSource")],R.prototype,"castRightTableSource",null),Object(u.a)([Object(d.a)(T)],R.prototype,"joinType",void 0),R=k=Object(u.a)([Object(v.a)("esri.layers.support.source.JoinTableDataSource")],R);var I=null;function N(){return I||(I=Object(O.b)({types:M()})),I}var F=null;function M(){return F||(F={key:"type",base:null,typeMap:{"data-layer":D,"map-layer":m.a}}),F}var C={key:"type",base:null,typeMap:{"join-table":R,"query-table":_,raster:P,table:E}},D=x=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="data-layer",n}return Object(o.a)(r,[{key:"clone",value:function(){var e=this.fields,t=this.dataSource;return new x({fields:e,dataSource:t})}}]),r}(p.a);Object(u.a)([Object(d.a)({dataLayer:"data-layer"})],D.prototype,"type",void 0),Object(u.a)([Object(b.b)({type:[j.a],json:{write:!0}})],D.prototype,"fields",void 0),Object(u.a)([Object(b.b)({types:C,json:{write:!0}})],D.prototype,"dataSource",void 0),(D=x=Object(u.a)([Object(v.a)("esri.layers.support.source.DataLayerSource")],D)).from=Object(h.m)(D)},674:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return c}));var n,a,i=r(19);(a=n||(n={}))[a.HANDSHAKE=0]="HANDSHAKE",a[a.OPEN=1]="OPEN",a[a.OPENED=2]="OPENED",a[a.RESPONSE=3]="RESPONSE",a[a.INVOKE=4]="INVOKE",a[a.ABORT=5]="ABORT",a[a.CLOSE=6]="CLOSE",a[a.OPEN_PORT=7]="OPEN_PORT",a[a.ON=8]="ON";var o=0;function s(){return o++}function c(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function u(e,t,r,a){var i;t.type!==n.OPEN_PORT?t.type===n.INVOKE||t.type===n.RESPONSE?(!function(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}(r)?(i=p(a),t.data=r):(i=p(r.transferList),t.data=r.result),i?e.postMessage(t,i):e.postMessage(t)):e.postMessage(t):e.postMessage(t,[t.port])}function l(e){if(!e)return null;var t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function p(e){if(!e||!e.length)return null;if(Object(i.a)("esri-workers-arraybuffer-transfer"))return e;var t=e.filter((function(e){return!function(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}(e)}));return t.length?t:null}},675:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(332),l=r(42),p=r(26),b=r(18),f=r(1),d=(r(14),r(19),r(15),r(57)),y=r(10),v=r(43),h=r(693),O=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).expression=null,e.title=null,e.value=null,e}return Object(i.a)(r,[{key:"readExpression",value:function(e,t){return t.value?Object(h.a)(t.value):e}},{key:"writeExpression",value:function(e,t,r){null!=this.value&&(e=Object(h.a)(this.value)),t[r]=e}},{key:"clone",value:function(){return new n({expression:this.expression,title:this.title,value:this.value})}}]),r}(p.a);Object(c.a)([Object(f.b)({type:String,json:{write:{allowNull:!0}}})],O.prototype,"expression",void 0),Object(c.a)([Object(d.a)("expression",["expression","value"])],O.prototype,"readExpression",null),Object(c.a)([Object(v.a)("expression")],O.prototype,"writeExpression",null),Object(c.a)([Object(f.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],O.prototype,"title",void 0),Object(c.a)([Object(f.b)({json:{read:!1,write:!1}})],O.prototype,"value",void 0);var j,m=O=n=Object(c.a)([Object(y.a)("esri.layers.support.LabelExpressionInfo")],O),g=r(725),w=r(753),_=new l.a({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function S(e){return!e||"service"!==e.origin&&!P(e.layer)}function P(e){return"map-image"===(null==e?void 0:e.type)}function k(e){var t,r;return!!P(e)&&!(null==(t=e.capabilities)||null==(r=t.exportMap)||!r.supportsArcadeExpressionForLabeling)}var x=j=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).type="label",n.name=null,n.deconflictionStrategy="static",n.labelExpression=null,n.labelExpressionInfo=null,n.labelPlacement=null,n.maxScale=0,n.minScale=0,n.symbol=g.a,n.useCodedValues=void 0,n.where=null,n}return Object(i.a)(r,[{key:"readLabelExpression",value:function(e,t){var r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}},{key:"writeLabelExpression",value:function(e,t,r){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=Object(h.f)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){var n=Object(h.e)(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}null!=e&&(t[r]=e)}},{key:"writeLabelExpressionInfo",value:function(e,t,r,n){if(null==e&&null!=this.labelExpression&&S(n))e=new m({expression:this.getLabelExpressionArcade()});else if(!e)return;var a=e.toJSON(n);a.expression&&(t[r]=a)}},{key:"writeMaxScale",value:function(e,t){(e||this.minScale)&&(t.maxScale=e)}},{key:"writeMinScale",value:function(e,t){(e||this.maxScale)&&(t.minScale=e)}},{key:"getLabelExpression",value:function(){return Object(h.b)(this)}},{key:"getLabelExpressionArcade",value:function(){return Object(h.c)(this)}},{key:"getLabelExpressionSingleField",value:function(){return Object(h.d)(this)}},{key:"hash",value:function(){return JSON.stringify(this)}},{key:"clone",value:function(){return new j({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:Object(b.a)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:Object(b.a)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}}],[{key:"evaluateWhere",value:function(e,t){var r=function(e,t,r){switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;var n=e.split(" ");if(3===n.length)return r(t[n[0]],n[1],n[2]);if(7===n.length){var a=r(t[n[0]],n[1],n[2]),i=n[3],o=r(t[n[4]],n[5],n[6]);switch(i){case"AND":return a&&o;case"OR":return a||o}}return!1}catch(s){console.log("Error.: can't parse = "+e)}}}]),r}(p.a);Object(c.a)([Object(f.b)({type:String,json:{write:!0}})],x.prototype,"name",void 0),Object(c.a)([Object(f.b)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],x.prototype,"deconflictionStrategy",void 0),Object(c.a)([Object(f.b)({type:String,json:{write:{overridePolicy:function(e,t,r){return this.labelExpressionInfo&&"service"===(null==r?void 0:r.origin)&&k(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],x.prototype,"labelExpression",void 0),Object(c.a)([Object(d.a)("labelExpression")],x.prototype,"readLabelExpression",null),Object(c.a)([Object(v.a)("labelExpression")],x.prototype,"writeLabelExpression",null),Object(c.a)([Object(f.b)({type:m,json:{write:{overridePolicy:function(e,t,r){return function(e){return S(e)||k(e.layer)}(r)?{allowNull:!0}:{enabled:!1}}}}})],x.prototype,"labelExpressionInfo",void 0),Object(c.a)([Object(v.a)("labelExpressionInfo")],x.prototype,"writeLabelExpressionInfo",null),Object(c.a)([Object(f.b)({type:_.apiValues,json:{type:_.jsonValues,read:_.read,write:_.write}})],x.prototype,"labelPlacement",void 0),Object(c.a)([Object(f.b)({type:Number})],x.prototype,"maxScale",void 0),Object(c.a)([Object(v.a)("maxScale")],x.prototype,"writeMaxScale",null),Object(c.a)([Object(f.b)({type:Number})],x.prototype,"minScale",void 0),Object(c.a)([Object(v.a)("minScale")],x.prototype,"writeMinScale",null),Object(c.a)([Object(f.b)({types:u.g,json:{origins:{"web-scene":{types:u.h,write:w.b,default:null}},write:w.b,default:null}})],x.prototype,"symbol",void 0),Object(c.a)([Object(f.b)({type:Boolean,json:{write:!0}})],x.prototype,"useCodedValues",void 0),Object(c.a)([Object(f.b)({type:String,json:{write:!0}})],x.prototype,"where",void 0);var E=x=j=Object(c.a)([Object(y.a)("esri.layers.support.LabelClass")],x)},678:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(26),l=r(692),p=r(1),b=(r(19),r(14),r(15),r(10)),f=r(669),d=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).value=0,n.unit="milliseconds",n}return Object(i.a)(r,[{key:"toMilliseconds",value:function(){return Object(l.a)(this.value,this.unit,"milliseconds")}},{key:"clone",value:function(){return new n({value:this.value,unit:this.unit})}}]),r}(u.a);Object(c.a)([Object(p.b)({type:Number,json:{write:!0},nonNullable:!0})],d.prototype,"value",void 0),Object(c.a)([Object(p.b)({type:f.a.apiValues,json:{type:f.a.jsonValues,read:f.a.read,write:f.a.write},nonNullable:!0})],d.prototype,"unit",void 0);var y=d=n=Object(c.a)([Object(b.a)("esri.TimeInterval")],d)},679:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s}));r(19);var n=r(664),a=r(660),i=r(661),o=r(662),s={key:"type",base:a.a,typeMap:{range:o.a,"coded-value":n.a,inherited:i.a}};function c(e){if(!e||!e.type)return null;switch(e.type){case"range":return o.a.fromJSON(e);case"codedValue":return n.a.fromJSON(e);case"inherited":return i.a.fromJSON(e)}return null}},681:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(23),a=r(2),i=r(4),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(a.a)(this,e),this.lengths=null!=t?t:[],this.coords=null!=r?r:[],this.hasIndeterminateRingOrder=n}return Object(i.a)(e,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max.apply(Math,Object(n.a)(this.lengths))}},{key:"size",get:function(){return this.lengths.reduce((function(e,t){return e+t}))}},{key:"forEachVertex",value:function(e){var t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(var r=0;r<this.lengths.length;r++){for(var n=this.lengths[r],a=0;a<n;a++)e(this.coords[2*(a+t)],this.coords[2*(a+t)+1]);t+=n}}},{key:"clone",value:function(t){return t?(t.set(this.coords),new e(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new e(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}]),e}()},683:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(135),a=r(70),i={inches:Object(n.b)(1,"meters","inches"),feet:Object(n.b)(1,"meters","feet"),"us-feet":Object(n.b)(1,"meters","us-feet"),yards:Object(n.b)(1,"meters","yards"),miles:Object(n.b)(1,"meters","miles"),"nautical-miles":Object(n.b)(1,"meters","nautical-miles"),millimeters:Object(n.b)(1,"meters","millimeters"),centimeters:Object(n.b)(1,"meters","centimeters"),decimeters:Object(n.b)(1,"meters","decimeters"),meters:Object(n.b)(1,"meters","meters"),kilometers:Object(n.b)(1,"meters","kilometers"),"decimal-degrees":1/Object(n.i)(1,"meters",a.a.radius)}},685:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(21),a=r(2),i=r(4),o=r(185),s=r(15),c=r(30),u=r(667),l=s.a.getLogger("esri.core.workers.Connection"),p=function(){function e(){Object(a.a)(this,e),this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}return Object(i.a)(e,[{key:"destroy",value:function(){this.close()}},{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"open",value:function(e,t){var r=this;return new Promise((function(n,a){var i=!0,o=function(e){Object(c.v)(t.signal),i&&(i=!1,e())};r._clients.length=e.length,r._clientPromises.length=e.length;for(var s=function(i){var s=e[i];Object(c.p)(s)?r._clientPromises[i]=s.then((function(e){return r._clients[i]=new u.a(e,t),o(n),r._clients[i]}),(function(){return o(a),null})):(r._clients[i]=new u.a(s,t),r._clientPromises[i]=Promise.resolve(r._clients[i]),o(n))},l=0;l<e.length;++l)s(l)}))}},{key:"broadcast",value:function(e,t,r){for(var n=new Array(this._clientPromises.length),a=0;a<this._clientPromises.length;++a){var i=this._clientPromises[a];n[a]=i.then((function(n){return n.invoke(e,t,r)}))}return n}},{key:"close",value:function(){var e,t=Object(n.a)(this._clientPromises);try{for(t.s();!(e=t.n()).done;){e.value.then((function(e){return e.close()}))}}catch(r){t.e(r)}finally{t.f()}this._clients.length=0,this._clientPromises.length=0}},{key:"getAvailableClient",value:function(){for(var e,t=0;t<this._clients.length;++t){var r=this._clients[t];if(r){if(!r.isBusy())return Promise.resolve(r)}else(e=e||[]).push(this._clientPromises[t])}return e?Promise.race(e):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}},{key:"invoke",value:function(e,t,r){var n=null;return Array.isArray(r)?(l.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),n={transferList:r}):n=r,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then((function(r){return r.invoke(e,t,n)}))}},{key:"on",value:function(e,t){var r=this;return Promise.all(this._clientPromises).then((function(){return Object(o.a)(r._clients.map((function(r){return r.on(e,t)})))}))}},{key:"openPorts",value:function(){var e=this;return new Promise((function(t){for(var r=new Array(e._clientPromises.length),n=r.length,a=function(a){e._clientPromises[a].then((function(e){r[a]=e.openPort(),0==--n&&t(r)}))},i=0;i<e._clientPromises.length;++i)a(i)}))}},{key:"test",get:function(){return{numClients:this._clients.length}}}]),e}()},686:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return L}));var n,a=r(23),i=r(13),o=r(22),s=r(7),c=r.n(s),u=r(21),l=r(12),p=r(2),b=r(4),f=r(77),d=r(65),y=r(5),v=r(6),h=r(0),O=r(46),j=r(82),m=r(29),g=r(18),w=r(15),_=r(712),S=r(11),P=r(30),k=r(109),x=r(1),E=(r(14),r(19),r(10)),T=r(43),R=r(209),I=r(663),N=r(684),F=r(237),M=r(186),C=w.a.getLogger("esri.renderers.DictionaryRenderer"),D={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}},A=n=function(e){Object(y.a)(r,e);var t=Object(v.a)(r);function r(e){var n;return Object(p.a)(this,r),(n=t.call(this,e))._ongoingRequests=new Map,n._symbolCache=new _.a(100),n.config=null,n.fieldMap=null,n.scaleExpression=null,n.scaleExpressionTitle=null,n.url=null,n.type="dictionary",n}return Object(b.a)(r,[{key:"writeData",value:function(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}},{key:"writeVisualVariables",value:function(e,t,n,a){null!=a&&a.origin||Object(f.a)(Object(d.a)(r.prototype),"writeVisualVariables",this).call(this,e,t,n,a)}},{key:"clone",value:function(){return new n({config:Object(g.a)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:Object(g.a)(this.fieldMap),url:Object(g.a)(this.url),visualVariables:Object(g.a)(this.visualVariables)})}},{key:"getSymbolAsync",value:function(){var e=Object(l.a)(c.a.mark((function e(t,r){var n,a,i,o,s,l,p,b,f,d,y,v,h,j,m,g,w,_,x,E,T,R,I,N,F,M,C=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r)),e.prev=1,e.next=4,this._dictionaryPromise;case 4:n=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),!Object(P.m)(e.t0)){e.next=11;break}return e.abrupt("return",(this._dictionaryPromise=null,null));case 11:if(a={},this.fieldMap){i=Object(u.a)(this._symbolFields);try{for(i.s();!(o=i.n()).done;)s=o.value,(l=this.fieldMap[s])&&null!==t.attributes[l]&&void 0!==t.attributes[l]?(p=""+t.attributes[l],a[s]=p):a[s]=""}catch(c){i.e(c)}finally{i.f()}}if((b=n(a,r))&&"string"==typeof b){e.next=16;break}return e.abrupt("return",null);case 16:if(f=Object(k.b)(b).toString(),!(d=this._symbolCache.get(f))){e.next=19;break}return e.abrupt("return",(d.catch((function(){C._symbolCache.pop(f)})),d));case 19:y=b.split(";"),v=[],h=[],j=Object(u.a)(y);try{for(j.s();!(m=j.n()).done;)if((g=m.value)&&0!==g.length)if(-1===g.indexOf("po:"))if(-1!==g.indexOf("|")){w=Object(u.a)(g.split("|"));try{for(w.s();!(_=w.n()).done;)x=_.value,this._itemNames.has(x)&&v.push(x)}catch(c){w.e(c)}finally{w.f()}}else this._itemNames.has(g)&&v.push(g);else 3===(E=g.substr(3).split("|")).length&&(T=E[0],R=E[1],I=E[2],"DashTemplate"===R?I=I.split(" ").map((function(e){return Number(e)})):"Color"===R?(N=new O.a(I).toRgba(),I=[N[0],N[1],N[2],255*N[3]]):I=Number(I),h.push({primitiveName:T,propertyName:R,value:I}))}catch(c){j.e(c)}finally{j.f()}return F=!Object(S.j)(t.geometry)||!t.geometry.hasZ&&"point"===t.geometry.type,M=this._cimPartsToCIMSymbol(v,h,F,r),e.abrupt("return",(this._symbolCache.put(f,M,1),M));case 24:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"collectRequiredFields",value:function(){var e=Object(l.a)(c.a.mark((function e(t,r){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:if(e.t0=this.scaleExpression,!e.t0){e.next=6;break}return e.next=6,Object(R.a)(t,r,this.scaleExpression);case 6:for(n in this.fieldMap)a=this.fieldMap[n],r.has(a)&&t.add(a);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"arcadeRequired",get:function(){return!0}},{key:"fetchResources",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var r,n,a,s,l,p,b,f,d,y,v,h,O,g,w,_,P,k=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._dictionaryPromise){e.next=2;break}return e.abrupt("return",this._dictionaryPromise);case 2:if(this.url){e.next=4;break}return e.abrupt("return",void C.error("no valid URL!"));case 4:return r=Object(S.j)(t)?t.abortOptions:null,n=Object(j.default)(this.url+"/resources/styles/dictionary-info.json",Object(i.a)({responseType:"json",query:{f:"json"}},r)),e.next=8,Promise.all([n,Object(F.e)()]);case 8:if(a=e.sent,s=Object(o.a)(a,1),l=s[0].data){e.next=13;break}throw this._dictionaryPromise=null,new m.a("esri.renderers.DictionaryRenderer","Bad dictionary data!");case 13:if(p=l.expression,b=l.authoringInfo,this._refSymbolUrlTemplate=this.url+"/"+l.cimRefTemplateUrl,this._itemNames=new Set(l.itemsNames),this._symbolFields=b.symbol,f={},this.config)for(y in d=this.config)f[y]=d[y];if(b.configuration){v=Object(u.a)(b.configuration);try{for(v.s();!(h=v.n()).done;)O=h.value,f.hasOwnProperty(O.name)||(f[O.name]=O.value)}catch(c){v.e(c)}finally{v.f()}}if(g=[],Object(S.j)(t)&&t.fields&&this.fieldMap){w=Object(u.a)(this._symbolFields);try{for(P=function(){var e=_.value,r=k.fieldMap[e],n=t.fields.filter((function(e){return e.name===r}));n.length>0&&g.push(Object(i.a)(Object(i.a)({},n[0]),{},{name:e}))},w.s();!(_=w.n()).done;)P()}catch(c){w.e(c)}finally{w.f()}}return e.abrupt("return",(this._dictionaryPromise=Object(F.b)(p,Object(S.j)(t)?t.spatialReference:null,g,f).then((function(e){var t={scale:0};return function(r,n){var a=e.repurposeFeature({geometry:null,attributes:r});return t.scale=Object(S.j)(n)?n.scale:void 0,e.evaluate({$feature:a,$view:t})}})).catch((function(e){return C.error("Creating dictinoary expression failed:",e),null})),this._dictionaryPromise));case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(){return null}},{key:"getSymbols",value:function(){return[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return"".concat(this.url,"-").concat(JSON.stringify(this.fieldMap))}},{key:"getSymbolFields",value:function(){return this._symbolFields}},{key:"_getSymbolPart",value:function(){var e=Object(l.a)(c.a.mark((function e(t,r){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ongoingRequests.has(t)){e.next=2;break}return e.abrupt("return",this._ongoingRequests.get(t).then((function(e){return e.data})));case 2:return n=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),a=Object(j.default)(n,Object(i.a)({responseType:"json",query:{f:"json"}},r)),this._ongoingRequests.set(t,a),e.prev=4,e.next=7,a;case 7:return e.abrupt("return",e.sent.data);case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",(this._ongoingRequests.delete(t),Promise.reject(e.t0)));case 13:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_combineSymbolParts",value:function(e,t,r){if(!e||0===e.length)return null;var n=Object(i.a)({},e[0]);if(e.length>1){n.symbolLayers=[];var o,s=Object(u.a)(e);try{for(s.s();!(o=s.n()).done;){var c,l=o.value;(c=n.symbolLayers).unshift.apply(c,Object(a.a)(l.symbolLayers))}}catch(p){s.e(p)}finally{s.f()}}return r&&(n.callout=D),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:t}}},{key:"_cimPartsToCIMSymbol",value:function(){var e=Object(l.a)(c.a.mark((function e(t,r,n,a){var i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=new Array(t.length),o=0;o<t.length;o++)i[o]=this._getSymbolPart(t[o],a);return e.next=4,Promise.all(i);case 4:return s=e.sent,e.abrupt("return",new M.a({data:this._combineSymbolParts(s,r,n)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()}]),r}(Object(N.a)(I.a));Object(h.a)([Object(x.b)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],A.prototype,"config",void 0),Object(h.a)([Object(x.b)({type:Object,json:{write:!0}})],A.prototype,"fieldMap",void 0),Object(h.a)([Object(x.b)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],A.prototype,"scaleExpression",void 0),Object(h.a)([Object(T.a)("scaleExpression")],A.prototype,"writeData",null),Object(h.a)([Object(x.b)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy:function(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],A.prototype,"scaleExpressionTitle",void 0),Object(h.a)([Object(x.b)({type:String,json:{write:!0}})],A.prototype,"url",void 0),Object(h.a)([Object(T.a)("visualVariables")],A.prototype,"writeVisualVariables",null);var L=A=n=Object(h.a)([Object(E.a)("esri.renderers.DictionaryRenderer")],A)},687:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n,a=r(7),i=r.n(a),o=r(12),s=r(2),c=r(4),u=r(5),l=r(6),p=r(0),b=r(18),f=r(1),d=(r(14),r(19),r(15),r(31)),y=r(10),v=r(663),h=r(684),O=r(765),j=n=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).description=null,n.label=null,n.symbol=null,n.type="simple",n}return Object(c.a)(r,[{key:"collectRequiredFields",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.collectSymbolFields(t,r),this.collectVVRequiredFields(t,r)]);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"collectSymbolFields",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.getSymbols().map((function(e){return e.collectRequiredFields(t,r)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(e,t){return this.symbol}},{key:"getSymbolAsync",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.symbol);case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return this.symbol?[this.symbol]:[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return this.getSymbols().reduce((function(e,t){return e+JSON.stringify(t)}),"")}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}},{key:"clone",value:function(){return new n({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:Object(b.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}}]),r}(Object(h.a)(v.a));Object(p.a)([Object(f.b)({type:String,json:{write:!0}})],j.prototype,"description",void 0),Object(p.a)([Object(f.b)({type:String,json:{write:!0}})],j.prototype,"label",void 0),Object(p.a)([Object(f.b)(O.b)],j.prototype,"symbol",void 0),Object(p.a)([Object(d.a)({simple:"simple"})],j.prototype,"type",void 0);var m=j=n=Object(p.a)([Object(y.a)("esri.renderers.SimpleRenderer")],j)},688:function(e,t,r){"use strict";r.d(t,"a",(function(){return D}));var n,a=r(21),i=r(7),o=r.n(i),s=r(12),c=r(2),u=r(4),l=r(5),p=r(6),b=r(0),f=r(46),d=r(18),y=r(61),v=r(14),h=(r(19),r(15)),O=r(31),j=r(1),m=r(10),g=r(209),w=r(663),_=r(684),S=r(26),P=r(97),k=h.a.getLogger("esri.renderers.support.AttributeColorInfo"),x=n=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this,e)).color=null,n.field=null,n.label=null,n.valueExpression=null,n.valueExpressionTitle=null,n}return Object(u.a)(r,[{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(k.error(".field: field must be a string value"),null):Object(v.l)(e)}},{key:"getAttributeHash",value:function(){return"".concat(this.field,"-").concat(this.valueExpression)}},{key:"clone",value:function(){return new n({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}}]),r}(S.a);Object(b.a)([Object(j.b)({type:f.a,json:{type:[Number],write:!0}})],x.prototype,"color",void 0),Object(b.a)([Object(j.b)({type:String,json:{write:!0}})],x.prototype,"field",void 0),Object(b.a)([Object(P.a)("field")],x.prototype,"castField",null),Object(b.a)([Object(j.b)({type:String,json:{write:!0}})],x.prototype,"label",void 0),Object(b.a)([Object(j.b)({type:String,json:{write:!0}})],x.prototype,"valueExpression",void 0),Object(b.a)([Object(j.b)({type:String,json:{write:!0}})],x.prototype,"valueExpressionTitle",void 0);var E,T=x=n=Object(b.a)([Object(m.a)("esri.renderers.support.AttributeColorInfo")],x),R=E=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.apply(this,arguments)).unit=null,e}return Object(u.a)(r,[{key:"clone",value:function(){return new E({unit:this.unit})}}]),r}(S.a);Object(b.a)([Object(j.b)({type:String,json:{write:!0}})],R.prototype,"unit",void 0);var I,N=R=E=Object(b.a)([Object(m.a)("esri.renderers.support.DotDensityLegendOptions")],R),F=r(166),M=r(98),C=I=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this,e)).attributes=null,n.backgroundColor=new f.a([0,0,0,0]),n.blendDots=!0,n.dotBlendingEnabled=!0,n.dotShape="square",n.dotSize=1,n.legendOptions=null,n.outline=new M.a,n.dotValue=null,n.referenceDotValue=null,n.referenceScale=null,n.seed=1,n.type="dot-density",n}return Object(u.a)(r,[{key:"calculateDotValue",value:function(e){if(null==this.referenceScale)return this.dotValue;var t=e/this.referenceScale*this.dotValue;return t<1?1:t}},{key:"getSymbol",value:function(){return new F.a({outline:this.outline})}},{key:"getSymbolAsync",value:function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSymbol());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return[this.getSymbol()]}},{key:"getAttributeHash",value:function(){return this.attributes&&this.attributes.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return JSON.stringify(this.outline)}},{key:"clone",value:function(){return new I({attributes:Object(d.a)(this.attributes),backgroundColor:Object(d.a)(this.backgroundColor),dotBlendingEnabled:Object(d.a)(this.dotBlendingEnabled),dotShape:Object(d.a)(this.dotShape),dotSize:Object(d.a)(this.dotSize),dotValue:Object(d.a)(this.dotValue),legendOptions:Object(d.a)(this.legendOptions),outline:Object(d.a)(this.outline),referenceScale:Object(d.a)(this.referenceScale),visualVariables:Object(d.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}},{key:"getControllerHash",value:function(){return"".concat(this.attributes.map((function(e){return e.field||e.valueExpression||""})),"-").concat(this.outline&&JSON.stringify(this.outline.toJSON())||"")}},{key:"collectRequiredFields",value:function(){var e=Object(s.a)(o.a.mark((function e(t,r){var n,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:n=Object(a.a)(this.attributes),e.prev=3,n.s();case 5:if((i=n.n()).done){e.next=14;break}if(s=i.value,e.t0=s.valueExpression,!e.t0){e.next=11;break}return e.next=11,Object(g.a)(t,r,s.valueExpression);case 11:s.field&&t.add(s.field);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(3),n.e(e.t1);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[3,16,19,22]])})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(Object(_.a)(w.a));Object(b.a)([Object(j.b)({type:[T],json:{write:!0}})],C.prototype,"attributes",void 0),Object(b.a)([Object(j.b)({type:f.a,json:{write:!0}})],C.prototype,"backgroundColor",void 0),Object(b.a)([Object(j.b)({type:Boolean}),Object(y.a)("dotBlendingEnabled")],C.prototype,"blendDots",void 0),Object(b.a)([Object(j.b)({type:Boolean,json:{write:!0}})],C.prototype,"dotBlendingEnabled",void 0),Object(b.a)([Object(j.b)({type:String,json:{write:!1}})],C.prototype,"dotShape",void 0),Object(b.a)([Object(j.b)({type:Number,json:{write:!1}})],C.prototype,"dotSize",void 0),Object(b.a)([Object(j.b)({type:N,json:{write:!0}})],C.prototype,"legendOptions",void 0),Object(b.a)([Object(j.b)({type:M.a,json:{default:null,write:!0}})],C.prototype,"outline",void 0),Object(b.a)([Object(j.b)({type:Number,json:{write:!0}})],C.prototype,"dotValue",void 0),Object(b.a)([Object(j.b)({type:Number}),Object(y.a)("dotValue")],C.prototype,"referenceDotValue",void 0),Object(b.a)([Object(j.b)({type:Number,json:{write:!0}})],C.prototype,"referenceScale",void 0),Object(b.a)([Object(j.b)({type:Number,json:{write:!0}})],C.prototype,"seed",void 0),Object(b.a)([Object(O.a)({dotDensity:"dot-density"})],C.prototype,"type",void 0);var D=C=I=Object(b.a)([Object(m.a)("esri.renderers.DotDensityRenderer")],C)},689:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n,a=r(7),i=r.n(a),o=r(12),s=r(2),c=r(4),u=r(5),l=r(6),p=r(0),b=r(46),f=r(18),d=r(1),y=(r(14),r(19),r(15),r(31)),v=r(10),h=r(209),O=r(663),j=r(26),m=n=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).color=null,n.ratio=null,n}return Object(c.a)(r,[{key:"clone",value:function(){return new n({color:this.color,ratio:this.ratio})}}]),r}(j.a);Object(p.a)([Object(d.b)({type:b.a,json:{write:!0}})],m.prototype,"color",void 0),Object(p.a)([Object(d.b)({type:Number,json:{write:!0}})],m.prototype,"ratio",void 0);var g,w=m=n=Object(p.a)([Object(v.a)("esri.renderers.support.HeatmapColorStop")],m),_=g=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).blurRadius=10,n.colorStops=[new w({ratio:0,color:new b.a("rgba(255, 140, 0, 0)")}),new w({ratio:.75,color:new b.a("rgba(255, 140, 0, 1)")}),new w({ratio:.9,color:new b.a("rgba(255, 0,   0, 1)")})],n.field=null,n.fieldOffset=0,n.maxPixelIntensity=100,n.minPixelIntensity=0,n.type="heatmap",n}return Object(c.a)(r,[{key:"collectRequiredFields",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.field)&&"string"==typeof n&&Object(h.b)(t,r,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAttributeHash",value:function(){return null}},{key:"getMeshHash",value:function(){return"".concat(JSON.stringify(this.colorStops),".").concat(this.blurRadius,".").concat(this.field)}},{key:"clone",value:function(){return new g({blurRadius:this.blurRadius,colorStops:Object(f.a)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}}]),r}(O.a);Object(p.a)([Object(d.b)({type:Number,json:{write:!0}})],_.prototype,"blurRadius",void 0),Object(p.a)([Object(d.b)({type:[w],json:{write:!0}})],_.prototype,"colorStops",void 0),Object(p.a)([Object(d.b)({type:String,json:{write:!0}})],_.prototype,"field",void 0),Object(p.a)([Object(d.b)({type:Number,json:{write:{overridePolicy:function(e,t,r){return{enabled:null==r}}}}})],_.prototype,"fieldOffset",void 0),Object(p.a)([Object(d.b)({type:Number,json:{write:!0}})],_.prototype,"maxPixelIntensity",void 0),Object(p.a)([Object(d.b)({type:Number,json:{write:!0}})],_.prototype,"minPixelIntensity",void 0),Object(p.a)([Object(y.a)({heatmap:"heatmap"})],_.prototype,"type",void 0);var S=_=g=Object(p.a)([Object(v.a)("esri.renderers.HeatmapRenderer")],_)},690:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=new(r(42).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},691:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return p}));var n=r(700),a=r(686),i=r(688),o=r(689),s=r(663),c=r(687),u=r(701),l={key:"type",base:s.a,typeMap:{heatmap:o.a,simple:c.a,"unique-value":u.a,"class-breaks":n.a,"dot-density":i.a,dictionary:a.default},errorContext:"renderer"},p={key:"type",base:s.a,typeMap:{simple:c.a,"unique-value":u.a,"class-breaks":n.a},errorContext:"renderer"}},693:function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return m})),r.d(t,"f",(function(){return p}));var n=r(109),a="__begin__",i="__end__",o=new RegExp(a,"ig"),s=new RegExp(i,"ig"),c=new RegExp("^"+a,"i"),u=new RegExp(i+"$","i"),l='"';function p(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function b(e){var t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function f(e){var t=b(e);if(!t)return null;switch(t.type){case"conventional":return y(t.expression);case"arcade":return t.expression}return null}function d(e){var t=b(e);if(!t)return null;switch(t.type){case"conventional":return function(e){var t=e.match(v);return t&&t[1].trim()||null}(t.expression);case"arcade":return m(t.expression)}return null}function y(e){var t;return e?(t=Object(n.c)(e,(function(e){return a+'$feature["'+e+'"]'+i})),t=c.test(t)?t.replace(c,""):l+t,t=(t=u.test(t)?t.replace(u,""):t+l).replace(o,'" + ').replace(s,' + "')):t='""',t}var v=/^\s*\{([^}]+)\}\s*$/i;var h=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,O=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,j=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function m(e){if(!e)return null;var t=h.exec(e)||O.exec(e);return t?t[1]||t[3]:(t=j.exec(e))?t[2]:null}},694:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(19);function n(e){}},697:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r(7),a=r.n(n),i=r(12),o=r(2),s=r(4),c=r(8),u=r(5),l=r(6),p=r(0),b=r(15),f=r(30),d=r(1),y=(r(19),r(14),r(10)),v=r(21),h=r(52),O=r(215),j=new h.a,m=new WeakMap;function g(e){w(e)&&j.push(e)}function w(e){return e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function _(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:_(t,e%t):0}var S=0,P=0;function k(){var e,t=Date.now(),r=Object(v.a)(j);try{for(r.s();!(e=r.n()).done;){var n,a=e.value;if(a.refreshInterval)t-(null!=(n=m.get(a))?n:0)+5>=6e4*a.refreshInterval&&(m.set(a,t),a.refresh(t))}}catch(i){r.e(i)}finally{r.f()}}Object(O.a)((function(){var e,t=Date.now(),r=0,n=Object(v.a)(j);try{for(n.s();!(e=n.n()).done;){var a=e.value;r=_(Math.round(6e4*a.refreshInterval),r),a.refreshInterval?m.get(a)||m.set(a,t):m.delete(a)}}catch(i){n.e(i)}finally{n.f()}if(r!==P){if(P=r,clearInterval(S),0===P)return void(S=0);S=setInterval(k,P)}}));var x=function(e){var t=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).refreshInterval=0,e.refreshTimestamp=0,e._debounceHasDataChanged=Object(f.i)((function(){return e.hasDataChanged()})),e.when().then((function(){g(Object(c.a)(e))}),(function(){})),e}return Object(s.a)(r,[{key:"destroy",value:function(){var e;w(e=this)&&j.includes(e)&&j.remove(e)}},{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();Object(f.l)(this._debounceHasDataChanged()).then((function(r){r&&(e._set("refreshTimestamp",t),e.emit("refresh"))}),(function(t){b.a.getLogger(e.declaredClass).error(t)}))}},{key:"hasDataChanged",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(e);return Object(p.a)([Object(d.b)({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0,origins:{"web-document":{write:!0}}}})],t.prototype,"refreshInterval",void 0),Object(p.a)([Object(d.b)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),Object(p.a)([Object(d.b)()],t.prototype,"refreshParameters",null),t=Object(p.a)([Object(y.a)("esri.layers.mixins.RefreshableLayer")],t),t}},698:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(665),l=r(678),p=r(26),b=r(18),f=r(11),d=r(1),y=(r(14),r(19),r(15),r(57)),v=r(10),h=r(43),O=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).respectsDaylightSaving=!1,n.timezone=null,n}return Object(i.a)(r,[{key:"readRespectsDaylightSaving",value:function(e,t){return void 0!==t.respectsDaylightSaving?t.respectsDaylightSaving:void 0!==t.respectDaylightSaving&&t.respectDaylightSaving}},{key:"clone",value:function(){var e=this.respectsDaylightSaving,t=this.timezone;return new n({respectsDaylightSaving:e,timezone:t})}}]),r}(p.a);Object(c.a)([Object(d.b)({type:Boolean,json:{write:!0}})],O.prototype,"respectsDaylightSaving",void 0),Object(c.a)([Object(y.a)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],O.prototype,"readRespectsDaylightSaving",null),Object(c.a)([Object(d.b)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],O.prototype,"timezone",void 0);var j,m=O=n=Object(c.a)([Object(v.a)("esri.layers.support.TimeReference")],O),g=r(669),w=j=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).cumulative=!1,n.endField=null,n.fullTimeExtent=null,n.hasLiveData=!1,n.interval=null,n.startField=null,n.timeReference=null,n.trackIdField=null,n.useTime=!0,n}return Object(i.a)(r,[{key:"readFullTimeExtent",value:function(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;var r=new Date(t.timeExtent[0]),n=new Date(t.timeExtent[1]);return new u.a({start:r,end:n})}},{key:"writeFullTimeExtent",value:function(e,t){e&&Object(f.j)(e.start)&&Object(f.j)(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}},{key:"readInterval",value:function(e,t){return t.timeInterval&&t.timeIntervalUnits?new l.a({value:t.timeInterval,unit:g.a.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new l.a({value:t.defaultTimeInterval,unit:g.a.fromJSON(t.defaultTimeIntervalUnits)}):null}},{key:"writeInterval",value:function(e,t){if(e){var r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}},{key:"clone",value:function(){var e=this.cumulative,t=this.endField,r=this.hasLiveData,n=this.interval,a=this.startField,i=this.timeReference,o=this.fullTimeExtent,s=this.trackIdField,c=this.useTime;return new j({cumulative:e,endField:t,hasLiveData:r,interval:n,startField:a,timeReference:Object(b.a)(i),fullTimeExtent:Object(b.a)(o),trackIdField:s,useTime:c})}}]),r}(p.a);Object(c.a)([Object(d.b)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],w.prototype,"cumulative",void 0),Object(c.a)([Object(d.b)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],w.prototype,"endField",void 0),Object(c.a)([Object(d.b)({type:u.a,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"fullTimeExtent",void 0),Object(c.a)([Object(y.a)("fullTimeExtent",["timeExtent"])],w.prototype,"readFullTimeExtent",null),Object(c.a)([Object(h.a)("fullTimeExtent")],w.prototype,"writeFullTimeExtent",null),Object(c.a)([Object(d.b)({type:Boolean,json:{write:!0}})],w.prototype,"hasLiveData",void 0),Object(c.a)([Object(d.b)({type:l.a,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"interval",void 0),Object(c.a)([Object(y.a)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],w.prototype,"readInterval",null),Object(c.a)([Object(h.a)("interval")],w.prototype,"writeInterval",null),Object(c.a)([Object(d.b)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],w.prototype,"startField",void 0),Object(c.a)([Object(d.b)({type:m,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"timeReference",void 0),Object(c.a)([Object(d.b)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"trackIdField",void 0),Object(c.a)([Object(d.b)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],w.prototype,"useTime",void 0);var _=w=j=Object(c.a)([Object(v.a)("esri.layers.support.TimeInfo")],w)},703:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return u}));var n=[252,146,31,255],a={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},i={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},s={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},c={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},l={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},704:function(e,t,r){"use strict";function n(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function i(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function o(e,t){var r=t||i(e),n=e.valueUnit||"unknown";return"unknown"===r?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===n?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return a}))},705:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(2),a=r(5),i=r(6),o=r(0),s=r(26),c=r(1),u=(r(19),r(14),r(15),r(10)),l=function(e){Object(a.a)(r,e);var t=Object(i.a)(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).type=null,e}return r}(s.a);Object(o.a)([Object(c.b)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"type",void 0);var p=l=Object(o.a)([Object(u.a)("esri.layers.support.FeatureReduction")],l)},711:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(26),l=r(1),p=(r(19),r(14)),b=(r(15),r(31)),f=r(10),d=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).type="map-layer",n}return Object(i.a)(r,[{key:"clone",value:function(){var e=this.mapLayerId,t=this.gdbVersion;return new n({mapLayerId:e,gdbVersion:t})}}]),r}(u.a);Object(c.a)([Object(b.a)({mapLayer:"map-layer"})],d.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:p.a,json:{write:!0}})],d.prototype,"mapLayerId",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],d.prototype,"gdbVersion",void 0),d=n=Object(c.a)([Object(f.a)("esri.layers.support.source.MapLayerSource")],d)},712:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(2),a=r(4),i=r(708),o=function(){function e(t,r){Object(n.a)(this,e),this._storage=new i.b,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}return Object(a.a)(e,[{key:"put",value:function(e,t,r){this._storage.put(e,t,r,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}}]),e}()},714:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(42),l=r(26),p=r(18),b=r(1),f=(r(14),r(19),r(15),r(10)),d=r(43),y=new u.a({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"}),v=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).maxPointCount=void 0,n.maxRecordCount=void 0,n.maxVertexCount=void 0,n.onStatisticField=null,n.outStatisticFieldName=null,n.statisticType=null,n.statisticParameters=null,n}return Object(i.a)(r,[{key:"writeStatisticParameters",value:function(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=Object(p.a)(e))}},{key:"clone",value:function(){return new n({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:Object(p.a)(this.statisticParameters)})}}]),r}(l.a);Object(c.a)([Object(b.b)({type:Number,json:{write:!0}})],v.prototype,"maxPointCount",void 0),Object(c.a)([Object(b.b)({type:Number,json:{write:!0}})],v.prototype,"maxRecordCount",void 0),Object(c.a)([Object(b.b)({type:Number,json:{write:!0}})],v.prototype,"maxVertexCount",void 0),Object(c.a)([Object(b.b)({type:String,json:{write:!0}})],v.prototype,"onStatisticField",void 0),Object(c.a)([Object(b.b)({type:String,json:{write:!0}})],v.prototype,"outStatisticFieldName",void 0),Object(c.a)([Object(b.b)({type:String,json:{read:{source:"statisticType",reader:y.read},write:{target:"statisticType",writer:y.write}}})],v.prototype,"statisticType",void 0),Object(c.a)([Object(b.b)({type:Object})],v.prototype,"statisticParameters",void 0),Object(c.a)([Object(d.a)("statisticParameters")],v.prototype,"writeStatisticParameters",null);var h=v=n=Object(c.a)([Object(f.a)("esri.rest.support.StatisticDefinition")],v)},715:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return c}));r(19);var n=r(29),a=r(66),i=r(165),o=r(212),s=r(691);function c(e,t,r,i){var o=function(e,t){return e?function(e,t){if(!t||"web-scene"!==t.origin)return!0;switch(e.type){case"simple":case"unique-value":case"class-breaks":return!0;default:return!1}}(e,t)?e.write({},t):(t.messages&&t.messages.push(new n.a("renderer:unsupported","Renderer of type '".concat(e.declaredClass,"' are not supported in scenes."),{renderer:e,context:t})),null):null}(e,i);o&&Object(a.c)(r,o,t)}function u(e,t){return p(e,null,t)}var l=Object(o.b)({types:s.a});function p(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(r&&r.messages&&r.messages.push(new i.a("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):l(e,t,r):null}},717:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=(r(114),r(42)),l=r(26),p=r(18),b=r(1),f=(r(14),r(19),r(15),r(10)),d=r(58),y=new u.a({upperLeft:"upper-left",lowerLeft:"lower-left"}),v=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).extent=null,n.mode="view",n.originPosition="upper-left",n.tolerance=1,n}return Object(i.a)(r,[{key:"clone",value:function(){return new n(Object(p.a)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}}]),r}(l.a);Object(c.a)([Object(b.b)({type:d.a,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],v.prototype,"extent",void 0),Object(c.a)([Object(b.b)({type:["view","edit"],json:{write:!0}})],v.prototype,"mode",void 0),Object(c.a)([Object(b.b)({type:String,json:{read:y.read,write:y.write}})],v.prototype,"originPosition",void 0),Object(c.a)([Object(b.b)({type:Number,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],v.prototype,"tolerance",void 0);var h=v=n=Object(c.a)([Object(f.a)("esri.rest.support.QuantizationParameters")],v)},719:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r(2),a=r(4),i=r(5),o=r(6),s=r(0),c=r(665),u=r(678),l=r(1),p=(r(19),r(14),r(15),r(57)),b=r(10),f=r(698),d=r(209),y=r(669);var v=function(e){var t=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).timeExtent=null,e.timeOffset=null,e.useViewTime=!0,e}return Object(a.a)(r,[{key:"readOffset",value:function(e,t){var r=t.timeInfo.exportOptions;if(!r)return null;var n=r.timeOffset,a=y.a.fromJSON(r.timeOffsetUnits);return n&&a?new u.a({value:n,unit:a}):null}},{key:"timeInfo",set:function(e){Object(d.f)(e,this.fieldsIndex),this._set("timeInfo",e)}}]),r}(e);return Object(s.a)([Object(l.b)({type:c.a,json:{write:!1}})],t.prototype,"timeExtent",void 0),Object(s.a)([Object(l.b)({type:u.a})],t.prototype,"timeOffset",void 0),Object(s.a)([Object(p.a)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),Object(s.a)([Object(l.b)({value:null,type:f.a,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),Object(s.a)([Object(l.b)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=Object(s.a)([Object(b.a)("esri.layers.mixins.TemporalLayer")],t),t}},721:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(2),a=r(5),i=r(6),o=r(0),s=r(1),c=(r(19),r(14),r(15),r(10)),u=function(e){var t=function(e){Object(a.a)(r,e);var t=Object(i.a)(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).customParameters=null,e}return r}(e);return Object(o.a)([Object(s.b)({type:Object,json:{write:{overridePolicy:function(e){return{enabled:!!(e&&Object.keys(e).length>0)}}}}})],t.prototype,"customParameters",void 0),t=Object(o.a)([Object(c.a)("esri.layers.mixins.CustomParametersMixin")],t)}},725:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return l}));r(19),r(11);var n=r(166),a=r(98),i=r(143),o=r(136),s=r(703),c=(i.a.fromJSON(s.a),a.a.fromJSON(s.c),n.a.fromJSON(s.b),o.a.fromJSON(s.d));var u=i.a.fromJSON(s.e),l=a.a.fromJSON(s.g),p=n.a.fromJSON(s.f)},726:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return f}));var n=r(2),a=r(4),i=r(5),o=r(6),s=r(0),c=r(60),u=r(183),l=r(1),p=r(10),b=r(763),f=function(e){var t=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"destroy",value:function(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}},{key:"handles",get:function(){return this._get("handles")||new u.a}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new b.a}}]),r}(e);return Object(s.a)([Object(l.b)({readOnly:!0})],t.prototype,"handles",null),Object(s.a)([Object(l.b)({readOnly:!0})],t.prototype,"updatingHandles",null),t=Object(s.a)([Object(p.a)("esri.core.HandleOwner")],t),t},d=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(f(c.a));d=Object(s.a)([Object(p.a)("esri.core.HandleOwner")],d)},727:function(e,t,r){"use strict";r.d(t,"a",(function(){return te}));var n=r(13),a=r(7),i=r.n(a),o=r(12),s=r(29),c=r(19),u=r(30),l=r(685),p=r(667),b=r(2),f=r(4),d=r(83),y=r(15),v=r(674),h=r(54),O=r(68),j=(r(243),r(27)),m=r(21),g={};function w(e){var t,r={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:Object(n.a)({},e.has),map:Object(n.a)({},e.map),packages:e.packages&&e.packages.concat()||[],paths:Object(n.a)({},e.paths)};return e.hasOwnProperty("async")||(r.async=!0),e.hasOwnProperty("isDebug")||(r.isDebug=!1),e.baseUrl||(r.baseUrl=g.baseUrl),null==(t=g.packages)||t.forEach((function(e){!function(e,t){var r,n=Object(m.a)(e);try{for(n.s();!(r=n.n()).done;)if(r.value.name===t.name)return}catch(a){n.e(a)}finally{n.f()}e.push(t)}(r.packages,e)})),r}var _,S,P=r(37),k=function e(){var t=this;Object(b.a)(this,e);var r=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((function(e){t[e]=function(){return r[e].apply(r,arguments)}}))},x=P.a.MutationObserver||P.a.WebKitMutationObserver,E=function(){var e;if(P.a.process&&P.a.process.nextTick)e=function(e){P.a.process.nextTick(e)};else if(P.a.Promise)e=function(e){P.a.Promise.resolve().then(e)};else if(x){var t=[],r=document.createElement("div");new x((function(){for(;t.length>0;)t.shift()()})).observe(r,{attributes:!0}),e=function(e){t.push(e),r.setAttribute("queueStatus","1")}}return e}(),T=function(){var e=P.a.MessageEvent;try{new e("message",{data:null})}catch(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.data,n=t.bubbles,a=void 0!==n&&n,i=t.cancelable,o=void 0!==i&&i,s=document.createEvent("Event");return s.initEvent(e,a,o),s.data=r,s}}return function(t,r){return new e(t,r)}}(),R=function(){function e(){Object(b.a)(this,e),this._dispatcher=new k,this._workerPostMessage({type:v.a.HANDSHAKE})}return Object(f.a)(e,[{key:"terminate",value:function(){}},{key:"onmessage",get:function(){return this._onmessageHandler},set:function(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}},{key:"postMessage",value:function(e){var t=this;E((function(){t._workerMessageHandler(T("message",{data:e}))}))}},{key:"dispatchEvent",value:function(e){return this._dispatcher.dispatchEvent(e)}},{key:"addEventListener",value:function(e,t,r){this._dispatcher.addEventListener(e,t,r)}},{key:"removeEventListener",value:function(e,t,r){this._dispatcher.removeEventListener(e,t,r)}},{key:"_workerPostMessage",value:function(e){var t=this;E((function(){t.dispatchEvent(T("message",{data:e}))}))}},{key:"_workerMessageHandler",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var r,n,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Object(v.d)(t))||r.type!==v.a.OPEN){e.next=13;break}return n=r.modulePath,a=r.jobId,e.next=5,p.a.loadWorker(n);case 5:if(o=e.sent,e.t0=o,e.t0){e.next=11;break}return e.next=10,import(n);case 10:o=e.sent;case 11:s=p.a.connect(o),this._workerPostMessage({type:v.a.OPENED,jobId:a,data:s});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),I=r(75),N=r(296),F=y.a.getLogger("esri.core.workers"),M=v.a.HANDSHAKE,C='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});',D="Failed to create Worker. Fallback to execute module in main thread";function A(){return L.apply(this,arguments)}function L(){return(L=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(c.a)("esri-workers")){e.next=2;break}return e.abrupt("return",V(new R));case 2:if(!_&&!S)try{t=C.replace('"{CONFIGURATION}"',"'".concat(G(),"'")),_=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(n){S=n||{}}if(_)try{r=new Worker(_,{name:"esri-worker-"+q++})}catch(n){F.warn(D,S),r=new R}else F.warn(D,S),r=new R;return e.abrupt("return",V(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return U.apply(this,arguments)}function U(){return(U=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){function r(a){var i=Object(v.d)(a);i&&i.type===M&&(t.removeEventListener("message",r),t.removeEventListener("error",n),e(t))}function n(e){e.preventDefault(),t.removeEventListener("message",r),t.removeEventListener("error",n),F.warn("Failed to create Worker. Fallback to execute module in main thread",e),(t=new R).addEventListener("message",r),t.addEventListener("error",n)}t.addEventListener("message",r),t.addEventListener("error",n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){var e;if(null!=O.a.default){var t=Object(n.a)({},O.a);delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(O.a));e.assetsPath=Object(j.z)(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=Object(I.b)(),e.has={"csp-restrictions":Object(c.a)("csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":Object(c.a)("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":Object(c.a)("esri-2d-query-centroid-enabled"),"featurelayer-pbf":Object(c.a)("featurelayer-pbf"),"featurelayer-simplify-thresholds":Object(c.a)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":Object(c.a)("featurelayer-simplify-payload-size-factors"),"esri-atomics":Object(c.a)("esri-atomics"),"esri-shared-array-buffer":Object(c.a)("esri-shared-array-buffer"),"esri-tiles-debug":Object(c.a)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":Object(c.a)("esri-workers-arraybuffer-transfer"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Object(j.z)(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Object(j.z)(e.workers.workerPath):e.workers.workerPath=Object(j.z)(Object(h.a)("esri/core/workers/RemoteClient.js"));var r=O.a.workers.loaderConfig,a=w({baseUrl:null==r?void 0:r.baseUrl,locale:Object(I.b)(),has:Object(n.a)({"csp-restrictions":Object(c.a)("csp-restrictions"),"dojo-test-sniff":0,"host-webworker":1},null==r?void 0:r.has),map:Object(n.a)({},null==r?void 0:r.map),paths:Object(n.a)({},null==r?void 0:r.paths),packages:(null==r?void 0:r.packages)||[]}),i={version:d.d,buildDate:N.a,revision:N.b};return JSON.stringify({esriConfig:e,loaderConfig:a,kernelInfo:i})}var q=0,z=y.a.getLogger("esri.core.workers"),J=v.a.ABORT,H=v.a.INVOKE,B=v.a.OPEN,W=v.a.OPENED,Y=v.a.RESPONSE,X=function(){function e(t,r){Object(b.a)(this,e),this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",(function(e){e.preventDefault(),z.error(e)}))}return Object(f.a)(e,[{key:"terminate",value:function(){this.worker.terminate()}},{key:"open",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var r,n,a,o=this,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},n=r.signal,a=Object(v.b)(),e.abrupt("return",new Promise((function(e,r){var i={resolve:e,reject:r,abortHandle:Object(u.r)(n,(function(){o._outJobs.delete(a),o._post({type:J,jobId:a})}))};o._outJobs.set(a,i),o._post({type:B,jobId:a,modulePath:t})})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onMessage",value:function(e){var t=Object(v.d)(e);if(t)switch(t.type){case W:this._onOpenedMessage(t);break;case Y:this._onResponseMessage(t);break;case J:this._onAbortMessage(t);break;case H:this._onInvokeMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,r=e.jobId,n=t.get(r);n&&(n.controller&&n.controller.abort(),t.delete(r))}},{key:"_onInvokeMessage",value:function(e){var t,r=this,n=e.methodName,a=e.jobId,i=e.data,o=e.abortable?Object(u.d)():null,s=this._inJobs,c=d.e[n];try{if("function"!=typeof c)throw new TypeError("".concat(n," is not a function"));t=c.call(null,i,{signal:o?o.signal:null})}catch(l){return void this._post({type:Y,jobId:a,error:Object(v.e)(l)})}Object(u.p)(t)?(s.set(a,{controller:o,promise:t}),t.then((function(e){s.has(a)&&(s.delete(a),r._post({type:Y,jobId:a},e))}),(function(e){s.has(a)&&(s.delete(a),e||(e={message:"Error encountered at method"+n}),Object(u.m)(e)||r._post({type:Y,jobId:a,error:Object(v.e)(e||{message:"Error encountered at method ".concat(n)})}))}))):this._post({type:Y,jobId:a},t)}},{key:"_onOpenedMessage",value:function(e){var t,r=e.jobId,n=e.data,a=this._outJobs.get(r);a&&(this._outJobs.delete(r),null==(t=a.abortHandle)||t.remove(),a.resolve(n))}},{key:"_onResponseMessage",value:function(e){var t,r=e.jobId,n=e.error,a=e.data,i=this._outJobs.get(r);i&&(this._outJobs.delete(r),null==(t=i.abortHandle)||t.remove(),n?i.reject(s.a.fromJSON(JSON.parse(n))):i.resolve(a))}},{key:"_post",value:function(e,t,r){return Object(v.c)(this.worker,e,t,r)}}],[{key:"create",value:function(){var t=Object(o.a)(i.a.mark((function t(r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A();case 2:return n=t.sent,t.abrupt("return",new e(n,r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),Q=Object(c.a)("esri-workers-debug")?1:Object(c.a)("host-browser")?navigator.hardwareConcurrency-1:0;Q||(Q=Object(c.a)("safari")&&Object(c.a)("mac")||Object(c.a)("trident")?7:2);var Z=0,$=[];function K(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(o.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.a,e.next=3,n.open(t,r);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return re.apply(this,arguments)}function re(){return re=Object(o.a)(i.a.mark((function e(t){var r,a,o,l,b,f,d,y,v,h=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.length>1&&void 0!==h[1]?h[1]:{},"string"==typeof t){e.next=3;break}throw new s.a("workers:undefined-module","modulePath is missing");case 3:if(a=r.strategy||"distributed",Object(c.a)("host-webworker")&&!Object(c.a)("esri-workers")&&(a="local"),"local"!==a){e.next=16;break}return e.next=7,p.a.loadWorker(t);case 7:if(o=e.sent,e.t0=o,e.t0){e.next=13;break}return e.next=12,import(t);case 12:o=e.sent;case 13:return Object(u.v)(r.signal),l=r.client||o,e.abrupt("return",K([p.a.connect(o)],Object(n.a)(Object(n.a)({},r),{},{client:l})));case 16:return e.next=18,ae();case 18:if(Object(u.v)(r.signal),"dedicated"!==a){e.next=28;break}return b=Z++%Q,e.t1=K,e.next=24,$[b].open(t,r);case 24:return e.t2=e.sent,e.t3=[e.t2],e.t4=r,e.abrupt("return",(0,e.t1)(e.t3,e.t4));case 28:if(!(r.maxNumWorkers&&r.maxNumWorkers>0)){e.next=34;break}if(!((f=Math.min(r.maxNumWorkers,Q))<Q)){e.next=34;break}for(d=new Array(f),y=0;y<f;++y)v=Z++%Q,d[y]=$[v].open(t,r);return e.abrupt("return",K(d,r));case 34:return e.abrupt("return",K($.map((function(e){return e.open(t,r)})),r));case 35:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}var ne=null;function ae(){return ie.apply(this,arguments)}function ie(){return(ie=Object(o.a)(i.a.mark((function e(){var t,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ne){e.next=2;break}return e.abrupt("return",ne);case 2:for(Object(u.d)(),t=[],r=function(e){var r=X.create(e).then((function(t){return $[e]=t,t}));t.push(r)},n=0;n<Q;n++)r(n);return e.abrupt("return",ne=Promise.all(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},728:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(21),a=r(15),i=r(666),o=r(672),s=r(209),c=a.a.getLogger("esri.layers.support.fieldProperties");function u(){return{fields:{type:[i.a],value:null},fieldsIndex:{readOnly:!0,get:function(){return new o.a(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;var t,r=Object(n.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;this.fieldsIndex.has(a)||c.error("field-attributes-layer:invalid-field","Invalid field ".concat(a," found in outFields"),{layer:this,outFields:e})}}catch(i){r.e(i)}finally{r.f()}return Object(s.d)(this.fieldsIndex,e)}}}}},731:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u}));var n=r(5),a=r(6),i=r(2),o=r(4),s=r(11),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;Object(i.a)(this,e),this.geometry=t,this.attributes=r,this.centroid=n,this.objectId=a,this.displayId=0,this.geohashX=0,this.geohashY=0}return Object(o.a)(e,[{key:"weakClone",value:function(){var t=new e(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}]),e}();function u(e){return!(Object(s.i)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}var l=function(e){Object(n.a)(r,e);var t=Object(a.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return r}(c)},739:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(1),l=(r(19),r(14),r(15),r(10)),p=r(705),b=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).type="selection",n}return Object(i.a)(r,[{key:"clone",value:function(){return new n}}]),r}(p.a);Object(c.a)([Object(u.b)({type:["selection"]})],b.prototype,"type",void 0);var f=b=n=Object(c.a)([Object(l.a)("esri.layers.support.FeatureReductionSelection")],b)},740:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(675),a=/\[([^\[\]]+)\]/gi;function i(e,t,r){var i=this;return e?e.map((function(e){var o=new n.a;if(o.read(e,r),o.labelExpression){var s=t.fields||t.layerDefinition&&t.layerDefinition.fields||i.fields;o.labelExpression=o.labelExpression.replace(a,(function(e,t){return"[".concat(function(e,t){if(!t)return e;for(var r=e.toLowerCase(),n=0;n<t.length;n++){var a=t[n].name;if(a.toLowerCase()===r)return a}return e}(t,s),"]")}))}return o})):null}},746:function(e,t,r){"use strict";r.d(t,"a",(function(){return F})),r.d(t,"b",(function(){return I})),r.d(t,"c",(function(){return R})),r.d(t,"d",(function(){return N}));var n,a=r(29),i=r(66),o=r(705),s=r(2),c=r(4),u=r(5),l=r(6),p=r(0),b=r(214),f=r(332),d=r(26),y=r(18),v=r(44),h=r(1),O=(r(14),r(19),r(15),r(10)),j=n=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.apply(this,arguments)).statisticType=null,e.onStatisticField=null,e.onStatisticValueExpression=null,e}return Object(c.a)(r,[{key:"clone",value:function(){return new n({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}}]),r}(d.a);Object(p.a)([Object(h.b)({type:String,json:{write:!0}})],j.prototype,"statisticType",void 0),Object(p.a)([Object(h.b)({type:String,json:{write:!0}})],j.prototype,"onStatisticField",void 0),Object(p.a)([Object(h.b)({type:String,json:{write:!0}})],j.prototype,"onStatisticValueExpression",void 0);var m,g=j=n=Object(p.a)([Object(O.a)("esri.layers.support.OutStatistic")],j),w=m=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.apply(this,arguments)).name=null,e}return Object(c.a)(r,[{key:"clone",value:function(){return new m({name:this.name,outStatistic:this.outStatistic.clone()})}}]),r}(d.a);Object(p.a)([Object(h.b)({type:String,json:{write:!0}})],w.prototype,"name",void 0),Object(p.a)([Object(h.b)({type:g,json:{write:!0}})],w.prototype,"outStatistic",void 0);var _,S=w=m=Object(p.a)([Object(O.a)("esri.layers.support.AggregateField")],w),P=r(671),k=r(675),x=_=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).type="cluster",n.clusterRadius=Object(v.d)("80px"),n.clusterMinSize=Object(v.d)("12px"),n.clusterMaxSize=Object(v.d)("50px"),n.popupEnabled=!0,n.popupTemplate=null,n.symbol=null,n.labelingInfo=null,n.labelsVisible=!0,n.fields=null,n}return Object(c.a)(r,[{key:"clone",value:function(){return new _({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:Object(y.a)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:Object(y.a)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:Object(y.a)(this.popupTemplate)})}}]),r}(d.a);Object(p.a)([Object(h.b)({type:["cluster"],readOnly:!0,json:{write:!0}})],x.prototype,"type",void 0),Object(p.a)([Object(h.b)({type:Number,cast:function(e){return"auto"===e?e:Object(v.d)(e)},json:{write:!0}})],x.prototype,"clusterRadius",void 0),Object(p.a)([Object(h.b)({type:Number,cast:v.d,json:{write:!0}})],x.prototype,"clusterMinSize",void 0),Object(p.a)([Object(h.b)({type:Number,cast:v.d,json:{write:!0}})],x.prototype,"clusterMaxSize",void 0),Object(p.a)([Object(h.b)(P.j)],x.prototype,"popupEnabled",void 0),Object(p.a)([Object(h.b)({type:b.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],x.prototype,"popupTemplate",void 0),Object(p.a)([Object(h.b)({types:f.f})],x.prototype,"symbol",void 0),Object(p.a)([Object(h.b)({type:[k.a],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],x.prototype,"labelingInfo",void 0),Object(p.a)([Object(h.b)(P.d)],x.prototype,"labelsVisible",void 0),Object(p.a)([Object(h.b)({type:[S],json:{write:!0}})],x.prototype,"fields",void 0);var E=x=_=Object(p.a)([Object(O.a)("esri.layers.support.FeatureReductionCluster")],x),T=r(739),R={key:"type",base:o.a,typeMap:{selection:T.a}};function I(e,t){var r=(t=t.layerDefinition||t).featureReduction;if(r)switch(r.type){case"selection":return T.a.fromJSON(r);case"cluster":return E.fromJSON(r)}return null}function N(e,t,r,n){var o=function(e,t,r){return e?"selection"!==e.type?(r.messages&&r.messages.push(new a.a("featureReduction:unsupported","FeatureReduction of type '".concat(e.declaredClass,"' are not supported in scenes."),{featureReduction:e,context:r})),null):e.write(t,r):null}(e,{},n);o&&Object(i.c)(r,o,t)}var F={types:{key:"type",base:o.a,typeMap:{selection:T.a,cluster:E}},json:{write:{target:"layerDefinition.featureReduction",allowNull:!0}}}},750:function(e,t,r){"use strict";r.d(t,"a",(function(){return ve})),r.d(t,"b",(function(){return Re})),r.d(t,"c",(function(){return de})),r.d(t,"d",(function(){return he})),r.d(t,"e",(function(){return ue})),r.d(t,"f",(function(){return le})),r.d(t,"g",(function(){return pe})),r.d(t,"h",(function(){return be})),r.d(t,"i",(function(){return Ee})),r.d(t,"j",(function(){return fe})),r.d(t,"k",(function(){return ke})),r.d(t,"l",(function(){return _e}));var n,a,i,o,s,c=r(7),u=r.n(c),l=r(12),p=r(2),b=r(5),f=r(6),d=r(21),y=r(22),v=r(29),h=r(167),O=r(11),j=r(30),m=r(135),g=r(738),w=(r(238),r(211)),_=r(58),S=r(144),P=r(4),k=r(54),x=r(19),E=null;function T(){return!!E}function R(){return n||(n=Promise.all([r.e(108),r.e(100)]).then(r.bind(null,1093)).then((function(e){return e.p})).then((function(e){return(0,e.default)({locateFile:function(e){return Object(k.a)("esri/geometry/support/".concat(e))}})})).then((function(e){G(e)})))}!function(e){function t(e,t,r){E.ensureCache.prepare();var n=J(r),a=r===n,i=E.ensureFloat64(n),o=E._pe_geog_to_proj(E.getPointer(e),t,i);return o&&H(r,t,i,a),o}function r(e,t,r){return n(e,t,r,0)}function n(e,t,r,n){E.ensureCache.prepare();var a=J(r),i=r===a,o=E.ensureFloat64(a),s=E._pe_proj_to_geog_center(E.getPointer(e),t,o,n);return s&&H(r,t,o,i),s}e.geogToProj=t,e.projGeog=function(e,n,a,o){switch(o){case i.PE_TRANSFORM_P_TO_G:return r(e,n,a);case i.PE_TRANSFORM_G_TO_P:return t(e,n,a)}return 0},e.projToGeog=r,e.projToGeogCenter=n}(a||(a={})),(s=i||(i={})).init=function(){s.PE_BUFFER_MAX=E.PeDefs.prototype.PE_BUFFER_MAX,s.PE_NAME_MAX=E.PeDefs.prototype.PE_NAME_MAX,s.PE_MGRS_MAX=E.PeDefs.prototype.PE_MGRS_MAX,s.PE_USNG_MAX=E.PeDefs.prototype.PE_USNG_MAX,s.PE_DD_MAX=E.PeDefs.prototype.PE_DD_MAX,s.PE_DDM_MAX=E.PeDefs.prototype.PE_DDM_MAX,s.PE_DMS_MAX=E.PeDefs.prototype.PE_DMS_MAX,s.PE_UTM_MAX=E.PeDefs.prototype.PE_UTM_MAX,s.PE_PARM_MAX=E.PeDefs.prototype.PE_PARM_MAX,s.PE_TYPE_NONE=E.PeDefs.prototype.PE_TYPE_NONE,s.PE_TYPE_GEOGCS=E.PeDefs.prototype.PE_TYPE_GEOGCS,s.PE_TYPE_PROJCS=E.PeDefs.prototype.PE_TYPE_PROJCS,s.PE_TYPE_GEOGTRAN=E.PeDefs.prototype.PE_TYPE_GEOGTRAN,s.PE_TYPE_COORDSYS=E.PeDefs.prototype.PE_TYPE_COORDSYS,s.PE_TYPE_UNIT=E.PeDefs.prototype.PE_TYPE_UNIT,s.PE_TYPE_LINUNIT=E.PeDefs.prototype.PE_TYPE_LINUNIT,s.PE_STR_OPTS_NONE=E.PeDefs.prototype.PE_STR_OPTS_NONE,s.PE_STR_AUTH_NONE=E.PeDefs.prototype.PE_STR_AUTH_NONE,s.PE_STR_AUTH_TOP=E.PeDefs.prototype.PE_STR_AUTH_TOP,s.PE_STR_NAME_CANON=E.PeDefs.prototype.PE_STR_NAME_CANON,s.PE_PARM_X0=E.PeDefs.prototype.PE_PARM_X0,s.PE_PARM_ND=E.PeDefs.prototype.PE_PARM_ND,s.PE_TRANSFORM_1_TO_2=E.PeDefs.prototype.PE_TRANSFORM_1_TO_2,s.PE_TRANSFORM_2_TO_1=E.PeDefs.prototype.PE_TRANSFORM_2_TO_1,s.PE_TRANSFORM_P_TO_G=E.PeDefs.prototype.PE_TRANSFORM_P_TO_G,s.PE_TRANSFORM_G_TO_P=E.PeDefs.prototype.PE_TRANSFORM_G_TO_P,s.PE_HORIZON_RECT=E.PeDefs.prototype.PE_HORIZON_RECT,s.PE_HORIZON_POLY=E.PeDefs.prototype.PE_HORIZON_POLY,s.PE_HORIZON_LINE=E.PeDefs.prototype.PE_HORIZON_LINE,s.PE_HORIZON_DELTA=E.PeDefs.prototype.PE_HORIZON_DELTA},function(e){var t={},r={},n=function(e){if(e){var t=e.getType();switch(t){case i.PE_TYPE_GEOGCS:e=E.castObject(e,E.PeGeogcs);break;case i.PE_TYPE_PROJCS:e=E.castObject(e,E.PeProjcs);break;case i.PE_TYPE_GEOGTRAN:e=E.castObject(e,E.PeGeogtran);break;default:t&i.PE_TYPE_UNIT&&(e=E.castObject(e,E.PeUnit))}}return e};function a(e,r){var a=null,i=t[e];if(i||(i={},t[e]=i),i.hasOwnProperty(String(r)))a=i[r];else{var o=E.PeFactory.prototype.factoryByType(e,r);E.compare(o,E.NULL)||(a=o,i[r]=a)}return a=n(a)}e.initialize=function(){E.PeFactory.prototype.initialize(null)},e.coordsys=function(e){return a(i.PE_TYPE_COORDSYS,e)},e.factoryByType=a,e.fromString=function(e,t){var a=null,i=r[e];if(i||(i={},r[e]=i),i.hasOwnProperty(t))a=i[t];else{var o=E.PeFactory.prototype.fromString(e,t);E.compare(o,E.NULL)||(a=o,i[t]=a)}return a=n(a)},e.geogcs=function(e){return a(i.PE_TYPE_GEOGCS,e)},e.geogtran=function(e){return a(i.PE_TYPE_GEOGTRAN,e)},e.getCode=function(e){return E.PeFactory.prototype.getCode(e)},e.projcs=function(e){return a(i.PE_TYPE_PROJCS,e)},e.unit=function(e){return a(i.PE_TYPE_UNIT,e)}}(o||(o={}));var I,N,F,M,C,D,A,L,V,U=null;function G(e){function t(e,t,r){e[t]=r(e[t])}E=e,i.init(),I.init(),C.init(),A.init(),L.init(),U=function(e){Object(b.a)(r,e);var t=Object(f.a)(r);function r(){return Object(p.a)(this,r),t.apply(this,arguments)}return Object(P.a)(r,[{key:"destroy",value:function(){E.destroy(this)}}]),r}(E.PeGCSExtent);for(var r=0,n=[E.PeDatum,E.PeGeogcs,E.PeGeogtran,E.PeObject,E.PeParameter,E.PePrimem,E.PeProjcs,E.PeSpheroid,E.PeUnit];r<n.length;r++){t(n[r].prototype,"getName",(function(e){return function(){return e.call(this,new Array(i.PE_NAME_MAX))}}))}for(var a=0,o=[E.PeGeogtran,E.PeProjcs];a<o.length;a++){t(o[a].prototype,"getParameters",(function(e){return function(){for(var t=new Array(i.PE_PARM_MAX),r=e.call(this),n=0;n<t.length;n++){var a=E.getValue(r,"*");t[n]=a?E.wrapPointer(a,E.PeParameter):null,r+=Int32Array.BYTES_PER_ELEMENT}return t}}))}t(E.PeHorizon.prototype,"getCoord",(function(e){return function(){var t=this.getSize();if(!t)return null;var r=[];return H(r,t,e.call(this)),r}})),t(E.PeGTlistExtendedEntry.prototype,"getEntries",(function(e){var t=E._pe_getPeGTlistExtendedGTsSize();return function(){var r=null,n=e.call(this);if(!E.compare(n,E.NULL)){r=[n];var a=this.getSteps();if(a>1)for(var i=E.getPointer(n),o=1;o<a;o++)r.push(E.wrapPointer(i+t*o,E.PeGTlistExtendedGTs))}return r}}));var s=E._pe_getPeHorizonSize(),c=function(e){return function(){var t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);var r=null,n=e.call(this);if(!E.compare(n,E.NULL)){r=[n];var a=n.getNump();if(a>1)for(var i=E.getPointer(n),o=1;o<a;o++)r.push(E.wrapPointer(i+s*o,E.PeHorizon))}return t.set(e,r),r}};t(E.PeProjcs.prototype,"horizonGcsGenerate",c),t(E.PeProjcs.prototype,"horizonPcsGenerate",c),E.PeObject.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.PE_STR_OPTS_NONE;E.ensureCache.prepare();var t=E.getPointer(this),r=E.ensureInt8(new Array(i.PE_BUFFER_MAX));return E.UTF8ToString(E._pe_object_to_string_ext(t,e,r))}}function q(e){if(e){var t=E.getClass(e);if(t){var r=E.getCache(t);if(r){var n=E.getPointer(e);n&&delete r[n]}}}}function z(e,t){for(var r=[],n=new Array(t),a=0;a<e;a++)r.push(E.ensureInt8(n));return r}function J(e){var t;return Array.isArray(e[0])?(t=[],e.forEach((function(e){t.push(e[0],e[1])}))):t=e,t}function H(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n)for(var a=0;a<2*t;a++)e[a]=E.getValue(r+a*Float64Array.BYTES_PER_ELEMENT,"double");else for(var i=0===e.length,o=0;o<t;o++)i&&(e[o]=new Array(2)),e[o][0]=E.getValue(r,"double"),e[o][1]=E.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}!function(e){var t;e.init=function(){e.PE_GTLIST_OPTS_COMMON=E.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=E._pe_getPeGTlistExtendedEntrySize()},e.getGTlist=function(e,r,n,a,i,o){var s=null,c=new E.PeInteger(o);try{var u=E.PeGTlistExtended.prototype.getGTlist(e,r,n,a,i,c);if((o=c.val)&&(s=[u],o>1))for(var l=E.getPointer(u),p=1;p<o;p++)s.push(E.wrapPointer(l+t*p,E.PeGTlistExtendedEntry))}finally{E.destroy(c)}return s}}(I||(I={})),function(e){e.destroy=function(e){if(e&&e.length){var t,r=Object(d.a)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;q(n),n.getEntries().forEach((function(e){q(e);var t=e.getGeogtran();q(t),t.getParameters().forEach(q),[t.getGeogcs1(),t.getGeogcs2()].forEach((function(e){q(e);var t=e.getDatum();q(t),q(t.getSpheroid()),q(e.getPrimem()),q(e.getUnit())}))}))}}catch(a){r.e(a)}finally{r.f()}E.PeGTlistExtendedEntry.prototype.Delete(e[0])}}}(N||(N={})),function(e){e.geogToGeog=function(e,t,r,n,a){E.ensureCache.prepare();var i=J(r),o=r===i,s=E.ensureFloat64(i),c=0;n&&(c=E.ensureFloat64(n));var u=E._pe_geog_to_geog(E.getPointer(e),t,s,c,a);return u&&H(r,t,s,o),u}}(F||(F={})),function(e){var t=function(e,t,r,n,a,o){var s,c;switch(E.ensureCache.prepare(),e){case"dd":s=E._pe_geog_to_dd,c=i.PE_DD_MAX;break;case"ddm":s=E._pe_geog_to_ddm,c=i.PE_DDM_MAX;break;case"dms":s=E._pe_geog_to_dms,c=i.PE_DMS_MAX}var u=0;t&&(u=E.getPointer(t));var l=J(n),p=E.ensureFloat64(l),b=z(r,c),f=s(u,r,p,a,E.ensureInt32(b));if(f)for(var d=0;d<r;d++)o[d]=E.UTF8ToString(b[d]);return f},r=function(e,t,r,n,a){var i;switch(E.ensureCache.prepare(),e){case"dd":i=E._pe_dd_to_geog;break;case"ddm":i=E._pe_ddm_to_geog;break;case"dms":i=E._pe_dms_to_geog}var o=0;t&&(o=E.getPointer(t));var s=n.map((function(e){return E.ensureString(e)})),c=E.ensureInt32(s),u=E.ensureFloat64(new Array(2*r)),l=i(o,r,c,u);return l&&H(a,r,u),l};e.geog_to_dms=function(e,r,n,a,i){return t("dms",e,r,n,a,i)},e.dms_to_geog=function(e,t,n,a){return r("dms",e,t,n,a)},e.geog_to_ddm=function(e,r,n,a,i){return t("ddm",e,r,n,a,i)},e.ddm_to_geog=function(e,t,n,a){return r("ddm",e,t,n,a)},e.geog_to_dd=function(e,r,n,a,i){return t("dd",e,r,n,a,i)},e.dd_to_geog=function(e,t,n,a){return r("dd",e,t,n,a)}}(M||(M={})),function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=E.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=E.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=E.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=E.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=E.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},e.geog_to_mgrs_extended=function(e,t,r,n,a,o,s){E.ensureCache.prepare();var c=0;e&&(c=E.getPointer(e));var u=J(r),l=E.ensureFloat64(u),p=z(t,i.PE_MGRS_MAX),b=E.ensureInt32(p),f=E._pe_geog_to_mgrs_extended(c,t,l,n,a,o,b);if(f)for(var d=0;d<t;d++)s[d]=E.UTF8ToString(p[d]);return f},e.mgrs_to_geog_extended=function(e,t,r,n,a){E.ensureCache.prepare();var i=0;e&&(i=E.getPointer(e));var o=r.map((function(e){return E.ensureString(e)})),s=E.ensureInt32(o),c=E.ensureFloat64(new Array(2*t)),u=E._pe_mgrs_to_geog_extended(i,t,s,n,c);return u&&H(a,t,c),u}}(C||(C={})),function(e){e.geog_to_usng=function(e,t,r,n,a,o,s){E.ensureCache.prepare();var c=0;e&&(c=E.getPointer(e));var u=J(r),l=E.ensureFloat64(u),p=z(t,i.PE_MGRS_MAX),b=E.ensureInt32(p),f=E._pe_geog_to_usng(c,t,l,n,a,o,b);if(f)for(var d=0;d<t;d++)s[d]=E.UTF8ToString(p[d]);return f},e.usng_to_geog=function(e,t,r,n){E.ensureCache.prepare();var a=0;e&&(a=E.getPointer(e));var i=r.map((function(e){return E.ensureString(e)})),o=E.ensureInt32(i),s=E.ensureFloat64(new Array(2*t)),c=E._pe_usng_to_geog(a,t,o,s);return c&&H(n,t,s),c}}(D||(D={})),function(e){e.init=function(){e.PE_UTM_OPTS_NONE=E.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=E.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=E.PeNotationUtm.prototype.PE_UTM_OPTS_NS},e.geog_to_utm=function(e,t,r,n,a){E.ensureCache.prepare();var o=0;e&&(o=E.getPointer(e));var s=J(r),c=E.ensureFloat64(s),u=z(t,i.PE_UTM_MAX),l=E.ensureInt32(u),p=E._pe_geog_to_utm(o,t,c,n,l);if(p)for(var b=0;b<t;b++)a[b]=E.UTF8ToString(u[b]);return p},e.utm_to_geog=function(e,t,r,n,a){E.ensureCache.prepare();var i=0;e&&(i=E.getPointer(e));var o=r.map((function(e){return E.ensureString(e)})),s=E.ensureInt32(o),c=E.ensureFloat64(new Array(2*t)),u=E._pe_utm_to_geog(i,t,s,n,c);return u&&H(a,t,c),u}}(A||(A={})),function(e){var t=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=E.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=E.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=E.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=E.PePCSInfo.prototype.PE_POLE_POINT},e.generate=function(r){var n,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.PE_PCSINFO_OPTION_DOMAIN;return t.has(r)&&((a=t.get(r))[i]&&(n=a[i])),n||(n=E.PePCSInfo.prototype.generate(r,i),a||(a=[],t.set(r,a)),a[i]=n),n}}(L||(L={})),function(e){e.version_string=function(){return E.PeVersion.prototype.version_string()}}(V||(V={}));var B=Object.freeze({__proto__:null,get _pe(){return E},isLoaded:T,isSupported:function(){return!!Object(x.a)("esri-wasm")},load:R,get PeCSTransformations(){return a},get PeDefs(){return i},get PeFactory(){return o},get PeGCSExtent(){return U},get PeGTlistExtended(){return I},get PeGTlistExtendedEntry(){return N},get PeGTTransformations(){return F},get PeNotationDms(){return M},get PeNotationMgrs(){return C},get PeNotationUsng(){return D},get PeNotationUtm(){return A},get PePCSInfo(){return L},get PeVersion(){return V},_init:G}),W=r(48),Y=r(108),X=r(107),Q=r(337),Z=(r(333),r(70)),$=(Math.PI,Z.a.radius),K=Z.a.eccentricitySquared,ee={a1:$*K,a2:$*K*$*K,a3:$*K*K/2,a4:$*K*$*K*2.5,a5:$*K+$*K*K/2,a6:1-K},te=(Z.a.radius,Z.a.flattening,Z.c.radius,Z.c.flattening,Z.b.radius,Z.b.flattening,Z.b.radius,0),re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(p.a)(this,e),this.uid=te++,t?(this._wkt=void 0!==t.wkt?t.wkt:null,this._wkid=void 0!==t.wkid?t.wkid:-1,this._isInverse=void 0!==t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}return Object(P.a)(e,[{key:"wkt",get:function(){return this._wkt},set:function(e){this._wkt=e,this.uid=te++}},{key:"wkid",get:function(){return this._wkid},set:function(e){this._wkid=e,this.uid=te++}},{key:"isInverse",get:function(){return this._isInverse},set:function(e){this._isInverse=e,this.uid=te++}},{key:"getInverse",value:function(){var t=new e;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}],[{key:"fromGE",value:function(t){var r=new e;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}}]),e}(),ne=function(){function e(t){if(Object(p.a)(this,e),this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,t&&t.steps){var r,n=Object(d.a)(t.steps);try{for(n.s();!(r=n.n()).done;){var a=r.value;a instanceof re?this.steps.push(a):this.steps.push(new re({wkid:a.wkid,wkt:a.wkt,isInverse:a.isInverse}))}}catch(i){n.e(i)}finally{n.f()}}}return Object(P.a)(e,[{key:"getInverse",value:function(){var t=new e;t.steps=[];for(var r=this.steps.length-1;r>=0;r--){var n=this.steps[r];t.steps.push(n.getInverse())}return t}},{key:"getGTListEntry",value:function(){var e,t="",r=Object(d.a)(this.steps);try{for(r.s();!(e=r.n()).done;){t+=e.value.uid.toString()+","}}catch(n){r.e(n)}finally{r.f()}return t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t),this._gtlistentry}},{key:"assignCachedGe",value:function(t,r,n){this._cached_projection[e.cacheKey(t,r)]=n}},{key:"getCachedGeTransformation",value:function(t,r){var n,a="",i=Object(d.a)(this.steps);try{for(i.s();!(n=i.n()).done;){a+=n.value.uid.toString()+","}}catch(s){i.e(s)}finally{i.f()}a!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=a);var o=this._cached_projection[e.cacheKey(t,r)];return void 0===o?null:o}}],[{key:"cacheKey",value:function(e,t){return[void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():"",void 0!==t.wkid&&null!==t.wkid?t.wkid.toString():"-1",void 0!==t.wkt&&null!==t.wkt?t.wkt.toString():""].join(",")}},{key:"fromGE",value:function(t){var r,n=new e,a="",i=Object(d.a)(t.steps);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=re.fromGE(o);n.steps.push(s),a+=s.uid.toString()+","}}catch(c){i.e(c)}finally{i.f()}return n._cached_projection={},n._gtlistentry=null,n._chain=a,n}}]),e}(),ae=r(53),ie=null,oe=null,se=null,ce={};function ue(){return!!ie&&T()}function le(){return!0}function pe(e){return Object(O.i)(se)&&(se=Promise.all([R(),r.e(9).then(r.bind(null,920)).then((function(e){return e.g})),r.e(110).then(r.bind(null,1017))])),se.then((function(t){var r=Object(y.a)(t,3),n=r[1],a=r[2].hydratedAdapter;Object(j.v)(e),oe=a,(ie=n.default)._enableProjection(B)}))}function be(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Array.isArray(e)?0===e.length?[]:fe(oe,e,e[0].spatialReference,t,r):fe(oe,[e],e.spatialReference,t,r)[0]}function fe(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(Object(O.i)(r)||Object(O.i)(n))return t;if(ve(r,n,a))return t.map((function(e){return Object(O.q)(je(e,r,n))}));if(Object(O.i)(a)){var i=ne.cacheKey(r,n);void 0!==ce[i]?a=ce[i]:(a=de(r,n,null),Object(O.i)(a)&&(a=new ne),ce[i]=a)}if(Object(O.i)(ie))throw new ye;return ie._project(e,t,r,n,a)}function de(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Object(O.i)(ie))throw new ye;if(Object(O.i)(e)||Object(O.i)(t))return null;var n=ie._getTransformation(oe,e,t,r,null==r?void 0:r.spatialReference);return null!==n?ne.fromGE(n):null}var ye=function(e){Object(b.a)(r,e);var t=Object(f.a)(r);function r(){return Object(p.a)(this,r),t.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")}return r}(v.a);function ve(e,t,r){return!r&&(!!Object(ae.d)(e,t)||Object(ae.l)(e)&&Object(ae.l)(t)&&!!at(e,t,ut))}function he(e,t,r,n){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(l.a)(u.a.mark((function e(t,r,n,a){var i,o,s,c,l,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue()){e.next=23;break}if(!Array.isArray(t)){e.next=21;break}i=Object(d.a)(t),e.prev=3,i.s();case 5:if((o=i.n()).done){e.next=11;break}if(s=o.value,c=s.source,l=s.dest,p=s.geographicTransformation,ve(c,l,p)){e.next=9;break}return e.abrupt("return",pe(a));case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),i.e(e.t0);case 16:return e.prev=16,i.f(),e.finish(16);case 19:e.next=23;break;case 21:if(ve(t,r,n)){e.next=23;break}return e.abrupt("return",pe(a));case 23:case"end":return e.stop()}}),e,null,[[3,13,16,19]])}))),Oe.apply(this,arguments)}function je(e,t,r){return e?"x"in e?me(e,t,new W.a,r,0):"xmin"in e?Pe(e,t,new _.a,r,0):"rings"in e?Se(e,t,new Y.a,r,0):"paths"in e?we(e,t,new X.a,r,0):"points"in e?ge(e,t,new S.a,r,0):null:null}function me(e,t,r,n,a){yt[0]=e.x,yt[1]=e.y;var i=e.z;return yt[2]=void 0!==i?i:a,Ee(yt,t,0,yt,n,0,1)?(r.x=yt[0],r.y=yt[1],r.spatialReference=n,void 0===i?(r.z=void 0,r.hasZ=!1):(r.z=yt[2],r.hasZ=!0),void 0===e.m?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function ge(e,t,r,n,a){var i,o=e.points,s=e.hasZ,c=e.hasM,u=[],l=o.length,p=[],b=Object(d.a)(o);try{for(b.s();!(i=b.n()).done;){var f=i.value;p.push(f[0],f[1],s?f[2]:a)}}catch(j){b.e(j)}finally{b.f()}if(!Ee(p,t,0,p,n,0,l))return null;for(var y=0;y<l;++y){var v=3*y,h=p[v],O=p[v+1];s&&c?u.push([h,O,p[v+2],o[y][3]]):s?u.push([h,O,p[v+2]]):c?u.push([h,O,o[y][2]]):u.push([h,O])}return r.points=u,r.spatialReference=n,r.hasZ=s,r.hasM=c,r}function we(e,t,r,n,a){var i=e.paths,o=e.hasZ,s=e.hasM,c=[];return Te(i,o,s,t,c,n,a)?(r.paths=c,r.spatialReference=n,r.hasZ=o,r.hasM=s,r):null}function _e(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.spatialReference,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(O.j)(r)&&Object(O.j)(Se(e,e.spatialReference,t,r,n))}function Se(e,t,r,n,a){var i=e.rings,o=e.hasZ,s=e.hasM,c=[];return Te(i,o,s,t,c,n,a)?(r.rings=c,r.spatialReference=n,r.hasZ=o,r.hasM=s,r):null}function Pe(e,t,r,n,a){var i=e.xmin,o=e.ymin,s=e.xmax,c=e.ymax,u=e.hasZ,l=e.hasM;return xe(i,o,u?e.zmin:a,t,yt,n)?(r.xmin=yt[0],r.ymin=yt[1],u&&(r.zmin=yt[2]),xe(s,c,u?e.zmax:a,t,yt,n)?(r.xmax=yt[0],r.ymax=yt[1],u&&(r.zmax=yt[2]),l&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null):null}function ke(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;yt[0]=e.x,yt[1]=e.y;var a=e.z;return yt[2]=void 0!==a?a:n,Ee(yt,e.spatialReference,0,t,r,0,1)}function xe(e,t,r,n,a,i){return bt[0]=e,bt[1]=t,bt[2]=r,Ee(bt,n,0,a,i,0,1)}function Ee(e,t,r,n,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=at(t,a,ut);if(Object(O.i)(s))return!1;if(s===Me){if(e===n&&r===i)return!0;for(var c=r+3*o,u=r,l=i;u<c;u++,l++)n[l]=e[u];return!0}for(var p=r+3*o,b=r,f=i;b<p;b+=3,f+=3)s(e,b,n,f);return!0}function Te(e,t,r,n,a,i){var o,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=new Array,u=Object(d.a)(e);try{for(u.s();!(o=u.n()).done;){var l,p=o.value,b=Object(d.a)(p);try{for(b.s();!(l=b.n()).done;){var f=l.value;c.push(f[0],f[1],t?f[2]:s)}}catch(_){b.e(_)}finally{b.f()}}}catch(_){u.e(_)}finally{u.f()}if(!Ee(c,n,0,c,i,0,c.length/3))return!1;var y=0;a.length=0;var v,h=Object(d.a)(e);try{for(h.s();!(v=h.n()).done;){var O,j=v.value,m=new Array,g=Object(d.a)(j);try{for(g.s();!(O=g.n()).done;){var w=O.value;t&&r?m.push([c[y++],c[y++],c[y++],w[3]]):t?m.push([c[y++],c[y++],c[y++]]):r?(m.push([c[y++],c[y++],w[2]]),y++):(m.push([c[y++],c[y++]]),y++)}}catch(_){g.e(_)}finally{g.f()}a.push(m)}}catch(_){h.e(_)}finally{h.f()}return!0}function Re(e,t,r,n){if(Object(O.i)(e)||Object(O.i)(n))return!1;var a=Fe(e,st),i=Fe(n,ct);if(a===i&&!Ie(i)&&(0!==a||Object(ae.d)(e,n)))return Object(g.h)(r),Object(g.m)(r,r,t),!0;if(Ie(i)){var o=nt[a][11],s=nt[11][i];return!Object(O.i)(o)&&!Object(O.i)(s)&&(o(t,0,ft,0),s(ft,0,dt,0),Ne(lt*ft[0],lt*ft[1],r),r[12]=dt[0],r[13]=dt[1],r[14]=dt[2],!0)}if(!(3!==i&&12!==i||2!==a&&1!==a)){var c=nt[a][11],u=nt[11][i];return!Object(O.i)(c)&&!Object(O.i)(u)&&(c(t,0,ft,0),u(ft,0,dt,0),2===a?Object(g.h)(r):function(e,t,r){Ne(e,t,r),Object(g.a)(r,r)}(lt*ft[0],lt*ft[1],r),r[12]=dt[0],r[13]=dt[1],r[14]=dt[2],!0)}return!1}function Ie(e){return 1===e||7===e||9===e}function Ne(e,t,r){var n=Math.sin(e),a=Math.cos(e),i=Math.sin(t),o=Math.cos(t),s=r;return s[0]=-n,s[4]=-i*a,s[8]=o*a,s[12]=0,s[1]=a,s[5]=-i*n,s[9]=o*n,s[13]=0,s[2]=0,s[6]=o,s[10]=i,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}function Fe(e,t){return t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Object(m.d)(e,1)),e.wkt===Q.a.wkt?t.spatialReferenceId=1:Object(ae.m)(e)?t.spatialReferenceId=2:Object(ae.p)(e)?t.spatialReferenceId=3:Object(ae.k)(e)?t.spatialReferenceId=12:e.wkt===Q.d.wkt?t.spatialReferenceId=4:4490===e.wkid?t.spatialReferenceId=5:e.wkt===Q.b.wkt?t.spatialReferenceId=7:e.wkt===Q.c.wkt?t.spatialReferenceId=9:Object(ae.i)(e)?t.spatialReferenceId=8:Object(ae.j)(e)?t.spatialReferenceId=10:t.spatialReferenceId=0)}function Me(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function Ce(e,t,r,n){r[n++]=pt*(e[t++]/Z.a.radius),r[n++]=pt*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/Z.a.radius))),r[n]=e[t]}function De(e,t,r,n){Ce(e,t,r,n),Be(r,n,r,n)}function Ae(e,t,r,n){Ce(e,t,r,n),Ke(r,n,r,n)}function Le(e,t,r,n){!function(e,t,r,n,a){var i=.4999999*Math.PI,o=Object(h.d)(lt*e[t+1],-i,i),s=Math.sin(o);r[n++]=lt*e[t]*a.radius,r[n++]=a.halfSemiMajorAxis*Math.log((1+s)/(1-s)),r[n]=e[t+2]}(e,t,r,n,Z.a)}var Ve=Z.a.radius*Math.PI/180,Ue=180/(Z.a.radius*Math.PI);function Ge(e,t,r,n){r[n]=e[t]*Ve,r[n+1]=e[t+1]*Ve,r[n+2]=e[t+2]}function qe(e,t,r,n){r[n]=e[t]*Ue,r[n+1]=e[t+1]*Ue,r[n+2]=e[t+2]}function ze(e,t,r,n,a){var i=a+e[t+2],o=lt*e[t+1],s=lt*e[t],c=Math.cos(o);r[n++]=Math.cos(s)*c*i,r[n++]=Math.sin(s)*c*i,r[n]=Math.sin(o)*i}function Je(e,t,r,n){ze(e,t,r,n,Z.c.radius)}function He(e,t,r,n){ze(e,t,r,n,Z.b.radius)}function Be(e,t,r,n){ze(e,t,r,n,Z.a.radius)}function We(e,t,r,n,a){var i=e[t],o=e[t+1],s=e[t+2],c=Math.sqrt(i*i+o*o+s*s),u=Object(h.b)(s/(0===c?1:c)),l=Math.atan2(o,i);r[n++]=pt*l,r[n++]=pt*u,r[n]=c-a}function Ye(e,t,r,n){We(e,t,r,n,Z.c.radius)}function Xe(e,t,r,n){We(e,t,r,n,Z.b.radius)}function Qe(e,t,r,n){We(e,t,r,n,Z.a.radius)}function Ze(e,t,r,n){Qe(e,t,r,n),Le(r,n,r,n)}function $e(e,t,r,n){Qe(e,t,r,n),Ke(r,n,r,n)}function Ke(e,t,r,n){!function(e,t,r,n,a){var i=lt*e[t],o=lt*e[t+1],s=e[t+2],c=Math.sin(o),u=Math.cos(o),l=a.radius/Math.sqrt(1-a.eccentricitySquared*c*c);r[n++]=(l+s)*u*Math.cos(i),r[n++]=(l+s)*u*Math.sin(i),r[n++]=(l*(1-a.eccentricitySquared)+s)*c}(e,t,r,n,Z.a)}function et(e,t,r,n){var a,i,o,s,c,u,l,p,b,f,d,y,v,h,O,j,m,g,w,_,S,P=ee,k=e[t],x=e[t+1],E=e[t+2];a=Math.abs(E),i=k*k+x*x,o=Math.sqrt(i),s=i+E*E,c=Math.sqrt(s),_=Math.atan2(x,k),u=E*E/s,h=P.a2/c,O=P.a3-P.a4/c,(l=i/s)>.3?(p=a/c*(1+l*(P.a1+h+u*O)/c),w=Math.asin(p),f=p*p,b=Math.sqrt(1-f)):(b=o/c*(1-u*(P.a5-h-l*O)/c),w=Math.acos(b),f=1-b*b,p=Math.sqrt(f)),d=1-Z.a.eccentricitySquared*f,y=Z.a.radius/Math.sqrt(d),w+=g=(j=b*(O=a-(v=P.a6*y)*p)-p*(h=o-y*b))/(v/d+(m=b*h+p*O)),S=m+j*g/2,E<0&&(w=-w),r[n++]=pt*_,r[n++]=pt*w,r[n]=S}function tt(e,t,r,n){et(e,t,r,n),Be(r,n,r,n)}function rt(e,t,r,n){et(e,t,r,n),Le(r,n,r,n)}var nt={2:{5:null,8:null,10:null,11:Me,6:Me,1:Be,7:null,9:null,0:null,3:Le,12:Ge,2:Me,4:Ke},5:{5:Me,8:null,10:null,11:Me,6:Me,1:Be,7:null,9:null,0:null,3:null,12:Ge,2:null,4:Ke},8:{5:null,8:Me,10:null,11:Me,6:null,1:null,7:He,9:null,0:null,3:null,12:null,2:null,4:null},10:{5:null,8:null,10:Me,11:Me,6:null,1:null,7:null,9:Je,0:null,3:null,12:null,2:null,4:null},3:{5:null,8:null,10:null,11:Ce,6:Ce,1:De,7:null,9:null,0:null,3:Me,12:function(e,t,r,n){Ce(e,t,r,n),Ge(r,n,r,n)},2:Ce,4:Ae},4:{5:et,8:null,10:null,11:et,6:et,1:tt,7:null,9:null,0:null,3:rt,12:function(e,t,r,n){et(e,t,r,n),Ge(r,n,r,n)},2:et,4:Me},1:{5:Qe,8:null,10:null,11:Qe,6:Qe,1:Me,7:null,9:null,0:null,3:Ze,12:function(e,t,r,n){Qe(e,t,r,n),Ge(r,n,r,n)},2:Qe,4:$e},7:{5:null,8:Xe,10:null,11:Xe,6:null,1:null,7:Me,9:null,0:null,3:null,12:null,2:null,4:null},9:{5:null,8:null,10:Ye,11:Ye,6:null,1:null,7:null,9:Me,0:null,3:null,12:null,2:null,4:null},0:{5:null,8:null,10:null,11:null,6:null,1:null,7:null,9:null,0:Me,3:null,12:null,2:null,4:null},11:{5:Me,8:Me,10:Me,11:Me,6:Me,1:Be,7:He,9:Je,0:null,3:Le,12:Ge,2:Me,4:Ke},6:{5:null,8:null,10:null,11:Me,6:Me,1:Be,7:null,9:null,0:null,3:null,12:Ge,2:Me,4:Ke},12:{5:qe,8:null,10:null,11:qe,6:qe,1:function(e,t,r,n){qe(e,t,r,n),Be(r,n,r,n)},7:null,9:null,0:null,3:function(e,t,r,n){qe(e,t,r,n),Le(r,n,r,n)},12:Me,2:qe,4:function(e,t,r,n){qe(e,t,r,n),Ke(r,n,r,n)}}};function at(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ot();return Object(O.i)(e)||Object(O.i)(t)?null:it(e,t,r).projector}function it(e,t,r){if(Object(O.i)(e)||Object(O.i)(t)||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;var n=Fe(e,r.source),a=Fe(t,r.dest);return 0===n&&0===a?Object(ae.d)(e,t)?r.projector=Me:r.projector=null:r.projector=nt[n][a],r}function ot(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Me}}var st={spatialReference:null,spatialReferenceId:0},ct={spatialReference:null,spatialReferenceId:0},ut=ot(),lt=(ot(),Object(h.f)(1)),pt=Object(h.m)(1),bt=Object(w.e)(),ft=Object(w.e)(),dt=Object(w.e)(),yt=Object(w.e)();Object(w.e)()},751:function(e,t,r){"use strict";r.d(t,"a",(function(){return S})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return O})),r.d(t,"e",(function(){return j})),r.d(t,"f",(function(){return w})),r.d(t,"g",(function(){return y}));var n=r(21),a=r(22),i=r(46),o=r(210),s=r(694),c=r(15),u=r(11),l=r(683),p=r(704),b=c.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),f=new o.a,d=Math.PI,y=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function v(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"color"===e.type}))[0]:e;if(n)if("esri.renderers.visualVariables.ColorVariable"===n.declaredClass){var a="number"==typeof t,o=a?null:t,s=o&&o.attributes,c=a?t:null,l=n.field,p=n.cache,f=p.ipData,d=p.hasExpression,y=n.cache.compiledFunc;if(!l&&!d){var v=n.stops;return v&&v[0]&&v[0].color}if("number"!=typeof c)if(d){if(!Object(u.j)(r)||!Object(u.j)(r.arcade))return void b.error("Use of arcade expressions requires an arcade context");var h={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},O=r.arcade.arcadeUtils,j=O.getViewInfo(h),m=O.createExecContext(o,j);if(!y){var g=O.createSyntaxTree(n.valueExpression);y=O.createFunction(g),n.cache.compiledFunc=y}c=O.executeFunction(y,m)}else s&&(c=s[l]);var w=n.normalizationField,S=s?parseFloat(s[w]):void 0;if(null!=c&&(!w||a||!isNaN(S)&&0!==S)){isNaN(S)||a||(c/=S);var P=_(c,f);if(P){var k=P[0],x=P[1],E=k===x?n.stops[k].color:i.a.blendColors(n.stops[k].color,n.stops[x].color,P[2],Object(u.j)(r)?r.color:void 0);return new i.a(E)}}}else b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable")}function h(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"opacity"===e.type}))[0]:e;if(n)if("esri.renderers.visualVariables.OpacityVariable"===n.declaredClass){var a="number"==typeof t,i=a?null:t,o=i&&i.attributes,s=a?t:null,c=n.field,l=n.cache,p=l.ipData,f=l.hasExpression,d=n.cache.compiledFunc;if(!c&&!f){var y=n.stops;return y&&y[0]&&y[0].opacity}if("number"!=typeof s)if(f){if(Object(u.i)(r)||Object(u.i)(r.arcade))return void b.error("Use of arcade expressions requires an arcade context");var v={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},h=r.arcade.arcadeUtils,O=h.getViewInfo(v),j=h.createExecContext(i,O);if(!d){var m=h.createSyntaxTree(n.valueExpression);d=h.createFunction(m),n.cache.compiledFunc=d}s=h.executeFunction(d,j)}else o&&(s=o[c]);var g=n.normalizationField,w=o?parseFloat(o[g]):void 0;if(null!=s&&(!g||a||!isNaN(w)&&0!==w)){isNaN(w)||a||(s/=w);var S=_(s,p);if(S){var P=S[0],k=S[1];if(P===k)return n.stops[P].opacity;var x=n.stops[P].opacity;return x+(n.stops[k].opacity-x)*S[2]}}}else b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable")}function O(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"rotation"===e.type}))[0]:e;if(n){if("esri.renderers.visualVariables.RotationVariable"===n.declaredClass){var a=n.axis||"heading",i="heading"===a&&"arithmetic"===n.rotationType?90:0,o="heading"===a&&"arithmetic"===n.rotationType?-1:1,s="number"==typeof t?null:t,c=s&&s.attributes,l=n.field,p=n.cache.hasExpression,f=n.cache.compiledFunc,d=0;if(!l&&!p)return d;if(p){if(Object(u.i)(r)||Object(u.i)(r.arcade))return void b.error("Use of arcade expressions requires an arcade context");var y={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,h=v.getViewInfo(y),O=v.createExecContext(s,h);if(!f){var j=v.createSyntaxTree(n.valueExpression);f=v.createFunction(j),n.cache.compiledFunc=f}d=v.executeFunction(f,O)}else c&&(d=c[l]||0);return d="number"!=typeof d||isNaN(d)?null:i+o*d}b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable")}}function j(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"size"===e.type}))[0]:e;if(n){if("esri.renderers.visualVariables.SizeVariable"===n.declaredClass){var i=function(e,t,r,n,i){switch(t.transformationType){case"additive":return function(e,t,r,n){return e+(m(t.minSize,r,n)||t.minDataValue)}(e,t,r,n);case"constant":return function(e,t,r){var n=e.stops,a=n&&n.length&&n[0].size;return null==a&&(a=e.minSize),m(a,t,r)}(t,r,n);case"clamped-linear":return function(e,t,r,n){var a=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),i=m(t.minSize,r,n),o=m(t.maxSize,r,n),s=Object(u.j)(n)?n.shape:void 0;if(e<=t.minDataValue)return i;if(e>=t.maxDataValue)return o;if("area"===t.scaleBy&&s){var c="circle"===s,l=c?d*Math.pow(i/2,2):i*i,p=l+a*((c?d*Math.pow(o/2,2):o*o)-l);return c?2*Math.sqrt(p/d):Math.sqrt(p)}return i+a*(o-i)}(e,t,r,n);case"proportional":return function(e,t,r,n){var a=Object(u.j)(n)?n.shape:void 0,i=e/t.minDataValue,o=m(t.minSize,r,n),s=m(t.maxSize,r,n);return g("circle"===a?2*Math.sqrt(i*Math.pow(o/2,2)):"square"===a||"diamond"===a||"image"===a?Math.sqrt(i*Math.pow(o,2)):i*o,o,s)}(e,t,r,n);case"stops":return function(e,t,r,n,i){var o=_(e,i),s=Object(a.a)(o,3),c=s[0],u=s[1],l=s[2];if(c===u)return m(t.stops[c].size,r,n);var p=m(t.stops[c].size,r,n);return p+(m(t.stops[u].size,r,n)-p)*l}(e,t,r,n,i);case"real-world-size":return function(e,t,r,n){var a=(Object(u.j)(n)&&n.resolution?n.resolution:1)*l.a[t.valueUnit],i=m(t.minSize,r,n),o=m(t.maxSize,r,n),s=t.valueRepresentation;return g("area"===s?2*Math.sqrt(e/d)/a:"radius"===s||"distance"===s?2*e/a:e/a,i,o)}(e,t,r,n);case"identity":return e;case"unknown":return null}}(function(e,t,r){var n="number"==typeof t,a=n?null:t,i=a&&a.attributes,o=n?t:null,s=e.cache.isScaleDriven,c=e.cache.compiledFunc;if(s){var l=Object(u.j)(r)?r.scale:void 0,f=Object(u.j)(r)?r.view:void 0;o=null==l||"3d"===f?function(e){var t=null,r=null,n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}(e):l}else if(!n)switch(e.inputValueType){case"expression":if(Object(u.i)(r)||Object(u.i)(r.arcade))return void b.error("Use of arcade expressions requires an arcade context");var d={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},y=r.arcade.arcadeUtils,v=y.getViewInfo(d),h=y.createExecContext(a,v);if(!c){var O=y.createSyntaxTree(e.valueExpression);c=y.createFunction(O),e.cache.compiledFunc=c}o=y.executeFunction(c,h);break;case"field":i&&(o=i[e.field]);break;case"unknown":o=null}if(!Object(p.d)(o))return null;if(n||!e.normalizationField)return o;var j=i?parseFloat(i[e.normalizationField]):null;return Object(p.d)(j)&&0!==j?o/j:null}(n,t,r),n,t,r,n.cache.ipData);return null==i||isNaN(i)?0:i}b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable")}}function m(e,t,r){return null==e?null:Object(p.c)(e)?j(e,t,r):Object(p.d)(e)?e:null}function g(e,t,r){return Object(p.d)(r)&&e>r?r:Object(p.d)(t)&&e<t?t:e}function w(e,t,r){if(!(e.cache.isScaleDriven&&"3d"===r||t))return null;var n={scale:t,view:r},a=m(e.minSize,f,n),i=m(e.maxSize,f,n);if(null!=a||null!=i){if(a>i){var o=i;i=a,a=o}return{minSize:a,maxSize:i}}}function _(e,t){if(t){var r=0,n=t.length-1;return t.some((function(t,a){return e<t?(n=a,!0):(r=a,!1)})),[r,n,(e-t[r])/(t[n]-t[r])]}}function S(e,t,r){var a,i=["proportional","proportional","proportional"],o=Object(n.a)(e);try{for(o.s();!(a=o.n()).done;){var c=a.value,u=c.useSymbolValue?"symbol-value":j(c,t,r);switch(c.axis){case"width":i[0]=u;break;case"depth":i[1]=u;break;case"height":i[2]=u;break;case"width-and-depth":i[0]=u,i[1]=u;break;case"all":case void 0:case null:i[0]=u,i[1]=u,i[2]=u;break;default:Object(s.a)(c.axis)}}}catch(l){o.e(l)}finally{o.f()}return i}},752:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},763:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(2),a=r(4),i=r(5),o=r(6),s=r(0),c=r(60),u=r(183),l=r(11),p=r(241),b=r(99),f=r(100),d=r(215),y=r(1),v=r(10),h=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).updating=!1,e.handleId=0,e.handles=new u.a,e.scheduleHandleId=0,e.pendingPromises=new Set,e}return Object(a.a)(r,[{key:"destroy",value:function(){this.removeAll(),this.handles.destroy()}},{key:"add",value:function(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=0!=(1&a),o=++this.handleId;i||this.installSyncUpdatingWatch(e,t,o);var s=0!=(2&a)?Object(b.a)(e,t,r,i):e.watch(t,r,i);return this.handles.add(s,o),{remove:function(){return n.handles.remove(o)}}}},{key:"addOnCollectionPropertyChange",value:function(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=0!=(2&a),o=++this.handleId;return this.handles.add([Object(b.b)(e,t,"after-changes",this.createSyncUpdatingCallback()),Object(b.b)(e,t,"change",r,i?function(e){r({added:e.items,removed:[],moved:[],target:e})}:void 0)],o),{remove:function(){n.handles.remove(o)}}}},{key:"addOnCollectionChange",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=0!=(2&n),i=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],i),a&&t({added:e.items,removed:[],moved:[],target:e}),{remove:function(){r.handles.remove(i)}}}},{key:"addPromise",value:function(e){var t=this;if(Object(l.i)(e))return e;var r=++this.handleId;this.handles.add({remove:function(){t.pendingPromises.delete(e)&&(0!==t.pendingPromises.size||t.handles.has(O)||t._set("updating",!1))}},r),this.pendingPromises.add(e),this._set("updating",!0);var n=function(){return t.handles.remove(r)};return e.then(n,n),e}},{key:"removeAll",value:function(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}},{key:"installSyncUpdatingWatch",value:function(e,t,r){var n=this.createSyncUpdatingCallback(),a=Object(d.b)((function(){return Object(f.c)(e,t)}),n);return this.handles.add(a,r),a}},{key:"createSyncUpdatingCallback",value:function(){var e=this;return function(){e.handles.remove(O),++e.scheduleHandleId;var t=e.scheduleHandleId;e._get("updating")||e._set("updating",!0),e.handles.add(Object(p.a)((function(){t===e.scheduleHandleId&&(e._set("updating",e.pendingPromises.size>0),e.handles.remove(O))})),O)}}}]),r}(c.a);Object(s.a)([Object(y.b)({readOnly:!0})],h.prototype,"updating",void 0),h=Object(s.a)([Object(v.a)("esri.views.support.WatchUpdatingTracking")],h);var O=-42},776:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return u}));var n=r(9),a=r(13),i=r(19),o=r(18),s=r(752),c=r(703);function u(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?c.a:"esriGeometryPolyline"===e?c.c:c.b}}}function l(e,t){if(Object(i.a)("csp-restrictions"))return function(){return Object(a.a)(Object(n.a)({},t,null),e)};try{var r="this.".concat(t," = null;");for(var o in e)r+="this".concat(o.indexOf(".")?'["'.concat(o,'"]'):".".concat(o)," = ").concat(JSON.stringify(e[o]),";");var s=new Function(r);return function(){return new s}}catch(c){return function(){return Object(a.a)(Object(n.a)({},t,null),e)}}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:Object(o.a)(e)}}]}function b(e,t){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:s.a,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},813:function(e,t,r){"use strict";r.d(t,"a",(function(){return R})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return T})),r.d(t,"d",(function(){return E}));var n=r(22),a=r(7),i=r.n(a),o=r(21),s=r(29),c=r(731),u=r(681),l=i.a.mark(y),p=i.a.mark(v),b=i.a.mark(h),f={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function d(e){return f[e]}function y(e){var t,r,n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=e.type,a.next="Feature"===a.t0?3:"FeatureCollection"===a.t0?6:25;break;case 3:return a.next=5,e;case 5:return a.abrupt("break",25);case 6:t=Object(o.a)(e.features),a.prev=7,t.s();case 9:if((r=t.n()).done){a.next=17;break}if(n=r.value,a.t1=n,!a.t1){a.next=15;break}return a.next=15,n;case 15:a.next=9;break;case 17:a.next=22;break;case 19:a.prev=19,a.t2=a.catch(7),t.e(a.t2);case 22:return a.prev=22,t.f(),a.finish(22);case 25:case"end":return a.stop()}}),l,null,[[7,19,22,25]])}function v(e){var t,r,n,a,s,c,u,l,b;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return",null);case 2:i.t0=e.type,i.next="Point"===i.t0?5:"LineString"===i.t0||"MultiPoint"===i.t0?8:"MultiLineString"===i.t0||"Polygon"===i.t0?10:"MultiPolygon"===i.t0?27:58;break;case 5:return i.next=7,e.coordinates;case 7:return i.abrupt("break",58);case 8:return i.delegateYield(e.coordinates,"t1",9);case 9:return i.abrupt("break",58);case 10:t=Object(o.a)(e.coordinates),i.prev=11,t.s();case 13:if((r=t.n()).done){i.next=18;break}return n=r.value,i.delegateYield(n,"t2",16);case 16:i.next=13;break;case 18:i.next=23;break;case 20:i.prev=20,i.t3=i.catch(11),t.e(i.t3);case 23:return i.prev=23,t.f(),i.finish(23);case 26:return i.abrupt("break",58);case 27:a=Object(o.a)(e.coordinates),i.prev=28,a.s();case 30:if((s=a.n()).done){i.next=50;break}c=s.value,u=Object(o.a)(c),i.prev=33,u.s();case 35:if((l=u.n()).done){i.next=40;break}return b=l.value,i.delegateYield(b,"t4",38);case 38:i.next=35;break;case 40:i.next=45;break;case 42:i.prev=42,i.t5=i.catch(33),u.e(i.t5);case 45:return i.prev=45,u.f(),i.finish(45);case 48:i.next=30;break;case 50:i.next=55;break;case 52:i.prev=52,i.t6=i.catch(28),a.e(i.t6);case 55:return i.prev=55,a.f(),i.finish(55);case 58:case"end":return i.stop()}}),p,null,[[11,20,23,26],[28,52,55,58],[33,42,45,48]])}function h(e){var t,r,n,a,s,l,p,f,y,v,h,O,j,m=arguments;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=m.length>1&&void 0!==m[1]?m[1]:{},r=t.geometryType,n=t.objectIdField,a=Object(o.a)(e),i.prev=3,a.s();case 5:if((s=a.n()).done){i.next=18;break}if(l=s.value,f=l.geometry,y=l.properties,v=l.id,!f||d(f.type)===r){i.next=10;break}return i.abrupt("continue",16);case 10:return O=null!=(p=(h=y||{})[n])?p:null,n&&null!=v&&!h[n]&&(h[n]=O=v),j=new c.b(f?g(new u.a,f,t):null,h,null,O),i.next=16,j;case 16:i.next=5;break;case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(3),a.e(i.t0);case 23:return i.prev=23,a.f(),i.finish(23);case 26:case"end":return i.stop()}}),b,null,[[3,20,23,26]])}function O(e){var t,r=Object(o.a)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.length>2)return!0}}catch(n){r.e(n)}finally{r.f()}return!1}function j(e){for(var t=0,r=0;r<e.length;r++){var n=e[r],a=e[(r+1)%e.length];t+=n[0]*a[1]-a[0]*n[1]}return t<=0}function m(e){var t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function g(e,t,r){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,r){return S(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){var n,a=Object(o.a)(t.coordinates);try{for(a.s();!(n=a.n()).done;){S(e,n.value,r)}}catch(i){a.e(i)}finally{a.f()}return e}(e,t,r);case"MultiPolygon":return function(e,t,r){var n,a=Object(o.a)(t.coordinates);try{for(a.s();!(n=a.n()).done;){var i=n.value;w(e,i[0],r);for(var s=1;s<i.length;s++)_(e,i[s],r)}}catch(c){a.e(c)}finally{a.f()}return e}(e,t,r);case"Point":return function(e,t,r){return k(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){var n=t.coordinates;w(e,n[0],r);for(var a=1;a<n.length;a++)_(e,n[a],r);return e}(e,t,r)}}function w(e,t,r){var n=m(t);!function(e){return!j(e)}(n)?S(e,n,r):P(e,n,r)}function _(e,t,r){var n=m(t);!function(e){return j(e)}(n)?S(e,n,r):P(e,n,r)}function S(e,t,r){var n,a=Object(o.a)(t);try{for(a.s();!(n=a.n()).done;){k(e,n.value,r)}}catch(i){a.e(i)}finally{a.f()}e.lengths.push(t.length)}function P(e,t,r){for(var n=t.length-1;n>=0;n--)k(e,t[n],r);e.lengths.push(t.length)}function k(e,t,r){var a=Object(n.a)(t,3),i=a[0],o=a[1],s=a[2];e.coords.push(i,o),r.hasZ&&e.coords.push(s||0)}function x(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function E(e){if(!e)throw new s.a("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new s.a("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var r="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,n=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!n.test(r))throw new s.a("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function T(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[],i=new Set,s=new Set,c=!1,u=Number.NEGATIVE_INFINITY,l=null,p=!1,b=n.geometryType,f=void 0===b?null:b,h=!1,j=Object(o.a)(y(e));try{var m=function(){var e=r.value,n=e.geometry,o=e.properties,b=e.id;if((!n||(f||(f=d(n.type)),d(n.type)===f))&&(c||(c=O(v(n))),p||(p=null!=b)&&("number"===(t=typeof b)&&(l=Object.keys(o).filter((function(e){return o[e]===b})))),p&&"number"===t&&null!=b&&(u=Math.max(u,b),l.length>1?l=l.filter((function(e){return o[e]===b})):1===l.length&&(l=o[l[0]]===b?l:[])),!h&&o)){var y=!0;for(var j in o)if(!i.has(j)){var m=o[j];if(null!=m){var g=x(m);"unknown"!==g?(s.delete(j),i.add(j),a.push({name:j,alias:j,type:g})):s.add(j)}else y=!1,s.add(j)}h=y}};for(j.s();!(r=j.n()).done;)m()}catch(P){j.e(P)}finally{j.f()}var g=l&&1===l.length&&l[0]||null;if(g){var w,_=Object(o.a)(a);try{for(_.s();!(w=_.n()).done;){var S=w.value;S.name===g&&(S.type="esriFieldTypeOID")}}catch(P){_.e(P)}finally{_.f()}}return{fields:a,geometryType:f,hasZ:c,maxObjectId:Math.max(0,u),objectIdFieldName:g,objectIdFieldType:t,unknownFields:Array.from(s)}}function R(e,t){return Array.from(h(y(e),t))}},819:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(345),a=r(25),i=(r(65),r(123),r(5));function o(e,t){o=function(e,t){return new u(e,void 0,t)};var r=Object(a.a)(RegExp),s=RegExp.prototype,c=new WeakMap;function u(e,t,n){var a=r.call(this,e,t);return c.set(a,n||c.get(e)),a}function l(e,t){var r=c.get(t);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return Object(i.a)(u,r),u.prototype.exec=function(e){var t=s.exec.call(this,e);return t&&(t.groups=l(t,this)),t},u.prototype[Symbol.replace]=function(e,t){if("string"===typeof t){var r=c.get(this);return s[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+r[t]})))}if("function"===typeof t){var a=this;return s[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!==Object(n.a)(e[e.length-1])&&e.push(l(e,a)),t.apply(this,e)}))}return s[Symbol.replace].call(this,e,t)},o.apply(this,arguments)}},895:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s}));var n=r(7),a=r.n(n),i=r(21),o=a.a.mark(c);function s(e,t){var r,n=Object(i.a)(e.children);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(a.localName in t){var o=t[a.localName];if("function"==typeof o){var c=o(a);c&&s(a,c)}else s(a,o)}}}catch(u){n.e(u)}finally{n.f()}}function c(e,t){var r,n,s,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=Object(i.a)(e.children),a.prev=1,r.s();case 3:if((n=r.n()).done){a.next=15;break}if(!((s=n.value).localName in t)){a.next=13;break}if("function"!=typeof(u=t[s.localName])){a.next=12;break}return a.next=10,u(s);case 10:a.next=13;break;case 12:return a.delegateYield(c(s,u),"t0",13);case 13:a.next=3;break;case 15:a.next=20;break;case 17:a.prev=17,a.t1=a.catch(1),r.e(a.t1);case 20:return a.prev=20,r.f(),a.finish(20);case 23:case"end":return a.stop()}}),o,null,[[1,17,20,23]])}},954:function(e,t,r){"use strict";r.d(t,"a",(function(){return T})),r.d(t,"b",(function(){return H})),r.d(t,"c",(function(){return L})),r.d(t,"d",(function(){return ie})),r.d(t,"e",(function(){return B})),r.d(t,"f",(function(){return $}));var n=r(7),a=r.n(n),i=r(13),o=r(22),s=r(21),c=r(23),u=r(819),l=r(12),p=(r(114),r(82)),b=r(29);function f(e,t){var r,n=Object(s.a)(e);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(null!=a&&t(a))return a}}catch(i){n.e(i)}finally{n.f()}}var d=r(11),y=r(30),v=r(27),h=r(750),O=r(53),j=r(236),m=r(813);function g(e){var t;return null!=(t=function(e){var t,r,n,a,i=w.exec(e);if(!i)return null;var o=i.groups,s=+o.year,c=+o.month-1,u=+o.day,l=+(null!=(t=o.hours)?t:"0"),p=+(null!=(r=o.minutes)?r:"0"),b=+(null!=(n=o.seconds)?n:"0");if(l>23)return null;if(p>59)return null;if(b>59)return null;var f,d=null!=(a=o.ms)?a:"0",y=d?+d.padEnd(3,"0").substring(0,3):0;if(o.isUTC)f=Date.UTC(s,c,u,l,p,b,y);else if(o.offsetSign){var v=+o.offsetHours,h=+o.offsetMinutes;f=6e4*("+"===o.offsetSign?-1:1)*(60*v+h)+Date.UTC(s,c,u,l,p,b,y)}else f=new Date(s,c,u,l,p,b,y).getTime();return Number.isNaN(f)?null:f}(e))?t:function(e){var t=new Date(e).getTime();return Number.isNaN(t)?null:t}(e)}var w=Object(u.a)(/^(?:(\x2D?[0-9]{4,})\x2D([0-9]{2})\x2D([0-9]{2}))(?:T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]+))?)?(?:(Z)|(?:(\+|\x2D)([0-9]{2}):([0-9]{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11}),_=r(895),S=r(666),P=r(45),k=r(58),x="xlink:href",E="2.0.0",T="__esri_wfs_id__",R="wfs-layer:getWFSLayerTypeInfo-error",I="wfs-layer:empty-service",N="wfs-layer:feature-type-not-found",F="wfs-layer:malformed-json",M="wfs-layer:unknown-geometry-type",C="wfs-layer:unknown-field-type",D="wfs-layer:unsupported-spatial-reference",A="wfs-layer:unsupported-wfs-version";function L(e,t){return V.apply(this,arguments)}function V(){return(V=Object(l.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=U,e.next=3,Object(p.default)(t,{responseType:"text",query:Object(i.a)({SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:E},null==r?void 0:r.customParameters),signal:null==r?void 0:r.signal});case 3:return e.t1=e.sent.data,n=(0,e.t0)(e.t1),e.abrupt("return",(z(t,n),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){var t=ce(e);(function(e){var t=e.firstElementChild.getAttribute("version");if(t&&t!==E)throw new b.a(A,"Unsupported WFS version ".concat(t,". Supported version: ").concat(E))})(t),le(t);var r=t.firstElementChild,n=new Map;return{operations:q(r),get featureTypes(){return Array.from(J(r,n))},readFeatureTypes:function(){return J(r,n)}}}var G=new Set(["json","application/json","geojson","application/json; subtype=geojson"]);function q(e){var t=!1,r={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}};if(Object(_.b)(e,{OperationsMetadata:{Operation:function(e){switch(e.getAttribute("name")){case"GetCapabilities":return{DCP:{HTTP:{Get:function(e){r.GetCapabilities.url=e.getAttribute(x)}}}};case"DescribeFeatureType":return{DCP:{HTTP:{Get:function(e){r.DescribeFeatureType.url=e.getAttribute(x)}}}};case"GetFeature":return{DCP:{HTTP:{Get:function(e){r.GetFeature.url=e.getAttribute(x)}}},Parameter:function(e){if("outputFormat"===e.getAttribute("name"))return{AllowedValues:{Value:function(e){var t=e.textContent;G.has(t.toLowerCase())&&(r.GetFeature.outputFormat=t)}}}}}}},Constraint:function(e){switch(e.getAttribute("name")){case"KVPEncoding":return{DefaultValue:function(e){t="true"===e.textContent.toLowerCase()}};case"ImplementsResultPaging":return{DefaultValue:function(e){r.GetFeature.supportsPagination="true"===e.textContent.toLowerCase()}}}}}}),!t)throw new b.a("wfs-layer:kvp-encoding-not-supported","WFS service doesn't support key/value pair (KVP) encoding");if(Object(d.i)(r.GetFeature.outputFormat))throw new b.a("wfs-layer:geojson-not-supported","WFS service doesn't support GeoJSON output format");return r}function z(e,t){Object(v.v)(e)&&(Object(v.q)(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=Object(v.I)(t.operations.DescribeFeatureType.url)),Object(v.q)(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=Object(v.I)(t.operations.GetFeature.url)))}function J(e,t){return Object(_.a)(e,{FeatureTypeList:{FeatureType:function(e){var r;if(t.has(e))return t.get(e);var n={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",supportedSpatialReferences:[]},a=new Set([4326]),i=function(e){var t,r,n=parseInt(null==(t=e.textContent.match(Object(u.a)(/([0-9]+$)/i,{wkid:1})))||null==(r=t.groups)?void 0:r.wkid,10);Number.isNaN(n)||a.add(n)};return Object(_.b)(e,{Name:function(e){var t=ue(e.textContent),r=t.name,a=t.prefix;n.typeName="".concat(a,":").concat(r),n.name=r,n.namespacePrefix=a,n.namespaceUri=e.lookupNamespaceURI(a)},Abstract:function(e){n.description=e.textContent},Title:function(e){n.title=e.textContent},WGS84BoundingBox:function(e){n.extent=function(e){var t,r,n,a,i,c=Object(s.a)(e.children);try{for(c.s();!(i=c.n()).done;){var u=i.value;switch(u.localName){case"LowerCorner":var l=u.textContent.split(" ").map((function(e){return Number.parseFloat(e)})),p=Object(o.a)(l,2);t=p[0],r=p[1];break;case"UpperCorner":var b=u.textContent.split(" ").map((function(e){return Number.parseFloat(e)})),f=Object(o.a)(b,2);n=f[0],a=f[1]}}}catch(d){c.e(d)}finally{c.f()}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:O.b}}(e)},DefaultSRS:i,DefaultCRS:i,OtherSRS:i,OtherCRS:i}),n.title||(n.title=n.name),(r=n.supportedSpatialReferences).push.apply(r,Object(c.a)(a)),t.set(e,n),n}}})}function H(e,t,r){return f(e,(function(e){return r?e.name===t&&e.namespaceUri===r:e.typeName===t||e.name===t}))}function B(e,t,r){return W.apply(this,arguments)}function W(){return W=Object(l.a)(a.a.mark((function e(t,r,n){var i,o,s,c,u,l,p,b,f,d,y,v=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.length>3&&void 0!==v[3]?v[3]:{},e.next=3,Y(t,r,n,i);case 3:return s=e.sent,c=s.featureType,u=s.extent,e.next=8,Q(t,c.typeName,i);case 8:return l=e.sent,p=l.fields,b=l.geometryType,f=l.swapXY,d=l.objectIdField,y=l.geometryField,e.abrupt("return",{url:t.operations.GetCapabilities.url,name:c.name,namespaceUri:c.namespaceUri,fields:p,geometryField:y,geometryType:b,objectIdField:d,spatialReference:null!=(o=i.spatialReference)?o:P.a.WGS84,extent:u,swapXY:f,wfsCapabilities:t,customParameters:i.customParameters});case 15:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function Y(e,t,r){return X.apply(this,arguments)}function X(){return X=Object(l.a)(a.a.mark((function e(t,r,n){var o,s,c,u,l,p,f=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=f.length>3&&void 0!==f[3]?f[3]:{},s=o.spatialReference,c=void 0===s?P.a.WGS84:s,u=t.readFeatureTypes(),l=r?H(u,r,n):u.next().value,!Object(d.i)(l)){e.next=4;break}throw r?new b.a(N,"The type '".concat(r,"' could not be found in the service")):new b.a(I,"The service is empty");case 4:if(p=new k.a(Object(i.a)(Object(i.a)({},l.extent),{},{spatialReference:c})),Object(O.d)(c,O.b)){e.next=15;break}return e.prev=6,e.next=9,Object(h.d)(O.b,c,void 0,o);case 9:p=Object(h.h)(p,O.b),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),new b.a(D,"Projection not supported");case 15:return e.abrupt("return",{extent:p,spatialReference:c,featureType:l});case 16:case"end":return e.stop()}}),e,null,[[6,12]])}))),X.apply(this,arguments)}function Q(e,t){return Z.apply(this,arguments)}function Z(){return Z=Object(l.a)(a.a.mark((function e(t,r){var n,s,c,u,l,p,f,v,h,O,j=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j.length>2&&void 0!==j[2]?j[2]:{},e.next=3,Object(y.j)([te(t.operations.DescribeFeatureType.url,r,n),K(t,r,n)]);case 3:if(s=e.sent,c=Object(o.a)(s,2),u=c[0],l=c[1],!u.error&&!l.error){e.next=9;break}throw new b.a(R,"An error occurred while getting info about the feature type '".concat(r,"'"),{error:u.error||l.error});case 9:if(p=u.value,f=p.fields,v=p.errors,h=u.value.geometryType||l.value.geometryType,O=l.value.swapXY,!Object(d.i)(h)){e.next=12;break}throw new b.a(M,"The geometry type could not be determined for type '".concat(r),{typeName:r,geometryType:h,fields:f,errors:v});case 12:return e.abrupt("return",Object(i.a)(Object(i.a)({},$(f)),{},{geometryType:h,swapXY:O}));case 13:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function $(e){var t,r=e.find((function(e){return"geometry"===e.type})),n=e.find((function(e){return"oid"===e.type}));return e=e.filter((function(e){return"geometry"!==e.type})),n||(n=new S.a({name:T,type:"oid",alias:T}),e.unshift(n)),{geometryField:null!=(t=null==r?void 0:r.name)?t:null,objectIdField:n.name,fields:e}}function K(e,t){return ee.apply(this,arguments)}function ee(){return ee=Object(l.a)(a.a.mark((function e(t,r){var n,s,c,u,l,b,f,d,y,v,h,O,g,w,_=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_.length>2&&void 0!==_[2]?_[2]:{},u=!1,e.next=4,Promise.all([ie(t.operations.GetFeature.url,r,t.operations.GetFeature.outputFormat,Object(i.a)(Object(i.a)({},n),{},{count:1})),Object(p.default)(t.operations.GetFeature.url,{responseType:"text",query:se(r,void 0,Object(i.a)(Object(i.a)({},n),{},{count:1})),signal:null==n?void 0:n.signal})]);case 4:if(l=e.sent,b=Object(o.a)(l,2),f=b[0],d=b[1],!(y="FeatureCollection"===f.type&&(null==(s=f.features[0])?void 0:s.geometry))){e.next=22;break}e.t0=(c=j.a.fromJSON(Object(m.b)(y.type)),y.type),e.next="Point"===e.t0?13:"LineString"===e.t0||"MultiPoint"===e.t0?15:"MultiLineString"===e.t0||"Polygon"===e.t0?17:"MultiPolygon"===e.t0?19:20;break;case 13:return v=y.coordinates,e.abrupt("break",20);case 15:return v=y.coordinates[0],e.abrupt("break",20);case 17:return v=y.coordinates[0][0],e.abrupt("break",20);case 19:v=y.coordinates[0][0][0];case 20:(h=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(d.data))&&(O=v[0].toFixed(3),g=v[1].toFixed(3),w=parseFloat(h[1]).toFixed(3),O===parseFloat(h[2]).toFixed(3)&&g===w&&(u=!0));case 22:return e.abrupt("return",{geometryType:c,swapXY:u});case 23:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function te(e,t,r){return re.apply(this,arguments)}function re(){return(re=Object(l.a)(a.a.mark((function e(t,r,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ne,e.t1=r,e.next=4,Object(p.default)(t,{responseType:"text",query:Object(i.a)({SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:E,TYPENAME:r},null==n?void 0:n.customParameters),signal:null==n?void 0:n.signal});case 4:return e.t2=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){var r=ue(e).name,n=ce(t);le(n);var a=f(Object(_.a)(n.firstElementChild,{element:function(e){return{name:e.getAttribute("name"),typeName:ue(e.getAttribute("type")).name}}}),(function(e){return e.name===r}));if(Object(d.j)(a)){var i=f(Object(_.a)(n.firstElementChild,{complexType:function(e){return e}}),(function(e){return e.getAttribute("name")===a.typeName}));if(Object(d.j)(i))return function(e){var t,r,n,a,i=[],o=[],c=Object(_.a)(e,{complexContent:{extension:{sequence:{element:function(e){return e}}}}}),u=Object(s.a)(c);try{for(u.s();!(a=u.n()).done;){var l=a.value,p=l.getAttribute("name");if(p){var f=void 0,d=void 0;if(l.hasAttribute("type")?f=ue(l.getAttribute("type")).name:Object(_.b)(l,{simpleType:{restriction:function(e){return f=ue(e.getAttribute("base")).name,{maxLength:function(e){d=+e.getAttribute("value")}}}}}),f){var y="true"===l.getAttribute("nillable"),v=!1;switch(f.toLowerCase()){case"integer":case"nonpositiveinteger":case"negativeinteger":case"long":case"int":case"short":case"byte":case"nonnegativeinteger":case"unsignedlong":case"unsignedint":case"unsignedshort":case"unsignedbyte":case"positiveinteger":o.push(new S.a({name:p,alias:p,type:"integer",nullable:y}));break;case"float":case"double":case"decimal":o.push(new S.a({name:p,alias:p,type:"double",nullable:y}));break;case"boolean":case"string":case"gyearmonth":case"gyear":case"gmonthday":case"gday":case"gmonth":case"anyuri":case"qname":case"notation":case"normalizedstring":case"token":case"language":case"idrefs":case"entities":case"nmtoken":case"nmtokens":case"name":case"ncname":case"id":case"idref":case"entity":case"duration":case"time":o.push(new S.a({name:p,alias:p,type:"string",nullable:y,length:null!=(t=d)?t:255}));break;case"datetime":case"date":o.push(new S.a({name:p,alias:p,type:"date",nullable:y,length:null!=(r=d)?r:36}));break;case"pointpropertytype":n="point",v=!0;break;case"multipointpropertytype":n="multipoint",v=!0;break;case"curvepropertytype":case"multicurvepropertytype":case"multilinestringpropertytype":n="polyline",v=!0;break;case"surfacepropertytype":case"multisurfacepropertytype":case"multipolygonpropertytype":n="polygon",v=!0;break;case"geometrypropertytype":case"multigeometrypropertytype":v=!0,i.push(new b.a(M,"geometry type '".concat(f,"' is not supported"),{type:(new XMLSerializer).serializeToString(e)}));break;default:i.push(new b.a(C,"Unknown field type '".concat(f,"'"),{type:(new XMLSerializer).serializeToString(e)}))}v&&o.push(new S.a({name:p,alias:p,type:"geometry",nullable:y}))}}}}catch(m){u.e(m)}finally{u.f()}for(var h=0,O=o;h<O.length;h++){var j=O[h];if("integer"===j.type&&!j.nullable&&ae.has(j.name.toLowerCase())){j.type="oid";break}}return{geometryType:n,fields:o,errors:i}}(i)}throw new b.a(N,"Type '".concat(e,"' not found in document"),{document:(new XMLSerializer).serializeToString(n)})}var ae=new Set(["objectid","fid"]);function ie(e,t,r,n){return oe.apply(this,arguments)}function oe(){return(oe=Object(l.a)(a.a.mark((function e(t,r,n,i){var o,s,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.default)(t,{responseType:"text",query:se(r,n,i),signal:null==i?void 0:i.signal});case 2:if(o=e.sent,s=(s=o.data).replace(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3'),e.prev=5,null==i||null==(c=i.dateFields)||!c.length){e.next=9;break}return u=new Set(i.dateFields),e.abrupt("return",JSON.parse(s,(function(e,t){return u.has(e)?g(t):t})));case 9:return e.abrupt("return",JSON.parse(s));case 12:throw e.prev=12,e.t0=e.catch(5),new b.a(F,"Error while parsing the\xa0response",{response:s,error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function se(e,t,r){return Object(i.a)({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:E,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:"EPSG:4326",STARTINDEX:null==r?void 0:r.startIndex,COUNT:null==r?void 0:r.count},null==r?void 0:r.customParameters)}function ce(e){return(new DOMParser).parseFromString(e.trim(),"text/xml")}function ue(e){var t=e.split(":"),r=Object(o.a)(t,2),n=r[0],a=r[1];return{prefix:a?n:"",name:null!=a?a:n}}function le(e){var t,r;if(Object(_.b)(e.firstElementChild,{Exception:function(e){return t=e.getAttribute("exceptionCode"),{ExceptionText:function(e){r=e.textContent}}}}),t)throw new b.a("wfs-layer:".concat(t),r)}}}]);
//# sourceMappingURL=46.5e8ae0df.chunk.js.map