(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[71,92,105],{1029:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return C}));var a=r(7),n=r.n(a),i=r(12),o=r(13),s=r(2),u=r(4),c=r(5),l=r(6),b=r(0),h=r(68),f=r(82),p=(r(332),r(11)),d=r(677),v=r(30),y=r(27),O=r(1),j=(r(19),r(14),r(15),r(57)),m=r(10),g=r(682),M=r(730),w=r(709),k=r(699),S=r(697),x=r(716),D=r(671),I=r(72),T=r(98),_=r(146),E=r(143),F=r(166),R=["atom","xml"],q={base:I.a,key:"type",typeMap:{"simple-line":T.a},errorContext:"symbol"},A={base:I.a,key:"type",typeMap:{"picture-marker":_.a,"simple-marker":E.a},errorContext:"symbol"},P={base:I.a,key:"type",typeMap:{"simple-fill":F.a},errorContext:"symbol"},N=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;Object(s.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).description=null,t.legendEnabled=!0,t.lineSymbol=null,t.pointSymbol=null,t.polygonSymbol=null,t.operationalLayerType="GeoRSS",t.outSpatialReference=null,t.url=null,t.type="geo-rss",t}return Object(u.a)(r,[{key:"normalizeCtorArgs",value:function(t,e){return"string"==typeof t?Object(o.a)({url:t},e):t}},{key:"title",get:function(){var t=this._get("title");return t&&"defaults"!==this.originOf("title")?t:this.url?Object(y.k)(this.url,R)||"GeoRSS":t||""},set:function(t){this._set("title",t)}},{key:"readFeatureCollections",value:function(t,e){return e.featureCollection.layers.forEach((function(t){var e=t.layerDefinition.drawingInfo.renderer.symbol;e&&"esriSFS"===e.type&&e.outline&&-1!==e.outline.style.indexOf("esriSFS")&&(e.outline.style="esriSLSSolid")})),e.featureCollection.layers}},{key:"load",value:function(t){var e=this,r=Object(p.j)(t)?t.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service","Feature Service","Feature Collection","Scene Service"]},t).catch(v.u).then((function(){return e._fetchService(r)}))),Promise.resolve(this)}},{key:"_fetchService",value:function(){var t=Object(i.a)(n.a.mark((function t(e){var r,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.default)(h.a.geoRSSServiceUrl,{query:{url:this.url,refresh:!!this.loaded||void 0,outSR:this.outSpatialReference?JSON.stringify(this.outSpatialReference.toJSON()):void 0},signal:e});case 2:r=t.sent,a=r.data,this.read(a,{origin:"service"});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),r}(Object(M.a)(Object(S.a)(Object(w.a)(Object(k.a)(Object(x.a)(Object(d.a)(g.a)))))));Object(b.a)([Object(O.b)()],N.prototype,"description",void 0),Object(b.a)([Object(O.b)({json:{origins:{service:{read:{source:"name",reader:function(t){return t||void 0}}}}}})],N.prototype,"title",null),Object(b.a)([Object(O.b)()],N.prototype,"featureCollections",void 0),Object(b.a)([Object(j.a)("service","featureCollections",["featureCollection.layers"])],N.prototype,"readFeatureCollections",null),Object(b.a)([Object(O.b)(D.c)],N.prototype,"id",void 0),Object(b.a)([Object(O.b)(D.e)],N.prototype,"legendEnabled",void 0),Object(b.a)([Object(O.b)({types:q,json:{write:!0}})],N.prototype,"lineSymbol",void 0),Object(b.a)([Object(O.b)({type:["show","hide"]})],N.prototype,"listMode",void 0),Object(b.a)([Object(O.b)({types:A,json:{write:!0}})],N.prototype,"pointSymbol",void 0),Object(b.a)([Object(O.b)({types:P,json:{write:!0}})],N.prototype,"polygonSymbol",void 0),Object(b.a)([Object(O.b)({type:["GeoRSS"]})],N.prototype,"operationalLayerType",void 0),Object(b.a)([Object(O.b)()],N.prototype,"outSpatialReference",void 0),Object(b.a)([Object(O.b)(D.n)],N.prototype,"url",void 0),Object(b.a)([Object(O.b)({readOnly:!0,json:{read:!1},value:"geo-rss"})],N.prototype,"type",void 0);var C=N=Object(b.a)([Object(m.a)("esri.layers.GeoRSSLayer")],N)},665:function(t,e,r){"use strict";r.d(e,"a",(function(){return j}));var a,n=r(2),i=r(4),o=r(5),s=r(6),u=r(0),c=r(26),l=r(11),b=r(692),h=r(1),f=(r(19),r(14),r(15),r(57)),p=r(10),d=r(43),v=a=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t){var a;return Object(n.a)(this,r),(a=e.call(this,t)).end=null,a.start=null,a}return Object(i.a)(r,[{key:"readEnd",value:function(t,e){return null!=e.end?new Date(e.end):null}},{key:"writeEnd",value:function(t,e){e.end=t?t.getTime():null}},{key:"isAllTime",get:function(){return this.equals(a.allTime)}},{key:"isEmpty",get:function(){return this.equals(a.empty)}},{key:"readStart",value:function(t,e){return null!=e.start?new Date(e.start):null}},{key:"writeStart",value:function(t,e){e.start=t?t.getTime():null}},{key:"clone",value:function(){return new a({end:this.end,start:this.start})}},{key:"equals",value:function(t){if(!t)return!1;var e=Object(l.j)(this.start)?this.start.getTime():this.start,r=Object(l.j)(this.end)?this.end.getTime():this.end,a=Object(l.j)(t.start)?t.start.getTime():t.start,n=Object(l.j)(t.end)?t.end.getTime():t.end;return e===a&&r===n}},{key:"expandTo",value:function(t){if(this.isEmpty||this.isAllTime)return this.clone();var e=Object(l.a)(this.start,(function(e){return Object(b.c)(e,t)})),r=Object(l.a)(this.end,(function(e){return Object(b.b)(Object(b.c)(e,t),1,t)}));return new a({start:e,end:r})}},{key:"intersection",value:function(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return a.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();var e,r,n=Object(l.m)(this.start,-1/0,(function(t){return t.getTime()})),i=Object(l.m)(this.end,1/0,(function(t){return t.getTime()})),o=Object(l.m)(t.start,-1/0,(function(t){return t.getTime()})),s=Object(l.m)(t.end,1/0,(function(t){return t.getTime()}));if(o>=n&&o<=i?e=o:n>=o&&n<=s&&(e=n),i>=o&&i<=s?r=i:s>=n&&s<=i&&(r=s),!isNaN(e)&&!isNaN(r)){var u=new a;return u.start=e===-1/0?null:new Date(e),u.end=r===1/0?null:new Date(r),u}return a.empty}},{key:"offset",value:function(t,e){if(this.isEmpty||this.isAllTime)return this.clone();var r=new a,n=this.start,i=this.end;return Object(l.j)(n)&&(r.start=Object(b.b)(n,t,e)),Object(l.j)(i)&&(r.end=Object(b.b)(i,t,e)),r}},{key:"union",value:function(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return y.clone();var e=Object(l.j)(this.start)&&Object(l.j)(t.start)?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=Object(l.j)(this.end)&&Object(l.j)(t.end)?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new a({start:e,end:r})}}],[{key:"allTime",get:function(){return y}},{key:"empty",get:function(){return O}}]),r}(c.a);Object(u.a)([Object(h.b)({type:Date,json:{write:{allowNull:!0}}})],v.prototype,"end",void 0),Object(u.a)([Object(f.a)("end")],v.prototype,"readEnd",null),Object(u.a)([Object(d.a)("end")],v.prototype,"writeEnd",null),Object(u.a)([Object(h.b)({readOnly:!0,json:{read:!1}})],v.prototype,"isAllTime",null),Object(u.a)([Object(h.b)({readOnly:!0,json:{read:!1}})],v.prototype,"isEmpty",null),Object(u.a)([Object(h.b)({type:Date,json:{write:{allowNull:!0}}})],v.prototype,"start",void 0),Object(u.a)([Object(f.a)("start")],v.prototype,"readStart",null),Object(u.a)([Object(d.a)("start")],v.prototype,"writeStart",null);var y=new(v=a=Object(u.a)([Object(p.a)("esri.TimeExtent")],v)),O=new v({start:void 0,end:void 0}),j=v},677:function(t,e,r){"use strict";r.d(e,"a",(function(){return k})),r.d(e,"b",(function(){return S}));var a=r(21),n=r(2),i=r(4),o=r(5),s=r(6),u=r(0),c=r(60),l=r(8),b=r(11),h=r(23),f=r(18),p=r(164),d=function(){function t(){Object(n.a)(this,t),this._propertyOriginMap=new Map,this._originStores=new Array(p.a),this._values=new Map}return Object(i.a)(t,[{key:"clone",value:function(e){var r=this,a=new t,n=this._originStores[0];n&&n.forEach((function(t,e){a.set(e,Object(f.a)(t),0)}));for(var i=function(t){var n=r._originStores[t];n&&n.forEach((function(r,n){e&&e.has(n)||a.set(n,Object(f.a)(r),t)}))},o=2;o<p.a;o++)i(o);return a}},{key:"get",value:function(t,e){var r=void 0===e?this._values:this._originStores[e];return r?r.get(t):void 0}},{key:"keys",value:function(t){var e=null==t?this._values:this._originStores[t];return e?Object(h.a)(e.keys()):[]}},{key:"set",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,a=this._originStores[r];if(a||(a=new Map,this._originStores[r]=a),a.set(t,e),!this._values.has(t)||Object(b.c)(this._propertyOriginMap.get(t))<=r){var n=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),n!==e}return!1}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=this._originStores[e];if(r){var a=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===e){this._values.delete(t);for(var n=e-1;n>=0;n--){var i=this._originStores[n];if(i&&i.has(t)){this._values.set(t,i.get(t)),this._propertyOriginMap.set(t,n);break}}}return a}}},{key:"has",value:function(t,e){var r=void 0===e?this._values:this._originStores[e];return!!r&&r.has(t)}},{key:"revert",value:function(t,e){for(;e>0&&!this.has(t,e);)--e;var r=this._originStores[e],a=r&&r.get(t),n=this._values.get(t);return this._values.set(t,a),this._propertyOriginMap.set(t,e),n!==a}},{key:"originOf",value:function(t){return this._propertyOriginMap.get(t)||0}},{key:"forEach",value:function(t){this._values.forEach(t)}}]),t}(),v=r(336),y=r(69),O=r(10),j=function(t){var e=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){var t;Object(n.a)(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];t=e.call.apply(e,[this].concat(i));var s=Object(b.c)(Object(y.a)(Object(l.a)(t))),u=s.metadatas,c=s.store,h=new d;return s.store=h,c.keys().forEach((function(t){h.set(t,c.get(t),0)})),Object.keys(u).forEach((function(t){s.internalGet(t)&&h.set(t,s.internalGet(t),0)})),t}return Object(i.a)(r,[{key:"read",value:function(t,e){Object(v.a)(this,t,e)}},{key:"getAtOrigin",value:function(t,e){var r=m(this),a=Object(p.d)(e);if("string"==typeof t)return r.get(t,a);var n={};return t.forEach((function(t){n[t]=r.get(t,a)})),n}},{key:"originOf",value:function(t){return Object(p.b)(this.originIdOf(t))}},{key:"originIdOf",value:function(t){return m(this).originOf(t)}},{key:"revert",value:function(t,e){var r=m(this),a=Object(p.d)(e),n=Object(y.a)(this);("string"==typeof t?"*"===t?r.keys(a):[t]:t).forEach((function(t){n.invalidate(t),r.revert(t,a),n.commit(t)}))}}]),r}(t);return e=Object(u.a)([Object(O.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],e),e};function m(t){return Object(y.a)(t).store}var g=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(j(c.a));g=Object(u.a)([Object(O.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],g);var M=r(335);function w(t){return Object(y.a)(t).store}var k=function(t){var e=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){Object(n.a)(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e.call.apply(e,[this].concat(a))}return r}(function(t){var e=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){Object(n.a)(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e.call.apply(e,[this].concat(a))}return Object(i.a)(r,[{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";return w(this).delete(t,Object(p.d)(e))}},{key:"write",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Object(M.b)(this,t=t||{},e),t}},{key:"setAtOrigin",value:function(t,e,r){Object(y.a)(this).setAtOrigin(t,e,Object(p.d)(r))}},{key:"removeOrigin",value:function(t){var e,r=w(this),n=Object(p.d)(t),i=r.keys(n),o=Object(a.a)(i);try{for(o.s();!(e=o.n()).done;){var s=e.value;r.originOf(s)===n&&r.set(s,r.get(s,n),6)}}catch(u){o.e(u)}finally{o.f()}}},{key:"updateOrigin",value:function(t,e){for(var r=w(this),a=Object(p.d)(e),n=this.get(t),i=a+1;i<p.a;++i)r.delete(t,i);r.set(t,n,a)}},{key:"toJSON",value:function(t){return this.write({},t)}}]),r}(t);return(e=Object(u.a)([Object(O.a)("esri.core.WriteableMultiOriginJSONSupport")],e)).prototype.toJSON.isDefaultToJSON=!0,e}(j(t)));return e=Object(u.a)([Object(O.a)("esri.core.MultiOriginJSONSupport")],e)},S=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(k(c.a));S=Object(u.a)([Object(O.a)("esri.core.MultiOriginJSONSupport")],S)},682:function(t,e,r){"use strict";r.d(e,"a",(function(){return D}));var a=r(7),n=r.n(a),i=r(12),o=r(2),s=r(4),u=r(5),c=r(6),l=r(0),b=r(68),h=(r(114),r(82)),f=r(29),p=r(184),d=r(239),v=r(142),y=r(15),O=r(30),j=r(27),m=r(1),g=(r(19),r(14),r(10)),M=r(58),w=r(45),k=0,S=y.a.getLogger("esri.layers.Layer"),x=function(t){Object(u.a)(a,t);var e=Object(c.a)(a);function a(){var t;return Object(o.a)(this,a),(t=e.apply(this,arguments)).attributionDataUrl=null,t.fullExtent=new M.a(-180,-90,180,90,w.a.WGS84),t.id=Date.now().toString(16)+"-layer-"+k++,t.legendEnabled=!0,t.listMode="show",t.opacity=1,t.parent=null,t.popupEnabled=!0,t.attributionVisible=!0,t.spatialReference=w.a.WGS84,t.title=null,t.type=null,t.url=null,t.visible=!0,t}return Object(s.a)(a,[{key:"initialize",value:function(){var t=this;this.when().catch((function(e){var r,a;Object(O.m)(e)||y.a.getLogger(t.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!=(r=t.title)?r:"no title","', id: '").concat(null!=(a=t.id)?a:"no id","')"),{error:e})}))}},{key:"destroy",value:function(){if(this.parent){var t=this,e=this.parent;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"baseLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){var t=this.url;return t?Object(j.J)(t):null}},{key:"fetchAttributionData",value:function(){var t=Object(i.a)(n.a.mark((function t(){var e;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.attributionDataUrl,!this.hasAttributionData||!e){t.next=5;break}return t.next=4,Object(h.default)(e,{query:{f:"json"},responseType:"json"});case 4:return t.abrupt("return",t.sent.data);case 5:throw new f.a("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}],[{key:"fromArcGISServerUrl",value:function(){var t=Object(i.a)(n.a.mark((function t(e){var a,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="string"==typeof e?{url:e}:e,t.next=3,r.e(85).then(r.bind(null,783));case 3:return i=t.sent,t.prev=4,t.next=7,i.fromUrl(a);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),S.error("#fromArcGISServerUrl({ url: '"+a.url+"'})","Failed to create layer from arcgis server url",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}()},{key:"fromPortalItem",value:function(){var t=Object(i.a)(n.a.mark((function t(e){var a,i,o,s,u;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="portalItem"in e?e:{portalItem:e},t.next=3,Promise.all([r.e(17),r.e(97)]).then(r.bind(null,774));case 3:return i=t.sent,t.prev=4,t.next=7,i.fromItem(a);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),o=a&&a.portalItem,s=o&&o.id||"unset",u=o&&o.portal&&o.portal.url||b.a.portalUrl,S.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+u+"', id: '"+s+"')",t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}()}]),a}(p.a.EventedMixin(Object(d.a)(v.a)));Object(l.a)([Object(m.b)({type:String})],x.prototype,"attributionDataUrl",void 0),Object(l.a)([Object(m.b)({type:M.a})],x.prototype,"fullExtent",void 0),Object(l.a)([Object(m.b)({readOnly:!0})],x.prototype,"hasAttributionData",null),Object(l.a)([Object(m.b)({type:String})],x.prototype,"id",void 0),Object(l.a)([Object(m.b)({type:Boolean,nonNullable:!0})],x.prototype,"legendEnabled",void 0),Object(l.a)([Object(m.b)({type:["show","hide","hide-children"]})],x.prototype,"listMode",void 0),Object(l.a)([Object(m.b)({type:Number,range:{min:0,max:1},nonNullable:!0})],x.prototype,"opacity",void 0),Object(l.a)([Object(m.b)()],x.prototype,"parent",void 0),Object(l.a)([Object(m.b)({readOnly:!0})],x.prototype,"parsedUrl",null),Object(l.a)([Object(m.b)({type:Boolean})],x.prototype,"popupEnabled",void 0),Object(l.a)([Object(m.b)({type:Boolean})],x.prototype,"attributionVisible",void 0),Object(l.a)([Object(m.b)({type:w.a})],x.prototype,"spatialReference",void 0),Object(l.a)([Object(m.b)({type:String})],x.prototype,"title",void 0),Object(l.a)([Object(m.b)({type:String,readOnly:!0,json:{read:!1}})],x.prototype,"type",void 0),Object(l.a)([Object(m.b)()],x.prototype,"url",void 0),Object(l.a)([Object(m.b)({type:Boolean,nonNullable:!0})],x.prototype,"visible",void 0);var D=x=Object(l.a)([Object(g.a)("esri.layers.Layer")],x)},683:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var a=r(135),n=r(70),i={inches:Object(a.b)(1,"meters","inches"),feet:Object(a.b)(1,"meters","feet"),"us-feet":Object(a.b)(1,"meters","us-feet"),yards:Object(a.b)(1,"meters","yards"),miles:Object(a.b)(1,"meters","miles"),"nautical-miles":Object(a.b)(1,"meters","nautical-miles"),millimeters:Object(a.b)(1,"meters","millimeters"),centimeters:Object(a.b)(1,"meters","centimeters"),decimeters:Object(a.b)(1,"meters","decimeters"),meters:Object(a.b)(1,"meters","meters"),kilometers:Object(a.b)(1,"meters","kilometers"),"decimal-degrees":1/Object(a.i)(1,"meters",n.a.radius)}},692:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o}));r(19);var a={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},n={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function i(t,e,r){var a=new Date(t.getTime());if(e&&r){var i=n[r],o=i.getter,s=i.setter,u=i.multiplier;a[s](a[o]()+e*u)}return a}function o(t,e){switch(e){case"milliseconds":return new Date(t.getTime());case"seconds":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds());case"minutes":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes());case"hours":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours());case"days":return new Date(t.getFullYear(),t.getMonth(),t.getDate());case"weeks":return new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay());case"months":return new Date(t.getFullYear(),t.getMonth(),1);case"years":return new Date(t.getFullYear(),0,1);case"decades":return new Date(t.getFullYear()-t.getFullYear()%10,0,1);case"centuries":return new Date(t.getFullYear()-t.getFullYear()%100,0,1);default:return new Date}}function s(t,e,r){return 0===t?0:t*a[e]/a[r]}},697:function(t,e,r){"use strict";r.d(e,"a",(function(){return D}));var a=r(7),n=r.n(a),i=r(12),o=r(2),s=r(4),u=r(8),c=r(5),l=r(6),b=r(0),h=r(15),f=r(30),p=r(1),d=(r(19),r(14),r(10)),v=r(21),y=r(52),O=r(215),j=new y.a,m=new WeakMap;function g(t){M(t)&&j.push(t)}function M(t){return t&&"object"==typeof t&&"refreshInterval"in t&&"refresh"in t}function w(t,e){return Number.isFinite(t)&&Number.isFinite(e)?e<=0?t:w(e,t%e):0}var k=0,S=0;function x(){var t,e=Date.now(),r=Object(v.a)(j);try{for(r.s();!(t=r.n()).done;){var a,n=t.value;if(n.refreshInterval)e-(null!=(a=m.get(n))?a:0)+5>=6e4*n.refreshInterval&&(m.set(n,e),n.refresh(e))}}catch(i){r.e(i)}finally{r.f()}}Object(O.a)((function(){var t,e=Date.now(),r=0,a=Object(v.a)(j);try{for(a.s();!(t=a.n()).done;){var n=t.value;r=w(Math.round(6e4*n.refreshInterval),r),n.refreshInterval?m.get(n)||m.set(n,e):m.delete(n)}}catch(i){a.e(i)}finally{a.f()}if(r!==S){if(S=r,clearInterval(k),0===S)return void(k=0);k=setInterval(x,S)}}));var D=function(t){var e=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).refreshInterval=0,t.refreshTimestamp=0,t._debounceHasDataChanged=Object(f.i)((function(){return t.hasDataChanged()})),t.when().then((function(){g(Object(u.a)(t))}),(function(){})),t}return Object(s.a)(r,[{key:"destroy",value:function(){var t;M(t=this)&&j.includes(t)&&j.remove(t)}},{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();Object(f.l)(this._debounceHasDataChanged()).then((function(r){r&&(t._set("refreshTimestamp",e),t.emit("refresh"))}),(function(e){h.a.getLogger(t.declaredClass).error(e)}))}},{key:"hasDataChanged",value:function(){var t=Object(i.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),r}(t);return Object(b.a)([Object(p.b)({type:Number,cast:function(t){return t>=.1?t:t<=0?0:.1},json:{write:!0,origins:{"web-document":{write:!0}}}})],e.prototype,"refreshInterval",void 0),Object(b.a)([Object(p.b)({readOnly:!0})],e.prototype,"refreshTimestamp",void 0),Object(b.a)([Object(p.b)()],e.prototype,"refreshParameters",null),e=Object(b.a)([Object(d.a)("esri.layers.mixins.RefreshableLayer")],e),e}},699:function(t,e,r){"use strict";r.d(e,"a",(function(){return _}));var a=r(13),n=r(7),i=r.n(n),o=r(12),s=r(2),u=r(4),c=r(77),l=r(65),b=r(5),h=r(6),f=r(0),p=r(83),d=r(82),v=r(295),y=r(29),O=r(15),j=r(11),m=r(30),g=r(27),M=r(1),w=(r(19),r(14),r(57)),k=r(10),S=r(43),x=r(85),D=r(334),I=r(338),T=O.a.getLogger("esri.layers.mixins.PortalLayer"),_=function(t){var e=function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(s.a)(this,n),(t=e.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},t.userHasEditingPrivileges=!0,t}return Object(u.a)(n,[{key:"destroy",value:function(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}},{key:"portalItem",set:function(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}},{key:"readPortalItem",value:function(t,e,r){if(e.itemId)return new D.default({id:e.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(t,e){t&&t.id&&(e.itemId=t.id)}},{key:"loadFromPortal",value:function(){var t=Object(o.a)(i.a.mark((function t(e,a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.portalItem||!this.portalItem.id){t.next=14;break}return t.prev=1,t.next=4,r.e(17).then(r.bind(null,781));case 4:return n=t.sent,Object(m.v)(a),t.next=8,n.load({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData},a);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(1),Object(m.m)(t.t0)||T.warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(t.t0)),t.t0;case 14:case"end":return t.stop()}}),t,this,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()},{key:"finishLoadEditablePortalLayer",value:function(){var t=Object(o.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.fetchUserHasEditingPrivileges(e).catch((function(t){return Object(m.u)(t),!0}));case 3:t.t1=t.sent,t.t0._set.call(t.t0,"userHasEditingPrivileges",t.t1);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchUserHasEditingPrivileges",value:function(){var t=Object(o.a)(i.a.mark((function t(e){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.url?null==p.b?void 0:p.b.findCredential(this.url):null){t.next=3;break}return t.abrupt("return",!0);case 3:if(E.credential!==r){t.next=7;break}t.t0=E.user,t.next=10;break;case 7:return t.next=9,this.fetchEditingUser(e);case 9:t.t0=t.sent;case 10:return a=t.t0,t.abrupt("return",(E.credential=r,E.user=a,Object(j.i)(a)||null==a.privileges||a.privileges.includes("features:user:edit")));case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchEditingUser",value:function(){var t=Object(o.a)(i.a.mark((function t(e){var r,a,n,o,s,u,c,l,b;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=null==(r=this.portalItem)||null==(a=r.portal)?void 0:a.user)){t.next=3;break}return t.abrupt("return",n);case 3:if(null!=(o=p.b.findServerInfo(this.url))&&o.owningSystemUrl){t.next=6;break}return t.abrupt("return",null);case 6:if(s="".concat(o.owningSystemUrl,"/sharing/rest"),!(u=x.a.getDefault())||!u.loaded||Object(g.C)(u.restUrl)!==Object(g.C)(s)){t.next=9;break}return t.abrupt("return",u.user);case 9:return c="".concat(s,"/community/self"),l=Object(j.j)(e)?e.signal:null,t.next=13,Object(v.c)(Object(d.default)(c,{authMode:"no-prompt",query:{f:"json"},signal:l}));case 13:return b=t.sent,t.abrupt("return",b.ok?I.default.fromJSON(b.value.data):null);case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"read",value:function(t,e){e&&(e.layer=this),Object(c.a)(Object(l.a)(n.prototype),"read",this).call(this,t,e)}},{key:"write",value:function(t,e){var r=e&&e.portal,i=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||x.a.getDefault());return r&&i&&!Object(g.r)(i.restUrl,r.restUrl)?(e.messages&&e.messages.push(new y.a("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer"),{layer:this})),null):Object(c.a)(Object(l.a)(n.prototype),"write",this).call(this,t,Object(a.a)(Object(a.a)({},e),{},{layer:this}))}}]),n}(t);return Object(f.a)([Object(M.b)({type:D.default})],e.prototype,"portalItem",null),Object(f.a)([Object(w.a)("web-document","portalItem",["itemId"])],e.prototype,"readPortalItem",null),Object(f.a)([Object(S.a)("web-document","portalItem",{itemId:{type:String}})],e.prototype,"writePortalItem",null),Object(f.a)([Object(M.b)()],e.prototype,"resourceReferences",void 0),Object(f.a)([Object(M.b)({readOnly:!0})],e.prototype,"userHasEditingPrivileges",void 0),e=Object(f.a)([Object(k.a)("esri.layers.mixins.PortalLayer")],e),e},E={credential:null,user:null}},738:function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return f})),r.d(e,"d",(function(){return i})),r.d(e,"e",(function(){return h})),r.d(e,"f",(function(){return j})),r.d(e,"g",(function(){return O})),r.d(e,"h",(function(){return s})),r.d(e,"i",(function(){return l})),r.d(e,"j",(function(){return p})),r.d(e,"k",(function(){return m})),r.d(e,"l",(function(){return o})),r.d(e,"m",(function(){return b}));var a=r(211),n=r(93);function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(t,e,r,a,n,i,o,s,u,c,l,b,h,f,p,d,v){return t[0]=e,t[1]=r,t[2]=a,t[3]=n,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t[9]=l,t[10]=b,t[11]=h,t[12]=f,t[13]=p,t[14]=d,t[15]=v,t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,e){if(t===e){var r=e[1],a=e[2],n=e[3],i=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=a,t[9]=i,t[11]=e[14],t[12]=n,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function c(t,e){var r=e[0],a=e[1],n=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],b=e[9],h=e[10],f=e[11],p=e[12],d=e[13],v=e[14],y=e[15],O=r*s-a*o,j=r*u-n*o,m=r*c-i*o,g=a*u-n*s,M=a*c-i*s,w=n*c-i*u,k=l*d-b*p,S=l*v-h*p,x=l*y-f*p,D=b*v-h*d,I=b*y-f*d,T=h*y-f*v,_=O*T-j*I+m*D+g*x-M*S+w*k;return _?(_=1/_,t[0]=(s*T-u*I+c*D)*_,t[1]=(n*I-a*T-i*D)*_,t[2]=(d*w-v*M+y*g)*_,t[3]=(h*M-b*w-f*g)*_,t[4]=(u*x-o*T-c*S)*_,t[5]=(r*T-n*x+i*S)*_,t[6]=(v*m-p*w-y*j)*_,t[7]=(l*w-h*m+f*j)*_,t[8]=(o*I-s*x+c*k)*_,t[9]=(a*x-r*I-i*k)*_,t[10]=(p*M-d*m+y*O)*_,t[11]=(b*m-l*M-f*O)*_,t[12]=(s*S-o*D-u*k)*_,t[13]=(r*D-a*S+n*k)*_,t[14]=(d*j-p*g-v*O)*_,t[15]=(l*g-b*j+h*O)*_,t):null}function l(t,e,r){var a=e[0],n=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],b=e[8],h=e[9],f=e[10],p=e[11],d=e[12],v=e[13],y=e[14],O=e[15],j=r[0],m=r[1],g=r[2],M=r[3];return t[0]=j*a+m*s+g*b+M*d,t[1]=j*n+m*u+g*h+M*v,t[2]=j*i+m*c+g*f+M*y,t[3]=j*o+m*l+g*p+M*O,j=r[4],m=r[5],g=r[6],M=r[7],t[4]=j*a+m*s+g*b+M*d,t[5]=j*n+m*u+g*h+M*v,t[6]=j*i+m*c+g*f+M*y,t[7]=j*o+m*l+g*p+M*O,j=r[8],m=r[9],g=r[10],M=r[11],t[8]=j*a+m*s+g*b+M*d,t[9]=j*n+m*u+g*h+M*v,t[10]=j*i+m*c+g*f+M*y,t[11]=j*o+m*l+g*p+M*O,j=r[12],m=r[13],g=r[14],M=r[15],t[12]=j*a+m*s+g*b+M*d,t[13]=j*n+m*u+g*h+M*v,t[14]=j*i+m*c+g*f+M*y,t[15]=j*o+m*l+g*p+M*O,t}function b(t,e,r){var a,n,i,o,s,u,c,l,b,h,f,p,d=r[0],v=r[1],y=r[2];return e===t?(t[12]=e[0]*d+e[4]*v+e[8]*y+e[12],t[13]=e[1]*d+e[5]*v+e[9]*y+e[13],t[14]=e[2]*d+e[6]*v+e[10]*y+e[14],t[15]=e[3]*d+e[7]*v+e[11]*y+e[15]):(a=e[0],n=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],b=e[8],h=e[9],f=e[10],p=e[11],t[0]=a,t[1]=n,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=b,t[9]=h,t[10]=f,t[11]=p,t[12]=a*d+s*v+b*y+e[12],t[13]=n*d+u*v+h*y+e[13],t[14]=i*d+c*v+f*y+e[14],t[15]=o*d+l*v+p*y+e[15]),t}function h(t,e,r){var a=r[0],n=r[1],i=r[2];return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function f(t,e,r,a){var i,o,s,u,c,l,b,h,f,p,d,v,y,O,j,m,g,M,w,k,S,x,D,I,T=a[0],_=a[1],E=a[2],F=Math.sqrt(T*T+_*_+E*E);return F<n.a?null:(T*=F=1/F,_*=F,E*=F,i=Math.sin(r),s=1-(o=Math.cos(r)),u=e[0],c=e[1],l=e[2],b=e[3],h=e[4],f=e[5],p=e[6],d=e[7],v=e[8],y=e[9],O=e[10],j=e[11],m=T*T*s+o,g=_*T*s+E*i,M=E*T*s-_*i,w=T*_*s-E*i,k=_*_*s+o,S=E*_*s+T*i,x=T*E*s+_*i,D=_*E*s-T*i,I=E*E*s+o,t[0]=u*m+h*g+v*M,t[1]=c*m+f*g+y*M,t[2]=l*m+p*g+O*M,t[3]=b*m+d*g+j*M,t[4]=u*w+h*k+v*S,t[5]=c*w+f*k+y*S,t[6]=l*w+p*k+O*S,t[7]=b*w+d*k+j*S,t[8]=u*x+h*D+v*I,t[9]=c*x+f*D+y*I,t[10]=l*x+p*D+O*I,t[11]=b*x+d*D+j*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function p(t,e){var r=Math.sin(e),a=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function d(t,e,r){var a=e[0],n=e[1],i=e[2],o=e[3],s=a+a,u=n+n,c=i+i,l=a*s,b=a*u,h=a*c,f=n*u,p=n*c,d=i*c,v=o*s,y=o*u,O=o*c;return t[0]=1-(f+d),t[1]=b+O,t[2]=h-y,t[3]=0,t[4]=b-O,t[5]=1-(l+d),t[6]=p+v,t[7]=0,t[8]=h+y,t[9]=p-v,t[10]=1-(l+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}var v=Object(a.e)();function y(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function O(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function j(t,e){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],b=t[8],h=t[9],f=t[10],p=t[11],d=t[12],v=t[13],y=t[14],O=t[15],j=e[0],m=e[1],g=e[2],M=e[3],w=e[4],k=e[5],S=e[6],x=e[7],D=e[8],I=e[9],T=e[10],_=e[11],E=e[12],F=e[13],R=e[14],q=e[15];return Math.abs(r-j)<=n.a*Math.max(1,Math.abs(r),Math.abs(j))&&Math.abs(a-m)<=n.a*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(i-g)<=n.a*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(o-M)<=n.a*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(s-w)<=n.a*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-k)<=n.a*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(c-S)<=n.a*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(l-x)<=n.a*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(b-D)<=n.a*Math.max(1,Math.abs(b),Math.abs(D))&&Math.abs(h-I)<=n.a*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(f-T)<=n.a*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(p-_)<=n.a*Math.max(1,Math.abs(p),Math.abs(_))&&Math.abs(d-E)<=n.a*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(v-F)<=n.a*Math.max(1,Math.abs(v),Math.abs(F))&&Math.abs(y-R)<=n.a*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(O-q)<=n.a*Math.max(1,Math.abs(O),Math.abs(q))}function m(t){var e=n.a,r=t[0],a=t[1],i=t[2],o=t[4],s=t[5],u=t[6],c=t[8],l=t[9],b=t[10];return Math.abs(1-(r*r+o*o+c*c))<=e&&Math.abs(1-(a*a+s*s+l*l))<=e&&Math.abs(1-(i*i+u*u+b*b))<=e}var g=l,M=y;Object.freeze({__proto__:null,copy:i,set:o,identity:s,transpose:u,invert:c,adjoint:function(t,e){var r=e[0],a=e[1],n=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],b=e[9],h=e[10],f=e[11],p=e[12],d=e[13],v=e[14],y=e[15];return t[0]=s*(h*y-f*v)-b*(u*y-c*v)+d*(u*f-c*h),t[1]=-(a*(h*y-f*v)-b*(n*y-i*v)+d*(n*f-i*h)),t[2]=a*(u*y-c*v)-s*(n*y-i*v)+d*(n*c-i*u),t[3]=-(a*(u*f-c*h)-s*(n*f-i*h)+b*(n*c-i*u)),t[4]=-(o*(h*y-f*v)-l*(u*y-c*v)+p*(u*f-c*h)),t[5]=r*(h*y-f*v)-l*(n*y-i*v)+p*(n*f-i*h),t[6]=-(r*(u*y-c*v)-o*(n*y-i*v)+p*(n*c-i*u)),t[7]=r*(u*f-c*h)-o*(n*f-i*h)+l*(n*c-i*u),t[8]=o*(b*y-f*d)-l*(s*y-c*d)+p*(s*f-c*b),t[9]=-(r*(b*y-f*d)-l*(a*y-i*d)+p*(a*f-i*b)),t[10]=r*(s*y-c*d)-o*(a*y-i*d)+p*(a*c-i*s),t[11]=-(r*(s*f-c*b)-o*(a*f-i*b)+l*(a*c-i*s)),t[12]=-(o*(b*v-h*d)-l*(s*v-u*d)+p*(s*h-u*b)),t[13]=r*(b*v-h*d)-l*(a*v-n*d)+p*(a*h-n*b),t[14]=-(r*(s*v-u*d)-o*(a*v-n*d)+p*(a*u-n*s)),t[15]=r*(s*h-u*b)-o*(a*h-n*b)+l*(a*u-n*s),t},determinant:function(t){var e=t[0],r=t[1],a=t[2],n=t[3],i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],l=t[9],b=t[10],h=t[11],f=t[12],p=t[13],d=t[14],v=t[15];return(e*o-r*i)*(b*v-h*d)-(e*s-a*i)*(l*v-h*p)+(e*u-n*i)*(l*d-b*p)+(r*s-a*o)*(c*v-h*f)-(r*u-n*o)*(c*d-b*f)+(a*u-n*s)*(c*p-l*f)},multiply:l,translate:b,scale:h,rotate:f,rotateX:function(t,e,r){var a=Math.sin(r),n=Math.cos(r),i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],l=e[9],b=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*n+c*a,t[5]=o*n+l*a,t[6]=s*n+b*a,t[7]=u*n+h*a,t[8]=c*n-i*a,t[9]=l*n-o*a,t[10]=b*n-s*a,t[11]=h*n-u*a,t},rotateY:function(t,e,r){var a=Math.sin(r),n=Math.cos(r),i=e[0],o=e[1],s=e[2],u=e[3],c=e[8],l=e[9],b=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*n-c*a,t[1]=o*n-l*a,t[2]=s*n-b*a,t[3]=u*n-h*a,t[8]=i*a+c*n,t[9]=o*a+l*n,t[10]=s*a+b*n,t[11]=u*a+h*n,t},rotateZ:function(t,e,r){var a=Math.sin(r),n=Math.cos(r),i=e[0],o=e[1],s=e[2],u=e[3],c=e[4],l=e[5],b=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*n+c*a,t[1]=o*n+l*a,t[2]=s*n+b*a,t[3]=u*n+h*a,t[4]=c*n-i*a,t[5]=l*n-o*a,t[6]=b*n-s*a,t[7]=h*n-u*a,t},fromTranslation:function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotation:function(t,e,r){var a,i,o,s=r[0],u=r[1],c=r[2],l=Math.sqrt(s*s+u*u+c*c);return l<n.a?null:(s*=l=1/l,u*=l,c*=l,a=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=s*s*o+i,t[1]=u*s*o+c*a,t[2]=c*s*o-u*a,t[3]=0,t[4]=s*u*o-c*a,t[5]=u*u*o+i,t[6]=c*u*o+s*a,t[7]=0,t[8]=s*c*o+u*a,t[9]=u*c*o-s*a,t[10]=c*c*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},fromXRotation:p,fromYRotation:function(t,e){var r=Math.sin(e),a=Math.cos(e);return t[0]=a,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:function(t,e){var r=Math.sin(e),a=Math.cos(e);return t[0]=a,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotationTranslation:d,fromQuat2:function(t,e){var r=v,a=-e[0],n=-e[1],i=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],b=a*a+n*n+i*i+o*o;return b>0?(r[0]=2*(s*o+l*a+u*i-c*n)/b,r[1]=2*(u*o+l*n+c*a-s*i)/b,r[2]=2*(c*o+l*i+s*n-u*a)/b):(r[0]=2*(s*o+l*a+u*i-c*n),r[1]=2*(u*o+l*n+c*a-s*i),r[2]=2*(c*o+l*i+s*n-u*a)),d(t,e,r),t},getTranslation:function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},getScaling:function(t,e){var r=e[0],a=e[1],n=e[2],i=e[4],o=e[5],s=e[6],u=e[8],c=e[9],l=e[10];return t[0]=Math.sqrt(r*r+a*a+n*n),t[1]=Math.sqrt(i*i+o*o+s*s),t[2]=Math.sqrt(u*u+c*c+l*l),t},getRotation:function(t,e){var r=e[0]+e[5]+e[10],a=0;return r>0?(a=2*Math.sqrt(r+1),t[3]=.25*a,t[0]=(e[6]-e[9])/a,t[1]=(e[8]-e[2])/a,t[2]=(e[1]-e[4])/a):e[0]>e[5]&&e[0]>e[10]?(a=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/a,t[0]=.25*a,t[1]=(e[1]+e[4])/a,t[2]=(e[8]+e[2])/a):e[5]>e[10]?(a=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/a,t[0]=(e[1]+e[4])/a,t[1]=.25*a,t[2]=(e[6]+e[9])/a):(a=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/a,t[0]=(e[8]+e[2])/a,t[1]=(e[6]+e[9])/a,t[2]=.25*a),t},fromRotationTranslationScale:function(t,e,r,a){var n=e[0],i=e[1],o=e[2],s=e[3],u=n+n,c=i+i,l=o+o,b=n*u,h=n*c,f=n*l,p=i*c,d=i*l,v=o*l,y=s*u,O=s*c,j=s*l,m=a[0],g=a[1],M=a[2];return t[0]=(1-(p+v))*m,t[1]=(h+j)*m,t[2]=(f-O)*m,t[3]=0,t[4]=(h-j)*g,t[5]=(1-(b+v))*g,t[6]=(d+y)*g,t[7]=0,t[8]=(f+O)*M,t[9]=(d-y)*M,t[10]=(1-(b+p))*M,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},fromRotationTranslationScaleOrigin:function(t,e,r,a,n){var i=e[0],o=e[1],s=e[2],u=e[3],c=i+i,l=o+o,b=s+s,h=i*c,f=i*l,p=i*b,d=o*l,v=o*b,y=s*b,O=u*c,j=u*l,m=u*b,g=a[0],M=a[1],w=a[2],k=n[0],S=n[1],x=n[2],D=(1-(d+y))*g,I=(f+m)*g,T=(p-j)*g,_=(f-m)*M,E=(1-(h+y))*M,F=(v+O)*M,R=(p+j)*w,q=(v-O)*w,A=(1-(h+d))*w;return t[0]=D,t[1]=I,t[2]=T,t[3]=0,t[4]=_,t[5]=E,t[6]=F,t[7]=0,t[8]=R,t[9]=q,t[10]=A,t[11]=0,t[12]=r[0]+k-(D*k+_*S+R*x),t[13]=r[1]+S-(I*k+E*S+q*x),t[14]=r[2]+x-(T*k+F*S+A*x),t[15]=1,t},fromQuat:function(t,e){var r=e[0],a=e[1],n=e[2],i=e[3],o=r+r,s=a+a,u=n+n,c=r*o,l=a*o,b=a*s,h=n*o,f=n*s,p=n*u,d=i*o,v=i*s,y=i*u;return t[0]=1-b-p,t[1]=l+y,t[2]=h-v,t[3]=0,t[4]=l-y,t[5]=1-c-p,t[6]=f+d,t[7]=0,t[8]=h+v,t[9]=f-d,t[10]=1-c-b,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},frustum:function(t,e,r,a,n,i,o){var s=1/(r-e),u=1/(n-a),c=1/(i-o);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(n+a)*u,t[10]=(o+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*c,t[15]=0,t},perspective:function(t,e,r,a,n){var i,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0?(i=1/(a-n),t[10]=(n+a)*i,t[14]=2*n*a*i):(t[10]=-1,t[14]=-2*a),t},perspectiveFromFieldOfView:function(t,e,r,a){var n=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(n+i);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*u*.5,t[9]=(n-i)*c*.5,t[10]=a/(r-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*r/(r-a),t[15]=0,t},ortho:function(t,e,r,a,n,i,o){var s=1/(e-r),u=1/(a-n),c=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(n+a)*u,t[14]=(o+i)*c,t[15]=1,t},lookAt:function(t,e,r,a){var i,o,u,c,l,b,h,f,p,d,v=e[0],y=e[1],O=e[2],j=a[0],m=a[1],g=a[2],M=r[0],w=r[1],k=r[2];return Math.abs(v-M)<n.a&&Math.abs(y-w)<n.a&&Math.abs(O-k)<n.a?s(t):(h=v-M,f=y-w,p=O-k,i=m*(p*=d=1/Math.sqrt(h*h+f*f+p*p))-g*(f*=d),o=g*(h*=d)-j*p,u=j*f-m*h,(d=Math.sqrt(i*i+o*o+u*u))?(i*=d=1/d,o*=d,u*=d):(i=0,o=0,u=0),c=f*u-p*o,l=p*i-h*u,b=h*o-f*i,(d=Math.sqrt(c*c+l*l+b*b))?(c*=d=1/d,l*=d,b*=d):(c=0,l=0,b=0),t[0]=i,t[1]=c,t[2]=h,t[3]=0,t[4]=o,t[5]=l,t[6]=f,t[7]=0,t[8]=u,t[9]=b,t[10]=p,t[11]=0,t[12]=-(i*v+o*y+u*O),t[13]=-(c*v+l*y+b*O),t[14]=-(h*v+f*y+p*O),t[15]=1,t)},targetTo:function(t,e,r,a){var n=e[0],i=e[1],o=e[2],s=a[0],u=a[1],c=a[2],l=n-r[0],b=i-r[1],h=o-r[2],f=l*l+b*b+h*h;f>0&&(l*=f=1/Math.sqrt(f),b*=f,h*=f);var p=u*h-c*b,d=c*l-s*h,v=s*b-u*l;return(f=p*p+d*d+v*v)>0&&(p*=f=1/Math.sqrt(f),d*=f,v*=f),t[0]=p,t[1]=d,t[2]=v,t[3]=0,t[4]=b*v-h*d,t[5]=h*p-l*v,t[6]=l*d-b*p,t[7]=0,t[8]=l,t[9]=b,t[10]=h,t[11]=0,t[12]=n,t[13]=i,t[14]=o,t[15]=1,t},str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},frob:function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},subtract:y,multiplyScalar:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},multiplyScalarAndAdd:function(t,e,r,a){return t[0]=e[0]+r[0]*a,t[1]=e[1]+r[1]*a,t[2]=e[2]+r[2]*a,t[3]=e[3]+r[3]*a,t[4]=e[4]+r[4]*a,t[5]=e[5]+r[5]*a,t[6]=e[6]+r[6]*a,t[7]=e[7]+r[7]*a,t[8]=e[8]+r[8]*a,t[9]=e[9]+r[9]*a,t[10]=e[10]+r[10]*a,t[11]=e[11]+r[11]*a,t[12]=e[12]+r[12]*a,t[13]=e[13]+r[13]*a,t[14]=e[14]+r[14]*a,t[15]=e[15]+r[15]*a,t},exactEquals:O,equals:j,isOrthoNormal:m,mul:g,sub:M})},754:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return n}));var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}}).call(this,r(216))}}]);
//# sourceMappingURL=71.8a8cc665.chunk.js.map