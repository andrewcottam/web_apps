{"version":3,"sources":["../node_modules/@arcgis/core/tasks/geometry/cut.js","../node_modules/@arcgis/core/tasks/geometry/simplify.js","../node_modules/@arcgis/core/geometry/support/normalizeUtils.js","../node_modules/@arcgis/core/rest/query/operations/query.js","../node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js","../node_modules/@arcgis/core/tasks/operations/urlUtils.js","../node_modules/@arcgis/core/core/pbf.js","../node_modules/@arcgis/core/rest/query/operations/pbfOptimizedFeatureSet.js","../node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js","../node_modules/@arcgis/core/rest/query/operations/pbfQueryUtils.js"],"names":["o","i","n","m","a","p","t","spatialReference","u","query","f","sr","JSON","stringify","target","geometryType","r","geometries","cutter","e","path","c","data","cutIndexes","g","map","s","wkid","toJSON","fromJSON","y","getLogger","M","error","l","push","length","Math","sqrt","floor","type","x","rings","paths","R","h","P","Array","isArray","clone","offset","b","some","Number","toFixed","getPoint","setPoint","d","addRing","w","addPath","L","url","geometryServiceUrl","v","A","z","isWebMercator","maxX","j","minX","U","plus180Line","k","minus180Line","points","_normalize","extent","xmin","intersects","xmax","I","X","q","C","shift","D","Promise","resolve","valid","geometry","inSR","groupByFieldsForStatistics","join","objectIds","orderByFields","outFields","returnDistinctValues","returnCountOnly","returnExtentOnly","returnIdsOnly","indexOf","outSR","returnGeometry","returnCentroid","outStatistics","pixelSize","quantizationParameters","parameterValues","rangeValues","dynamicDataSource","layer","source","timeExtent","start","end","time","isEmpty","features","createFeatureResult","count","S","then","hasOwnProperty","Error","responseType","WebMercator","WGS84","ceil","TextDecoder","byteLength","this","_tag","_dataType","init","_data","_dataView","_pos","_end","_decodeVarint","skip","getUInt32","_decodeSVarint","_skip","getUint32","getInt32","getFloat64","getFloat32","_getLength","_toString","_toBytes","_getLengthUnsafe","getMessage","release","pool","acquire","min","subarray","decode","toString","decodeURIComponent","String","fromCharCode","Uint8Array","buffer","options","geometryTypes","_coordinatePtr","_vertexDimension","hasZ","hasM","sourceSpatialReference","vcsWkid","coords","fields","lengths","reduce","queryGeometry","queryGeometryType","createPointGeometry","next","tag","pos","addCoordinatePoint","getSInt64","createGeometry","addLength","allocateCoordinates","addCoordinate","getEnum","getString","getFloat","getDouble","getSInt32","getInt64","getUInt64","getBool","name","alias","sqlType","defaultValue","isSystemMaintained","createFeature","attributes","processMessage","processMessageWithArgs","centroid","T","originPosition","scale","translate","shapeAreaFieldName","shapeLengthFieldName","units","F","createSpatialReference","wkt","latestWkid","latestVcsWkid","objectIdFieldName","globalIdFieldName","geohashFieldName","geometryProperties","transform","exceededTransferLimit","addField","prepareFeatures","addFeature","uniqueIdField","finishFeatureResult","featureResult","addQueryGeometry","DataView","queryResult","objectId"],"mappings":"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","file":"static/js/24.f1ff2139.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import{getJsonType as r,fromJSON as s}from\"../../geometry/support/jsonUtils.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?t(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:r(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await e(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=s(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport r from\"../../request.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import{getJsonType as e,getGeometryType as o}from\"../../geometry/support/jsonUtils.js\";async function i(o,i,f){const m=\"string\"==typeof o?t(o):o,p=i[0].spatialReference,a=e(i[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await r(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:e(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,e){const i=o(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=e,t}))}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../config.js\";import e from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import r from\"../Polygon.js\";import i from\"../Polyline.js\";import{getGeometryParts as l,cutParams as f,offsetMagnitude as c,updatePolyGeometry as p}from\"./normalizeUtilsCommon.js\";import{getInfo as u}from\"./spatialReferenceUtils.js\";import{geographicToWebMercator as a,webMercatorToGeographic as h}from\"./webMercatorUtils.js\";import{cut as m}from\"../../tasks/geometry/cut.js\";import{simplify as g}from\"../../tasks/geometry/simplify.js\";const y=n.getLogger(\"esri.geometry.support.normalizeUtils\");function x(t){return\"polygon\"===t.type}function d(t){return\"polygon\"===t[0].type}function w(t){return\"polyline\"===t[0].type}function j(t){const e=[];let n=0,o=0;for(let s=0;s<t.length;s++){const r=t[s];let i=null;for(let t=0;t<r.length;t++)i=r[t],e.push(i),0===t?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&e.push([(n+o)/2,0])}return e}function R(t,n){if(!(t instanceof i||t instanceof r)){const t=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw y.error(t),new e(t)}const o=l(t),s=[];for(const e of o){const t=[];s.push(t),t.push([e[0][0],e[0][1]]);for(let o=0;o<e.length-1;o++){const s=e[o][0],r=e[o][1],i=e[o+1][0],l=e[o+1][1],f=Math.sqrt((i-s)*(i-s)+(l-r)*(l-r)),c=(l-r)/f,p=(i-s)/f,u=f/n;if(u>1){for(let l=1;l<=u-1;l++){const e=l*n,o=p*e+s,i=c*e+r;t.push([o,i])}const e=(f+Math.floor(u-1)*n)/2,o=p*e+s,i=c*e+r;t.push([o,i])}t.push([i,l])}}return x(t)?new r({rings:s,spatialReference:t.spatialReference}):new i({paths:s,spatialReference:t.spatialReference})}function M(t,e,n){if(e){const e=R(t,1e6);t=h(e,!0)}return n&&(t=p(t,n)),t}function P(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=c(o,e);t[0]=o+n*(-2*e)}else if(o<n){const e=c(o,n);t[0]=o+e*(-2*n)}}else{const o=t.x;if(o>e){const n=c(o,e);t=t.clone().offset(n*(-2*e),0)}else if(o<n){const e=c(o,n);t=t.clone().offset(e*(-2*n),0)}}return t}function b(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],r=e.geometries[o],i=l(r);for(let t=0;t<i.length;t++){const e=i[t];e.some((n=>{if(n[0]<180)return!0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*c(n,180);for(let s=0;s<e.length;s++){const e=r.getPoint(t,s);r.setPoint(t,s,e.clone().offset(o,0))}return!0}}))}if(s===n){if(d(t))for(const e of l(r))t[s]=t[s].addRing(e);else if(w(t))for(const e of l(r))t[s]=t[s].addPath(e)}else n=s,t[s]=r}return t}async function L(e,n,l){if(!Array.isArray(e))return L([e],n);const h=n?n.url:t.geometryServiceUrl;let y,x,d,w,j,R,U,k,v=0;const A=[],z=[];for(const t of e)if(o(t))z.push(t);else if(y||(y=t.spatialReference,x=u(y),d=y.isWebMercator,R=d?102100:4326,w=f[R].maxX,j=f[R].minX,U=f[R].plus180Line,k=f[R].minus180Line),x)if(\"mesh\"===t.type)z.push(t);else if(\"point\"===t.type)z.push(P(t.clone(),w,j));else if(\"multipoint\"===t.type){const e=t.clone();e.points=e.points.map((t=>P(t,w,j))),z.push(e)}else if(\"extent\"===t.type){const e=t.clone()._normalize(!1,!1,x);z.push(e.rings?new r(e):e)}else if(t.extent){const e=t.extent,n=c(e.xmin,j)*(2*w);let o=0===n?t.clone():p(t.clone(),n);e.offset(n,0),e.intersects(U)&&e.xmax!==w?(v=e.xmax>v?e.xmax:v,o=M(o,d),A.push(o),z.push(\"cut\")):e.intersects(k)&&e.xmin!==j?(v=e.xmax*(2*w)>v?e.xmax*(2*w):v,o=M(o,d,360),A.push(o),z.push(\"cut\")):z.push(o)}else z.push(t.clone());else z.push(t);let I=c(v,w),X=-90;const q=I,C=new i;for(;I>0;){const t=360*I-180;C.addPath([[t,X],[t,-1*X]]),X*=-1,I--}if(A.length>0&&q>0){const t=b(A,await m(h,A,C,l)),n=[],o=[];for(let l=0;l<z.length;l++){const r=z[l];if(\"cut\"!==r)o.push(r);else{const r=t.shift(),i=e[l];s(i)&&\"polygon\"===i.type&&i.rings&&i.rings.length>1&&r.rings.length>=i.rings.length?(n.push(r),o.push(\"simplify\")):o.push(d?a(r):r)}}if(!n.length)return o;const r=await g(h,n,l),i=[];for(let e=0;e<o.length;e++){const t=o[e];\"simplify\"!==t?i.push(t):i.push(d?a(r.shift()):r.shift())}return i}const D=[];for(let t=0;t<z.length;t++){const e=z[t];if(\"cut\"!==e)D.push(e);else{const t=A.shift();D.push(!0===d?a(t):t)}}return Promise.resolve(D)}function U(t){if(!t)return null;const e=t.extent;if(!e)return null;const n=t.spatialReference&&u(t.spatialReference);if(!n)return e;const[o,s]=n.valid,r=2*s,{width:i}=e;let l,{xmin:f,xmax:c}=e;if([f,c]=[c,f],\"extent\"===t.type||0===i||i<=s||i>r||f<o||c>s)return e;switch(t.type){case\"polygon\":if(!(t.rings.length>1))return e;l=j(t.rings);break;case\"polyline\":if(!(t.paths.length>1))return e;l=j(t.paths);break;case\"multipoint\":l=t.points}const p=e.clone();for(let u=0;u<l.length;u++){let t=l[u][0];t<0?(t+=s,c=Math.max(t,c)):(t-=s,f=Math.min(t,f))}return p.xmin=f,p.xmax=c,p.width<i?(p.xmin-=s,p.xmax-=s,p):e}function k(t,e){const n=u(e);if(n){const[e,o]=n.valid,s=o-e;if(t<e)for(;t<e;)t+=s;if(t>o)for(;t>o;)t-=s}return t}export{U as getDenormalizedExtent,L as normalizeCentralMeridian,k as normalizeMapX,R as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../../request.js\";import{isSome as e}from\"../../../core/maybe.js\";import{join as r,urlToObject as n}from\"../../../core/urlUtils.js\";import{getJsonType as i}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as o}from\"../../../geometry/support/normalizeUtils.js\";import{parsePBFFeatureQuery as s}from\"./pbfQueryUtils.js\";import{applyFeatureSetZUnitScaling as u}from\"./queryZScale.js\";import{mapParameters as a}from\"../../../tasks/operations/urlUtils.js\";const l=\"Layer does not support extent calculation.\";function m(t,r){const n=t.geometry,o=t.toJSON(),s=o;if(e(n)&&(s.geometry=JSON.stringify(n),s.geometryType=i(n),s.inSR=n.spatialReference.wkid||JSON.stringify(n.spatialReference)),o.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=o.groupByFieldsForStatistics.join(\",\")),o.objectIds&&(s.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(s.orderByFields=o.orderByFields.join(\",\")),!o.outFields||!o.returnDistinctValues&&(null!=r&&r.returnCountOnly||null!=r&&r.returnExtentOnly||null!=r&&r.returnIdsOnly)?delete s.outFields:-1!==o.outFields.indexOf(\"*\")?s.outFields=\"*\":s.outFields=o.outFields.join(\",\"),o.outSR?s.outSR=o.outSR.wkid||JSON.stringify(o.outSR):n&&(o.returnGeometry||o.returnCentroid)&&(s.outSR=s.inSR),o.returnGeometry&&delete o.returnGeometry,o.outStatistics&&(s.outStatistics=JSON.stringify(o.outStatistics)),o.pixelSize&&(s.pixelSize=JSON.stringify(o.pixelSize)),o.quantizationParameters&&(s.quantizationParameters=JSON.stringify(o.quantizationParameters)),o.parameterValues&&(s.parameterValues=JSON.stringify(o.parameterValues)),o.rangeValues&&(s.rangeValues=JSON.stringify(o.rangeValues)),o.dynamicDataSource&&(s.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o.timeExtent){const t=o.timeExtent,{start:e,end:r}=t;null==e&&null==r||(s.time=e===r?e:`${null==e?\"null\":e},${null==r?\"null\":r}`),delete o.timeExtent}return s}async function y(t,r,n,i){const o=e(r.timeExtent)&&r.timeExtent.isEmpty?{data:{features:[]}}:await g(t,r,\"json\",i);return u(r,n,o.data),o}async function c(t,r,n,i){if(e(r.timeExtent)&&r.timeExtent.isEmpty)return Promise.resolve({data:n.createFeatureResult()});const o=await d(t,r,i),u=o;return u.data=s(o.data,n),u}function d(t,e,r){return g(t,e,\"pbf\",r)}function f(t,r,n){return e(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):g(t,r,\"json\",n,{returnIdsOnly:!0})}function p(t,r,n){return e(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):g(t,r,\"json\",n,{returnIdsOnly:!0,returnCountOnly:!0})}function S(t,r,n){return e(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):g(t,r,\"json\",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((t=>{const e=t.data;if(e.hasOwnProperty(\"extent\"))return t;if(e.features)throw new Error(l);if(e.hasOwnProperty(\"count\"))throw new Error(l);return t}))}function g(i,s,u,l={},y={}){const c=\"string\"==typeof i?n(i):i,d=s.geometry?[s.geometry]:[];return l.responseType=\"pbf\"===u?\"array-buffer\":\"json\",o(d,null,l).then((n=>{const i=n&&n[0];e(i)&&((s=s.clone()).geometry=i);const o=a({...c.query,f:u,...y,...m(s,y)});return t(r(c.path,\"query\"),{...l,query:{...o,...l.query}})}))}export{y as executeQuery,p as executeQueryForCount,S as executeQueryForExtent,f as executeQueryForIds,c as executeQueryPBF,d as executeQueryPBFBuffer,m as queryToQueryStringParameters,g as runQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../Polyline.js\";import n from\"../SpatialReference.js\";import{isPolygon as t}from\"./jsonUtils.js\";const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new e({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator}),minus180Line:new e({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new e({paths:[[[180,-180],[180,180]]],spatialReference:n.WGS84}),minus180Line:new e({paths:[[[-180,-180],[-180,180]]],spatialReference:n.WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function o(e,n){const t=s(e);for(const r of t)for(const e of r)e[0]+=n;return e}function s(e){return t(e)?e.rings:e.paths}function a(e){const n=(null==e?void 0:e.isWebMercator)?102100:4326;return[r[n].minX,r[n].maxX]}export{r as cutParams,s as getGeometryParts,a as getSpatialReferenceMinMaxX,i as offsetMagnitude,o as updatePolyGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction t(n){const o={};for(const e in n){if(\"declaredClass\"===e)continue;const r=n[e];if(null!=r&&\"function\"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else\"object\"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}export{t as mapParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"./has.js\";import e from\"./ObjectPool.js\";const s=4294967296,i=t(\"esri-text-decoder\")?new TextDecoder(\"utf-8\"):null,r=t(\"safari\")||t(\"ios\")?6:t(\"ff\")?12:32;class a{constructor(t,e,s=0,i=(t?t.byteLength:0)){this._tag=0,this._dataType=99,this.init(t,e,s,i)}init(t,e,s,i){this._data=t,this._dataView=e,this._pos=s,this._end=i}clone(){return new a(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=0!==this._data[this._pos];return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getUint32(e+4,!0)*s;return this._skip(8),i}getSFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getInt32(e+4,!0)*s;return this._skip(8),i}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),e=this._pos,s=this._toString(this._data,e,e+t);return this._skip(t),s}getBytes(){const t=this._getLength(),e=this._pos,s=this._toBytes(this._data,e,e+t);return this._skip(t),s}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,e,s,i){const r=this.getMessage(),a=t(r,e,s,i);return r.release(),a}processMessage(t){const e=this.getMessage(),s=t(e);return e.release(),s}getMessage(){const t=this._getLength(),e=a.pool.acquire();return e.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),e}release(){a.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error(\"Invalid data type!\")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error(\"Attempt to skip past the end of buffer!\");this._pos+=t}_decodeVarint(){const t=this._data;let e,s=this._pos,i=0;if(this._end-s>=10)do{if(e=t[s++],i|=127&e,0==(128&e))break;if(e=t[s++],i|=(127&e)<<7,0==(128&e))break;if(e=t[s++],i|=(127&e)<<14,0==(128&e))break;if(e=t[s++],i|=(127&e)<<21,0==(128&e))break;if(e=t[s++],i+=268435456*(127&e),0==(128&e))break;if(e=t[s++],i+=34359738368*(127&e),0==(128&e))break;if(e=t[s++],i+=4398046511104*(127&e),0==(128&e))break;if(e=t[s++],i+=562949953421312*(127&e),0==(128&e))break;if(e=t[s++],i+=72057594037927940*(127&e),0==(128&e))break;if(e=t[s++],i+=0x8000000000000000*(127&e),0==(128&e))break;throw new Error(\"Varint too long!\")}while(0);else{let r=1;for(;s!==this._end&&(e=t[s],0!=(128&e));)++s,i+=(127&e)*r,r*=128;if(s===this._end)throw new Error(\"Varint overrun!\");++s,i+=e*r}return this._pos=s,i}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(2!==this._dataType)throw new Error(\"Not a delimited data type!\");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,e,s){if((s=Math.min(this._end,s))-e>r&&i){const r=t.subarray(e,s);return i.decode(r)}let a=\"\",n=\"\";for(let i=e;i<s;++i){const e=t[i];128&e?n+=\"%\"+e.toString(16):(a+=decodeURIComponent(n)+String.fromCharCode(e),n=\"\")}return n.length&&(a+=decodeURIComponent(n)),a}_toBytes(t,e,s){return s=Math.min(this._end,s),new Uint8Array(t.buffer,e,s-e)}}a.pool=new e(a,null,(t=>{t._data=null,t._dataView=null}));export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getMetersPerVerticalUnitForSR as e}from\"../../../core/unitUtils.js\";import{equals as t}from\"../../../geometry/support/spatialReferenceUtils.js\";import r,{hasGeometry as o}from\"../../../layers/graphics/OptimizedFeature.js\";import i from\"../../../layers/graphics/OptimizedFeatureSet.js\";import s from\"../../../layers/graphics/OptimizedGeometry.js\";const n=[\"esriGeometryPoint\",\"esriGeometryMultipoint\",\"esriGeometryPolyline\",\"esriGeometryPolygon\"];class a{constructor(e){this.options=e,this.geometryTypes=n,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new i}prepareFeatures(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}finishFeatureResult(r){if(!r||!r.features||!r.hasZ||!this.options.sourceSpatialReference||!r.spatialReference||t(r.spatialReference,this.options.sourceSpatialReference)||r.spatialReference.vcsWkid)return;const i=e(this.options.sourceSpatialReference)/e(r.spatialReference);if(1!==i)for(const e of r.features){if(!o(e))continue;const t=e.geometry.coords;for(let e=2;e<t.length;e+=3)t[e]*=i}}addFeature(e,t){e.features.push(t)}createFeature(){return new r}createSpatialReference(){return{wkid:0}}createGeometry(){return new s}addField(e,t){e.fields.push(t)}allocateCoordinates(e){e.coords.length=e.lengths.reduce(((e,t)=>e+t),0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(e,t){e.coords[this._coordinatePtr++]=t}addCoordinatePoint(e,t){e.coords.push(t)}addLength(e,t){e.lengths.push(t)}addQueryGeometry(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}createPointGeometry(){return new s}}export{n as OPTIMIZED_GEOMETRY_TYPES,a as OptimizedFeatureSetParserContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{isSome as t}from\"../../../core/maybe.js\";import r from\"../../../core/pbf.js\";import s from\"../../../layers/graphics/OptimizedGeometry.js\";import{OPTIMIZED_GEOMETRY_TYPES as a}from\"./pbfOptimizedFeatureSet.js\";const n=[\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeString\",\"esriFieldTypeDate\",\"esriFieldTypeOID\",\"esriFieldTypeGeometry\",\"esriFieldTypeBlob\",\"esriFieldTypeRaster\",\"esriFieldTypeGUID\",\"esriFieldTypeGlobalID\",\"esriFieldTypeXML\"],o=[\"sqlTypeBigInt\",\"sqlTypeBinary\",\"sqlTypeBit\",\"sqlTypeChar\",\"sqlTypeDate\",\"sqlTypeDecimal\",\"sqlTypeDouble\",\"sqlTypeFloat\",\"sqlTypeGeometry\",\"sqlTypeGUID\",\"sqlTypeInteger\",\"sqlTypeLongNVarchar\",\"sqlTypeLongVarbinary\",\"sqlTypeLongVarchar\",\"sqlTypeNChar\",\"sqlTypeNVarchar\",\"sqlTypeOther\",\"sqlTypeReal\",\"sqlTypeSmallInt\",\"sqlTypeSqlXml\",\"sqlTypeTime\",\"sqlTypeTimestamp\",\"sqlTypeTimestamp2\",\"sqlTypeTinyInt\",\"sqlTypeVarbinary\",\"sqlTypeVarchar\"],i=[\"upperLeft\",\"lowerLeft\"];function c(e){return e>=n.length?null:n[e]}function l(e){return e>=o.length?null:o[e]}function g(e){return e>=i.length?null:i[e]}function p(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function u(e,t,r){const s=3,a=t.createPointGeometry(r);for(;e.next();)switch(e.tag()){case s:{const r=e.getUInt32(),s=e.pos()+r;let n=0;for(;e.pos()<s;)t.addCoordinatePoint(a,e.getSInt64(),n++);break}default:e.skip()}return a}function y(e,t,r){const s=2,a=3,n=t.createGeometry(r),o=2+(r.hasZ?1:0)+(r.hasM?1:0);for(;e.next();)switch(e.tag()){case s:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(;e.pos()<s;)t.addLength(n,e.getUInt32(),a++);break}case a:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(t.allocateCoordinates(n);e.pos()<s;)t.addCoordinate(n,e.getSInt64(),a),a++,a===o&&(a=0);break}default:e.skip()}return n}function b(e){const t=1,r=2,n=3,o=new s;let i=\"esriGeometryPoint\";for(;e.next();)switch(e.tag()){case r:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)o.lengths.push(e.getUInt32());break}case n:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)o.coords.push(e.getSInt64());break}case t:i=a[e.getEnum()];break;default:e.skip()}return{queryGeometry:o,queryGeometryType:i}}function f(e){const t=1,r=2,s=3,a=4,n=5,o=6,i=7,c=8,l=9;for(;e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case a:return e.getSInt32();case n:return e.getUInt32();case o:return e.getInt64();case i:return e.getUInt64();case c:return e.getSInt64();case l:return e.getBool();default:return e.skip(),null}return null}function k(e){const t=1,r=2,s=3,a=4,n=5,o=6,i={type:c(0)};for(;e.next();)switch(e.tag()){case t:i.name=e.getString();break;case r:i.type=c(e.getEnum());break;case s:i.alias=e.getString();break;case a:i.sqlType=l(e.getEnum());break;case n:e.skip();break;case o:i.defaultValue=e.getString();break;default:e.skip()}return i}function d(e){const t=1,r=2,s={};for(;e.next();)switch(e.tag()){case t:s.name=e.getString();break;case r:s.isSystemMaintained=e.getBool();break;default:e.skip()}return s}function m(e,t,r,s){const a=1,n=2,o=4,i=t.createFeature(r);let c=0;for(;e.next();)switch(e.tag()){case a:{const t=s[c++].name;i.attributes[t]=e.processMessage(f);break}case n:i.geometry=e.processMessageWithArgs(y,t,r);break;case o:i.centroid=e.processMessageWithArgs(u,t,r);break;default:e.skip()}return i}function h(e){const t=1,r=2,s=3,a=4,n=[1,1,1,1];for(;e.next();)switch(e.tag()){case t:n[0]=e.getDouble();break;case r:n[1]=e.getDouble();break;case a:n[2]=e.getDouble();break;case s:n[3]=e.getDouble();break;default:e.skip()}return n}function T(e){const t=1,r=2,s=3,a=4,n=[0,0,0,0];for(;e.next();)switch(e.tag()){case t:n[0]=e.getDouble();break;case r:n[1]=e.getDouble();break;case a:n[2]=e.getDouble();break;case s:n[3]=e.getDouble();break;default:e.skip()}return n}function q(e){const t=1,r=2,s=3,a={originPosition:g(0)};for(;e.next();)switch(e.tag()){case t:a.originPosition=g(e.getEnum());break;case r:a.scale=e.processMessage(h);break;case s:a.translate=e.processMessage(T);break;default:e.skip()}return a}function I(e){const t=1,r=2,s=3,a={};for(;e.next();)switch(e.tag()){case t:a.shapeAreaFieldName=e.getString();break;case r:a.shapeLengthFieldName=e.getString();break;case s:a.units=e.getString();break;default:e.skip()}return a}function F(e,t){const r=1,s=2,a=3,n=4,o=5,i=t.createSpatialReference();for(;e.next();)switch(e.tag()){case r:i.wkid=e.getUInt32();break;case o:i.wkt=e.getString();break;case s:i.latestWkid=e.getUInt32();break;case a:i.vcsWkid=e.getUInt32();break;case n:i.latestVcsWkid=e.getUInt32();break;default:e.skip()}return i}function S(e,t){const r=1,s=2,a=3,n=4,o=5,i=7,c=8,l=9,g=10,u=11,y=12,b=13,f=15,h=t.createFeatureResult();h.geometryType=p(t,0);let T=!1;for(;e.next();)switch(e.tag()){case r:h.objectIdFieldName=e.getString();break;case a:h.globalIdFieldName=e.getString();break;case n:h.geohashFieldName=e.getString();break;case o:h.geometryProperties=e.processMessage(I);break;case i:h.geometryType=p(t,e.getEnum());break;case c:h.spatialReference=e.processMessageWithArgs(F,t);break;case g:h.hasZ=e.getBool();break;case u:h.hasM=e.getBool();break;case y:h.transform=e.processMessage(q);break;case l:{const t=e.getBool();h.exceededTransferLimit=t;break}case b:t.addField(h,e.processMessage(k));break;case f:T||(t.prepareFeatures(h),T=!0),t.addFeature(h,e.processMessageWithArgs(m,t,h,h.fields));break;case s:h.uniqueIdField=e.processMessage(d);break;default:e.skip()}return t.finishFeatureResult(h),h}function w(e,r){const s=1,a=4,n={};let o=null;for(;e.next();)switch(e.tag()){case a:o=e.processMessageWithArgs(b);break;case s:n.featureResult=e.processMessageWithArgs(S,r);break;default:e.skip()}return t(o)&&n.featureResult&&r.addQueryGeometry(n,o),n}function D(t,s){try{const e=2,a=new r(new Uint8Array(t),new DataView(t)),n={};for(;a.next();)if(a.tag()===e)n.queryResult=a.processMessageWithArgs(w,s);else a.skip();return n}catch(a){throw new e(\"query:parsing-pbf\",\"Error while parsing FeatureSet PBF payload\",{error:a})}}export{D as parseFeatureQuery,c as parseFieldType,q as parseTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{parseFeatureQuery as e}from\"./pbfFeatureServiceParser.js\";function t(t,r){const u=e(t,r),o=u.queryResult.featureResult,s=u.queryResult.queryGeometry,y=u.queryResult.queryGeometryType;if(o&&o.features&&o.features.length&&o.objectIdFieldName){const e=o.objectIdFieldName;for(const t of o.features)t.attributes&&(t.objectId=t.attributes[e])}return o&&(o.queryGeometry=s,o.queryGeometryType=y),o}export{t as parsePBFFeatureQuery};\n"],"sourceRoot":""}