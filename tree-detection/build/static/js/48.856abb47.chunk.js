(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[48,6,16,115],{1066:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return re}));var n=r(21),a=r(7),i=r.n(a),o=r(12),s=r(2),c=r(4),u=r(8),l=r(77),p=r(65),b=r(5),d=r(6),f=r(0),y=(r(114),r(214)),j=(r(700),r(686),r(688),r(689),r(663),r(687),r(701),r(715)),v=r(691),h=r(677),O=r(1),m=(r(19),r(14),r(15),r(10)),g=r(43),w=r(236),S=r(682),x=r(22),k=r(29),T=r(142),F=r(11),I=r(987),R=r(668),P=r(45),E="http://www.opengis.net/def/crs/OGC/1.3/CRS84",N=function(e){Object(b.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.apply(this,arguments)).featureDefinition=null,e.type="ogc-feature",e}return Object(c.a)(r,[{key:"load",value:function(e){return this.addResolvingPromise(this._loadOGCServices(this.layer,e)),this.when()}},{key:"getFeatureDefinition",value:function(){var e=this.featureDefinition,t=e.collection,r=e.layerDefinition,n=e.spatialReference,a=e.supportedCrs,i=this.layer,o=i.apiKey;return{capabilities:i.capabilities,collection:t,layerDefinition:r,queryParameters:{apiKey:o,customParameters:i.customParameters},spatialReference:n,supportedCrs:a}}},{key:"queryExtent",value:function(e){return null}},{key:"queryFeatureCount",value:function(e){return null}},{key:"queryFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.queryFeaturesJSON(e,t).then((function(e){return R.default.fromJSON(e)}))}},{key:"queryFeaturesJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getFeatureDefinition();return this.load(t).then((function(){return Object(I.g)(r,e,t)}))}},{key:"queryObjectIds",value:function(e){return null}},{key:"supportsSpatialReference",value:function(e){return!(!e.isWGS84&&!e.isWebMercator)||!!this.featureDefinition.supportedCrs[e.wkid]}},{key:"_conformsToType",value:function(e,t){var r,n=new RegExp("^".concat(t,"$"),"i");return null!=(r=e.conformsTo.some((function(e){return n.test(e)})))&&r}},{key:"_getCapabilities",value:function(e,t){var r,n,a,i,o,s,c,u=Object(F.j)(t)?null==(r=t.components)?void 0:r.parameters:null;return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},query:{maxRecordCount:null!=(n=null!=(a=null==u||null==(i=u.limit)||null==(o=i.schema)?void 0:o.maximum)?a:null==u||null==(s=u.limitFeatures)||null==(c=s.schema)?void 0:c.maximum)?n:5e3,maxRecordCountFactor:void 0,standardMaxRecordCount:void 0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,supportsSqlExpression:!1,tileMaxRecordCount:void 0},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUploadWithItemId:!1,supportsUpdateWithoutM:!1}}}},{key:"_getExtent",value:function(e){var t,r=null==(t=e.extent)?void 0:t.spatial;if(!r)return null;var n=r.bbox[0],a=4===n.length,i=n[0],o=n[1],s=a?void 0:n[2];return{xmin:i,ymin:o,xmax:a?n[2]:n[3],ymax:a?n[3]:n[4],zmin:s,zmax:a?void 0:n[5],spatialReference:P.a.WGS84.toJSON()}}},{key:"_getStorageSpatialReference",value:function(e){var t,r=null!=(t=e.storageCrs)?t:E,n=Object(I.f)(r);return Object(F.i)(n)?P.a.WGS84:new P.a({wkid:n})}},{key:"_getSupportedSpatialReferences",value:function(e,t){var r,n="#/crs",a=null!=(r=e.crs)?r:[E],i=a.includes(n)?a.filter((function(e){return e!==n})).concat(t.crs):a,o=/^http:\/\/www\.opengis.net\/def\/crs\/epsg\/.*\/3785$/i;return i.filter((function(e){return!o.test(e)}))}},{key:"_loadOGCServices",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a,o,s,c,u,l,p,b,d,f,y,j,v,h,O,m,g,S,T,R,P,E,N,V,M,D,C,L,_;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(F.j)(r)?r.signal:null,o=t.apiKey,s=t.collectionId,c=t.customParameters,u=t.fields,l=t.geometryType,p=t.hasZ,b=t.objectIdField,d=t.timeInfo,f=t.url,y={fields:null==u?void 0:u.map((function(e){return e.toJSON()})),geometryType:w.c.toJSON(l),hasZ:p,objectIdField:b,timeInfo:null==d?void 0:d.toJSON()},j={apiKey:o,customParameters:c,signal:a},e.next=14,Object(I.d)(f,j);case 14:return v=e.sent,e.next=17,Promise.all([Object(I.c)(v,j),Object(I.b)(v,j)]);case 17:if(h=e.sent,O=Object(x.a)(h,2),m=O[0],g=O[1],this._conformsToType(m,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/geojson")){e.next=23;break}throw new k.a("ogc-feature-layer:no-geojson-support","Server does not support geojson");case 23:if(S=g.collections.find((function(e){return e.id===s})),S){e.next=26;break}throw new k.a("ogc-feature-layer:collection-not-found","Server does not contain the named collection");case 26:if(!this._conformsToType(m,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/oas30")){e.next=32;break}return e.next=29,Object(I.e)(v,j);case 29:e.t0=e.sent,e.next=33;break;case 32:e.t0=null;case 33:return T=e.t0,e.next=36,Object(I.a)(S,y,j);case 36:R=e.sent,P=this._getCapabilities(R.hasZ,T),E=this._getExtent(S),N=this._getStorageSpatialReference(S).toJSON(),V=this._getSupportedSpatialReferences(S,g),M={},D=Object(n.a)(V);try{for(D.s();!(C=D.n()).done;)L=C.value,_=Object(I.f)(L),Object(F.j)(_)&&(M[_]=L)}catch(i){D.e(i)}finally{D.f()}R.extent=E,this.featureDefinition={capabilities:P,collection:S,layerDefinition:R,queryParameters:{},spatialReference:N,supportedCrs:M};case 45:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(T.a);Object(f.a)([Object(O.b)()],N.prototype,"featureDefinition",void 0),Object(f.a)([Object(O.b)({constructOnly:!0})],N.prototype,"layer",void 0),Object(f.a)([Object(O.b)()],N.prototype,"type",void 0);var V=N=Object(f.a)([Object(m.a)("esri.layers.graphics.sources.OGCFeatureSource")],N),M=r(724),D=r(730),C=r(721),L=r(709),_=r(756),q=r(699),z=r(697),G=r(716),A=r(719),B=r(671),U=r(746),J=r(733),Z=r(666),H=r(728),Q=r(209),K=r(675),W=r(740),$=r(670),Y=r(755),X=r(58),ee=Object(H.a)(),te=function(e){Object(b.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).collectionId=null,n.copyright=null,n.definitionExpression=null,n.description=null,n.displayField=null,n.elevationInfo=null,n.featureReduction=null,n.fields=null,n.fieldsIndex=null,n.fullExtent=null,n.geometryType=null,n.hasZ=void 0,n.labelingInfo=null,n.labelsVisible=!0,n.legendEnabled=!0,n.objectIdField=null,n.operationalLayerType="OGCFeatureLayer",n.popupEnabled=!0,n.popupTemplate=null,n.screenSizePerspectiveEnabled=!0,n.source=new V({layer:Object(u.a)(n)}),n.spatialReference=null,n.title=null,n.type="ogc-feature",n.typeIdField=null,n.types=null,n.url=null,n}return Object(c.a)(r,[{key:"destroy",value:function(){var e;null==(e=this.source)||e.destroy()}},{key:"load",value:function(e){var t=this;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["OGCFeatureServer"]},e).then((function(){return t._fetchService(e)}))),this.when()}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"writeWebSceneFeatureReduction",value:function(e,t,r,n){Object(U.d)(e,t,"layerDefinition.featureReduction",n)}},{key:"isTable",get:function(){return this.loaded&&null==this.geometryType}},{key:"renderer",set:function(e){Object(Q.e)(e,this.fieldsIndex),this._set("renderer",e)}},{key:"on",value:function(e,t){return Object(l.a)(Object(p.a)(r.prototype),"on",this).call(this,e,t)}},{key:"createPopupTemplate",value:function(e){return Object(Y.a)(this,e)}},{key:"createQuery",value:function(){return new $.a}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"getFieldDomain",value:function(e,t){var r,n,a=this,i=!1,o=null==t||null==(r=t.feature)?void 0:r.attributes,s=this.typeIdField&&(null==o?void 0:o[this.typeIdField]);return null!=s&&this.types&&(i=this.types.some((function(t){var r,i;return t.id==s&&("inherited"===(null==(i=n=null==(r=t.domains)?void 0:r[e])?void 0:i.type)&&(n=a._getLayerDomain(e)),!0)}))),i||n||(n=this._getLayerDomain(e)),n}},{key:"queryFeatures",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatures($.a.from(e)||r.createQuery(),t)})).then((function(e){var t;return null==e||null==(t=e.features)||t.forEach((function(e){e.layer=e.sourceLayer=r})),e}))}},{key:"_fetchService",value:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.source.load(t);case 2:this.read(this.source.featureDefinition,{origin:"service"}),Object(Q.e)(this.renderer,this.fieldsIndex),Object(Q.f)(this.timeInfo,this.fieldsIndex);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getLayerDomain",value:function(e){if(!this.fields)return null;var t,r=Object(n.a)(this.fields);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.name===e&&a.domain)return a.domain}}catch(i){r.e(i)}finally{r.f()}return null}}]),r}(Object(M.a)(Object(C.a)(Object(D.a)(Object(_.a)(Object(A.a)(Object(G.a)(Object(L.a)(Object(q.a)(Object(z.a)(Object(h.a)(S.a)))))))))));Object(f.a)([Object(O.b)({readOnly:!0,json:{origins:{service:{read:!0}}}})],te.prototype,"capabilities",void 0),Object(f.a)([Object(O.b)({type:String,json:{write:!0}})],te.prototype,"collectionId",void 0),Object(f.a)([Object(O.b)({type:String})],te.prototype,"copyright",void 0),Object(f.a)([Object(O.b)({readOnly:!0})],te.prototype,"defaultPopupTemplate",null),Object(f.a)([Object(O.b)({type:String})],te.prototype,"definitionExpression",void 0),Object(f.a)([Object(O.b)({readOnly:!0,type:String,json:{origins:{service:{name:"collection.description"}}}})],te.prototype,"description",void 0),Object(f.a)([Object(O.b)({type:String})],te.prototype,"displayField",void 0),Object(f.a)([Object(O.b)(B.b)],te.prototype,"elevationInfo",void 0),Object(f.a)([Object(O.b)(U.a)],te.prototype,"featureReduction",void 0),Object(f.a)([Object(g.a)("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:U.c}})],te.prototype,"writeWebSceneFeatureReduction",null),Object(f.a)([Object(O.b)({type:[Z.a],json:{origins:{service:{name:"layerDefinition.fields"}}}})],te.prototype,"fields",void 0),Object(f.a)([Object(O.b)(ee.fieldsIndex)],te.prototype,"fieldsIndex",void 0),Object(f.a)([Object(O.b)({readOnly:!0,type:X.a,json:{origins:{service:{name:"layerDefinition.extent"}}}})],te.prototype,"fullExtent",void 0),Object(f.a)([Object(O.b)({type:w.a.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:w.a.read}}}}})],te.prototype,"geometryType",void 0),Object(f.a)([Object(O.b)({type:Boolean,json:{origins:{service:{name:"layerDefinition.hasZ"}}}})],te.prototype,"hasZ",void 0),Object(f.a)([Object(O.b)({type:Boolean,readOnly:!0})],te.prototype,"isTable",null),Object(f.a)([Object(O.b)({type:[K.a],json:{origins:{"web-document":{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:W.a},write:!0}}}})],te.prototype,"labelingInfo",void 0),Object(f.a)([Object(O.b)(B.d)],te.prototype,"labelsVisible",void 0),Object(f.a)([Object(O.b)(B.e)],te.prototype,"legendEnabled",void 0),Object(f.a)([Object(O.b)({type:String,json:{origins:{service:{name:"layerDefinition.objectIdField"}}}})],te.prototype,"objectIdField",void 0),Object(f.a)([Object(O.b)({type:["OGCFeatureLayer"]})],te.prototype,"operationalLayerType",void 0),Object(f.a)([Object(O.b)(B.j)],te.prototype,"popupEnabled",void 0),Object(f.a)([Object(O.b)({type:y.a,json:{name:"popupInfo",write:!0}})],te.prototype,"popupTemplate",void 0),Object(f.a)([Object(O.b)({types:v.a,json:{origins:{service:{name:"layerDefinition.drawingInfo.renderer",write:!1},"web-scene":{types:v.b,name:"layerDefinition.drawingInfo.renderer",write:{writer:j.c}}},name:"layerDefinition.drawingInfo.renderer",write:!0}})],te.prototype,"renderer",null),Object(f.a)([Object(O.b)({type:Boolean})],te.prototype,"screenSizePerspectiveEnabled",void 0),Object(f.a)([Object(O.b)({readOnly:!0})],te.prototype,"source",void 0),Object(f.a)([Object(O.b)({readOnly:!0,type:P.a,json:{origins:{service:{read:!0}}}})],te.prototype,"spatialReference",void 0),Object(f.a)([Object(O.b)({type:String,json:{write:{enabled:!0,ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"collection.title"}}}})],te.prototype,"title",void 0),Object(f.a)([Object(O.b)({readOnly:!0,json:{read:!1}})],te.prototype,"type",void 0),Object(f.a)([Object(O.b)({type:String,readOnly:!0})],te.prototype,"typeIdField",void 0),Object(f.a)([Object(O.b)({type:[J.a]})],te.prototype,"types",void 0),Object(f.a)([Object(O.b)(B.n)],te.prototype,"url",void 0);var re=te=Object(f.a)([Object(m.a)("esri.layers.OGCFeatureLayer")],te)},660:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(2),a=r(5),i=r(6),o=r(0),s=r(42),c=r(26),u=r(1),l=(r(19),r(14),r(15),r(31)),p=r(10),b=new s.a({inherited:"inherited",codedValue:"coded-value",range:"range"}),d=function(e){Object(a.a)(r,e);var t=Object(i.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).name=null,a.type=null,a}return r}(c.a);Object(o.a)([Object(u.b)({type:String,json:{write:!0}})],d.prototype,"name",void 0),Object(o.a)([Object(l.a)(b)],d.prototype,"type",void 0);var f=d=Object(o.a)([Object(p.a)("esri.layers.support.Domain")],d)},661:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=(r(1),r(19),r(14),r(15),r(31)),l=r(10),p=r(660),b=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).type="inherited",n}return Object(i.a)(r,[{key:"clone",value:function(){return new n}}]),r}(p.a);Object(c.a)([Object(u.a)({inherited:"inherited"})],b.prototype,"type",void 0);var d=b=n=Object(c.a)([Object(l.a)("esri.layers.support.InheritedDomain")],b)},662:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(1),l=(r(19),r(14),r(15),r(31)),p=r(10),b=r(660),d=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).maxValue=null,n.minValue=null,n.type="range",n}return Object(i.a)(r,[{key:"clone",value:function(){return new n({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),r}(b.a);Object(c.a)([Object(u.b)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,r){t[r]=[this.minValue||0,e]}}}})],d.prototype,"maxValue",void 0),Object(c.a)([Object(u.b)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,r){t[r]=[e,this.maxValue||0]}}}})],d.prototype,"minValue",void 0),Object(c.a)([Object(l.a)({range:"range"})],d.prototype,"type",void 0);var f=d=n=Object(c.a)([Object(p.a)("esri.layers.support.RangeDomain")],d)},664:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(18),l=r(1),p=(r(14),r(19),r(15),r(31)),b=r(10),d=r(26),f=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).name=null,n.code=null,n}return Object(i.a)(r,[{key:"clone",value:function(){return new n({name:this.name,code:this.code})}}]),r}(d.a);Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],f.prototype,"name",void 0),Object(c.a)([Object(l.b)({type:[String,Number],json:{write:!0}})],f.prototype,"code",void 0);var y,j=f=n=Object(c.a)([Object(b.a)("esri.layers.support.CodedValue")],f),v=r(660),h=y=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).codedValues=null,n.type="coded-value",n}return Object(i.a)(r,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((function(e){return String(e.code)===r&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new y({codedValues:Object(u.a)(this.codedValues),name:this.name})}}]),r}(v.a);Object(c.a)([Object(l.b)({type:[j],json:{write:!0}})],h.prototype,"codedValues",void 0),Object(c.a)([Object(p.a)({codedValue:"coded-value"})],h.prototype,"type",void 0);var O=h=y=Object(c.a)([Object(b.a)("esri.layers.support.CodedValueDomain")],h)},666:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(42),l=r(26),p=r(1),b=(r(19),r(14)),d=(r(15),r(31)),f=r(57),y=r(10),j=r(679),v=r(690),h=new u.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),O=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).alias=null,n.defaultValue=void 0,n.description=null,n.domain=null,n.editable=!0,n.length=-1,n.name=null,n.nullable=!0,n.type=null,n.valueType=null,n}return Object(i.a)(r,[{key:"readDescription",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(a){}return r?r.value:null}},{key:"readValueType",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(a){}return r?h.fromJSON(r.fieldValueType):null}},{key:"clone",value:function(){return new n({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}}]),r}(l.a);Object(c.a)([Object(p.b)({type:String,json:{write:!0}})],O.prototype,"alias",void 0),Object(c.a)([Object(p.b)({type:[String,Number],json:{write:{allowNull:!0}}})],O.prototype,"defaultValue",void 0),Object(c.a)([Object(p.b)()],O.prototype,"description",void 0),Object(c.a)([Object(f.a)("description")],O.prototype,"readDescription",null),Object(c.a)([Object(p.b)({types:j.b,json:{read:{reader:j.a},write:!0}})],O.prototype,"domain",void 0),Object(c.a)([Object(p.b)({type:Boolean,json:{write:!0}})],O.prototype,"editable",void 0),Object(c.a)([Object(p.b)({type:b.a,json:{write:!0}})],O.prototype,"length",void 0),Object(c.a)([Object(p.b)({type:String,json:{write:!0}})],O.prototype,"name",void 0),Object(c.a)([Object(p.b)({type:Boolean,json:{write:!0}})],O.prototype,"nullable",void 0),Object(c.a)([Object(d.a)(v.a)],O.prototype,"type",void 0),Object(c.a)([Object(p.b)()],O.prototype,"valueType",void 0),Object(c.a)([Object(f.a)("valueType",["description"])],O.prototype,"readValueType",null);var m=O=n=Object(c.a)([Object(y.a)("esri.layers.support.Field")],O)},668:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return x}));var n=r(22),a=r(21),i=r(2),o=r(4),s=r(5),c=r(6),u=r(0),l=r(114),p=r(210),b=r(42),d=r(26),f=r(11),y=r(1),j=(r(19),r(14),r(15),r(57)),v=r(10),h=r(43),O=r(45),m=r(62),g=r(666),w=new b.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),S=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return Object(o.a)(r,[{key:"readFeatures",value:function(e,t){for(var r=O.a.fromJSON(t.spatialReference),n=[],a=0;a<e.length;a++){var i=e[a],o=p.a.fromJSON(i),s=i.geometry&&i.geometry.spatialReference;Object(f.j)(o.geometry)&&!s&&(o.geometry.spatialReference=r),n.push(o)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)w.write(e,t,r,n);else{var i=this.features;if(i){var o,s=Object(a.a)(i);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c&&Object(f.j)(c.geometry))return void w.write(c.geometry.type,t,r,n)}}catch(u){s.e(u)}finally{s.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=Object(m.a)(e);return!r&&t.spatialReference&&(n.spatialReference=O.a.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n,i=Object(a.a)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o&&Object(f.j)(o.geometry)&&o.geometry.spatialReference)return void(t.spatialReference=o.geometry.spatialReference.toJSON())}}catch(s){i.e(s)}finally{i.f()}}}}},{key:"toJSON",value:function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var a=e&&e[r];n.geometry=a&&a.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=Object(n.a)(e.scale,2),r=t[0],a=t[1],i=Object(n.a)(e.translate,2),o=i[0],s=i[1],c=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-o)/r)}),(function(e){return Math.round((s-e)/a)})),l=0,p=c.length;l<p;l++)u(Object(f.q)(c[l].geometry))||(c.splice(l,1),l--,p--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var i,o=Object(n.a)(r.translate,2),s=o[0],c=o[1],u=Object(n.a)(r.scale,2),l=u[0],p=u[1],b=this._getHydrationFunction(e,(function(e){return e*l+s}),(function(e){return c-e*p})),d=Object(a.a)(t);try{for(d.s();!(i=d.n()).done;){var y=i.value.geometry;Object(f.j)(y)&&b(y)}}catch(j){d.e(j)}finally{d.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,a,i=[],o=0,s=e.length;o<s;o++){var c=e[o];if(o>0){var u=t(c[0]),l=r(c[1]);u===n&&l===a||(i.push([u-n,l-a]),n=u,a=l)}else n=t(c[0]),a=r(c[1]),i.push([n,a])}return i.length>0?i:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var a=Object(m.g)(e)?e.rings:e.paths,i=[],o=0,s=a.length;o<s;o++){var c=a[o],u=n._quantizePoints(c,t,r);u&&i.push(u)}return i.length>0?(Object(m.g)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?function(e){var a=n._quantizePoints(e.points,t,r);return a.length>0?(e.points=a,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,a,i=Object(m.g)(e)?e.rings:e.paths,o=0,s=i.length;o<s;o++)for(var c=i[o],u=0,l=c.length;u<l;u++){var p=c[u];u>0?(n+=p[0],a+=p[1]):(n=p[0],a=p[1]),p[0]=t(n),p[1]=r(a)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,a,i=e.points,o=0,s=i.length;o<s;o++){var c=i[o];o>0?(n+=c[0],a+=c[1]):(n=c[0],a=c[1]),c[0]=t(n),c[1]=r(a)}}:void 0}}]),r}(d.a);Object(u.a)([Object(y.b)({type:String,json:{write:!0}})],S.prototype,"displayFieldName",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],S.prototype,"exceededTransferLimit",void 0),Object(u.a)([Object(y.b)({type:[p.a],json:{write:!0}})],S.prototype,"features",void 0),Object(u.a)([Object(j.a)("features")],S.prototype,"readFeatures",null),Object(u.a)([Object(y.b)({type:[g.a],json:{write:!0}})],S.prototype,"fields",void 0),Object(u.a)([Object(y.b)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:w.read}}})],S.prototype,"geometryType",void 0),Object(u.a)([Object(h.a)("geometryType")],S.prototype,"writeGeometryType",null),Object(u.a)([Object(y.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],S.prototype,"hasM",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],S.prototype,"hasZ",void 0),Object(u.a)([Object(y.b)({types:l.a,json:{write:!0}})],S.prototype,"queryGeometry",void 0),Object(u.a)([Object(j.a)("queryGeometry")],S.prototype,"readQueryGeometry",null),Object(u.a)([Object(y.b)({type:O.a,json:{write:!0}})],S.prototype,"spatialReference",void 0),Object(u.a)([Object(h.a)("spatialReference")],S.prototype,"writeSpatialReference",null),Object(u.a)([Object(y.b)({json:{write:!0}})],S.prototype,"transform",void 0),(S=Object(u.a)([Object(v.a)("esri.rest.support.FeatureSet")],S)).prototype.toJSON.isDefaultToJSON=!0,S||(S={});var x=S},669:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(42),a=Object(n.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},670:function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(114),l=r(665),p=r(42),b=r(26),d=r(18),f=r(11),y=r(1),j=r(97),v=(r(19),r(15),r(31)),h=r(10),O=r(43),m=r(14),g=r(62),w=r(673),S=r(717),x=r(714),k=r(45),T=r(48),F=new p.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),I=new p.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),R=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).aggregateIds=null,n.cacheHint=void 0,n.datumTransformation=null,n.distance=void 0,n.dynamicDataSource=void 0,n.formatOf3DObjects=null,n.gdbVersion=null,n.geometry=null,n.geometryPrecision=void 0,n.groupByFieldsForStatistics=null,n.having=null,n.historicMoment=null,n.maxAllowableOffset=void 0,n.maxRecordCountFactor=1,n.multipatchOption=null,n.num=void 0,n.objectIds=null,n.orderByFields=null,n.outFields=null,n.outSpatialReference=null,n.outStatistics=null,n.parameterValues=null,n.pixelSize=null,n.quantizationParameters=null,n.rangeValues=null,n.relationParameter=null,n.resultType=null,n.returnCentroid=!1,n.returnDistinctValues=!1,n.returnExceededLimitFeatures=!0,n.returnGeometry=!1,n.returnQueryGeometry=!1,n.returnM=void 0,n.returnZ=void 0,n.sourceSpatialReference=null,n.spatialRelationship="intersects",n.start=void 0,n.sqlFormat=null,n.text=null,n.timeExtent=null,n.timeReferenceUnknownClient=!1,n.units=null,n.where=null,n}return Object(i.a)(r,[{key:"castDatumTransformation",value:function(e){return"number"==typeof e||"object"==typeof e?e:null}},{key:"writeHistoricMoment",value:function(e,t){t.historicMoment=e&&e.getTime()}},{key:"writeParameterValues",value:function(e,t){if(e){var r={};for(var n in e){var a=e[n];Array.isArray(a)?r[n]=a.map((function(e){return e instanceof Date?e.getTime():e})):a instanceof Date?r[n]=a.getTime():r[n]=a}t.parameterValues=r}}},{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}},{key:"writeWhere",value:function(e,t){t.where=e||"1=1"}},{key:"clone",value:function(){return new n(Object(d.a)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:Object(f.j)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}}],[{key:"from",value:function(e){return Object(m.d)(n,e)}}]),r}(b.a);R.MAX_MAX_RECORD_COUNT_FACTOR=5,Object(c.a)([Object(y.b)({json:{write:!0}})],R.prototype,"aggregateIds",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{write:!0}})],R.prototype,"cacheHint",void 0),Object(c.a)([Object(y.b)({json:{write:!0}})],R.prototype,"datumTransformation",void 0),Object(c.a)([Object(j.a)("datumTransformation")],R.prototype,"castDatumTransformation",null),Object(c.a)([Object(y.b)({type:Number,json:{write:{overridePolicy:function(e){return{enabled:e>0}}}}})],R.prototype,"distance",void 0),Object(c.a)([Object(y.b)({type:w.a,json:{write:!0}})],R.prototype,"dynamicDataSource",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],R.prototype,"formatOf3DObjects",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],R.prototype,"gdbVersion",void 0),Object(c.a)([Object(y.b)({types:u.a,json:{read:g.a,write:!0}})],R.prototype,"geometry",void 0),Object(c.a)([Object(y.b)({type:Number,json:{write:!0}})],R.prototype,"geometryPrecision",void 0),Object(c.a)([Object(y.b)({type:[String],json:{write:!0}})],R.prototype,"groupByFieldsForStatistics",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],R.prototype,"having",void 0),Object(c.a)([Object(y.b)({type:Date})],R.prototype,"historicMoment",void 0),Object(c.a)([Object(O.a)("historicMoment")],R.prototype,"writeHistoricMoment",null),Object(c.a)([Object(y.b)({type:Number,json:{write:!0}})],R.prototype,"maxAllowableOffset",void 0),Object(c.a)([Object(y.b)({type:Number,cast:function(e){return e<1?1:e>n.MAX_MAX_RECORD_COUNT_FACTOR?n.MAX_MAX_RECORD_COUNT_FACTOR:e},json:{write:{overridePolicy:function(e){return{enabled:e>1}}}}})],R.prototype,"maxRecordCountFactor",void 0),Object(c.a)([Object(y.b)({type:["xyFootprint"],json:{write:!0}})],R.prototype,"multipatchOption",void 0),Object(c.a)([Object(y.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],R.prototype,"num",void 0),Object(c.a)([Object(y.b)({json:{write:!0}})],R.prototype,"objectIds",void 0),Object(c.a)([Object(y.b)({type:[String],json:{write:!0}})],R.prototype,"orderByFields",void 0),Object(c.a)([Object(y.b)({type:[String],json:{write:!0}})],R.prototype,"outFields",void 0),Object(c.a)([Object(y.b)({type:k.a,json:{name:"outSR",write:!0}})],R.prototype,"outSpatialReference",void 0),Object(c.a)([Object(y.b)({type:[x.a],json:{write:{enabled:!0,overridePolicy:function(){return{enabled:Object(f.j)(this.outStatistics)&&this.outStatistics.length>0}}}}})],R.prototype,"outStatistics",void 0),Object(c.a)([Object(y.b)({json:{write:!0}})],R.prototype,"parameterValues",void 0),Object(c.a)([Object(O.a)("parameterValues")],R.prototype,"writeParameterValues",null),Object(c.a)([Object(y.b)({type:T.a,json:{write:!0}})],R.prototype,"pixelSize",void 0),Object(c.a)([Object(y.b)({type:S.a,json:{write:!0}})],R.prototype,"quantizationParameters",void 0),Object(c.a)([Object(y.b)({type:[Object],json:{write:!0}})],R.prototype,"rangeValues",void 0),Object(c.a)([Object(y.b)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(){return{enabled:"relation"===this.spatialRelationship}}}}})],R.prototype,"relationParameter",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],R.prototype,"resultType",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"returnCentroid",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"returnDistinctValues",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!0,write:!0}})],R.prototype,"returnExceededLimitFeatures",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{write:!0}})],R.prototype,"returnGeometry",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"returnQueryGeometry",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"returnM",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],R.prototype,"returnZ",void 0),Object(c.a)([Object(y.b)({type:k.a,json:{write:!0}})],R.prototype,"sourceSpatialReference",void 0),Object(c.a)([Object(v.a)(F,{ignoreUnknown:!1,name:"spatialRel"})],R.prototype,"spatialRelationship",void 0),Object(c.a)([Object(y.b)({type:Number,json:{read:{source:"resultOffset"}}})],R.prototype,"start",void 0),Object(c.a)([Object(O.a)("start"),Object(O.a)("num")],R.prototype,"writeStart",null),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],R.prototype,"sqlFormat",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:!0}})],R.prototype,"text",void 0),Object(c.a)([Object(y.b)({type:l.a,json:{write:!0}})],R.prototype,"timeExtent",void 0),Object(c.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"timeReferenceUnknownClient",void 0),Object(c.a)([Object(v.a)(I,{ignoreUnknown:!1}),Object(y.b)({json:{write:{overridePolicy:function(e){return{enabled:e&&this.distance>0}}}}})],R.prototype,"units",void 0),Object(c.a)([Object(y.b)({type:String,json:{write:{overridePolicy:function(e){return{enabled:null!=e||this.start>0}}}}})],R.prototype,"where",void 0),Object(c.a)([Object(O.a)("where")],R.prototype,"writeWhere",null);var P=R=n=Object(c.a)([Object(h.a)("esri.rest.support.Query")],R)},672:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(21),a=r(2),i=r(4);function o(e){return"date"===e.type||"esriFieldTypeDate"===e.type}var s=function(){function e(t){if(Object(a.a)(this,e),this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],t){var r,i=[],s=Object(n.a)(t);try{for(s.s();!(r=s.n()).done;){var u=r.value,l=u&&u.name;if(l){var p=c(l);this._fieldsMap.set(l,u),this._fieldsMap.set(p,u),i.push(p),o(u)&&(this.dateFields.push(u),this._dateFieldsSet.add(u))}}}catch(b){s.e(b)}finally{s.f()}i.sort(),this.uid=i.join(",")}}return Object(i.a)(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(c(e)):void 0}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t=this.get(e);if(t)return t.name}}]),e}();function c(e){return e.toLowerCase().trim()}},673:function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n,a,i=r(2),o=r(4),s=r(5),c=r(6),u=r(0),l=r(42),p=r(26),b=r(1),d=(r(19),r(97)),f=(r(15),r(31)),y=r(57),j=r(10),v=r(14),h=r(212),O=r(666),m=r(711),g=(r(114),r(45)),w=r(236),S=n=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="query-table",n}return Object(o.a)(r,[{key:"clone",value:function(){var e,t=this.workspaceId,r=this.query,a=this.oidFields,i=this.spatialReference,o=this.geometryType,s={workspaceId:t,query:r,oidFields:a,spatialReference:null!=(e=null==i?void 0:i.clone())?e:void 0,geometryType:o};return new n(s)}}]),r}(p.a);Object(u.a)([Object(f.a)({queryTable:"query-table"})],S.prototype,"type",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],S.prototype,"workspaceId",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],S.prototype,"query",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],S.prototype,"oidFields",void 0),Object(u.a)([Object(b.b)({type:g.a,json:{write:!0}})],S.prototype,"spatialReference",void 0),Object(u.a)([Object(f.a)(w.a)],S.prototype,"geometryType",void 0),S=n=Object(u.a)([Object(j.a)("esri.layers.support.source.QueryTableDataSource")],S);var x,k=a=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="raster",n}return Object(o.a)(r,[{key:"clone",value:function(){var e=this.workspaceId,t=this.dataSourceName;return new a({workspaceId:e,dataSourceName:t})}}]),r}(p.a);Object(u.a)([Object(f.a)({raster:"raster"})],k.prototype,"type",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],k.prototype,"dataSourceName",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],k.prototype,"workspaceId",void 0),k=a=Object(u.a)([Object(j.a)("esri.layers.support.source.RasterDataSource")],k);var T,F,I=x=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="table",n}return Object(o.a)(r,[{key:"clone",value:function(){var e=this.workspaceId,t=this.gdbVersion,r=this.dataSourceName;return new x({workspaceId:e,gdbVersion:t,dataSourceName:r})}}]),r}(p.a);Object(u.a)([Object(f.a)({table:"table"})],I.prototype,"type",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],I.prototype,"workspaceId",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],I.prototype,"gdbVersion",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],I.prototype,"dataSourceName",void 0),I=x=Object(u.a)([Object(j.a)("esri.layers.support.source.TableDataSource")],I);var R=Object(l.b)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"}),P=T=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="join-table",n}return Object(o.a)(r,[{key:"readLeftTableSource",value:function(e,t,r){return N()(e,t,r)}},{key:"castLeftTableSource",value:function(e){return Object(v.k)(M(),e)}},{key:"readRightTableSource",value:function(e,t,r){return N()(e,t,r)}},{key:"castRightTableSource",value:function(e){return Object(v.k)(M(),e)}},{key:"clone",value:function(){var e,t,r=this.leftTableKey,n=this.rightTableKey,a=this.leftTableSource,i=this.rightTableSource,o=this.joinType,s={leftTableKey:r,rightTableKey:n,leftTableSource:null!=(e=null==a?void 0:a.clone())?e:void 0,rightTableSource:null!=(t=null==i?void 0:i.clone())?t:void 0,joinType:o};return new T(s)}}]),r}(p.a);Object(u.a)([Object(f.a)({joinTable:"join-table"})],P.prototype,"type",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],P.prototype,"leftTableKey",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],P.prototype,"rightTableKey",void 0),Object(u.a)([Object(b.b)({json:{write:!0}})],P.prototype,"leftTableSource",void 0),Object(u.a)([Object(y.a)("leftTableSource")],P.prototype,"readLeftTableSource",null),Object(u.a)([Object(d.a)("leftTableSource")],P.prototype,"castLeftTableSource",null),Object(u.a)([Object(b.b)({json:{write:!0}})],P.prototype,"rightTableSource",void 0),Object(u.a)([Object(y.a)("rightTableSource")],P.prototype,"readRightTableSource",null),Object(u.a)([Object(d.a)("rightTableSource")],P.prototype,"castRightTableSource",null),Object(u.a)([Object(f.a)(R)],P.prototype,"joinType",void 0),P=T=Object(u.a)([Object(j.a)("esri.layers.support.source.JoinTableDataSource")],P);var E=null;function N(){return E||(E=Object(h.b)({types:M()})),E}var V=null;function M(){return V||(V={key:"type",base:null,typeMap:{"data-layer":C,"map-layer":m.a}}),V}var D={key:"type",base:null,typeMap:{"join-table":P,"query-table":S,raster:k,table:I}},C=F=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="data-layer",n}return Object(o.a)(r,[{key:"clone",value:function(){var e=this.fields,t=this.dataSource;return new F({fields:e,dataSource:t})}}]),r}(p.a);Object(u.a)([Object(f.a)({dataLayer:"data-layer"})],C.prototype,"type",void 0),Object(u.a)([Object(b.b)({type:[O.a],json:{write:!0}})],C.prototype,"fields",void 0),Object(u.a)([Object(b.b)({types:D,json:{write:!0}})],C.prototype,"dataSource",void 0),(C=F=Object(u.a)([Object(j.a)("esri.layers.support.source.DataLayerSource")],C)).from=Object(v.m)(C)},675:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(332),l=r(42),p=r(26),b=r(18),d=r(1),f=(r(14),r(19),r(15),r(57)),y=r(10),j=r(43),v=r(693),h=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).expression=null,e.title=null,e.value=null,e}return Object(i.a)(r,[{key:"readExpression",value:function(e,t){return t.value?Object(v.a)(t.value):e}},{key:"writeExpression",value:function(e,t,r){null!=this.value&&(e=Object(v.a)(this.value)),t[r]=e}},{key:"clone",value:function(){return new n({expression:this.expression,title:this.title,value:this.value})}}]),r}(p.a);Object(c.a)([Object(d.b)({type:String,json:{write:{allowNull:!0}}})],h.prototype,"expression",void 0),Object(c.a)([Object(f.a)("expression",["expression","value"])],h.prototype,"readExpression",null),Object(c.a)([Object(j.a)("expression")],h.prototype,"writeExpression",null),Object(c.a)([Object(d.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],h.prototype,"title",void 0),Object(c.a)([Object(d.b)({json:{read:!1,write:!1}})],h.prototype,"value",void 0);var O,m=h=n=Object(c.a)([Object(y.a)("esri.layers.support.LabelExpressionInfo")],h),g=r(725),w=r(753),S=new l.a({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function x(e){return!e||"service"!==e.origin&&!k(e.layer)}function k(e){return"map-image"===(null==e?void 0:e.type)}function T(e){var t,r;return!!k(e)&&!(null==(t=e.capabilities)||null==(r=t.exportMap)||!r.supportsArcadeExpressionForLabeling)}var F=O=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).type="label",n.name=null,n.deconflictionStrategy="static",n.labelExpression=null,n.labelExpressionInfo=null,n.labelPlacement=null,n.maxScale=0,n.minScale=0,n.symbol=g.a,n.useCodedValues=void 0,n.where=null,n}return Object(i.a)(r,[{key:"readLabelExpression",value:function(e,t){var r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}},{key:"writeLabelExpression",value:function(e,t,r){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=Object(v.f)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){var n=Object(v.e)(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}null!=e&&(t[r]=e)}},{key:"writeLabelExpressionInfo",value:function(e,t,r,n){if(null==e&&null!=this.labelExpression&&x(n))e=new m({expression:this.getLabelExpressionArcade()});else if(!e)return;var a=e.toJSON(n);a.expression&&(t[r]=a)}},{key:"writeMaxScale",value:function(e,t){(e||this.minScale)&&(t.maxScale=e)}},{key:"writeMinScale",value:function(e,t){(e||this.maxScale)&&(t.minScale=e)}},{key:"getLabelExpression",value:function(){return Object(v.b)(this)}},{key:"getLabelExpressionArcade",value:function(){return Object(v.c)(this)}},{key:"getLabelExpressionSingleField",value:function(){return Object(v.d)(this)}},{key:"hash",value:function(){return JSON.stringify(this)}},{key:"clone",value:function(){return new O({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:Object(b.a)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:Object(b.a)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}}],[{key:"evaluateWhere",value:function(e,t){var r=function(e,t,r){switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;var n=e.split(" ");if(3===n.length)return r(t[n[0]],n[1],n[2]);if(7===n.length){var a=r(t[n[0]],n[1],n[2]),i=n[3],o=r(t[n[4]],n[5],n[6]);switch(i){case"AND":return a&&o;case"OR":return a||o}}return!1}catch(s){console.log("Error.: can't parse = "+e)}}}]),r}(p.a);Object(c.a)([Object(d.b)({type:String,json:{write:!0}})],F.prototype,"name",void 0),Object(c.a)([Object(d.b)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],F.prototype,"deconflictionStrategy",void 0),Object(c.a)([Object(d.b)({type:String,json:{write:{overridePolicy:function(e,t,r){return this.labelExpressionInfo&&"service"===(null==r?void 0:r.origin)&&T(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],F.prototype,"labelExpression",void 0),Object(c.a)([Object(f.a)("labelExpression")],F.prototype,"readLabelExpression",null),Object(c.a)([Object(j.a)("labelExpression")],F.prototype,"writeLabelExpression",null),Object(c.a)([Object(d.b)({type:m,json:{write:{overridePolicy:function(e,t,r){return function(e){return x(e)||T(e.layer)}(r)?{allowNull:!0}:{enabled:!1}}}}})],F.prototype,"labelExpressionInfo",void 0),Object(c.a)([Object(j.a)("labelExpressionInfo")],F.prototype,"writeLabelExpressionInfo",null),Object(c.a)([Object(d.b)({type:S.apiValues,json:{type:S.jsonValues,read:S.read,write:S.write}})],F.prototype,"labelPlacement",void 0),Object(c.a)([Object(d.b)({type:Number})],F.prototype,"maxScale",void 0),Object(c.a)([Object(j.a)("maxScale")],F.prototype,"writeMaxScale",null),Object(c.a)([Object(d.b)({type:Number})],F.prototype,"minScale",void 0),Object(c.a)([Object(j.a)("minScale")],F.prototype,"writeMinScale",null),Object(c.a)([Object(d.b)({types:u.g,json:{origins:{"web-scene":{types:u.h,write:w.b,default:null}},write:w.b,default:null}})],F.prototype,"symbol",void 0),Object(c.a)([Object(d.b)({type:Boolean,json:{write:!0}})],F.prototype,"useCodedValues",void 0),Object(c.a)([Object(d.b)({type:String,json:{write:!0}})],F.prototype,"where",void 0);var I=F=O=Object(c.a)([Object(y.a)("esri.layers.support.LabelClass")],F)},678:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(26),l=r(692),p=r(1),b=(r(19),r(14),r(15),r(10)),d=r(669),f=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).value=0,n.unit="milliseconds",n}return Object(i.a)(r,[{key:"toMilliseconds",value:function(){return Object(l.a)(this.value,this.unit,"milliseconds")}},{key:"clone",value:function(){return new n({value:this.value,unit:this.unit})}}]),r}(u.a);Object(c.a)([Object(p.b)({type:Number,json:{write:!0},nonNullable:!0})],f.prototype,"value",void 0),Object(c.a)([Object(p.b)({type:d.a.apiValues,json:{type:d.a.jsonValues,read:d.a.read,write:d.a.write},nonNullable:!0})],f.prototype,"unit",void 0);var y=f=n=Object(c.a)([Object(b.a)("esri.TimeInterval")],f)},679:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s}));r(19);var n=r(664),a=r(660),i=r(661),o=r(662),s={key:"type",base:a.a,typeMap:{range:o.a,"coded-value":n.a,inherited:i.a}};function c(e){if(!e||!e.type)return null;switch(e.type){case"range":return o.a.fromJSON(e);case"codedValue":return n.a.fromJSON(e);case"inherited":return i.a.fromJSON(e)}return null}},680:function(e,t,r){"use strict";r.d(t,"a",(function(){return Q})),r.d(t,"b",(function(){return te})),r.d(t,"c",(function(){return K})),r.d(t,"d",(function(){return $})),r.d(t,"e",(function(){return U})),r.d(t,"f",(function(){return W})),r.d(t,"g",(function(){return ee})),r.d(t,"h",(function(){return Y})),r.d(t,"i",(function(){return C})),r.d(t,"j",(function(){return k})),r.d(t,"k",(function(){return A})),r.d(t,"l",(function(){return q})),r.d(t,"m",(function(){return de})),r.d(t,"n",(function(){return ie})),r.d(t,"o",(function(){return ce})),r.d(t,"p",(function(){return be})),r.d(t,"q",(function(){return ne})),r.d(t,"r",(function(){return ae})),r.d(t,"s",(function(){return g})),r.d(t,"t",(function(){return w})),r.d(t,"u",(function(){return le})),r.d(t,"v",(function(){return re})),r.d(t,"w",(function(){return ue}));var n=r(23),a=r(22),i=r(21),o=r(29),s=r(15),c=r(11),u=r(62),l=r(731),p=r(773),b=r(681);function d(e,t){return e?t?4:3:t?3:2}var f=s.a.getLogger("esri.tasks.support.optimizedFeatureSet"),y={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},j=function(e,t,r,n,a,i){e[r]=a,e[r+1]=i},v=function(e,t,r,n,a,i){e[r]=a,e[r+1]=i,e[r+2]=t[n+2]},h=function(e,t,r,n,a,i){e[r]=a,e[r+1]=i,e[r+2]=t[n+3]},O=function(e,t,r,n,a,i){e[r]=a,e[r+1]=i,e[r+2]=t[n+2],e[r+3]=t[n+3]};function m(e,t,r,n){if(e){if(r)return t&&n?O:v;if(t&&n)return h}else if(t&&n)return v;return j}function g(e,t){var r=e.scale,n=e.translate;return Math.round((t-n[0])/r[0])}function w(e,t){var r=e.scale,n=e.translate;return Math.round((n[1]-t)/r[1])}function S(e,t){var r=e.scale,n=e.translate;return t*r[0]+n[0]}function x(e,t){var r=e.scale;return e.translate[1]-t*r[1]}function k(e,t,r){return e?t?r?N(e):I(e):r?P(e):T(e):null}function T(e){var t=e.coords;return{x:t[0],y:t[1]}}function F(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function I(e){var t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function R(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function P(e){var t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function E(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function N(e){var t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function V(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function M(e,t){return e&&t?V:e?R:t?E:F}function D(e,t,r,n,a){var o,s=M(r,n),c=Object(i.a)(t);try{for(c.s();!(o=c.n()).done;){var u=o.value,p=u.geometry,d=u.attributes,f=void 0;p&&(f=s(new b.a,p)),e.push(new l.b(f,d,null,d[a]))}}catch(y){c.e(y)}finally{c.f()}return e}function C(e,t,r){if(Object(c.i)(e))return null;for(var n=d(t,r),a=[],i=0;i<e.coords.length;i+=n){for(var o=[],s=0;s<n;s++)o.push(e.coords[i+s]);a.push(o)}return t?r?{points:a,hasZ:t,hasM:r}:{points:a,hasZ:t}:r?{points:a,hasM:r}:{points:a}}function L(e,t,r,n,a){var o,s=d(r,n),c=Object(i.a)(t);try{for(c.s();!(o=c.n()).done;){var u=o.value,p=u.geometry,f=u.attributes,y=void 0;p&&(y=_(new b.a,p,s)),e.push(new l.b(y,f,null,f[a]))}}catch(j){c.e(j)}finally{c.f()}return e}function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d(t.hasZ,t.hasM);e.lengths[0]=t.points.length;var n,a=e.coords,o=0,s=Object(i.a)(t.points);try{for(s.s();!(n=s.n()).done;)for(var c=n.value,u=0;u<r;u++)a[o++]=c[u]}catch(l){s.e(l)}finally{s.f()}return e}function q(e,t,r){if(!e)return null;var n,a=d(t,r),o=e.coords,s=e.lengths,c=[],u=0,l=Object(i.a)(s);try{for(l.s();!(n=l.n()).done;){for(var p=n.value,b=[],f=0;f<p;f++){for(var y=[],j=0;j<a;j++)y.push(o[u++]);b.push(y)}c.push(b)}}catch(v){l.e(v)}finally{l.f()}return t?r?{paths:c,hasZ:t,hasM:r}:{paths:c,hasZ:t}:r?{paths:c,hasM:r}:{paths:c}}function z(e,t,r,n,a){var o,s=d(r,n),c=Object(i.a)(t);try{for(c.s();!(o=c.n()).done;){var u=o.value,p=u.geometry,f=u.attributes,y=void 0;p&&(y=G(new b.a,p,s)),e.push(new l.b(y,f,null,f[a]))}}catch(j){c.e(j)}finally{c.f()}return e}function G(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d(t.hasZ,t.hasM),a=e.lengths,o=e.coords,s=0,c=Object(i.a)(t.paths);try{for(c.s();!(r=c.n()).done;){var u,l=r.value,p=Object(i.a)(l);try{for(p.s();!(u=p.n()).done;)for(var b=u.value,f=0;f<n;f++)o[s++]=b[f]}catch(y){p.e(y)}finally{p.f()}a.push(l.length)}}catch(y){c.e(y)}finally{c.f()}return e}function A(e,t,r){if(!e)return null;var n,a=d(t,r),o=e.coords,s=e.lengths,c=[],u=0,l=Object(i.a)(s);try{for(l.s();!(n=l.n()).done;){for(var p=n.value,b=[],f=0;f<p;f++){for(var y=[],j=0;j<a;j++)y.push(o[u++]);b.push(y)}c.push(b)}}catch(v){l.e(v)}finally{l.f()}return t?r?{rings:c,hasZ:t,hasM:r}:{rings:c,hasZ:t}:r?{rings:c,hasM:r}:{rings:c}}function B(e,t,r,n,a){var o,s=Object(i.a)(t);try{for(s.s();!(o=s.n()).done;){var u=o.value,p=u.geometry,d=u.centroid,f=u.attributes,y=void 0;p&&(y=U(new b.a,p,r,n)),Object(c.j)(d)?e.push(new l.b(y,f,F(new b.a,d),f[a])):e.push(new l.b(y,f,null,f[a]))}}catch(j){s.e(j)}finally{s.f()}return e}function U(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.hasZ,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.hasM;return J(e,t.rings,r,n),e}function J(e,t,r,n){var a=d(r,n),o=e.lengths,s=e.coords,c=0;o.length=s.length=0;var u,l=Object(i.a)(t);try{for(l.s();!(u=l.n()).done;){var p,b=u.value,f=Object(i.a)(b);try{for(f.s();!(p=f.n()).done;)for(var y=p.value,j=0;j<a;j++)s[c++]=y[j]}catch(v){f.e(v)}finally{f.f()}o.push(b.length)}}catch(v){l.e(v)}finally{l.f()}return e}var Z=[],H=[];function Q(e,t,r,n,i){Z[0]=e;var o=K(H,Z,t,r,n,i),s=Object(a.a)(o,1)[0];return Z.length=H.length=0,s}function K(e,t,r,n,a,s){if(e.length=0,!r){var c,u=Object(i.a)(t);try{for(u.s();!(c=u.n()).done;){var p=c.value,b=p.attributes[s];e.push(new l.b(null,p.attributes,null,b))}}catch(d){u.e(d)}finally{u.f()}return e}switch(r){case"esriGeometryPoint":return D(e,t,n,a,s);case"esriGeometryMultipoint":return L(e,t,n,a,s);case"esriGeometryPolyline":return z(e,t,n,a,s);case"esriGeometryPolygon":return B(e,t,n,a,s);default:f.error("convertToFeatureSet:unknown-geometry",new o.a("Unable to parse unknown geometry type '".concat(r,"'"))),e.length=0}return e}function W(e,t,r,n){H[0]=e,X(Z,H,t,r,n);var a=Z[0];return Z.length=H.length=0,a}function $(e,t,r){if(Object(c.i)(e))return null;var n=new b.a;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==r&&(r=e.hasM),Object(u.f)(e)?M(null!=t?t:null!=e.z,null!=r?r:null!=e.m)(n,e):Object(u.g)(e)?U(n,e,t,r):Object(u.h)(e)?G(n,e,d(t,r)):Object(u.e)(e)?_(n,e,d(t,r)):void f.error("convertFromGeometry:unknown-geometry",new o.a("Unable to parse unknown geometry type '".concat(e,"'")))}function Y(e,t,r,n){var a=e&&("coords"in e?e:e.geometry);if(Object(c.i)(a))return null;switch(t){case"esriGeometryPoint":var i=T;return r&&n?i=N:r?i=I:n&&(i=P),i(a);case"esriGeometryMultipoint":return C(a,r,n);case"esriGeometryPolyline":return q(a,r,n);case"esriGeometryPolygon":return A(a,r,n);default:return void f.error("convertToGeometry:unknown-geometry",new o.a("Unable to parse unknown geometry type '".concat(t,"'")))}}function X(e,t,r,n,a){if(e.length=0,Object(c.i)(r))return function(e,t){var r,n=Object(i.a)(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;e.push({attributes:a.attributes})}}catch(o){n.e(o)}finally{n.f()}return e}(e,t);switch(r){case"esriGeometryPoint":return function(e,t,r,n){var a=T;r&&n?a=N:r?a=I:n&&(a=P);var o,s=Object(i.a)(t);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=u.geometry,p=u.attributes,b=Object(c.j)(l)?a(l):null;e.push({attributes:p,geometry:b})}}catch(d){s.e(d)}finally{s.f()}return e}(e,t,n,a);case"esriGeometryMultipoint":return function(e,t,r,n){var a,o=Object(i.a)(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=s.geometry,u=s.attributes,l=void 0;c&&(l=C(c,r,n)),e.push({attributes:u,geometry:l})}}catch(p){o.e(p)}finally{o.f()}return e}(e,t,n,a);case"esriGeometryPolyline":return function(e,t,r,n){var a,o=Object(i.a)(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.geometry,l=s.attributes,p=void 0;Object(c.j)(u)&&(p=q(u,r,n)),e.push({attributes:l,geometry:p})}}catch(b){o.e(b)}finally{o.f()}return e}(e,t,n,a);case"esriGeometryPolygon":return function(e,t,r,n){var a,o=Object(i.a)(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.geometry,l=s.attributes,p=s.centroid,b=void 0;if(Object(c.j)(u)&&(b=A(u,r,n)),p){var d=T(p);e.push({attributes:l,centroid:d,geometry:b})}else e.push({attributes:l,geometry:b})}}catch(f){o.e(f)}finally{o.f()}return e}(e,t,n,a);default:f.error("convertToFeatureSet:unknown-geometry",new o.a("Unable to parse unknown geometry type '".concat(r,"'")))}return e}function ee(e){var t=e.objectIdFieldName,r=e.spatialReference,n=e.transform,a=e.fields,i=e.hasM,o=e.hasZ,s=e.features,c=e.geometryType,u=e.exceededTransferLimit,l=e.uniqueIdField,p=e.queryGeometry,b=e.queryGeometryType,d={features:X([],s,c,o,i),fields:a,geometryType:c,objectIdFieldName:t,spatialReference:r,uniqueIdField:l,queryGeometry:Y(p,b,!1,!1)};return n&&(d.transform=n),u&&(d.exceededTransferLimit=u),i&&(d.hasM=i),o&&(d.hasZ=o),d}function te(e,t){var r=new p.a,n=e.hasM,a=e.hasZ,i=e.features,s=e.objectIdFieldName,c=e.spatialReference,u=e.geometryType,l=e.exceededTransferLimit,b=e.transform,d=e.fields;return d&&(r.fields=d),r.geometryType=u,r.objectIdFieldName=s||t,r.spatialReference=c,r.objectIdFieldName?(i&&K(r.features,i,u,a,n,r.objectIdFieldName),l&&(r.exceededTransferLimit=l),n&&(r.hasM=n),a&&(r.hasZ=a),b&&(r.transform=b),r):(f.error(new o.a("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),r)}function re(e){var t=e.transform,r=e.features,n=e.hasM,a=e.hasZ;if(!t)return e;var o,s=Object(i.a)(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;Object(c.j)(u.geometry)&&ue(u.geometry,u.geometry,n,a,t),u.centroid&&ue(u.centroid,u.centroid,n,a,t)}}catch(l){s.e(l)}finally{s.f()}return e.transform=null,e}function ne(e,t){var r=t.geometryType,n=t.features,a=t.hasM,i=t.hasZ;if(!e)return t;for(var o=0;o<n.length;o++){var s=n[o],c=s.weakClone();c.geometry=new b.a,ae(c.geometry,s.geometry,a,i,r,e),s.centroid&&(c.centroid=new b.a,ae(c.centroid,s.centroid,a,i,"esriGeometryPoint",e)),n[o]=c}return t.transform=e,t}function ae(e,t,r,n,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n;if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),Object(c.i)(t)||!t.coords.length)return null;var l=y[a],p=t.coords,b=t.lengths,f=d(r,n),j=d(r&&s,n&&u),v=m(r,n,s,u);if(!b.length)return v(e.coords,p,0,0,g(o,p[0]),w(o,p[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=f,e;var h,O,S,x,k,T=0,F=0,I=F,R=Object(i.a)(b);try{for(R.s();!(k=R.n()).done;){var P=k.value;if(!(P<l)){var E=0;F=I,S=h=g(o,p[T]),x=O=w(o,p[T+1]),v(e.coords,p,F,T,S,x),E++,T+=f,F+=j;for(var N=1;N<P;N++,T+=f)S=g(o,p[T]),x=w(o,p[T+1]),S===h&&x===O||(v(e.coords,p,F,T,S-h,x-O),F+=j,E++,h=S,O=x);E>=l&&(e.lengths.push(E),I=F)}}}catch(V){R.e(V)}finally{R.f()}return e.coords.length=I,e.coords.length?e:null}function ie(e,t,r,n,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n;if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;var u=y[a],l=t.coords,p=t.lengths,b=d(r,n),f=d(r&&s,n&&c),j=m(r,n,s,c);if(!p.length)return j(e.coords,l,0,0,l[0],l[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=b,e;var v,h=0,O=o*o,g=Object(i.a)(p);try{for(g.s();!(v=g.n()).done;){var w=v.value;if(w<u)h+=w*b;else{var S=e.coords.length/f,x=h,k=h+(w-1)*b;j(e.coords,l,e.coords.length,x,l[x],l[x+1]),se(e.coords,l,b,O,j,x,k),j(e.coords,l,e.coords.length,k,l[k],l[k+1]);var T=e.coords.length/f-S;T>=u?e.lengths.push(T):e.coords.length=S*f,h+=w*b}}}catch(F){g.e(F)}finally{g.f()}return e.coords.length?e:null}function oe(e,t,r,n){var a=e[t],i=e[t+1],o=e[r],s=e[r+1],c=e[n],u=e[n+1],l=o,p=s,b=c-l,d=u-p;if(0!==b||0!==d){var f=((a-l)*b+(i-p)*d)/(b*b+d*d);f>1?(l=c,p=u):f>0&&(l+=b*f,p+=d*f)}return(b=a-l)*b+(d=i-p)*d}function se(e,t,r,n,a,i,o){for(var s,c=n,u=0,l=i+r;l<o;l+=r)(s=oe(t,l,i,o))>c&&(u=l,c=s);c>n&&(u-i>r&&se(e,t,r,n,a,i,u),a(e,t,e.length,u,t[u],t[u+1]),o-u>r&&se(e,t,r,n,a,u,o))}function ce(e,t,r,n){if(Object(c.i)(t)||!t.coords||!t.coords.length)return null;var a=d(r,n),i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(t&&t.coords)for(var l=t.coords,p=0;p<l.length;p+=a){var b=l[p],f=l[p+1];i=Math.min(i,b),s=Math.max(s,b),o=Math.min(o,f),u=Math.max(u,f)}return e[0]=i,e[1]=o,e[2]=s,e[3]=u,e}function ue(e,t,r,n,i){var o=t.coords,s=t.lengths,c=r?n?O:v:n?v:j,u=d(r,n);if(!o.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!s.length)return c(e.coords,o,0,0,S(i,o[0]),x(i,o[1])),e!==t&&(e.lengths.length=0,e.coords.length=u),e;for(var l=Object(a.a)(i.scale,2),p=l[0],b=l[1],f=0,y=0;y<s.length;y++){var h=s[y];e.lengths[y]=h;var m=S(i,o[f]),g=x(i,o[f+1]);c(e.coords,o,f,f,m,g),f+=u;for(var w=1;w<h;w++,f+=u)m+=o[f]*p,g-=o[f+1]*b,c(e.coords,o,f,f,m,g)}return e!==t&&(e.lengths.length=s.length,e.coords.length=o.length),e}function le(e,t,r,a,i,o){var s,c=d(r,a),u=m(r,a,i,o),l=t.coords;e.coords.length=0,e.lengths.length=0,(s=e.lengths).push.apply(s,Object(n.a)(t.lengths));for(var p=0;p<l.length;p+=c)u(e.coords,l,e.coords.length,p,l[p],l[p+1]);return e}function pe(e,t,r,n){for(var a=0,i=e[n*t],o=e[n*(t+1)],s=1;s<r;s++){var c=i+e[n*(t+s)],u=o+e[n*(t+s)+1],l=(c-i)*(u+o);i=c,o=u,a+=l}return.5*a}function be(e,t){for(var r=e.coords,n=e.lengths,a=0,i=0,o=0;o<n.length;o++)i+=pe(r,a,n[o],t),a+=o;return Math.abs(i)}function de(e,t){if(Object(c.i)(e))return null;for(var r=e.clone(),n=e.coords,a=e.lengths,i=0,o=0;o<a.length;o++){for(var s=a[o],u=n[t*i],l=n[t*i+1],p=1;p<s;p++){var b=u+n[t*(i+p)],d=l+n[t*(i+p)+1];r.coords[t*(i+p)]=b,r.coords[t*(i+p)+1]=d,u=b,l=d}i+=s}return r}},681:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(23),a=r(2),i=r(4),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(a.a)(this,e),this.lengths=null!=t?t:[],this.coords=null!=r?r:[],this.hasIndeterminateRingOrder=n}return Object(i.a)(e,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max.apply(Math,Object(n.a)(this.lengths))}},{key:"size",get:function(){return this.lengths.reduce((function(e,t){return e+t}))}},{key:"forEachVertex",value:function(e){var t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(var r=0;r<this.lengths.length;r++){for(var n=this.lengths[r],a=0;a<n;a++)e(this.coords[2*(a+t)],this.coords[2*(a+t)+1]);t+=n}}},{key:"clone",value:function(t){return t?(t.set(this.coords),new e(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new e(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}]),e}()},683:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(135),a=r(70),i={inches:Object(n.b)(1,"meters","inches"),feet:Object(n.b)(1,"meters","feet"),"us-feet":Object(n.b)(1,"meters","us-feet"),yards:Object(n.b)(1,"meters","yards"),miles:Object(n.b)(1,"meters","miles"),"nautical-miles":Object(n.b)(1,"meters","nautical-miles"),millimeters:Object(n.b)(1,"meters","millimeters"),centimeters:Object(n.b)(1,"meters","centimeters"),decimeters:Object(n.b)(1,"meters","decimeters"),meters:Object(n.b)(1,"meters","meters"),kilometers:Object(n.b)(1,"meters","kilometers"),"decimal-degrees":1/Object(n.i)(1,"meters",a.a.radius)}},686:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return _}));var n,a=r(23),i=r(13),o=r(22),s=r(7),c=r.n(s),u=r(21),l=r(12),p=r(2),b=r(4),d=r(77),f=r(65),y=r(5),j=r(6),v=r(0),h=r(46),O=r(82),m=r(29),g=r(18),w=r(15),S=r(712),x=r(11),k=r(30),T=r(109),F=r(1),I=(r(14),r(19),r(10)),R=r(43),P=r(209),E=r(663),N=r(684),V=r(237),M=r(186),D=w.a.getLogger("esri.renderers.DictionaryRenderer"),C={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}},L=n=function(e){Object(y.a)(r,e);var t=Object(j.a)(r);function r(e){var n;return Object(p.a)(this,r),(n=t.call(this,e))._ongoingRequests=new Map,n._symbolCache=new S.a(100),n.config=null,n.fieldMap=null,n.scaleExpression=null,n.scaleExpressionTitle=null,n.url=null,n.type="dictionary",n}return Object(b.a)(r,[{key:"writeData",value:function(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}},{key:"writeVisualVariables",value:function(e,t,n,a){null!=a&&a.origin||Object(d.a)(Object(f.a)(r.prototype),"writeVisualVariables",this).call(this,e,t,n,a)}},{key:"clone",value:function(){return new n({config:Object(g.a)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:Object(g.a)(this.fieldMap),url:Object(g.a)(this.url),visualVariables:Object(g.a)(this.visualVariables)})}},{key:"getSymbolAsync",value:function(){var e=Object(l.a)(c.a.mark((function e(t,r){var n,a,i,o,s,l,p,b,d,f,y,j,v,O,m,g,w,S,F,I,R,P,E,N,V,M,D=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r)),e.prev=1,e.next=4,this._dictionaryPromise;case 4:n=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),!Object(k.m)(e.t0)){e.next=11;break}return e.abrupt("return",(this._dictionaryPromise=null,null));case 11:if(a={},this.fieldMap){i=Object(u.a)(this._symbolFields);try{for(i.s();!(o=i.n()).done;)s=o.value,(l=this.fieldMap[s])&&null!==t.attributes[l]&&void 0!==t.attributes[l]?(p=""+t.attributes[l],a[s]=p):a[s]=""}catch(c){i.e(c)}finally{i.f()}}if((b=n(a,r))&&"string"==typeof b){e.next=16;break}return e.abrupt("return",null);case 16:if(d=Object(T.b)(b).toString(),!(f=this._symbolCache.get(d))){e.next=19;break}return e.abrupt("return",(f.catch((function(){D._symbolCache.pop(d)})),f));case 19:y=b.split(";"),j=[],v=[],O=Object(u.a)(y);try{for(O.s();!(m=O.n()).done;)if((g=m.value)&&0!==g.length)if(-1===g.indexOf("po:"))if(-1!==g.indexOf("|")){w=Object(u.a)(g.split("|"));try{for(w.s();!(S=w.n()).done;)F=S.value,this._itemNames.has(F)&&j.push(F)}catch(c){w.e(c)}finally{w.f()}}else this._itemNames.has(g)&&j.push(g);else 3===(I=g.substr(3).split("|")).length&&(R=I[0],P=I[1],E=I[2],"DashTemplate"===P?E=E.split(" ").map((function(e){return Number(e)})):"Color"===P?(N=new h.a(E).toRgba(),E=[N[0],N[1],N[2],255*N[3]]):E=Number(E),v.push({primitiveName:R,propertyName:P,value:E}))}catch(c){O.e(c)}finally{O.f()}return V=!Object(x.j)(t.geometry)||!t.geometry.hasZ&&"point"===t.geometry.type,M=this._cimPartsToCIMSymbol(j,v,V,r),e.abrupt("return",(this._symbolCache.put(d,M,1),M));case 24:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"collectRequiredFields",value:function(){var e=Object(l.a)(c.a.mark((function e(t,r){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:if(e.t0=this.scaleExpression,!e.t0){e.next=6;break}return e.next=6,Object(P.a)(t,r,this.scaleExpression);case 6:for(n in this.fieldMap)a=this.fieldMap[n],r.has(a)&&t.add(a);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"arcadeRequired",get:function(){return!0}},{key:"fetchResources",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var r,n,a,s,l,p,b,d,f,y,j,v,h,g,w,S,k,T=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._dictionaryPromise){e.next=2;break}return e.abrupt("return",this._dictionaryPromise);case 2:if(this.url){e.next=4;break}return e.abrupt("return",void D.error("no valid URL!"));case 4:return r=Object(x.j)(t)?t.abortOptions:null,n=Object(O.default)(this.url+"/resources/styles/dictionary-info.json",Object(i.a)({responseType:"json",query:{f:"json"}},r)),e.next=8,Promise.all([n,Object(V.e)()]);case 8:if(a=e.sent,s=Object(o.a)(a,1),l=s[0].data){e.next=13;break}throw this._dictionaryPromise=null,new m.a("esri.renderers.DictionaryRenderer","Bad dictionary data!");case 13:if(p=l.expression,b=l.authoringInfo,this._refSymbolUrlTemplate=this.url+"/"+l.cimRefTemplateUrl,this._itemNames=new Set(l.itemsNames),this._symbolFields=b.symbol,d={},this.config)for(y in f=this.config)d[y]=f[y];if(b.configuration){j=Object(u.a)(b.configuration);try{for(j.s();!(v=j.n()).done;)h=v.value,d.hasOwnProperty(h.name)||(d[h.name]=h.value)}catch(c){j.e(c)}finally{j.f()}}if(g=[],Object(x.j)(t)&&t.fields&&this.fieldMap){w=Object(u.a)(this._symbolFields);try{for(k=function(){var e=S.value,r=T.fieldMap[e],n=t.fields.filter((function(e){return e.name===r}));n.length>0&&g.push(Object(i.a)(Object(i.a)({},n[0]),{},{name:e}))},w.s();!(S=w.n()).done;)k()}catch(c){w.e(c)}finally{w.f()}}return e.abrupt("return",(this._dictionaryPromise=Object(V.b)(p,Object(x.j)(t)?t.spatialReference:null,g,d).then((function(e){var t={scale:0};return function(r,n){var a=e.repurposeFeature({geometry:null,attributes:r});return t.scale=Object(x.j)(n)?n.scale:void 0,e.evaluate({$feature:a,$view:t})}})).catch((function(e){return D.error("Creating dictinoary expression failed:",e),null})),this._dictionaryPromise));case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(){return null}},{key:"getSymbols",value:function(){return[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return"".concat(this.url,"-").concat(JSON.stringify(this.fieldMap))}},{key:"getSymbolFields",value:function(){return this._symbolFields}},{key:"_getSymbolPart",value:function(){var e=Object(l.a)(c.a.mark((function e(t,r){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ongoingRequests.has(t)){e.next=2;break}return e.abrupt("return",this._ongoingRequests.get(t).then((function(e){return e.data})));case 2:return n=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),a=Object(O.default)(n,Object(i.a)({responseType:"json",query:{f:"json"}},r)),this._ongoingRequests.set(t,a),e.prev=4,e.next=7,a;case 7:return e.abrupt("return",e.sent.data);case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",(this._ongoingRequests.delete(t),Promise.reject(e.t0)));case 13:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_combineSymbolParts",value:function(e,t,r){if(!e||0===e.length)return null;var n=Object(i.a)({},e[0]);if(e.length>1){n.symbolLayers=[];var o,s=Object(u.a)(e);try{for(s.s();!(o=s.n()).done;){var c,l=o.value;(c=n.symbolLayers).unshift.apply(c,Object(a.a)(l.symbolLayers))}}catch(p){s.e(p)}finally{s.f()}}return r&&(n.callout=C),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:t}}},{key:"_cimPartsToCIMSymbol",value:function(){var e=Object(l.a)(c.a.mark((function e(t,r,n,a){var i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=new Array(t.length),o=0;o<t.length;o++)i[o]=this._getSymbolPart(t[o],a);return e.next=4,Promise.all(i);case 4:return s=e.sent,e.abrupt("return",new M.a({data:this._combineSymbolParts(s,r,n)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()}]),r}(Object(N.a)(E.a));Object(v.a)([Object(F.b)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],L.prototype,"config",void 0),Object(v.a)([Object(F.b)({type:Object,json:{write:!0}})],L.prototype,"fieldMap",void 0),Object(v.a)([Object(F.b)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],L.prototype,"scaleExpression",void 0),Object(v.a)([Object(R.a)("scaleExpression")],L.prototype,"writeData",null),Object(v.a)([Object(F.b)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy:function(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],L.prototype,"scaleExpressionTitle",void 0),Object(v.a)([Object(F.b)({type:String,json:{write:!0}})],L.prototype,"url",void 0),Object(v.a)([Object(R.a)("visualVariables")],L.prototype,"writeVisualVariables",null);var _=L=n=Object(v.a)([Object(I.a)("esri.renderers.DictionaryRenderer")],L)},687:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n,a=r(7),i=r.n(a),o=r(12),s=r(2),c=r(4),u=r(5),l=r(6),p=r(0),b=r(18),d=r(1),f=(r(14),r(19),r(15),r(31)),y=r(10),j=r(663),v=r(684),h=r(765),O=n=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).description=null,n.label=null,n.symbol=null,n.type="simple",n}return Object(c.a)(r,[{key:"collectRequiredFields",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.collectSymbolFields(t,r),this.collectVVRequiredFields(t,r)]);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"collectSymbolFields",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.getSymbols().map((function(e){return e.collectRequiredFields(t,r)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(e,t){return this.symbol}},{key:"getSymbolAsync",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.symbol);case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return this.symbol?[this.symbol]:[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return this.getSymbols().reduce((function(e,t){return e+JSON.stringify(t)}),"")}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}},{key:"clone",value:function(){return new n({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:Object(b.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}}]),r}(Object(v.a)(j.a));Object(p.a)([Object(d.b)({type:String,json:{write:!0}})],O.prototype,"description",void 0),Object(p.a)([Object(d.b)({type:String,json:{write:!0}})],O.prototype,"label",void 0),Object(p.a)([Object(d.b)(h.b)],O.prototype,"symbol",void 0),Object(p.a)([Object(f.a)({simple:"simple"})],O.prototype,"type",void 0);var m=O=n=Object(p.a)([Object(y.a)("esri.renderers.SimpleRenderer")],O)},688:function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n,a=r(21),i=r(7),o=r.n(i),s=r(12),c=r(2),u=r(4),l=r(5),p=r(6),b=r(0),d=r(46),f=r(18),y=r(61),j=r(14),v=(r(19),r(15)),h=r(31),O=r(1),m=r(10),g=r(209),w=r(663),S=r(684),x=r(26),k=r(97),T=v.a.getLogger("esri.renderers.support.AttributeColorInfo"),F=n=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this,e)).color=null,n.field=null,n.label=null,n.valueExpression=null,n.valueExpressionTitle=null,n}return Object(u.a)(r,[{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(T.error(".field: field must be a string value"),null):Object(j.l)(e)}},{key:"getAttributeHash",value:function(){return"".concat(this.field,"-").concat(this.valueExpression)}},{key:"clone",value:function(){return new n({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}}]),r}(x.a);Object(b.a)([Object(O.b)({type:d.a,json:{type:[Number],write:!0}})],F.prototype,"color",void 0),Object(b.a)([Object(O.b)({type:String,json:{write:!0}})],F.prototype,"field",void 0),Object(b.a)([Object(k.a)("field")],F.prototype,"castField",null),Object(b.a)([Object(O.b)({type:String,json:{write:!0}})],F.prototype,"label",void 0),Object(b.a)([Object(O.b)({type:String,json:{write:!0}})],F.prototype,"valueExpression",void 0),Object(b.a)([Object(O.b)({type:String,json:{write:!0}})],F.prototype,"valueExpressionTitle",void 0);var I,R=F=n=Object(b.a)([Object(m.a)("esri.renderers.support.AttributeColorInfo")],F),P=I=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.apply(this,arguments)).unit=null,e}return Object(u.a)(r,[{key:"clone",value:function(){return new I({unit:this.unit})}}]),r}(x.a);Object(b.a)([Object(O.b)({type:String,json:{write:!0}})],P.prototype,"unit",void 0);var E,N=P=I=Object(b.a)([Object(m.a)("esri.renderers.support.DotDensityLegendOptions")],P),V=r(166),M=r(98),D=E=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this,e)).attributes=null,n.backgroundColor=new d.a([0,0,0,0]),n.blendDots=!0,n.dotBlendingEnabled=!0,n.dotShape="square",n.dotSize=1,n.legendOptions=null,n.outline=new M.a,n.dotValue=null,n.referenceDotValue=null,n.referenceScale=null,n.seed=1,n.type="dot-density",n}return Object(u.a)(r,[{key:"calculateDotValue",value:function(e){if(null==this.referenceScale)return this.dotValue;var t=e/this.referenceScale*this.dotValue;return t<1?1:t}},{key:"getSymbol",value:function(){return new V.a({outline:this.outline})}},{key:"getSymbolAsync",value:function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSymbol());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return[this.getSymbol()]}},{key:"getAttributeHash",value:function(){return this.attributes&&this.attributes.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return JSON.stringify(this.outline)}},{key:"clone",value:function(){return new E({attributes:Object(f.a)(this.attributes),backgroundColor:Object(f.a)(this.backgroundColor),dotBlendingEnabled:Object(f.a)(this.dotBlendingEnabled),dotShape:Object(f.a)(this.dotShape),dotSize:Object(f.a)(this.dotSize),dotValue:Object(f.a)(this.dotValue),legendOptions:Object(f.a)(this.legendOptions),outline:Object(f.a)(this.outline),referenceScale:Object(f.a)(this.referenceScale),visualVariables:Object(f.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}},{key:"getControllerHash",value:function(){return"".concat(this.attributes.map((function(e){return e.field||e.valueExpression||""})),"-").concat(this.outline&&JSON.stringify(this.outline.toJSON())||"")}},{key:"collectRequiredFields",value:function(){var e=Object(s.a)(o.a.mark((function e(t,r){var n,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:n=Object(a.a)(this.attributes),e.prev=3,n.s();case 5:if((i=n.n()).done){e.next=14;break}if(s=i.value,e.t0=s.valueExpression,!e.t0){e.next=11;break}return e.next=11,Object(g.a)(t,r,s.valueExpression);case 11:s.field&&t.add(s.field);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(3),n.e(e.t1);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[3,16,19,22]])})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(Object(S.a)(w.a));Object(b.a)([Object(O.b)({type:[R],json:{write:!0}})],D.prototype,"attributes",void 0),Object(b.a)([Object(O.b)({type:d.a,json:{write:!0}})],D.prototype,"backgroundColor",void 0),Object(b.a)([Object(O.b)({type:Boolean}),Object(y.a)("dotBlendingEnabled")],D.prototype,"blendDots",void 0),Object(b.a)([Object(O.b)({type:Boolean,json:{write:!0}})],D.prototype,"dotBlendingEnabled",void 0),Object(b.a)([Object(O.b)({type:String,json:{write:!1}})],D.prototype,"dotShape",void 0),Object(b.a)([Object(O.b)({type:Number,json:{write:!1}})],D.prototype,"dotSize",void 0),Object(b.a)([Object(O.b)({type:N,json:{write:!0}})],D.prototype,"legendOptions",void 0),Object(b.a)([Object(O.b)({type:M.a,json:{default:null,write:!0}})],D.prototype,"outline",void 0),Object(b.a)([Object(O.b)({type:Number,json:{write:!0}})],D.prototype,"dotValue",void 0),Object(b.a)([Object(O.b)({type:Number}),Object(y.a)("dotValue")],D.prototype,"referenceDotValue",void 0),Object(b.a)([Object(O.b)({type:Number,json:{write:!0}})],D.prototype,"referenceScale",void 0),Object(b.a)([Object(O.b)({type:Number,json:{write:!0}})],D.prototype,"seed",void 0),Object(b.a)([Object(h.a)({dotDensity:"dot-density"})],D.prototype,"type",void 0);var C=D=E=Object(b.a)([Object(m.a)("esri.renderers.DotDensityRenderer")],D)},689:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n,a=r(7),i=r.n(a),o=r(12),s=r(2),c=r(4),u=r(5),l=r(6),p=r(0),b=r(46),d=r(18),f=r(1),y=(r(14),r(19),r(15),r(31)),j=r(10),v=r(209),h=r(663),O=r(26),m=n=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).color=null,n.ratio=null,n}return Object(c.a)(r,[{key:"clone",value:function(){return new n({color:this.color,ratio:this.ratio})}}]),r}(O.a);Object(p.a)([Object(f.b)({type:b.a,json:{write:!0}})],m.prototype,"color",void 0),Object(p.a)([Object(f.b)({type:Number,json:{write:!0}})],m.prototype,"ratio",void 0);var g,w=m=n=Object(p.a)([Object(j.a)("esri.renderers.support.HeatmapColorStop")],m),S=g=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).blurRadius=10,n.colorStops=[new w({ratio:0,color:new b.a("rgba(255, 140, 0, 0)")}),new w({ratio:.75,color:new b.a("rgba(255, 140, 0, 1)")}),new w({ratio:.9,color:new b.a("rgba(255, 0,   0, 1)")})],n.field=null,n.fieldOffset=0,n.maxPixelIntensity=100,n.minPixelIntensity=0,n.type="heatmap",n}return Object(c.a)(r,[{key:"collectRequiredFields",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.field)&&"string"==typeof n&&Object(v.b)(t,r,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAttributeHash",value:function(){return null}},{key:"getMeshHash",value:function(){return"".concat(JSON.stringify(this.colorStops),".").concat(this.blurRadius,".").concat(this.field)}},{key:"clone",value:function(){return new g({blurRadius:this.blurRadius,colorStops:Object(d.a)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}}]),r}(h.a);Object(p.a)([Object(f.b)({type:Number,json:{write:!0}})],S.prototype,"blurRadius",void 0),Object(p.a)([Object(f.b)({type:[w],json:{write:!0}})],S.prototype,"colorStops",void 0),Object(p.a)([Object(f.b)({type:String,json:{write:!0}})],S.prototype,"field",void 0),Object(p.a)([Object(f.b)({type:Number,json:{write:{overridePolicy:function(e,t,r){return{enabled:null==r}}}}})],S.prototype,"fieldOffset",void 0),Object(p.a)([Object(f.b)({type:Number,json:{write:!0}})],S.prototype,"maxPixelIntensity",void 0),Object(p.a)([Object(f.b)({type:Number,json:{write:!0}})],S.prototype,"minPixelIntensity",void 0),Object(p.a)([Object(y.a)({heatmap:"heatmap"})],S.prototype,"type",void 0);var x=S=g=Object(p.a)([Object(j.a)("esri.renderers.HeatmapRenderer")],S)},690:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=new(r(42).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},691:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return p}));var n=r(700),a=r(686),i=r(688),o=r(689),s=r(663),c=r(687),u=r(701),l={key:"type",base:s.a,typeMap:{heatmap:o.a,simple:c.a,"unique-value":u.a,"class-breaks":n.a,"dot-density":i.a,dictionary:a.default},errorContext:"renderer"},p={key:"type",base:s.a,typeMap:{simple:c.a,"unique-value":u.a,"class-breaks":n.a},errorContext:"renderer"}},693:function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return m})),r.d(t,"f",(function(){return p}));var n=r(109),a="__begin__",i="__end__",o=new RegExp(a,"ig"),s=new RegExp(i,"ig"),c=new RegExp("^"+a,"i"),u=new RegExp(i+"$","i"),l='"';function p(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function b(e){var t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function d(e){var t=b(e);if(!t)return null;switch(t.type){case"conventional":return y(t.expression);case"arcade":return t.expression}return null}function f(e){var t=b(e);if(!t)return null;switch(t.type){case"conventional":return function(e){var t=e.match(j);return t&&t[1].trim()||null}(t.expression);case"arcade":return m(t.expression)}return null}function y(e){var t;return e?(t=Object(n.c)(e,(function(e){return a+'$feature["'+e+'"]'+i})),t=c.test(t)?t.replace(c,""):l+t,t=(t=u.test(t)?t.replace(u,""):t+l).replace(o,'" + ').replace(s,' + "')):t='""',t}var j=/^\s*\{([^}]+)\}\s*$/i;var v=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,h=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,O=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function m(e){if(!e)return null;var t=v.exec(e)||h.exec(e);return t?t[1]||t[3]:(t=O.exec(e))?t[2]:null}},694:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(19);function n(e){}},697:function(e,t,r){"use strict";r.d(t,"a",(function(){return F}));var n=r(7),a=r.n(n),i=r(12),o=r(2),s=r(4),c=r(8),u=r(5),l=r(6),p=r(0),b=r(15),d=r(30),f=r(1),y=(r(19),r(14),r(10)),j=r(21),v=r(52),h=r(215),O=new v.a,m=new WeakMap;function g(e){w(e)&&O.push(e)}function w(e){return e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function S(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:S(t,e%t):0}var x=0,k=0;function T(){var e,t=Date.now(),r=Object(j.a)(O);try{for(r.s();!(e=r.n()).done;){var n,a=e.value;if(a.refreshInterval)t-(null!=(n=m.get(a))?n:0)+5>=6e4*a.refreshInterval&&(m.set(a,t),a.refresh(t))}}catch(i){r.e(i)}finally{r.f()}}Object(h.a)((function(){var e,t=Date.now(),r=0,n=Object(j.a)(O);try{for(n.s();!(e=n.n()).done;){var a=e.value;r=S(Math.round(6e4*a.refreshInterval),r),a.refreshInterval?m.get(a)||m.set(a,t):m.delete(a)}}catch(i){n.e(i)}finally{n.f()}if(r!==k){if(k=r,clearInterval(x),0===k)return void(x=0);x=setInterval(T,k)}}));var F=function(e){var t=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).refreshInterval=0,e.refreshTimestamp=0,e._debounceHasDataChanged=Object(d.i)((function(){return e.hasDataChanged()})),e.when().then((function(){g(Object(c.a)(e))}),(function(){})),e}return Object(s.a)(r,[{key:"destroy",value:function(){var e;w(e=this)&&O.includes(e)&&O.remove(e)}},{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();Object(d.l)(this._debounceHasDataChanged()).then((function(r){r&&(e._set("refreshTimestamp",t),e.emit("refresh"))}),(function(t){b.a.getLogger(e.declaredClass).error(t)}))}},{key:"hasDataChanged",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(e);return Object(p.a)([Object(f.b)({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0,origins:{"web-document":{write:!0}}}})],t.prototype,"refreshInterval",void 0),Object(p.a)([Object(f.b)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),Object(p.a)([Object(f.b)()],t.prototype,"refreshParameters",null),t=Object(p.a)([Object(y.a)("esri.layers.mixins.RefreshableLayer")],t),t}},698:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(665),l=r(678),p=r(26),b=r(18),d=r(11),f=r(1),y=(r(14),r(19),r(15),r(57)),j=r(10),v=r(43),h=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).respectsDaylightSaving=!1,n.timezone=null,n}return Object(i.a)(r,[{key:"readRespectsDaylightSaving",value:function(e,t){return void 0!==t.respectsDaylightSaving?t.respectsDaylightSaving:void 0!==t.respectDaylightSaving&&t.respectDaylightSaving}},{key:"clone",value:function(){var e=this.respectsDaylightSaving,t=this.timezone;return new n({respectsDaylightSaving:e,timezone:t})}}]),r}(p.a);Object(c.a)([Object(f.b)({type:Boolean,json:{write:!0}})],h.prototype,"respectsDaylightSaving",void 0),Object(c.a)([Object(y.a)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],h.prototype,"readRespectsDaylightSaving",null),Object(c.a)([Object(f.b)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],h.prototype,"timezone",void 0);var O,m=h=n=Object(c.a)([Object(j.a)("esri.layers.support.TimeReference")],h),g=r(669),w=O=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).cumulative=!1,n.endField=null,n.fullTimeExtent=null,n.hasLiveData=!1,n.interval=null,n.startField=null,n.timeReference=null,n.trackIdField=null,n.useTime=!0,n}return Object(i.a)(r,[{key:"readFullTimeExtent",value:function(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;var r=new Date(t.timeExtent[0]),n=new Date(t.timeExtent[1]);return new u.a({start:r,end:n})}},{key:"writeFullTimeExtent",value:function(e,t){e&&Object(d.j)(e.start)&&Object(d.j)(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}},{key:"readInterval",value:function(e,t){return t.timeInterval&&t.timeIntervalUnits?new l.a({value:t.timeInterval,unit:g.a.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new l.a({value:t.defaultTimeInterval,unit:g.a.fromJSON(t.defaultTimeIntervalUnits)}):null}},{key:"writeInterval",value:function(e,t){if(e){var r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}},{key:"clone",value:function(){var e=this.cumulative,t=this.endField,r=this.hasLiveData,n=this.interval,a=this.startField,i=this.timeReference,o=this.fullTimeExtent,s=this.trackIdField,c=this.useTime;return new O({cumulative:e,endField:t,hasLiveData:r,interval:n,startField:a,timeReference:Object(b.a)(i),fullTimeExtent:Object(b.a)(o),trackIdField:s,useTime:c})}}]),r}(p.a);Object(c.a)([Object(f.b)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],w.prototype,"cumulative",void 0),Object(c.a)([Object(f.b)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],w.prototype,"endField",void 0),Object(c.a)([Object(f.b)({type:u.a,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"fullTimeExtent",void 0),Object(c.a)([Object(y.a)("fullTimeExtent",["timeExtent"])],w.prototype,"readFullTimeExtent",null),Object(c.a)([Object(v.a)("fullTimeExtent")],w.prototype,"writeFullTimeExtent",null),Object(c.a)([Object(f.b)({type:Boolean,json:{write:!0}})],w.prototype,"hasLiveData",void 0),Object(c.a)([Object(f.b)({type:l.a,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"interval",void 0),Object(c.a)([Object(y.a)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],w.prototype,"readInterval",null),Object(c.a)([Object(v.a)("interval")],w.prototype,"writeInterval",null),Object(c.a)([Object(f.b)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],w.prototype,"startField",void 0),Object(c.a)([Object(f.b)({type:m,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"timeReference",void 0),Object(c.a)([Object(f.b)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"trackIdField",void 0),Object(c.a)([Object(f.b)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],w.prototype,"useTime",void 0);var S=w=O=Object(c.a)([Object(j.a)("esri.layers.support.TimeInfo")],w)},703:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return u}));var n=[252,146,31,255],a={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},i={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},s={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},c={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},l={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},704:function(e,t,r){"use strict";function n(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function i(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function o(e,t){var r=t||i(e),n=e.valueUnit||"unknown";return"unknown"===r?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===n?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return a}))},705:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(2),a=r(5),i=r(6),o=r(0),s=r(26),c=r(1),u=(r(19),r(14),r(15),r(10)),l=function(e){Object(a.a)(r,e);var t=Object(i.a)(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).type=null,e}return r}(s.a);Object(o.a)([Object(c.b)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"type",void 0);var p=l=Object(o.a)([Object(u.a)("esri.layers.support.FeatureReduction")],l)},711:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(26),l=r(1),p=(r(19),r(14)),b=(r(15),r(31)),d=r(10),f=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).type="map-layer",n}return Object(i.a)(r,[{key:"clone",value:function(){var e=this.mapLayerId,t=this.gdbVersion;return new n({mapLayerId:e,gdbVersion:t})}}]),r}(u.a);Object(c.a)([Object(b.a)({mapLayer:"map-layer"})],f.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:p.a,json:{write:!0}})],f.prototype,"mapLayerId",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],f.prototype,"gdbVersion",void 0),f=n=Object(c.a)([Object(d.a)("esri.layers.support.source.MapLayerSource")],f)},712:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(2),a=r(4),i=r(708),o=function(){function e(t,r){Object(n.a)(this,e),this._storage=new i.b,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}return Object(a.a)(e,[{key:"put",value:function(e,t,r){this._storage.put(e,t,r,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}}]),e}()},713:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(2),a=r(4),i=r(5),o=r(6),s=r(0),c=r(42),u=r(26),l=r(18),p=r(1),b=(r(14),r(19),r(15),r(10)),d=r(43),f=new c.a({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"}),y=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).name=null,a.description=null,a.drawingTool=null,a.prototype=null,a.thumbnail=null,a}return Object(a.a)(r,[{key:"writeDrawingTool",value:function(e,t){t.drawingTool=f.toJSON(e)}},{key:"writePrototype",value:function(e,t){t.prototype=Object(l.c)(Object(l.a)(e),!0)}},{key:"writeThumbnail",value:function(e,t){t.thumbnail=Object(l.c)(Object(l.a)(e))}}]),r}(u.a);Object(s.a)([Object(p.b)({json:{write:!0}})],y.prototype,"name",void 0),Object(s.a)([Object(p.b)({json:{write:!0}})],y.prototype,"description",void 0),Object(s.a)([Object(p.b)({json:{read:f.read,write:f.write}})],y.prototype,"drawingTool",void 0),Object(s.a)([Object(d.a)("drawingTool")],y.prototype,"writeDrawingTool",null),Object(s.a)([Object(p.b)({json:{write:!0}})],y.prototype,"prototype",void 0),Object(s.a)([Object(d.a)("prototype")],y.prototype,"writePrototype",null),Object(s.a)([Object(p.b)({json:{write:!0}})],y.prototype,"thumbnail",void 0),Object(s.a)([Object(d.a)("thumbnail")],y.prototype,"writeThumbnail",null);var j=y=Object(s.a)([Object(b.a)("esri.layers.support.FeatureTemplate")],y)},714:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(42),l=r(26),p=r(18),b=r(1),d=(r(14),r(19),r(15),r(10)),f=r(43),y=new u.a({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"}),j=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).maxPointCount=void 0,n.maxRecordCount=void 0,n.maxVertexCount=void 0,n.onStatisticField=null,n.outStatisticFieldName=null,n.statisticType=null,n.statisticParameters=null,n}return Object(i.a)(r,[{key:"writeStatisticParameters",value:function(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=Object(p.a)(e))}},{key:"clone",value:function(){return new n({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:Object(p.a)(this.statisticParameters)})}}]),r}(l.a);Object(c.a)([Object(b.b)({type:Number,json:{write:!0}})],j.prototype,"maxPointCount",void 0),Object(c.a)([Object(b.b)({type:Number,json:{write:!0}})],j.prototype,"maxRecordCount",void 0),Object(c.a)([Object(b.b)({type:Number,json:{write:!0}})],j.prototype,"maxVertexCount",void 0),Object(c.a)([Object(b.b)({type:String,json:{write:!0}})],j.prototype,"onStatisticField",void 0),Object(c.a)([Object(b.b)({type:String,json:{write:!0}})],j.prototype,"outStatisticFieldName",void 0),Object(c.a)([Object(b.b)({type:String,json:{read:{source:"statisticType",reader:y.read},write:{target:"statisticType",writer:y.write}}})],j.prototype,"statisticType",void 0),Object(c.a)([Object(b.b)({type:Object})],j.prototype,"statisticParameters",void 0),Object(c.a)([Object(f.a)("statisticParameters")],j.prototype,"writeStatisticParameters",null);var v=j=n=Object(c.a)([Object(d.a)("esri.rest.support.StatisticDefinition")],j)},715:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return c}));r(19);var n=r(29),a=r(66),i=r(165),o=r(212),s=r(691);function c(e,t,r,i){var o=function(e,t){return e?function(e,t){if(!t||"web-scene"!==t.origin)return!0;switch(e.type){case"simple":case"unique-value":case"class-breaks":return!0;default:return!1}}(e,t)?e.write({},t):(t.messages&&t.messages.push(new n.a("renderer:unsupported","Renderer of type '".concat(e.declaredClass,"' are not supported in scenes."),{renderer:e,context:t})),null):null}(e,i);o&&Object(a.c)(r,o,t)}function u(e,t){return p(e,null,t)}var l=Object(o.b)({types:s.a});function p(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(r&&r.messages&&r.messages.push(new i.a("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):l(e,t,r):null}},717:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=(r(114),r(42)),l=r(26),p=r(18),b=r(1),d=(r(14),r(19),r(15),r(10)),f=r(58),y=new u.a({upperLeft:"upper-left",lowerLeft:"lower-left"}),j=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).extent=null,n.mode="view",n.originPosition="upper-left",n.tolerance=1,n}return Object(i.a)(r,[{key:"clone",value:function(){return new n(Object(p.a)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}}]),r}(l.a);Object(c.a)([Object(b.b)({type:f.a,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],j.prototype,"extent",void 0),Object(c.a)([Object(b.b)({type:["view","edit"],json:{write:!0}})],j.prototype,"mode",void 0),Object(c.a)([Object(b.b)({type:String,json:{read:y.read,write:y.write}})],j.prototype,"originPosition",void 0),Object(c.a)([Object(b.b)({type:Number,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],j.prototype,"tolerance",void 0);var v=j=n=Object(c.a)([Object(d.a)("esri.rest.support.QuantizationParameters")],j)},719:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(2),a=r(4),i=r(5),o=r(6),s=r(0),c=r(665),u=r(678),l=r(1),p=(r(19),r(14),r(15),r(57)),b=r(10),d=r(698),f=r(209),y=r(669);var j=function(e){var t=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).timeExtent=null,e.timeOffset=null,e.useViewTime=!0,e}return Object(a.a)(r,[{key:"readOffset",value:function(e,t){var r=t.timeInfo.exportOptions;if(!r)return null;var n=r.timeOffset,a=y.a.fromJSON(r.timeOffsetUnits);return n&&a?new u.a({value:n,unit:a}):null}},{key:"timeInfo",set:function(e){Object(f.f)(e,this.fieldsIndex),this._set("timeInfo",e)}}]),r}(e);return Object(s.a)([Object(l.b)({type:c.a,json:{write:!1}})],t.prototype,"timeExtent",void 0),Object(s.a)([Object(l.b)({type:u.a})],t.prototype,"timeOffset",void 0),Object(s.a)([Object(p.a)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),Object(s.a)([Object(l.b)({value:null,type:d.a,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),Object(s.a)([Object(l.b)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=Object(s.a)([Object(b.a)("esri.layers.mixins.TemporalLayer")],t),t}},721:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(2),a=r(5),i=r(6),o=r(0),s=r(1),c=(r(19),r(14),r(15),r(10)),u=function(e){var t=function(e){Object(a.a)(r,e);var t=Object(i.a)(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).customParameters=null,e}return r}(e);return Object(o.a)([Object(s.b)({type:Object,json:{write:{overridePolicy:function(e){return{enabled:!!(e&&Object.keys(e).length>0)}}}}})],t.prototype,"customParameters",void 0),t=Object(o.a)([Object(c.a)("esri.layers.mixins.CustomParametersMixin")],t)}},724:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(2),a=r(4),i=r(5),o=r(6),s=r(0),c=r(1),u=(r(19),r(14),r(15),r(10));var l=function(e){var t=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"apiKey",get:function(){var e;return this._isOverridden("apiKey")?this._get("apiKey"):function(e){return"portalItem"in e}(this)?null==(e=this.portalItem)?void 0:e.apiKey:null},set:function(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}}]),r}(e);return Object(s.a)([Object(c.b)({type:String})],t.prototype,"apiKey",null),t=Object(s.a)([Object(u.a)("esri.layers.mixins.APIKeyMixin")],t)}},725:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return l}));r(19),r(11);var n=r(166),a=r(98),i=r(143),o=r(136),s=r(703),c=(i.a.fromJSON(s.a),a.a.fromJSON(s.c),n.a.fromJSON(s.b),o.a.fromJSON(s.d));var u=i.a.fromJSON(s.e),l=a.a.fromJSON(s.g),p=n.a.fromJSON(s.f)},728:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(21),a=r(15),i=r(666),o=r(672),s=r(209),c=a.a.getLogger("esri.layers.support.fieldProperties");function u(){return{fields:{type:[i.a],value:null},fieldsIndex:{readOnly:!0,get:function(){return new o.a(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;var t,r=Object(n.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;this.fieldsIndex.has(a)||c.error("field-attributes-layer:invalid-field","Invalid field ".concat(a," found in outFields"),{layer:this,outFields:e})}}catch(i){r.e(i)}finally{r.f()}return Object(s.d)(this.fieldsIndex,e)}}}}},731:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u}));var n=r(5),a=r(6),i=r(2),o=r(4),s=r(11),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;Object(i.a)(this,e),this.geometry=t,this.attributes=r,this.centroid=n,this.objectId=a,this.displayId=0,this.geohashX=0,this.geohashY=0}return Object(o.a)(e,[{key:"weakClone",value:function(){var t=new e(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}]),e}();function u(e){return!(Object(s.i)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}var l=function(e){Object(n.a)(r,e);var t=Object(a.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return r}(c)},733:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r(2),a=r(4),i=r(5),o=r(6),s=r(0),c=r(26),u=r(18),l=r(1),p=(r(14),r(19),r(15),r(57)),b=r(10),d=r(43),f=r(664),y=(r(660),r(661)),j=r(662),v=r(713),h=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).id=null,a.name=null,a.domains=null,a.templates=null,a}return Object(a.a)(r,[{key:"readDomains",value:function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];switch(n.type){case"range":t[r]=j.a.fromJSON(n);break;case"codedValue":t[r]=f.a.fromJSON(n);break;case"inherited":t[r]=y.a.fromJSON(n)}}return t}},{key:"writeDomains",value:function(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]&&e[n].toJSON());Object(u.c)(r),t.domains=r}},{key:"readTemplates",value:function(e){return e&&e.map((function(e){return new v.a(e)}))}},{key:"writeTemplates",value:function(e,t){t.templates=e&&e.map((function(e){return e.toJSON()}))}}]),r}(c.a);Object(s.a)([Object(l.b)({json:{write:!0}})],h.prototype,"id",void 0),Object(s.a)([Object(l.b)({json:{write:!0}})],h.prototype,"name",void 0),Object(s.a)([Object(l.b)({json:{write:!0}})],h.prototype,"domains",void 0),Object(s.a)([Object(p.a)("domains")],h.prototype,"readDomains",null),Object(s.a)([Object(d.a)("domains")],h.prototype,"writeDomains",null),Object(s.a)([Object(l.b)({json:{write:!0}})],h.prototype,"templates",void 0),Object(s.a)([Object(p.a)("templates")],h.prototype,"readTemplates",null),Object(s.a)([Object(d.a)("templates")],h.prototype,"writeTemplates",null);var O=h=Object(s.a)([Object(b.a)("esri.layers.support.FeatureType")],h)},739:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n,a=r(2),i=r(4),o=r(5),s=r(6),c=r(0),u=r(1),l=(r(19),r(14),r(15),r(10)),p=r(705),b=n=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).type="selection",n}return Object(i.a)(r,[{key:"clone",value:function(){return new n}}]),r}(p.a);Object(c.a)([Object(u.b)({type:["selection"]})],b.prototype,"type",void 0);var d=b=n=Object(c.a)([Object(l.a)("esri.layers.support.FeatureReductionSelection")],b)},740:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(675),a=/\[([^\[\]]+)\]/gi;function i(e,t,r){var i=this;return e?e.map((function(e){var o=new n.a;if(o.read(e,r),o.labelExpression){var s=t.fields||t.layerDefinition&&t.layerDefinition.fields||i.fields;o.labelExpression=o.labelExpression.replace(a,(function(e,t){return"[".concat(function(e,t){if(!t)return e;for(var r=e.toLowerCase(),n=0;n<t.length;n++){var a=t[n].name;if(a.toLowerCase()===r)return a}return e}(t,s),"]")}))}return o})):null}},746:function(e,t,r){"use strict";r.d(t,"a",(function(){return V})),r.d(t,"b",(function(){return E})),r.d(t,"c",(function(){return P})),r.d(t,"d",(function(){return N}));var n,a=r(29),i=r(66),o=r(705),s=r(2),c=r(4),u=r(5),l=r(6),p=r(0),b=r(214),d=r(332),f=r(26),y=r(18),j=r(44),v=r(1),h=(r(14),r(19),r(15),r(10)),O=n=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.apply(this,arguments)).statisticType=null,e.onStatisticField=null,e.onStatisticValueExpression=null,e}return Object(c.a)(r,[{key:"clone",value:function(){return new n({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}}]),r}(f.a);Object(p.a)([Object(v.b)({type:String,json:{write:!0}})],O.prototype,"statisticType",void 0),Object(p.a)([Object(v.b)({type:String,json:{write:!0}})],O.prototype,"onStatisticField",void 0),Object(p.a)([Object(v.b)({type:String,json:{write:!0}})],O.prototype,"onStatisticValueExpression",void 0);var m,g=O=n=Object(p.a)([Object(h.a)("esri.layers.support.OutStatistic")],O),w=m=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.apply(this,arguments)).name=null,e}return Object(c.a)(r,[{key:"clone",value:function(){return new m({name:this.name,outStatistic:this.outStatistic.clone()})}}]),r}(f.a);Object(p.a)([Object(v.b)({type:String,json:{write:!0}})],w.prototype,"name",void 0),Object(p.a)([Object(v.b)({type:g,json:{write:!0}})],w.prototype,"outStatistic",void 0);var S,x=w=m=Object(p.a)([Object(h.a)("esri.layers.support.AggregateField")],w),k=r(671),T=r(675),F=S=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).type="cluster",n.clusterRadius=Object(j.d)("80px"),n.clusterMinSize=Object(j.d)("12px"),n.clusterMaxSize=Object(j.d)("50px"),n.popupEnabled=!0,n.popupTemplate=null,n.symbol=null,n.labelingInfo=null,n.labelsVisible=!0,n.fields=null,n}return Object(c.a)(r,[{key:"clone",value:function(){return new S({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:Object(y.a)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:Object(y.a)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:Object(y.a)(this.popupTemplate)})}}]),r}(f.a);Object(p.a)([Object(v.b)({type:["cluster"],readOnly:!0,json:{write:!0}})],F.prototype,"type",void 0),Object(p.a)([Object(v.b)({type:Number,cast:function(e){return"auto"===e?e:Object(j.d)(e)},json:{write:!0}})],F.prototype,"clusterRadius",void 0),Object(p.a)([Object(v.b)({type:Number,cast:j.d,json:{write:!0}})],F.prototype,"clusterMinSize",void 0),Object(p.a)([Object(v.b)({type:Number,cast:j.d,json:{write:!0}})],F.prototype,"clusterMaxSize",void 0),Object(p.a)([Object(v.b)(k.j)],F.prototype,"popupEnabled",void 0),Object(p.a)([Object(v.b)({type:b.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],F.prototype,"popupTemplate",void 0),Object(p.a)([Object(v.b)({types:d.f})],F.prototype,"symbol",void 0),Object(p.a)([Object(v.b)({type:[T.a],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],F.prototype,"labelingInfo",void 0),Object(p.a)([Object(v.b)(k.d)],F.prototype,"labelsVisible",void 0),Object(p.a)([Object(v.b)({type:[x],json:{write:!0}})],F.prototype,"fields",void 0);var I=F=S=Object(p.a)([Object(h.a)("esri.layers.support.FeatureReductionCluster")],F),R=r(739),P={key:"type",base:o.a,typeMap:{selection:R.a}};function E(e,t){var r=(t=t.layerDefinition||t).featureReduction;if(r)switch(r.type){case"selection":return R.a.fromJSON(r);case"cluster":return I.fromJSON(r)}return null}function N(e,t,r,n){var o=function(e,t,r){return e?"selection"!==e.type?(r.messages&&r.messages.push(new a.a("featureReduction:unsupported","FeatureReduction of type '".concat(e.declaredClass,"' are not supported in scenes."),{featureReduction:e,context:r})),null):e.write(t,r):null}(e,{},n);o&&Object(i.c)(r,o,t)}var V={types:{key:"type",base:o.a,typeMap:{selection:R.a,cluster:I}},json:{write:{target:"layerDefinition.featureReduction",allowNull:!0}}}},751:function(e,t,r){"use strict";r.d(t,"a",(function(){return x})),r.d(t,"b",(function(){return j})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return O})),r.d(t,"f",(function(){return w})),r.d(t,"g",(function(){return y}));var n=r(21),a=r(22),i=r(46),o=r(210),s=r(694),c=r(15),u=r(11),l=r(683),p=r(704),b=c.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),d=new o.a,f=Math.PI,y=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function j(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"color"===e.type}))[0]:e;if(n)if("esri.renderers.visualVariables.ColorVariable"===n.declaredClass){var a="number"==typeof t,o=a?null:t,s=o&&o.attributes,c=a?t:null,l=n.field,p=n.cache,d=p.ipData,f=p.hasExpression,y=n.cache.compiledFunc;if(!l&&!f){var j=n.stops;return j&&j[0]&&j[0].color}if("number"!=typeof c)if(f){if(!Object(u.j)(r)||!Object(u.j)(r.arcade))return void b.error("Use of arcade expressions requires an arcade context");var v={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},h=r.arcade.arcadeUtils,O=h.getViewInfo(v),m=h.createExecContext(o,O);if(!y){var g=h.createSyntaxTree(n.valueExpression);y=h.createFunction(g),n.cache.compiledFunc=y}c=h.executeFunction(y,m)}else s&&(c=s[l]);var w=n.normalizationField,x=s?parseFloat(s[w]):void 0;if(null!=c&&(!w||a||!isNaN(x)&&0!==x)){isNaN(x)||a||(c/=x);var k=S(c,d);if(k){var T=k[0],F=k[1],I=T===F?n.stops[T].color:i.a.blendColors(n.stops[T].color,n.stops[F].color,k[2],Object(u.j)(r)?r.color:void 0);return new i.a(I)}}}else b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable")}function v(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"opacity"===e.type}))[0]:e;if(n)if("esri.renderers.visualVariables.OpacityVariable"===n.declaredClass){var a="number"==typeof t,i=a?null:t,o=i&&i.attributes,s=a?t:null,c=n.field,l=n.cache,p=l.ipData,d=l.hasExpression,f=n.cache.compiledFunc;if(!c&&!d){var y=n.stops;return y&&y[0]&&y[0].opacity}if("number"!=typeof s)if(d){if(Object(u.i)(r)||Object(u.i)(r.arcade))return void b.error("Use of arcade expressions requires an arcade context");var j={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,h=v.getViewInfo(j),O=v.createExecContext(i,h);if(!f){var m=v.createSyntaxTree(n.valueExpression);f=v.createFunction(m),n.cache.compiledFunc=f}s=v.executeFunction(f,O)}else o&&(s=o[c]);var g=n.normalizationField,w=o?parseFloat(o[g]):void 0;if(null!=s&&(!g||a||!isNaN(w)&&0!==w)){isNaN(w)||a||(s/=w);var x=S(s,p);if(x){var k=x[0],T=x[1];if(k===T)return n.stops[k].opacity;var F=n.stops[k].opacity;return F+(n.stops[T].opacity-F)*x[2]}}}else b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable")}function h(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"rotation"===e.type}))[0]:e;if(n){if("esri.renderers.visualVariables.RotationVariable"===n.declaredClass){var a=n.axis||"heading",i="heading"===a&&"arithmetic"===n.rotationType?90:0,o="heading"===a&&"arithmetic"===n.rotationType?-1:1,s="number"==typeof t?null:t,c=s&&s.attributes,l=n.field,p=n.cache.hasExpression,d=n.cache.compiledFunc,f=0;if(!l&&!p)return f;if(p){if(Object(u.i)(r)||Object(u.i)(r.arcade))return void b.error("Use of arcade expressions requires an arcade context");var y={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},j=r.arcade.arcadeUtils,v=j.getViewInfo(y),h=j.createExecContext(s,v);if(!d){var O=j.createSyntaxTree(n.valueExpression);d=j.createFunction(O),n.cache.compiledFunc=d}f=j.executeFunction(d,h)}else c&&(f=c[l]||0);return f="number"!=typeof f||isNaN(f)?null:i+o*f}b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable")}}function O(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"size"===e.type}))[0]:e;if(n){if("esri.renderers.visualVariables.SizeVariable"===n.declaredClass){var i=function(e,t,r,n,i){switch(t.transformationType){case"additive":return function(e,t,r,n){return e+(m(t.minSize,r,n)||t.minDataValue)}(e,t,r,n);case"constant":return function(e,t,r){var n=e.stops,a=n&&n.length&&n[0].size;return null==a&&(a=e.minSize),m(a,t,r)}(t,r,n);case"clamped-linear":return function(e,t,r,n){var a=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),i=m(t.minSize,r,n),o=m(t.maxSize,r,n),s=Object(u.j)(n)?n.shape:void 0;if(e<=t.minDataValue)return i;if(e>=t.maxDataValue)return o;if("area"===t.scaleBy&&s){var c="circle"===s,l=c?f*Math.pow(i/2,2):i*i,p=l+a*((c?f*Math.pow(o/2,2):o*o)-l);return c?2*Math.sqrt(p/f):Math.sqrt(p)}return i+a*(o-i)}(e,t,r,n);case"proportional":return function(e,t,r,n){var a=Object(u.j)(n)?n.shape:void 0,i=e/t.minDataValue,o=m(t.minSize,r,n),s=m(t.maxSize,r,n);return g("circle"===a?2*Math.sqrt(i*Math.pow(o/2,2)):"square"===a||"diamond"===a||"image"===a?Math.sqrt(i*Math.pow(o,2)):i*o,o,s)}(e,t,r,n);case"stops":return function(e,t,r,n,i){var o=S(e,i),s=Object(a.a)(o,3),c=s[0],u=s[1],l=s[2];if(c===u)return m(t.stops[c].size,r,n);var p=m(t.stops[c].size,r,n);return p+(m(t.stops[u].size,r,n)-p)*l}(e,t,r,n,i);case"real-world-size":return function(e,t,r,n){var a=(Object(u.j)(n)&&n.resolution?n.resolution:1)*l.a[t.valueUnit],i=m(t.minSize,r,n),o=m(t.maxSize,r,n),s=t.valueRepresentation;return g("area"===s?2*Math.sqrt(e/f)/a:"radius"===s||"distance"===s?2*e/a:e/a,i,o)}(e,t,r,n);case"identity":return e;case"unknown":return null}}(function(e,t,r){var n="number"==typeof t,a=n?null:t,i=a&&a.attributes,o=n?t:null,s=e.cache.isScaleDriven,c=e.cache.compiledFunc;if(s){var l=Object(u.j)(r)?r.scale:void 0,d=Object(u.j)(r)?r.view:void 0;o=null==l||"3d"===d?function(e){var t=null,r=null,n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}(e):l}else if(!n)switch(e.inputValueType){case"expression":if(Object(u.i)(r)||Object(u.i)(r.arcade))return void b.error("Use of arcade expressions requires an arcade context");var f={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},y=r.arcade.arcadeUtils,j=y.getViewInfo(f),v=y.createExecContext(a,j);if(!c){var h=y.createSyntaxTree(e.valueExpression);c=y.createFunction(h),e.cache.compiledFunc=c}o=y.executeFunction(c,v);break;case"field":i&&(o=i[e.field]);break;case"unknown":o=null}if(!Object(p.d)(o))return null;if(n||!e.normalizationField)return o;var O=i?parseFloat(i[e.normalizationField]):null;return Object(p.d)(O)&&0!==O?o/O:null}(n,t,r),n,t,r,n.cache.ipData);return null==i||isNaN(i)?0:i}b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable")}}function m(e,t,r){return null==e?null:Object(p.c)(e)?O(e,t,r):Object(p.d)(e)?e:null}function g(e,t,r){return Object(p.d)(r)&&e>r?r:Object(p.d)(t)&&e<t?t:e}function w(e,t,r){if(!(e.cache.isScaleDriven&&"3d"===r||t))return null;var n={scale:t,view:r},a=m(e.minSize,d,n),i=m(e.maxSize,d,n);if(null!=a||null!=i){if(a>i){var o=i;i=a,a=o}return{minSize:a,maxSize:i}}}function S(e,t){if(t){var r=0,n=t.length-1;return t.some((function(t,a){return e<t?(n=a,!0):(r=a,!1)})),[r,n,(e-t[r])/(t[n]-t[r])]}}function x(e,t,r){var a,i=["proportional","proportional","proportional"],o=Object(n.a)(e);try{for(o.s();!(a=o.n()).done;){var c=a.value,u=c.useSymbolValue?"symbol-value":O(c,t,r);switch(c.axis){case"width":i[0]=u;break;case"depth":i[1]=u;break;case"height":i[2]=u;break;case"width-and-depth":i[0]=u,i[1]=u;break;case"all":case void 0:case null:i[0]=u,i[1]=u,i[2]=u;break;default:Object(s.a)(c.axis)}}}catch(l){o.e(l)}finally{o.f()}return i}},752:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},756:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n,a=r(2),i=r(5),o=r(6),s=r(0),c=r(66),u=r(1),l=(r(19),r(14),r(15),r(10)),p=r(4),b=r(42),d=r(26),f=new b.a({asc:"ascending",desc:"descending"}),y=n=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).field=null,e.valueExpression=null,e.order="ascending",e}return Object(p.a)(r,[{key:"clone",value:function(){return new n({field:this.field,valueExpression:this.valueExpression,order:this.order})}}]),r}(d.a);Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],y.prototype,"field",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],y.prototype,"valueExpression",void 0),Object(s.a)([Object(u.b)({type:f.apiValues,json:{read:f.read,write:f.write}})],y.prototype,"order",void 0);var j=y=n=Object(s.a)([Object(l.a)("esri.layers.support.OrderByInfo")],y);function v(e,t,r){if(!e)return null;var n=e.find((function(e){return!!e.field}));if(!n)return null;var a=new j;return a.read(n,r),[a]}function h(e,t,r,n){var a=e.find((function(e){return!!e.field}));a&&Object(c.c)(r,[a.toJSON()],t)}var O=function(e){var t=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).orderBy=null,e}return r}(e);return Object(s.a)([Object(u.b)({type:[j],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:v},write:{target:"layerDefinition.orderBy",writer:h}}})],t.prototype,"orderBy",void 0),t=Object(s.a)([Object(l.a)("esri.layers.mixins.OrderedLayer")],t)}},773:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(2),a=r(4),i=function(){function e(){Object(n.a)(this,e),this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}return Object(a.a)(e,[{key:"weakClone",value:function(){var t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}]),e}()},776:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return u}));var n=r(9),a=r(13),i=r(19),o=r(18),s=r(752),c=r(703);function u(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?c.a:"esriGeometryPolyline"===e?c.c:c.b}}}function l(e,t){if(Object(i.a)("csp-restrictions"))return function(){return Object(a.a)(Object(n.a)({},t,null),e)};try{var r="this.".concat(t," = null;");for(var o in e)r+="this".concat(o.indexOf(".")?'["'.concat(o,'"]'):".".concat(o)," = ").concat(JSON.stringify(e[o]),";");var s=new Function(r);return function(){return new s}}catch(c){return function(){return Object(a.a)(Object(n.a)({},t,null),e)}}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:Object(o.a)(e)}}]}function b(e,t){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:s.a,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},813:function(e,t,r){"use strict";r.d(t,"a",(function(){return P})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return R})),r.d(t,"d",(function(){return I}));var n=r(22),a=r(7),i=r.n(a),o=r(21),s=r(29),c=r(731),u=r(681),l=i.a.mark(y),p=i.a.mark(j),b=i.a.mark(v),d={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function f(e){return d[e]}function y(e){var t,r,n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=e.type,a.next="Feature"===a.t0?3:"FeatureCollection"===a.t0?6:25;break;case 3:return a.next=5,e;case 5:return a.abrupt("break",25);case 6:t=Object(o.a)(e.features),a.prev=7,t.s();case 9:if((r=t.n()).done){a.next=17;break}if(n=r.value,a.t1=n,!a.t1){a.next=15;break}return a.next=15,n;case 15:a.next=9;break;case 17:a.next=22;break;case 19:a.prev=19,a.t2=a.catch(7),t.e(a.t2);case 22:return a.prev=22,t.f(),a.finish(22);case 25:case"end":return a.stop()}}),l,null,[[7,19,22,25]])}function j(e){var t,r,n,a,s,c,u,l,b;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return",null);case 2:i.t0=e.type,i.next="Point"===i.t0?5:"LineString"===i.t0||"MultiPoint"===i.t0?8:"MultiLineString"===i.t0||"Polygon"===i.t0?10:"MultiPolygon"===i.t0?27:58;break;case 5:return i.next=7,e.coordinates;case 7:return i.abrupt("break",58);case 8:return i.delegateYield(e.coordinates,"t1",9);case 9:return i.abrupt("break",58);case 10:t=Object(o.a)(e.coordinates),i.prev=11,t.s();case 13:if((r=t.n()).done){i.next=18;break}return n=r.value,i.delegateYield(n,"t2",16);case 16:i.next=13;break;case 18:i.next=23;break;case 20:i.prev=20,i.t3=i.catch(11),t.e(i.t3);case 23:return i.prev=23,t.f(),i.finish(23);case 26:return i.abrupt("break",58);case 27:a=Object(o.a)(e.coordinates),i.prev=28,a.s();case 30:if((s=a.n()).done){i.next=50;break}c=s.value,u=Object(o.a)(c),i.prev=33,u.s();case 35:if((l=u.n()).done){i.next=40;break}return b=l.value,i.delegateYield(b,"t4",38);case 38:i.next=35;break;case 40:i.next=45;break;case 42:i.prev=42,i.t5=i.catch(33),u.e(i.t5);case 45:return i.prev=45,u.f(),i.finish(45);case 48:i.next=30;break;case 50:i.next=55;break;case 52:i.prev=52,i.t6=i.catch(28),a.e(i.t6);case 55:return i.prev=55,a.f(),i.finish(55);case 58:case"end":return i.stop()}}),p,null,[[11,20,23,26],[28,52,55,58],[33,42,45,48]])}function v(e){var t,r,n,a,s,l,p,d,y,j,v,h,O,m=arguments;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=m.length>1&&void 0!==m[1]?m[1]:{},r=t.geometryType,n=t.objectIdField,a=Object(o.a)(e),i.prev=3,a.s();case 5:if((s=a.n()).done){i.next=18;break}if(l=s.value,d=l.geometry,y=l.properties,j=l.id,!d||f(d.type)===r){i.next=10;break}return i.abrupt("continue",16);case 10:return h=null!=(p=(v=y||{})[n])?p:null,n&&null!=j&&!v[n]&&(v[n]=h=j),O=new c.b(d?g(new u.a,d,t):null,v,null,h),i.next=16,O;case 16:i.next=5;break;case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(3),a.e(i.t0);case 23:return i.prev=23,a.f(),i.finish(23);case 26:case"end":return i.stop()}}),b,null,[[3,20,23,26]])}function h(e){var t,r=Object(o.a)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.length>2)return!0}}catch(n){r.e(n)}finally{r.f()}return!1}function O(e){for(var t=0,r=0;r<e.length;r++){var n=e[r],a=e[(r+1)%e.length];t+=n[0]*a[1]-a[0]*n[1]}return t<=0}function m(e){var t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function g(e,t,r){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,r){return x(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){var n,a=Object(o.a)(t.coordinates);try{for(a.s();!(n=a.n()).done;){x(e,n.value,r)}}catch(i){a.e(i)}finally{a.f()}return e}(e,t,r);case"MultiPolygon":return function(e,t,r){var n,a=Object(o.a)(t.coordinates);try{for(a.s();!(n=a.n()).done;){var i=n.value;w(e,i[0],r);for(var s=1;s<i.length;s++)S(e,i[s],r)}}catch(c){a.e(c)}finally{a.f()}return e}(e,t,r);case"Point":return function(e,t,r){return T(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){var n=t.coordinates;w(e,n[0],r);for(var a=1;a<n.length;a++)S(e,n[a],r);return e}(e,t,r)}}function w(e,t,r){var n=m(t);!function(e){return!O(e)}(n)?x(e,n,r):k(e,n,r)}function S(e,t,r){var n=m(t);!function(e){return O(e)}(n)?x(e,n,r):k(e,n,r)}function x(e,t,r){var n,a=Object(o.a)(t);try{for(a.s();!(n=a.n()).done;){T(e,n.value,r)}}catch(i){a.e(i)}finally{a.f()}e.lengths.push(t.length)}function k(e,t,r){for(var n=t.length-1;n>=0;n--)T(e,t[n],r);e.lengths.push(t.length)}function T(e,t,r){var a=Object(n.a)(t,3),i=a[0],o=a[1],s=a[2];e.coords.push(i,o),r.hasZ&&e.coords.push(s||0)}function F(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function I(e){if(!e)throw new s.a("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new s.a("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var r="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,n=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!n.test(r))throw new s.a("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function R(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[],i=new Set,s=new Set,c=!1,u=Number.NEGATIVE_INFINITY,l=null,p=!1,b=n.geometryType,d=void 0===b?null:b,v=!1,O=Object(o.a)(y(e));try{var m=function(){var e=r.value,n=e.geometry,o=e.properties,b=e.id;if((!n||(d||(d=f(n.type)),f(n.type)===d))&&(c||(c=h(j(n))),p||(p=null!=b)&&("number"===(t=typeof b)&&(l=Object.keys(o).filter((function(e){return o[e]===b})))),p&&"number"===t&&null!=b&&(u=Math.max(u,b),l.length>1?l=l.filter((function(e){return o[e]===b})):1===l.length&&(l=o[l[0]]===b?l:[])),!v&&o)){var y=!0;for(var O in o)if(!i.has(O)){var m=o[O];if(null!=m){var g=F(m);"unknown"!==g?(s.delete(O),i.add(O),a.push({name:O,alias:O,type:g})):s.add(O)}else y=!1,s.add(O)}v=y}};for(O.s();!(r=O.n()).done;)m()}catch(k){O.e(k)}finally{O.f()}var g=l&&1===l.length&&l[0]||null;if(g){var w,S=Object(o.a)(a);try{for(S.s();!(w=S.n()).done;){var x=w.value;x.name===g&&(x.type="esriFieldTypeOID")}}catch(k){S.e(k)}finally{S.f()}}return{fields:a,geometryType:d,hasZ:c,maxObjectId:Math.max(0,u),objectIdFieldName:g,objectIdFieldType:t,unknownFields:Array.from(s)}}function P(e,t){return Array.from(v(y(e),t))}},819:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(345),a=r(25),i=(r(65),r(123),r(5));function o(e,t){o=function(e,t){return new u(e,void 0,t)};var r=Object(a.a)(RegExp),s=RegExp.prototype,c=new WeakMap;function u(e,t,n){var a=r.call(this,e,t);return c.set(a,n||c.get(e)),a}function l(e,t){var r=c.get(t);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return Object(i.a)(u,r),u.prototype.exec=function(e){var t=s.exec.call(this,e);return t&&(t.groups=l(t,this)),t},u.prototype[Symbol.replace]=function(e,t){if("string"===typeof t){var r=c.get(this);return s[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+r[t]})))}if("function"===typeof t){var a=this;return s[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!==Object(n.a)(e[e.length-1])&&e.push(l(e,a)),t.apply(this,e)}))}return s[Symbol.replace].call(this,e,t)},o.apply(this,arguments)}},987:function(e,t,r){"use strict";r.d(t,"a",(function(){return S})),r.d(t,"b",(function(){return k})),r.d(t,"c",(function(){return F})),r.d(t,"d",(function(){return R})),r.d(t,"e",(function(){return E})),r.d(t,"f",(function(){return V})),r.d(t,"g",(function(){return M})),r.d(t,"h",(function(){return C}));var n=r(7),a=r.n(n),i=r(21),o=r(13),s=r(819),c=r(12),u=(r(114),r(82)),l=r(29),p=r(15),b=r(11),d=r(53),f=r(71),y=r(680),j=r(773),v=r(813),h=r(776),O=r(672),m=r(690),g=r(45),w=p.a.getLogger("esri.layers.graphics.sources.ogcfeature");function S(e,t){return x.apply(this,arguments)}function x(){return x=Object(c.a)(a.a.mark((function e(t,r){var n,s,c,p,d,f,y,j,g,S,x,k,T,F,I,R,P,E,N,V,M,D=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=D.length>2&&void 0!==D[2]?D[2]:{},s=D.length>3&&void 0!==D[3]?D[3]:5,c=t.links,p=B(c,"items","application/geo+json")||B(c,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json"),!Object(b.i)(p)){e.next=5;break}throw new l.a("ogc-feature-layer:missing-items-page","Missing items url");case 5:return e.next=7,Object(u.default)(p.href,{signal:n.signal,query:Object(o.a)(Object(o.a)({limit:s},n.customParameters),{},{token:n.apiKey}),headers:{accept:"application/geo+json"}});case 7:return d=e.sent,f=d.data,e.next=11,Object(v.d)(f);case 11:if(y=Object(v.c)(f,{geometryType:r.geometryType}),j=r.fields||y.fields||[],g=null!=r.hasZ?r.hasZ:y.hasZ,S=y.geometryType,x=r.objectIdField||y.objectIdFieldName||"OBJECTID",k=r.timeInfo,T=j.find((function(e){return e.name===x}))){e.next=20;break}if(y.objectIdFieldType){e.next=17;break}throw new l.a("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");case 17:j.unshift({name:x,alias:x,type:"esriFieldTypeOID",editable:!1,nullable:!1}),e.next=21;break;case 20:T.type="esriFieldTypeOID",T.editable=!1,T.nullable=!1;case 21:x!==y.objectIdFieldName&&(F=j.find((function(e){return e.name===y.objectIdFieldName})))&&(F.type="esriFieldTypeInteger"),j===y.fields&&y.unknownFields.length>0&&w.warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:y.unknownFields}}),I=Object(i.a)(j),e.prev=24,I.s();case 26:if((R=I.n()).done){e.next=34;break}if(null==(P=R.value).name&&(P.name=P.alias),null==P.alias&&(P.alias=P.name),"esriFieldTypeOID"!==P.type&&"esriFieldTypeGlobalID"!==P.type&&(P.editable=null==P.editable||!!P.editable,P.nullable=null==P.nullable||!!P.nullable),P.name){e.next=30;break}throw new l.a("ogc-feature-layer:invalid-field-name","field name is missing",{field:P});case 30:if(-1!==m.a.jsonValues.indexOf(P.type)){e.next=32;break}throw new l.a("ogc-feature-layer:invalid-field-type",'invalid type for field "'.concat(P.name,'"'),{field:P});case 32:e.next=26;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(24),I.e(e.t0);case 39:return e.prev=39,I.f(),e.finish(39);case 42:return k&&(E=new O.a(j),k.startTimeField&&((N=E.get(k.startTimeField))?(k.startTimeField=N.name,N.type="esriFieldTypeDate"):k.startTimeField=null),k.endTimeField&&((V=E.get(k.endTimeField))?(k.endTimeField=V.name,V.type="esriFieldTypeDate"):k.endTimeField=null),k.trackIdField&&((M=E.get(k.trackIdField))?k.trackIdField=M.name:(k.trackIdField=null,w.warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:k}}))),k.startTimeField||k.endTimeField||(w.warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:k}}),k=null)),e.abrupt("return",{drawingInfo:S?Object(h.d)(S):null,geometryType:S,fields:j,hasZ:!!g,objectIdField:x,timeInfo:k});case 44:case"end":return e.stop()}}),e,null,[[24,36,39,42]])}))),x.apply(this,arguments)}function k(e){return T.apply(this,arguments)}function T(){return T=Object(c.a)(a.a.mark((function e(t){var r,n,i,s,c,p,d,f,y=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=y.length>1&&void 0!==y[1]?y[1]:{},n=t.links,i=B(n,"data","application/json")||B(n,"http://www.opengis.net/def/rel/ogc/1.0/data","application/json"),!Object(b.i)(i)){e.next=4;break}throw new l.a("ogc-feature-layer:missing-collections-page","Missing collections url");case 4:return s=r.apiKey,c=r.customParameters,p=r.signal,e.next=9,Object(u.default)(i.href,{signal:p,headers:{accept:"application/json"},query:Object(o.a)(Object(o.a)({},c),{},{token:s})});case 9:return d=e.sent,f=d.data,e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function F(e){return I.apply(this,arguments)}function I(){return I=Object(c.a)(a.a.mark((function e(t){var r,n,i,s,c,p,d,f,y=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=y.length>1&&void 0!==y[1]?y[1]:{},n=t.links,i=B(n,"conformance","application/json")||B(n,"http://www.opengis.net/def/rel/ogc/1.0/conformance","application/json"),!Object(b.i)(i)){e.next=4;break}throw new l.a("ogc-feature-layer:missing-conformance-page","Missing conformance url");case 4:return s=r.apiKey,c=r.customParameters,p=r.signal,e.next=9,Object(u.default)(i.href,{signal:p,headers:{accept:"application/json"},query:Object(o.a)(Object(o.a)({},c),{},{token:s})});case 9:return d=e.sent,f=d.data,e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function R(e){return P.apply(this,arguments)}function P(){return P=Object(c.a)(a.a.mark((function e(t){var r,n,i,s,c,l,p=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:{},n=r.apiKey,i=r.customParameters,s=r.signal,e.next=6,Object(u.default)(t,{signal:s,headers:{accept:"application/json"},query:Object(o.a)(Object(o.a)({},i),{},{token:n})});case 6:return c=e.sent,l=c.data,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function E(e){return N.apply(this,arguments)}function N(){return N=Object(c.a)(a.a.mark((function e(t){var r,n,i,s,c,l,p,d,f=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:{},n="application/vnd.oai.openapi+json;version=3.0",i=B(t.links,"service-desc",n),!Object(b.i)(i)){e.next=4;break}return e.abrupt("return",(w.warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null));case 4:return s=r.apiKey,c=r.customParameters,l=r.signal,e.next=9,Object(u.default)(i.href,{signal:l,headers:{accept:n},query:Object(o.a)(Object(o.a)({},c),{},{token:s})});case 9:return p=e.sent,d=p.data,e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function V(e){var t=Object(s.a)(/^http:\/\/www\.opengis.net\/def\/crs\/(.*)\/(.*)\/(.*)$/i,{authority:1,version:2,code:3}).exec(e),r=null==t?void 0:t.groups;if(!r)return null;var n=r.authority,a=r.code;switch(n.toLowerCase()){case"ogc":switch(a.toLowerCase()){case"crs27":return g.a.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return g.a.WGS84.wkid;default:return null}case"esri":case"epsg":var i=Number.parseInt(a,10);return Number.isNaN(i)?null:i;default:return null}}function M(e,t,r){return D.apply(this,arguments)}function D(){return(D=Object(c.a)(a.a.mark((function e(t,r,n){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t,r,n);case 2:return i=e.sent,e.abrupt("return",Object(y.g)(i));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,r){return L.apply(this,arguments)}function L(){return L=Object(c.a)(a.a.mark((function e(t,r,n){var s,c,p,h,O,m,w,S,x,k,T,F,I,R,P,E,N,V,M,D,C,L,q,U,J,Z,H,Q,K,W,$,Y,X,ee,te,re,ne,ae,ie,oe,se,ce;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.capabilities.query.maxRecordCount,c=t.collection,p=t.layerDefinition,h=t.queryParameters,O=h.apiKey,m=h.customParameters,w=t.spatialReference,S=t.supportedCrs,x=c.links,k=B(x,"items","application/geo+json")||B(x,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json"),!Object(b.i)(k)){e.next=3;break}throw new l.a("ogc-feature-layer:missing-items-page","Missing items url");case 3:if(T=r.geometry,F=r.num,I=r.start,R=r.timeExtent,P=r.where,!r.objectIds){e.next=6;break}throw new l.a("ogc-feature-layer:query-by-objectids-not-supported","Queries with objectids are not supported");case 6:return E=g.a.fromJSON(w),N=Object(b.r)(r.outSpatialReference,E),V=N.isWGS84?null:_(N,S),M=A(T,S),D=z(R),C=G(P),L=null!=F?F:null!=I&&void 0!==I?10:s,e.next=15,Object(u.default)(k.href,Object(o.a)(Object(o.a)({},n),{},{query:Object(o.a)(Object(o.a)(Object(o.a)({},m),M),{},{crs:V,datetime:D,query:C,limit:L,startindex:I,token:O}),headers:{accept:"application/geo+json"}}));case 15:if(q=e.sent,U=q.data,J=!1,U.links&&(Z=U.links.find((function(e){return"next"===e.rel})),J=!!Z),!J&&Number.isInteger(U.numberMatched)&&Number.isInteger(U.numberReturned)&&(J=U.numberReturned<U.numberMatched),H=p.fields,Q=p.globalIdField,K=p.hasM,W=p.hasZ,$=p.objectIdField,Y=p.geometryType,X=Object(v.a)(U,{geometryType:Y,hasZ:W,objectIdField:$}),!V&&N.isWebMercator){ee=Object(i.a)(X);try{for(ee.s();!(te=ee.n()).done;)re=te.value,Object(b.j)(re.geometry)&&((ne=Object(y.h)(re.geometry,Y,W,!1)).spatialReference=g.a.WGS84,re.geometry=Object(y.d)(Object(f.d)(ne,N)))}catch(a){ee.e(a)}finally{ee.f()}}ae=Object(i.a)(X);try{for(ae.s();!(ie=ae.n()).done;)(oe=ie.value).objectId=oe.attributes[$]}catch(a){ae.e(a)}finally{ae.f()}return se=V||!V&&N.isWebMercator?N.toJSON():d.b,ce=new j.a,e.abrupt("return",(ce.exceededTransferLimit=J,ce.features=X,ce.fields=H,ce.geometryType=Y,ce.globalIdFieldName=Q,ce.hasM=K,ce.hasZ=W,ce.objectIdFieldName=$,ce.spatialReference=se,ce));case 26:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function _(e,t){var r,n,a,i,o,s=e.isWebMercator;return e.wkid?s?null!=(n=null!=(a=null!=(i=null!=(o=t[3857])?o:t[102100])?i:t[102113])?a:t[900913])?n:null:null!=(r=t[e.wkid])?r:null:null}function q(e){if(Object(b.i)(e))return"";var t=e.xmin,r=e.ymin,n=e.xmax,a=e.ymax;return"".concat(t,",").concat(r,",").concat(n,",").concat(a)}function z(e){if(Object(b.i)(e))return null;var t=e.start,r=e.end;return"".concat(Object(b.j)(t)?t.toISOString():"..","/").concat(Object(b.j)(r)?r.toISOString():"..")}function G(e){return Object(b.i)(e)||!e||"1=1"===e?null:e}function A(e,t){if(!function(e){return Object(b.j)(e)&&"extent"===e.type}(e))return null;var r=e.spatialReference;if(!r||r.isWGS84)return{bbox:q(e)};var n=_(r,t);return n?{bbox:q(e),"bbox-crs":n}:r.isWebMercator?{bbox:q(Object(f.d)(e,g.a.WGS84))}:null}function B(e,t,r){return e.find((function(e){return e.rel===t&&e.type===r}))||e.find((function(e){return e.rel===t&&!e.type}))}}}]);
//# sourceMappingURL=48.856abb47.chunk.js.map