(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[111],{789:function(e,t,n){"use strict";n.r(t),n.d(t,"ElevationSamplerWorker",(function(){return h})),n.d(t,"default",(function(){return h}));var r=n(21),a=n(7),o=n.n(a),i=n(12),c=n(2),s=n(4),u=n(19),l=n(11),f=n(863),p=n(892),h=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,[{key:"createIndex",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new Array,t.vertexAttributes&&t.vertexAttributes.position){e.next=3;break}return e.abrupt("return",new f.a);case 3:if(a=this.createMeshData(t),!Object(l.j)(n)){e.next=10;break}return e.next=7,n.invoke("createIndexThread",a,{transferList:r});case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=this.createIndexThread(a).result;case 11:return i=e.t0,e.abrupt("return",this.createPooledRBush().fromJSON(i));case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createIndexThread",value:function(e){var t=new Float64Array(e.position),n=this.createPooledRBush();return e.components?this.createIndexComponentsThread(n,t,e.components.map((function(e){return new Uint32Array(e)}))):this.createIndexAllThread(n,t)}},{key:"createIndexAllThread",value:function(e,t){for(var n=new Array(t.length/9),r=0,a=0;a<t.length;a+=9)n[r++]=m(t,a+0,a+3,a+6);return e.load(n),{result:e.toJSON()}}},{key:"createIndexComponentsThread",value:function(e,t,n){var a,o=0,i=Object(r.a)(n);try{for(i.s();!(a=i.n()).done;){o+=a.value.length/3}}catch(h){i.e(h)}finally{i.f()}var c,s=new Array(o),u=0,l=Object(r.a)(n);try{for(l.s();!(c=l.n()).done;)for(var f=c.value,p=0;p<f.length;p+=3)s[u++]=m(t,3*f[p+0],3*f[p+1],3*f[p+2])}catch(h){l.e(h)}finally{l.f()}return e.load(s),{result:e.toJSON()}}},{key:"createMeshData",value:function(e){var t=(e.transform?Object(p.b)({position:e.vertexAttributes.position,normal:null,tangent:null},e.transform,e.spatialReference).position:e.vertexAttributes.position).buffer;return!e.components||e.components.some((function(e){return!e.faces}))?{position:t}:{position:t,components:e.components.map((function(e){return e.faces}))}}},{key:"createPooledRBush",value:function(){return new f.a(9,Object(u.a)("csp-restrictions")?function(e){return e}:[".minX",".minY",".maxX",".maxY"])}}]),e}();function m(e,t,n,r){return{minX:Math.min(e[t+0],e[n+0],e[r+0]),maxX:Math.max(e[t+0],e[n+0],e[r+0]),minY:Math.min(e[t+1],e[n+1],e[r+1]),maxY:Math.max(e[t+1],e[n+1],e[r+1]),p0:[e[t+0],e[t+1],e[t+2]],p1:[e[n+0],e[n+1],e[n+2]],p2:[e[r+0],e[r+1],e[r+2]]}}}}]);
//# sourceMappingURL=111.6f13dc8e.chunk.js.map