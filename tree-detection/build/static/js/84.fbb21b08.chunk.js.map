{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/styleUtils.js","../node_modules/@arcgis/core/support/featureFlags.js","../node_modules/@arcgis/core/symbols/support/jsonUtils.js","../node_modules/@arcgis/core/symbols/support/symbolConversion.js","../node_modules/@arcgis/core/core/devEnvironmentUtils.js"],"names":["b","h","e","t","r","s","o","portal","i","getDefault","n","url","user","username","load","then","m","disableExtraQuery","query","D","R","queryItems","results","toLowerCase","Array","isArray","typeKeywords","some","type","owner","styleName","j","fetchData","data","baseUrl","itemUrl","g","styleUrl","P","l","d","Promise","reject","w","name","q","replace","N","f","a","origin","E","U","u","items","find","symbolName","y","cimRef","formatInfos","href","webRef","S","thumbnail","imageData","p","styleOrigin","c","symbol","$","test","responseType","clone","fromCIMSymbol","fromSimpleLineSymbol","fromSimpleMarkerSymbol","fromPictureMarkerSymbol","fromSimpleFillSymbol","error","declaredClass","fromTextSymbol","id","symbolLayers","length","getItemAt","_ignoreDrivers","write","messages","push","context","location","hostname","match"],"mappings":"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","file":"static/js/84.fbb21b08.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as r,adjustStaticAGOUrl as o}from\"../../core/devEnvironmentUtils.js\";import s from\"../../core/Error.js\";import{normalize as n,removeFile as l,urlToObject as a}from\"../../core/urlUtils.js\";import i from\"../../portal/Portal.js\";import m from\"../../portal/PortalQueryParams.js\";import{enableWebStyleForceWOSR as u}from\"../../support/featureFlags.js\";import{f as y}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as f}from\"./jsonUtils.js\";import c from\"./StyleOrigin.js\";import p from\"./Thumbnail.js\";const b={};function d(e,t){return P(e,t).then((t=>({data:t.data,baseUrl:l(e),styleUrl:e})))}function h(e,t,r){const o=t.portal||i.getDefault();let s;const n=`${o.url} - ${o.user&&o.user.username} - ${e}`;return b[n]||(b[n]=j(e,o,r).then((e=>(s=e,e.fetchData()))).then((t=>({data:t,baseUrl:s.itemUrl,styleName:e})))),b[n]}function j(e,t,r){return t.load(r).then((()=>{const o=new m({disableExtraQuery:!0,query:`owner:${D} AND type:${R} AND typekeywords:\"${e}\"`});return t.queryItems(o,r)})).then((({results:t})=>{let o=null;const n=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){if(e.typeKeywords.some((e=>e.toLowerCase()===n))&&e.type===R&&e.owner===D){o=e;break}}if(!o)throw new s(\"symbolstyleutils:style-not-found\",`The style '${e}' could not be found`,{styleName:e});return o.load(r)}))}function g(e,t,r){return e.styleUrl?d(e.styleUrl,r):e.styleName?h(e.styleName,t,r):Promise.reject(new s(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function w(e,t,r,o){return e.name?e.styleName&&\"Esri2DPointSymbolsStyle\"===e.styleName?E(e,t,o):g(e,t,o).then((s=>U(s,e.name,t,r,o))):Promise.reject(new s(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function U(e,n,i,m,u){const b=e.data,d={portal:i.portal,url:a(e.baseUrl),origin:\"portal-item\"},h=b.items.find((e=>e.name===n));if(!h){const e=`The symbol name '${n}' could not be found`;return Promise.reject(new s(\"symbolstyleutils:symbol-name-not-found\",e,{symbolName:n}))}let j=y(S(h,m),d),g=h.thumbnail&&h.thumbnail.href;const w=h.thumbnail&&h.thumbnail.imageData;r()&&(j=o(j),g=o(g));const U={portal:i.portal,url:a(l(j)),origin:\"portal-item\"};return P(j,u).then((r=>{const o=\"cimRef\"===m?N(r.data):r.data,s=f(o,U);if(s&&t(s)){if(g){const e=y(g,d);s.thumbnail=new p({url:e})}else w&&(s.thumbnail=new p({url:`data:image/png;base64,${w}`}));e.styleUrl?s.styleOrigin=new c({portal:i.portal,styleUrl:e.styleUrl,name:n}):e.styleName&&(s.styleOrigin=new c({portal:i.portal,styleName:e.styleName,name:n}))}return s}))}function N(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function S(e,t){if(\"cimRef\"===t)return e.cimRef;if(e.formatInfos&&!u())for(const r of e.formatInfos)if(\"gltf\"===r.type)return r.href;return e.webRef}function $(e){for(const t of e.typeKeywords)if(/^Esri.*Style$/.test(t)&&\"Esri Style\"!==t)return t}function E(e,t,r){const o=q.replace(/\\{SymbolName\\}/gi,e.name);return P(o,r).then((e=>{const r=N(e.data);return f(r,{portal:t.portal,url:a(l(o)),origin:\"portal-item\"})}))}function P(t,r){const o={responseType:\"json\",query:{f:\"json\"},...r};return e(n(t),o)}const D=\"esri_en\",R=\"Style\",q=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{g as fetchStyle,U as fetchSymbolFromStyle,w as resolveWebStyleSymbol,$ as styleNameFromItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../core/has.js\";const a=()=>!!e(\"enable-feature:force-wosr\"),r=()=>!!e(\"enable-feature:disable-context-navigation\"),t=()=>!!e(\"enable-feature:direct-3d-object-feature-layer-display\"),o=()=>!!e(\"enable-feature:enable-clouds\"),n=()=>!!e(\"enable-feature:new-atmosphere\");export{r as disableContextNavigation,o as enableClouds,t as enableDirect3DObjectFeatureLayerDisplay,n as enableNewAtmosphere,a as enableWebStyleForceWOSR};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{readSymbol as e}from\"../../symbols.js\";import s from\"../../core/Error.js\";import o from\"../Symbol3D.js\";import n from\"../WebStyleSymbol.js\";import{to3D as r}from\"./symbolConversion.js\";function t(e,s,o,n){const r=m(e,{},n);r&&(s[o]=r)}function m(e,t,m){if(!e)return null;if(m&&\"web-scene\"===m.origin&&!(e instanceof o)&&!(e instanceof n)){const o=\"cim\"!==e.type?r(e):{symbol:null,error:new s(\"symbol-conversion:unsupported-cim-symbol\",\"CIM symbol is unsupported in web scenes\",{symbol:e})};return o.symbol?o.symbol.write(t,m):(m.messages&&m.messages.push(new s(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:m,error:o.error})),null)}return m&&\"web-map\"===m.origin&&\"web-style\"===e.type?(m.messages&&m.messages.push(new s(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:m})),null):e.write(t,m)}function i(s,o){return e(s,null,o)}export{i as fromJSON,t as write};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as o}from\"../../symbols.js\";import m from\"../../core/Error.js\";import r from\"../WebStyleSymbol.js\";import e from\"../PointSymbol3D.js\";import l from\"../SimpleLineSymbol.js\";import i from\"../LineSymbol3D.js\";import s from\"../SimpleMarkerSymbol.js\";import t from\"../PictureMarkerSymbol.js\";import f from\"../SimpleFillSymbol.js\";import y from\"../PolygonSymbol3D.js\";import n from\"../TextSymbol.js\";import b from\"../LabelSymbol3D.js\";function p(p,S=!1,a=!1,c=!0){if(!p)return{symbol:null};let j;if(o(p)||p instanceof r)j=p.clone();else if(\"cim\"===p.type)j=e.fromCIMSymbol(p);else if(p instanceof l)j=i.fromSimpleLineSymbol(p);else if(p instanceof s)j=e.fromSimpleMarkerSymbol(p);else if(p instanceof t)j=e.fromPictureMarkerSymbol(p);else if(p instanceof f)j=y.fromSimpleFillSymbol(p);else{if(!(p instanceof n))return{error:new m(\"symbol-conversion:unsupported-2d-symbol\",`2D symbol of type '${p.type||p.declaredClass}' is unsupported in 3D`,{symbol:p})};j=c?b.fromTextSymbol(p):e.fromTextSymbol(p)}if(S&&(j.id=p.id),a&&o(j))for(let o=0;o<j.symbolLayers.length;++o)j.symbolLayers.getItemAt(o)._ignoreDrivers=!0;return{symbol:j}}export{p as to3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport c from\"./global.js\";function a(a){return a=a||c.location.hostname,e.some((c=>{var t;return null!=(null==(t=a)?void 0:t.match(c))}))}function t(a,t){return a&&(t=t||c.location.hostname)?null!=t.match(r)||null!=t.match(m)?a.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=t.match(n)||null!=t.match(s)?a.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):a:a}function o(a){a=a||c.location.hostname;return[/^zrh-.+?\\.esri\\.com$/].concat(e).some((c=>{var t;return null!=(null==(t=a)?void 0:t.match(c))}))}const r=/^devext.arcgis.com$/,n=/^qaext.arcgis.com$/,m=/^[\\w-]*\\.mapsdevext.arcgis.com$/,s=/^[\\w-]*\\.mapsqa.arcgis.com$/,e=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,r,n,/^jsapps.esri.com$/,m,s];export{t as adjustStaticAGOUrl,a as isDevEnvironment,o as isTelemetryDevEnvironment};\n"],"sourceRoot":""}