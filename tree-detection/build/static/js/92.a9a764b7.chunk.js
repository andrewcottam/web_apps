(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[92],{677:function(t,e,r){"use strict";r.d(e,"a",(function(){return _})),r.d(e,"b",(function(){return w}));var a=r(21),n=r(2),i=r(4),o=r(5),c=r(6),u=r(0),s=r(60),l=r(8),b=r(11),p=r(23),v=r(18),O=r(164),f=function(){function t(){Object(n.a)(this,t),this._propertyOriginMap=new Map,this._originStores=new Array(O.a),this._values=new Map}return Object(i.a)(t,[{key:"clone",value:function(e){var r=this,a=new t,n=this._originStores[0];n&&n.forEach((function(t,e){a.set(e,Object(v.a)(t),0)}));for(var i=function(t){var n=r._originStores[t];n&&n.forEach((function(r,n){e&&e.has(n)||a.set(n,Object(v.a)(r),t)}))},o=2;o<O.a;o++)i(o);return a}},{key:"get",value:function(t,e){var r=void 0===e?this._values:this._originStores[e];return r?r.get(t):void 0}},{key:"keys",value:function(t){var e=null==t?this._values:this._originStores[t];return e?Object(p.a)(e.keys()):[]}},{key:"set",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,a=this._originStores[r];if(a||(a=new Map,this._originStores[r]=a),a.set(t,e),!this._values.has(t)||Object(b.c)(this._propertyOriginMap.get(t))<=r){var n=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),n!==e}return!1}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=this._originStores[e];if(r){var a=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===e){this._values.delete(t);for(var n=e-1;n>=0;n--){var i=this._originStores[n];if(i&&i.has(t)){this._values.set(t,i.get(t)),this._propertyOriginMap.set(t,n);break}}}return a}}},{key:"has",value:function(t,e){var r=void 0===e?this._values:this._originStores[e];return!!r&&r.has(t)}},{key:"revert",value:function(t,e){for(;e>0&&!this.has(t,e);)--e;var r=this._originStores[e],a=r&&r.get(t),n=this._values.get(t);return this._values.set(t,a),this._propertyOriginMap.set(t,e),n!==a}},{key:"originOf",value:function(t){return this._propertyOriginMap.get(t)||0}},{key:"forEach",value:function(t){this._values.forEach(t)}}]),t}(),h=r(336),y=r(69),j=r(10),d=function(t){var e=function(t){Object(o.a)(r,t);var e=Object(c.a)(r);function r(){var t;Object(n.a)(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];t=e.call.apply(e,[this].concat(i));var c=Object(b.c)(Object(y.a)(Object(l.a)(t))),u=c.metadatas,s=c.store,p=new f;return c.store=p,s.keys().forEach((function(t){p.set(t,s.get(t),0)})),Object.keys(u).forEach((function(t){c.internalGet(t)&&p.set(t,c.internalGet(t),0)})),t}return Object(i.a)(r,[{key:"read",value:function(t,e){Object(h.a)(this,t,e)}},{key:"getAtOrigin",value:function(t,e){var r=g(this),a=Object(O.d)(e);if("string"==typeof t)return r.get(t,a);var n={};return t.forEach((function(t){n[t]=r.get(t,a)})),n}},{key:"originOf",value:function(t){return Object(O.b)(this.originIdOf(t))}},{key:"originIdOf",value:function(t){return g(this).originOf(t)}},{key:"revert",value:function(t,e){var r=g(this),a=Object(O.d)(e),n=Object(y.a)(this);("string"==typeof t?"*"===t?r.keys(a):[t]:t).forEach((function(t){n.invalidate(t),r.revert(t,a),n.commit(t)}))}}]),r}(t);return e=Object(u.a)([Object(j.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],e),e};function g(t){return Object(y.a)(t).store}var k=function(t){Object(o.a)(r,t);var e=Object(c.a)(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(d(s.a));k=Object(u.a)([Object(j.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],k);var S=r(335);function m(t){return Object(y.a)(t).store}var _=function(t){var e=function(t){Object(o.a)(r,t);var e=Object(c.a)(r);function r(){Object(n.a)(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e.call.apply(e,[this].concat(a))}return r}(function(t){var e=function(t){Object(o.a)(r,t);var e=Object(c.a)(r);function r(){Object(n.a)(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e.call.apply(e,[this].concat(a))}return Object(i.a)(r,[{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";return m(this).delete(t,Object(O.d)(e))}},{key:"write",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Object(S.b)(this,t=t||{},e),t}},{key:"setAtOrigin",value:function(t,e,r){Object(y.a)(this).setAtOrigin(t,e,Object(O.d)(r))}},{key:"removeOrigin",value:function(t){var e,r=m(this),n=Object(O.d)(t),i=r.keys(n),o=Object(a.a)(i);try{for(o.s();!(e=o.n()).done;){var c=e.value;r.originOf(c)===n&&r.set(c,r.get(c,n),6)}}catch(u){o.e(u)}finally{o.f()}}},{key:"updateOrigin",value:function(t,e){for(var r=m(this),a=Object(O.d)(e),n=this.get(t),i=a+1;i<O.a;++i)r.delete(t,i);r.set(t,n,a)}},{key:"toJSON",value:function(t){return this.write({},t)}}]),r}(t);return(e=Object(u.a)([Object(j.a)("esri.core.WriteableMultiOriginJSONSupport")],e)).prototype.toJSON.isDefaultToJSON=!0,e}(d(t)));return e=Object(u.a)([Object(j.a)("esri.core.MultiOriginJSONSupport")],e)},w=function(t){Object(o.a)(r,t);var e=Object(c.a)(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(_(s.a));w=Object(u.a)([Object(j.a)("esri.core.MultiOriginJSONSupport")],w)},682:function(t,e,r){"use strict";r.d(e,"a",(function(){return E}));var a=r(7),n=r.n(a),i=r(12),o=r(2),c=r(4),u=r(5),s=r(6),l=r(0),b=r(68),p=(r(114),r(82)),v=r(29),O=r(184),f=r(239),h=r(142),y=r(15),j=r(30),d=r(27),g=r(1),k=(r(19),r(14),r(10)),S=r(58),m=r(45),_=0,w=y.a.getLogger("esri.layers.Layer"),M=function(t){Object(u.a)(a,t);var e=Object(s.a)(a);function a(){var t;return Object(o.a)(this,a),(t=e.apply(this,arguments)).attributionDataUrl=null,t.fullExtent=new S.a(-180,-90,180,90,m.a.WGS84),t.id=Date.now().toString(16)+"-layer-"+_++,t.legendEnabled=!0,t.listMode="show",t.opacity=1,t.parent=null,t.popupEnabled=!0,t.attributionVisible=!0,t.spatialReference=m.a.WGS84,t.title=null,t.type=null,t.url=null,t.visible=!0,t}return Object(c.a)(a,[{key:"initialize",value:function(){var t=this;this.when().catch((function(e){var r,a;Object(j.m)(e)||y.a.getLogger(t.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!=(r=t.title)?r:"no title","', id: '").concat(null!=(a=t.id)?a:"no id","')"),{error:e})}))}},{key:"destroy",value:function(){if(this.parent){var t=this,e=this.parent;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"baseLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){var t=this.url;return t?Object(d.J)(t):null}},{key:"fetchAttributionData",value:function(){var t=Object(i.a)(n.a.mark((function t(){var e;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.attributionDataUrl,!this.hasAttributionData||!e){t.next=5;break}return t.next=4,Object(p.default)(e,{query:{f:"json"},responseType:"json"});case 4:return t.abrupt("return",t.sent.data);case 5:throw new v.a("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}],[{key:"fromArcGISServerUrl",value:function(){var t=Object(i.a)(n.a.mark((function t(e){var a,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="string"==typeof e?{url:e}:e,t.next=3,r.e(85).then(r.bind(null,783));case 3:return i=t.sent,t.prev=4,t.next=7,i.fromUrl(a);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),w.error("#fromArcGISServerUrl({ url: '"+a.url+"'})","Failed to create layer from arcgis server url",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}()},{key:"fromPortalItem",value:function(){var t=Object(i.a)(n.a.mark((function t(e){var a,i,o,c,u;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="portalItem"in e?e:{portalItem:e},t.next=3,Promise.all([r.e(17),r.e(97)]).then(r.bind(null,774));case 3:return i=t.sent,t.prev=4,t.next=7,i.fromItem(a);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),o=a&&a.portalItem,c=o&&o.id||"unset",u=o&&o.portal&&o.portal.url||b.a.portalUrl,w.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+u+"', id: '"+c+"')",t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}()}]),a}(O.a.EventedMixin(Object(f.a)(h.a)));Object(l.a)([Object(g.b)({type:String})],M.prototype,"attributionDataUrl",void 0),Object(l.a)([Object(g.b)({type:S.a})],M.prototype,"fullExtent",void 0),Object(l.a)([Object(g.b)({readOnly:!0})],M.prototype,"hasAttributionData",null),Object(l.a)([Object(g.b)({type:String})],M.prototype,"id",void 0),Object(l.a)([Object(g.b)({type:Boolean,nonNullable:!0})],M.prototype,"legendEnabled",void 0),Object(l.a)([Object(g.b)({type:["show","hide","hide-children"]})],M.prototype,"listMode",void 0),Object(l.a)([Object(g.b)({type:Number,range:{min:0,max:1},nonNullable:!0})],M.prototype,"opacity",void 0),Object(l.a)([Object(g.b)()],M.prototype,"parent",void 0),Object(l.a)([Object(g.b)({readOnly:!0})],M.prototype,"parsedUrl",null),Object(l.a)([Object(g.b)({type:Boolean})],M.prototype,"popupEnabled",void 0),Object(l.a)([Object(g.b)({type:Boolean})],M.prototype,"attributionVisible",void 0),Object(l.a)([Object(g.b)({type:m.a})],M.prototype,"spatialReference",void 0),Object(l.a)([Object(g.b)({type:String})],M.prototype,"title",void 0),Object(l.a)([Object(g.b)({type:String,readOnly:!0,json:{read:!1}})],M.prototype,"type",void 0),Object(l.a)([Object(g.b)()],M.prototype,"url",void 0),Object(l.a)([Object(g.b)({type:Boolean,nonNullable:!0})],M.prototype,"visible",void 0);var E=M=Object(l.a)([Object(k.a)("esri.layers.Layer")],M)}}]);
//# sourceMappingURL=92.a9a764b7.chunk.js.map