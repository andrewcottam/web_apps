{"version":3,"sources":["../node_modules/@arcgis/core/rest/support/FeatureSet.js"],"names":["h","o","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","mesh","d","e","displayFieldName","exceededTransferLimit","features","fields","geometryType","hasM","hasZ","queryGeometry","spatialReference","t","m","fromJSON","s","i","length","p","r","l","geometry","n","push","write","this","type","u","toJSON","Array","isArray","scale","translate","a","_getQuantizationFunction","Math","round","y","splice","transform","_getHydrationFunction","x","c","rings","paths","_quantizePoints","points","xmin","ymin","xmax","ymax","String","json","prototype","Boolean","overridePolicy","enabled","f","read","reader","types","isDefaultToJSON","g"],"mappings":"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","file":"static/js/115.fe474cf1.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../geometry.js\";import r from\"../../Graphic.js\";import{JSONMap as o}from\"../../core/jsonMap.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{isSome as n,unwrap as i}from\"../../core/maybe.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as y}from\"../../core/accessorSupport/decorators/writer.js\";import m from\"../../geometry/SpatialReference.js\";import{fromJSON as u,isPolygon as c}from\"../../geometry/support/jsonUtils.js\";import f from\"../../layers/support/Field.js\";const h=new o({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryEnvelope:\"extent\",mesh:\"mesh\",\"\":null});let d=class extends s{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const o=m.fromJSON(t.spatialReference),s=[];for(let i=0;i<e.length;i++){const t=e[i],p=r.fromJSON(t),l=t.geometry&&t.geometry.spatialReference;n(p.geometry)&&!l&&(p.geometry.spatialReference=o),s.push(p)}return s}writeGeometryType(e,t,r,o){if(e)return void h.write(e,t,r,o);const{features:s}=this;if(s)for(const i of s)if(i&&n(i.geometry))return void h.write(i.geometry.type,t,r,o)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=u(e);return!r&&t.spatialReference&&(o.spatialReference=m.fromJSON(t.spatialReference)),o}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const o of r)if(o&&n(o.geometry)&&o.geometry.spatialReference)return void(t.spatialReference=o.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e&&e[r];o.geometry=t&&t.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,r],translate:[o,s]}=e,n=e=>Math.round((e-o)/t),p=e=>Math.round((s-e)/r),l=this.features,a=this._getQuantizationFunction(this.geometryType,n,p);for(let y=0,m=l.length;y<m;y++)a(i(l[y].geometry))||(l.splice(y,1),y--,m--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[o,s],scale:[i,p]}=r,l=e=>e*i+o,a=e=>s-e*p,y=this._getHydrationFunction(e,l,a);for(const{geometry:m}of t)n(m)&&y(m);return this.transform=null,this}_quantizePoints(e,t,r){let o,s;const n=[];for(let i=0,p=e.length;i<p;i++){const p=e[i];if(i>0){const e=t(p[0]),i=r(p[1]);e===o&&i===s||(n.push([e-o,i-s]),o=e,s=i)}else o=t(p[0]),s=r(p[1]),n.push([o,s])}return n.length>0?n:null}_getQuantizationFunction(e,t,r){return\"point\"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):\"polyline\"===e||\"polygon\"===e?e=>{const o=c(e)?e.rings:e.paths,s=[];for(let n=0,i=o.length;n<i;n++){const e=o[n],i=this._quantizePoints(e,t,r);i&&s.push(i)}return s.length>0?(c(e)?e.rings=s:e.paths=s,e):null}:\"multipoint\"===e?e=>{const o=this._quantizePoints(e.points,t,r);return o.length>0?(e.points=o,e):null}:\"extent\"===e?e=>e:null}_getHydrationFunction(e,t,r){return\"point\"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:\"polyline\"===e||\"polygon\"===e?e=>{const o=c(e)?e.rings:e.paths;let s,n;for(let i=0,p=o.length;i<p;i++){const e=o[i];for(let o=0,i=e.length;o<i;o++){const i=e[o];o>0?(s+=i[0],n+=i[1]):(s=i[0],n=i[1]),i[0]=t(s),i[1]=r(n)}}}:\"extent\"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:\"multipoint\"===e?e=>{const o=e.points;let s,n;for(let i=0,p=o.length;i<p;i++){const e=o[i];i>0?(s+=e[0],n+=e[1]):(s=e[0],n=e[1]),e[0]=t(s),e[1]=r(n)}}:void 0}};e([p({type:String,json:{write:!0}})],d.prototype,\"displayFieldName\",void 0),e([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"exceededTransferLimit\",void 0),e([p({type:[r],json:{write:!0}})],d.prototype,\"features\",void 0),e([l(\"features\")],d.prototype,\"readFeatures\",null),e([p({type:[f],json:{write:!0}})],d.prototype,\"fields\",void 0),e([p({type:[\"point\",\"multipoint\",\"polyline\",\"polygon\",\"extent\",\"mesh\"],json:{read:{reader:h.read}}})],d.prototype,\"geometryType\",void 0),e([y(\"geometryType\")],d.prototype,\"writeGeometryType\",null),e([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasM\",void 0),e([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasZ\",void 0),e([p({types:t,json:{write:!0}})],d.prototype,\"queryGeometry\",void 0),e([l(\"queryGeometry\")],d.prototype,\"readQueryGeometry\",null),e([p({type:m,json:{write:!0}})],d.prototype,\"spatialReference\",void 0),e([y(\"spatialReference\")],d.prototype,\"writeSpatialReference\",null),e([p({json:{write:!0}})],d.prototype,\"transform\",void 0),d=e([a(\"esri.rest.support.FeatureSet\")],d),d.prototype.toJSON.isDefaultToJSON=!0,d||(d={});var g=d;export{g as default};\n"],"sourceRoot":""}